function _mergeNamespaces(o,e){for(var s=0;s<e.length;s++){const h=e[s];if(typeof h!="string"&&!Array.isArray(h)){for(const b in h)if(b!=="default"&&!(b in o)){const _e=Object.getOwnPropertyDescriptor(h,b);_e&&Object.defineProperty(o,b,_e.get?_e:{enumerable:!0,get:()=>h[b]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))h(b);new MutationObserver(b=>{for(const _e of b)if(_e.type==="childList")for(const rt of _e.addedNodes)rt.tagName==="LINK"&&rt.rel==="modulepreload"&&h(rt)}).observe(document,{childList:!0,subtree:!0});function s(b){const _e={};return b.integrity&&(_e.integrity=b.integrity),b.referrerPolicy&&(_e.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?_e.credentials="include":b.crossOrigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function h(b){if(b.ep)return;b.ep=!0;const _e=s(b);fetch(b.href,_e)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$2(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(o){return o===null||typeof o!="object"?null:(o=z$1&&o[z$1]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(o,e,s){this.props=o,this.context=e,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(o,e){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,e,"setState")};E$1.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(o,e,s){this.props=o,this.context=e,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(o,e,s){var h,b={},_e=null,rt=null;if(e!=null)for(h in e.ref!==void 0&&(rt=e.ref),e.key!==void 0&&(_e=""+e.key),e)J.call(e,h)&&!L$1.hasOwnProperty(h)&&(b[h]=e[h]);var at=arguments.length-2;if(at===1)b.children=s;else if(1<at){for(var st=Array(at),ot=0;ot<at;ot++)st[ot]=arguments[ot+2];b.children=st}if(o&&o.defaultProps)for(h in at=o.defaultProps,at)b[h]===void 0&&(b[h]=at[h]);return{$$typeof:l$2,type:o,key:_e,ref:rt,props:b,_owner:K$1.current}}function N$1(o,e){return{$$typeof:l$2,type:o.type,key:e,ref:o.ref,props:o.props,_owner:o._owner}}function O$2(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$2}function escape(o){var e={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(s){return e[s]})}var P$1=/\/+/g;function Q$1(o,e){return typeof o=="object"&&o!==null&&o.key!=null?escape(""+o.key):e.toString(36)}function R$2(o,e,s,h,b){var _e=typeof o;(_e==="undefined"||_e==="boolean")&&(o=null);var rt=!1;if(o===null)rt=!0;else switch(_e){case"string":case"number":rt=!0;break;case"object":switch(o.$$typeof){case l$2:case n$1:rt=!0}}if(rt)return rt=o,b=b(rt),o=h===""?"."+Q$1(rt,0):h,I$1(b)?(s="",o!=null&&(s=o.replace(P$1,"$&/")+"/"),R$2(b,e,s,"",function(ot){return ot})):b!=null&&(O$2(b)&&(b=N$1(b,s+(!b.key||rt&&rt.key===b.key?"":(""+b.key).replace(P$1,"$&/")+"/")+o)),e.push(b)),1;if(rt=0,h=h===""?".":h+":",I$1(o))for(var at=0;at<o.length;at++){_e=o[at];var st=h+Q$1(_e,at);rt+=R$2(_e,e,s,st,b)}else if(st=A$1(o),typeof st=="function")for(o=st.call(o),at=0;!(_e=o.next()).done;)_e=_e.value,st=h+Q$1(_e,at++),rt+=R$2(_e,e,s,st,b);else if(_e==="object")throw e=String(o),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return rt}function S$1(o,e,s){if(o==null)return o;var h=[],b=0;return R$2(o,h,"","",function(_e){return e.call(s,_e,b++)}),h}function T$1(o){if(o._status===-1){var e=o._result;e=e(),e.then(function(s){(o._status===0||o._status===-1)&&(o._status=1,o._result=s)},function(s){(o._status===0||o._status===-1)&&(o._status=2,o._result=s)}),o._status===-1&&(o._status=0,o._result=e)}if(o._status===1)return o._result.default;throw o._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(o,e,s){S$1(o,function(){e.apply(this,arguments)},s)},count:function(o){var e=0;return S$1(o,function(){e++}),e},toArray:function(o){return S$1(o,function(e){return e})||[]},only:function(o){if(!O$2(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(o,e,s){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var h=C$1({},o.props),b=o.key,_e=o.ref,rt=o._owner;if(e!=null){if(e.ref!==void 0&&(_e=e.ref,rt=K$1.current),e.key!==void 0&&(b=""+e.key),o.type&&o.type.defaultProps)var at=o.type.defaultProps;for(st in e)J.call(e,st)&&!L$1.hasOwnProperty(st)&&(h[st]=e[st]===void 0&&at!==void 0?at[st]:e[st])}var st=arguments.length-2;if(st===1)h.children=s;else if(1<st){at=Array(st);for(var ot=0;ot<st;ot++)at[ot]=arguments[ot+2];h.children=at}return{$$typeof:l$2,type:o.type,key:b,ref:_e,props:h,_owner:rt}};react_production_min.createContext=function(o){return o={$$typeof:u$1,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t,_context:o},o.Consumer=o};react_production_min.createElement=M$1;react_production_min.createFactory=function(o){var e=M$1.bind(null,o);return e.type=o,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$1,render:o}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(o){return{$$typeof:y$1,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,e){return{$$typeof:x$1,type:o,compare:e===void 0?null:e}};react_production_min.startTransition=function(o){var e=V$1.transition;V$1.transition={};try{o()}finally{V$1.transition=e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(o,e){return U$1.current.useCallback(o,e)};react_production_min.useContext=function(o){return U$1.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$1.current.useDeferredValue(o)};react_production_min.useEffect=function(o,e){return U$1.current.useEffect(o,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(o,e,s){return U$1.current.useImperativeHandle(o,e,s)};react_production_min.useInsertionEffect=function(o,e){return U$1.current.useInsertionEffect(o,e)};react_production_min.useLayoutEffect=function(o,e){return U$1.current.useLayoutEffect(o,e)};react_production_min.useMemo=function(o,e){return U$1.current.useMemo(o,e)};react_production_min.useReducer=function(o,e,s){return U$1.current.useReducer(o,e,s)};react_production_min.useRef=function(o){return U$1.current.useRef(o)};react_production_min.useState=function(o){return U$1.current.useState(o)};react_production_min.useSyncExternalStore=function(o,e,s){return U$1.current.useSyncExternalStore(o,e,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs$2(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(o,e,s){var h,b={},_e=null,rt=null;s!==void 0&&(_e=""+s),e.key!==void 0&&(_e=""+e.key),e.ref!==void 0&&(rt=e.ref);for(h in e)m$1.call(e,h)&&!p$2.hasOwnProperty(h)&&(b[h]=e[h]);if(o&&o.defaultProps)for(h in e=o.defaultProps,e)b[h]===void 0&&(b[h]=e[h]);return{$$typeof:k,type:o,key:_e,ref:rt,props:b,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function e(Ct,Rt){var Ut=Ct.length;Ct.push(Rt);e:for(;0<Ut;){var kt=Ut-1>>>1,jt=Ct[kt];if(0<b(jt,Rt))Ct[kt]=Rt,Ct[Ut]=jt,Ut=kt;else break e}}function s(Ct){return Ct.length===0?null:Ct[0]}function h(Ct){if(Ct.length===0)return null;var Rt=Ct[0],Ut=Ct.pop();if(Ut!==Rt){Ct[0]=Ut;e:for(var kt=0,jt=Ct.length,Vt=jt>>>1;kt<Vt;){var Gt=2*(kt+1)-1,Yt=Ct[Gt],er=Gt+1,nr=Ct[er];if(0>b(Yt,Ut))er<jt&&0>b(nr,Yt)?(Ct[kt]=nr,Ct[er]=Ut,kt=er):(Ct[kt]=Yt,Ct[Gt]=Ut,kt=Gt);else if(er<jt&&0>b(nr,Ut))Ct[kt]=nr,Ct[er]=Ut,kt=er;else break e}}return Rt}function b(Ct,Rt){var Ut=Ct.sortIndex-Rt.sortIndex;return Ut!==0?Ut:Ct.id-Rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _e=performance;o.unstable_now=function(){return _e.now()}}else{var rt=Date,at=rt.now();o.unstable_now=function(){return rt.now()-at}}var st=[],ot=[],nt=1,et=null,d=3,_=!1,tt=!1,lt=!1,ut=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function dt(Ct){for(var Rt=s(ot);Rt!==null;){if(Rt.callback===null)h(ot);else if(Rt.startTime<=Ct)h(ot),Rt.sortIndex=Rt.expirationTime,e(st,Rt);else break;Rt=s(ot)}}function ht(Ct){if(lt=!1,dt(Ct),!tt)if(s(st)!==null)tt=!0,Tt(gt);else{var Rt=s(ot);Rt!==null&&It(ht,Rt.startTime-Ct)}}function gt(Ct,Rt){tt=!1,lt&&(lt=!1,ct(mt),mt=-1),_=!0;var Ut=d;try{for(dt(Rt),et=s(st);et!==null&&(!(et.expirationTime>Rt)||Ct&&!St());){var kt=et.callback;if(typeof kt=="function"){et.callback=null,d=et.priorityLevel;var jt=kt(et.expirationTime<=Rt);Rt=o.unstable_now(),typeof jt=="function"?et.callback=jt:et===s(st)&&h(st),dt(Rt)}else h(st);et=s(st)}if(et!==null)var Vt=!0;else{var Gt=s(ot);Gt!==null&&It(ht,Gt.startTime-Rt),Vt=!1}return Vt}finally{et=null,d=Ut,_=!1}}var yt=!1,vt=null,mt=-1,bt=5,$t=-1;function St(){return!(o.unstable_now()-$t<bt)}function Pt(){if(vt!==null){var Ct=o.unstable_now();$t=Ct;var Rt=!0;try{Rt=vt(!0,Ct)}finally{Rt?_t():(yt=!1,vt=null)}}else yt=!1}var _t;if(typeof ft=="function")_t=function(){ft(Pt)};else if(typeof MessageChannel<"u"){var wt=new MessageChannel,xt=wt.port2;wt.port1.onmessage=Pt,_t=function(){xt.postMessage(null)}}else _t=function(){ut(Pt,0)};function Tt(Ct){vt=Ct,yt||(yt=!0,_t())}function It(Ct,Rt){mt=ut(function(){Ct(o.unstable_now())},Rt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Ct){Ct.callback=null},o.unstable_continueExecution=function(){tt||_||(tt=!0,Tt(gt))},o.unstable_forceFrameRate=function(Ct){0>Ct||125<Ct?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):bt=0<Ct?Math.floor(1e3/Ct):5},o.unstable_getCurrentPriorityLevel=function(){return d},o.unstable_getFirstCallbackNode=function(){return s(st)},o.unstable_next=function(Ct){switch(d){case 1:case 2:case 3:var Rt=3;break;default:Rt=d}var Ut=d;d=Rt;try{return Ct()}finally{d=Ut}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Ct,Rt){switch(Ct){case 1:case 2:case 3:case 4:case 5:break;default:Ct=3}var Ut=d;d=Ct;try{return Rt()}finally{d=Ut}},o.unstable_scheduleCallback=function(Ct,Rt,Ut){var kt=o.unstable_now();switch(typeof Ut=="object"&&Ut!==null?(Ut=Ut.delay,Ut=typeof Ut=="number"&&0<Ut?kt+Ut:kt):Ut=kt,Ct){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=Ut+jt,Ct={id:nt++,callback:Rt,priorityLevel:Ct,startTime:Ut,expirationTime:jt,sortIndex:-1},Ut>kt?(Ct.sortIndex=Ut,e(ot,Ct),s(st)===null&&Ct===s(ot)&&(lt?(ct(mt),mt=-1):lt=!0,It(ht,Ut-kt))):(Ct.sortIndex=jt,e(st,Ct),tt||_||(tt=!0,Tt(gt))),Ct},o.unstable_shouldYield=St,o.unstable_wrapCallback=function(Ct){var Rt=d;return function(){var Ut=d;d=Rt;try{return Ct.apply(this,arguments)}finally{d=Ut}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(o){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+o,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+o+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,e){ha(o,e),ha(o+"Capture",e)}function ha(o,e){for(ea[o]=e,o=0;o<e.length;o++)da.add(e[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,e,s,h){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return h?!1:s!==null?!s.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,e,s,h){if(e===null||typeof e>"u"||pa(o,e,s,h))return!0;if(h)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v(o,e,s,h,b,_e,rt){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=h,this.attributeNamespace=b,this.mustUseProperty=s,this.propertyName=o,this.type=e,this.sanitizeURL=_e,this.removeEmptyString=rt}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z[o]=new v(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var e=o[0];z[e]=new v(e,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z[o]=new v(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z[o]=new v(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z[o]=new v(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z[o]=new v(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var e=o.replace(ra,sa);z[e]=new v(e,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var e=o.replace(ra,sa);z[e]=new v(e,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var e=o.replace(ra,sa);z[e]=new v(e,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,e,s,h){var b=z.hasOwnProperty(e)?z[e]:null;(b!==null?b.type!==0:h||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,s,b,h)&&(s=null),h||b===null?oa(e)&&(s===null?o.removeAttribute(e):o.setAttribute(e,""+s)):b.mustUseProperty?o[b.propertyName]=s===null?b.type===3?!1:"":s:(e=b.attributeName,h=b.attributeNamespace,s===null?o.removeAttribute(e):(b=b.type,s=b===3||b===4&&s===!0?"":""+s,h?o.setAttributeNS(h,e,s):o.setAttribute(e,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+o}var Na=!1;function Oa(o,e){if(!o||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(ot){var h=ot}Reflect.construct(o,[],e)}else{try{e.call()}catch(ot){h=ot}o.call(e.prototype)}else{try{throw Error()}catch(ot){h=ot}o()}}catch(ot){if(ot&&h&&typeof ot.stack=="string"){for(var b=ot.stack.split(`
`),_e=h.stack.split(`
`),rt=b.length-1,at=_e.length-1;1<=rt&&0<=at&&b[rt]!==_e[at];)at--;for(;1<=rt&&0<=at;rt--,at--)if(b[rt]!==_e[at]){if(rt!==1||at!==1)do if(rt--,at--,0>at||b[rt]!==_e[at]){var st=`
`+b[rt].replace(" at new "," at ");return o.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",o.displayName)),st}while(1<=rt&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var e=o.render;return o=o.displayName,o||(o=e.displayName||e.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return e=o.displayName||null,e!==null?e:Qa(o.type)||"Memo";case Ha:e=o._payload,o=o._init;try{return Qa(o(e))}catch{}}return null}function Ra(o){var e=o.type;switch(o.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=e.render,o=o.displayName||o.name||"",e.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var e=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(o){var e=Ta(o)?"checked":"value",s=Object.getOwnPropertyDescriptor(o.constructor.prototype,e),h=""+o[e];if(!o.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var b=s.get,_e=s.set;return Object.defineProperty(o,e,{configurable:!0,get:function(){return b.call(this)},set:function(rt){h=""+rt,_e.call(this,rt)}}),Object.defineProperty(o,e,{enumerable:s.enumerable}),{getValue:function(){return h},setValue:function(rt){h=""+rt},stopTracking:function(){o._valueTracker=null,delete o[e]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var e=o._valueTracker;if(!e)return!0;var s=e.getValue(),h="";return o&&(h=Ta(o)?o.checked?"true":"false":o.value),o=h,o!==s?(e.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,e){var s=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??o._wrapperState.initialChecked})}function Za(o,e){var s=e.defaultValue==null?"":e.defaultValue,h=e.checked!=null?e.checked:e.defaultChecked;s=Sa(e.value!=null?e.value:s),o._wrapperState={initialChecked:h,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(o,e){e=e.checked,e!=null&&ta(o,"checked",e,!1)}function bb(o,e){ab(o,e);var s=Sa(e.value),h=e.type;if(s!=null)h==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+s):o.value!==""+s&&(o.value=""+s);else if(h==="submit"||h==="reset"){o.removeAttribute("value");return}e.hasOwnProperty("value")?cb(o,e.type,s):e.hasOwnProperty("defaultValue")&&cb(o,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(o.defaultChecked=!!e.defaultChecked)}function db(o,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var h=e.type;if(!(h!=="submit"&&h!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+o._wrapperState.initialValue,s||e===o.value||(o.value=e),o.defaultValue=e}s=o.name,s!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,s!==""&&(o.name=s)}function cb(o,e,s){(e!=="number"||Xa(o.ownerDocument)!==o)&&(s==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+s&&(o.defaultValue=""+s))}var eb=Array.isArray;function fb(o,e,s,h){if(o=o.options,e){e={};for(var b=0;b<s.length;b++)e["$"+s[b]]=!0;for(s=0;s<o.length;s++)b=e.hasOwnProperty("$"+o[s].value),o[s].selected!==b&&(o[s].selected=b),b&&h&&(o[s].defaultSelected=!0)}else{for(s=""+Sa(s),e=null,b=0;b<o.length;b++){if(o[b].value===s){o[b].selected=!0,h&&(o[b].defaultSelected=!0);return}e!==null||o[b].disabled||(e=o[b])}e!==null&&(e.selected=!0)}}function gb(o,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(p$1(92));if(eb(s)){if(1<s.length)throw Error(p$1(93));s=s[0]}e=s}e==null&&(e=""),s=e}o._wrapperState={initialValue:Sa(s)}}function ib(o,e){var s=Sa(e.value),h=Sa(e.defaultValue);s!=null&&(s=""+s,s!==o.value&&(o.value=s),e.defaultValue==null&&o.defaultValue!==s&&(o.defaultValue=s)),h!=null&&(o.defaultValue=""+h)}function jb(o){var e=o.textContent;e===o._wrapperState.initialValue&&e!==""&&e!==null&&(o.value=e)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,e){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(e):o==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,h,b){MSApp.execUnsafeLocalFunction(function(){return o(e,s,h,b)})}:o}(function(o,e){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;e.firstChild;)o.appendChild(e.firstChild)}});function ob(o,e){if(e){var s=o.firstChild;if(s&&s===o.lastChild&&s.nodeType===3){s.nodeValue=e;return}}o.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(e){e=e+o.charAt(0).toUpperCase()+o.substring(1),pb[e]=pb[o]})});function rb(o,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||pb.hasOwnProperty(o)&&pb[o]?(""+e).trim():e+"px"}function sb(o,e){o=o.style;for(var s in e)if(e.hasOwnProperty(s)){var h=s.indexOf("--")===0,b=rb(s,e[s],h);s==="float"&&(s="cssFloat"),h?o.setProperty(s,b):o[s]=b}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,e){if(e){if(tb[o]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p$1(137,o));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p$1(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p$1(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p$1(62))}}function vb(o,e){if(o.indexOf("-")===-1)return typeof e.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p$1(280));var e=o.stateNode;e&&(e=Db(e),yb(o.stateNode,o.type,e))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,e=Ab;if(Ab=zb=null,Bb(o),e)for(o=0;o<e.length;o++)Bb(e[o])}}function Gb(o,e){return o(e)}function Hb(){}var Ib=!1;function Jb(o,e,s){if(Ib)return o(e,s);Ib=!0;try{return Gb(o,e,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,e){var s=o.stateNode;if(s===null)return null;var h=Db(s);if(h===null)return null;s=h[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(o=o.type,h=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!h;break e;default:o=!1}if(o)return null;if(s&&typeof s!="function")throw Error(p$1(231,e,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,e,s,h,b,_e,rt,at,st){var ot=Array.prototype.slice.call(arguments,3);try{e.apply(s,ot)}catch(nt){this.onError(nt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,e,s,h,b,_e,rt,at,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,e,s,h,b,_e,rt,at,st){if(Tb.apply(this,arguments),Ob){if(Ob){var ot=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=ot)}}function Vb(o){var e=o,s=o;if(o.alternate)for(;e.return;)e=e.return;else{o=e;do e=o,e.flags&4098&&(s=e.return),o=e.return;while(o)}return e.tag===3?s:null}function Wb(o){if(o.tag===13){var e=o.memoizedState;if(e===null&&(o=o.alternate,o!==null&&(e=o.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p$1(188))}function Yb(o){var e=o.alternate;if(!e){if(e=Vb(o),e===null)throw Error(p$1(188));return e!==o?null:o}for(var s=o,h=e;;){var b=s.return;if(b===null)break;var _e=b.alternate;if(_e===null){if(h=b.return,h!==null){s=h;continue}break}if(b.child===_e.child){for(_e=b.child;_e;){if(_e===s)return Xb(b),o;if(_e===h)return Xb(b),e;_e=_e.sibling}throw Error(p$1(188))}if(s.return!==h.return)s=b,h=_e;else{for(var rt=!1,at=b.child;at;){if(at===s){rt=!0,s=b,h=_e;break}if(at===h){rt=!0,h=b,s=_e;break}at=at.sibling}if(!rt){for(at=_e.child;at;){if(at===s){rt=!0,s=_e,h=b;break}if(at===h){rt=!0,h=_e,s=b;break}at=at.sibling}if(!rt)throw Error(p$1(189))}}if(s.alternate!==h)throw Error(p$1(190))}if(s.tag!==3)throw Error(p$1(188));return s.stateNode.current===s?o:e}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var e=$b(o);if(e!==null)return e;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,e){var s=o.pendingLanes;if(s===0)return 0;var h=0,b=o.suspendedLanes,_e=o.pingedLanes,rt=s&268435455;if(rt!==0){var at=rt&~b;at!==0?h=tc(at):(_e&=rt,_e!==0&&(h=tc(_e)))}else rt=s&~b,rt!==0?h=tc(rt):_e!==0&&(h=tc(_e));if(h===0)return 0;if(e!==0&&e!==h&&!(e&b)&&(b=h&-h,_e=e&-e,b>=_e||b===16&&(_e&4194240)!==0))return e;if(h&4&&(h|=s&16),e=o.entangledLanes,e!==0)for(o=o.entanglements,e&=h;0<e;)s=31-oc(e),b=1<<s,h|=o[s],e&=~b;return h}function vc(o,e){switch(o){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,e){for(var s=o.suspendedLanes,h=o.pingedLanes,b=o.expirationTimes,_e=o.pendingLanes;0<_e;){var rt=31-oc(_e),at=1<<rt,st=b[rt];st===-1?(!(at&s)||at&h)&&(b[rt]=vc(at,e)):st<=e&&(o.expiredLanes|=at),_e&=~at}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,!(rc&4194240)&&(rc=64),o}function zc(o){for(var e=[],s=0;31>s;s++)e.push(o);return e}function Ac(o,e,s){o.pendingLanes|=e,e!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,e=31-oc(e),o[e]=s}function Bc(o,e){var s=o.pendingLanes&~e;o.pendingLanes=e,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=e,o.mutableReadLanes&=e,o.entangledLanes&=e,e=o.entanglements;var h=o.eventTimes;for(o=o.expirationTimes;0<s;){var b=31-oc(s),_e=1<<b;e[b]=0,h[b]=-1,o[b]=-1,s&=~_e}}function Cc(o,e){var s=o.entangledLanes|=e;for(o=o.entanglements;s;){var h=31-oc(s),b=1<<h;b&e|o[h]&e&&(o[h]|=e),s&=~b}}var C=0;function Dc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,e){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(o,e,s,h,b,_e){return o===null||o.nativeEvent!==_e?(o={blockedOn:e,domEventName:s,eventSystemFlags:h,nativeEvent:_e,targetContainers:[b]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),o):(o.eventSystemFlags|=h,e=o.targetContainers,b!==null&&e.indexOf(b)===-1&&e.push(b),o)}function Uc(o,e,s,h,b){switch(e){case"focusin":return Lc=Tc(Lc,o,e,s,h,b),!0;case"dragenter":return Mc=Tc(Mc,o,e,s,h,b),!0;case"mouseover":return Nc=Tc(Nc,o,e,s,h,b),!0;case"pointerover":var _e=b.pointerId;return Oc.set(_e,Tc(Oc.get(_e)||null,o,e,s,h,b)),!0;case"gotpointercapture":return _e=b.pointerId,Pc.set(_e,Tc(Pc.get(_e)||null,o,e,s,h,b)),!0}return!1}function Vc(o){var e=Wc(o.target);if(e!==null){var s=Vb(e);if(s!==null){if(e=s.tag,e===13){if(e=Wb(s),e!==null){o.blockedOn=e,Ic(o.priority,function(){Gc(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){o.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var e=o.targetContainers;0<e.length;){var s=Yc(o.domEventName,o.eventSystemFlags,e[0],o.nativeEvent);if(s===null){s=o.nativeEvent;var h=new s.constructor(s.type,s);wb=h,s.target.dispatchEvent(h),wb=null}else return e=Cb(s),e!==null&&Fc(e),o.blockedOn=s,!1;e.shift()}return!0}function Zc(o,e,s){Xc(o)&&s.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,e){o.blockedOn===e&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function e(b){return ad(b,o)}if(0<Kc.length){ad(Kc[0],o);for(var s=1;s<Kc.length;s++){var h=Kc[s];h.blockedOn===o&&(h.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(e),Pc.forEach(e),s=0;s<Qc.length;s++)h=Qc[s],h.blockedOn===o&&(h.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,e,s,h){var b=C,_e=cd.transition;cd.transition=null;try{C=1,fd(o,e,s,h)}finally{C=b,cd.transition=_e}}function gd(o,e,s,h){var b=C,_e=cd.transition;cd.transition=null;try{C=4,fd(o,e,s,h)}finally{C=b,cd.transition=_e}}function fd(o,e,s,h){if(dd){var b=Yc(o,e,s,h);if(b===null)hd(o,e,h,id$6,s),Sc(o,h);else if(Uc(b,o,e,s,h))h.stopPropagation();else if(Sc(o,h),e&4&&-1<Rc.indexOf(o)){for(;b!==null;){var _e=Cb(b);if(_e!==null&&Ec(_e),_e=Yc(o,e,s,h),_e===null&&hd(o,e,h,id$6,s),_e===b)break;b=_e}b!==null&&h.stopPropagation()}else hd(o,e,h,null,s)}}var id$6=null;function Yc(o,e,s,h){if(id$6=null,o=xb(h),o=Wc(o),o!==null)if(e=Vb(o),e===null)o=null;else if(s=e.tag,s===13){if(o=Wb(e),o!==null)return o;o=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;o=null}else e!==o&&(o=null);return id$6=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,e=ld,s=e.length,h,b="value"in kd?kd.value:kd.textContent,_e=b.length;for(o=0;o<s&&e[o]===b[o];o++);var rt=s-o;for(h=1;h<=rt&&e[s-h]===b[_e-h];h++);return md=b.slice(o,1<h?1-h:void 0)}function od(o){var e=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&e===13&&(o=13)):o=e,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function e(s,h,b,_e,rt){this._reactName=s,this._targetInst=b,this.type=h,this.nativeEvent=_e,this.target=rt,this.currentTarget=null;for(var at in o)o.hasOwnProperty(at)&&(s=o[at],this[at]=s?s(_e):_e[at]);return this.isDefaultPrevented=(_e.defaultPrevented!=null?_e.defaultPrevented:_e.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(o):(o=Od[o])?!!e[o]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(o){if(o.key){var e=Md[o.key]||o.key;if(e!=="Unidentified")return e}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de$1=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(o,e){switch(o){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je(o,e){switch(o){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee);case"textInput":return o=e.data,o===ee&&fe?null:o;default:return null}}function ke(o,e){if(ie)return o==="compositionend"||!ae&&ge(o,e)?(o=nd(),md=ld=kd=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de$1&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var e=o&&o.nodeName&&o.nodeName.toLowerCase();return e==="input"?!!le[o.type]:e==="textarea"}function ne(o,e,s,h){Eb(h),e=oe(e,"onChange"),0<e.length&&(s=new td("onChange","change",null,s,h),o.push({event:s,listeners:e}))}var pe=null,qe=null;function re$1(o){se$1(o,0)}function te(o){var e=ue(o);if(Wa(e))return o}function ve(o,e){if(o==="change")return e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe)){var e=[];ne(e,qe,o,xb(o)),Jb(re$1,e)}}function Ce(o,e,s){o==="focusin"?(Ae(),pe=e,qe=s,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,e){if(o==="click")return te(e)}function Fe(o,e){if(o==="input"||o==="change")return te(e)}function Ge(o,e){return o===e&&(o!==0||1/o===1/e)||o!==o&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,e){if(He(o,e))return!0;if(typeof o!="object"||o===null||typeof e!="object"||e===null)return!1;var s=Object.keys(o),h=Object.keys(e);if(s.length!==h.length)return!1;for(h=0;h<s.length;h++){var b=s[h];if(!ja.call(e,b)||!He(o[b],e[b]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,e){var s=Je(o);o=0;for(var h;s;){if(s.nodeType===3){if(h=o+s.textContent.length,o<=e&&h>=e)return{node:s,offset:e-o};o=h}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(o,e){return o&&e?o===e?!0:o&&o.nodeType===3?!1:e&&e.nodeType===3?Le(o,e.parentNode):"contains"in o?o.contains(e):o.compareDocumentPosition?!!(o.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var o=window,e=Xa();e instanceof o.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)o=e.contentWindow;else break;e=Xa(o.document)}return e}function Ne(o){var e=o&&o.nodeName&&o.nodeName.toLowerCase();return e&&(e==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||e==="textarea"||o.contentEditable==="true")}function Oe(o){var e=Me(),s=o.focusedElem,h=o.selectionRange;if(e!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(h!==null&&Ne(s)){if(e=h.start,o=h.end,o===void 0&&(o=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(o,s.value.length);else if(o=(e=s.ownerDocument||document)&&e.defaultView||window,o.getSelection){o=o.getSelection();var b=s.textContent.length,_e=Math.min(h.start,b);h=h.end===void 0?_e:Math.min(h.end,b),!o.extend&&_e>h&&(b=h,h=_e,_e=b),b=Ke(s,_e);var rt=Ke(s,h);b&&rt&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==rt.node||o.focusOffset!==rt.offset)&&(e=e.createRange(),e.setStart(b.node,b.offset),o.removeAllRanges(),_e>h?(o.addRange(e),o.extend(rt.node,rt.offset)):(e.setEnd(rt.node,rt.offset),o.addRange(e)))}}for(e=[],o=s;o=o.parentNode;)o.nodeType===1&&e.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)o=e[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,e,s){var h=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(h)||(h=Qe,"selectionStart"in h&&Ne(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Se&&Ie(Se,h)||(Se=h,h=oe(Re,"onSelect"),0<h.length&&(e=new td("onSelect","select",null,e,s),o.push({event:e,listeners:h}),e.target=Qe)))}function Ve(o,e){var s={};return s[o.toLowerCase()]=e.toLowerCase(),s["Webkit"+o]="webkit"+e,s["Moz"+o]="moz"+e,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var e=We[o],s;for(s in e)if(e.hasOwnProperty(s)&&s in Ye)return Xe[o]=e[s];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,e){df.set(o,e),fa(e,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,e,s){var h=o.type||"unknown-event";o.currentTarget=s,Ub(h,e,void 0,o),o.currentTarget=null}function se$1(o,e){e=(e&4)!==0;for(var s=0;s<o.length;s++){var h=o[s],b=h.event;h=h.listeners;e:{var _e=void 0;if(e)for(var rt=h.length-1;0<=rt;rt--){var at=h[rt],st=at.instance,ot=at.currentTarget;if(at=at.listener,st!==_e&&b.isPropagationStopped())break e;nf(b,at,ot),_e=st}else for(rt=0;rt<h.length;rt++){if(at=h[rt],st=at.instance,ot=at.currentTarget,at=at.listener,st!==_e&&b.isPropagationStopped())break e;nf(b,at,ot),_e=st}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,e){var s=e[of];s===void 0&&(s=e[of]=new Set);var h=o+"__bubble";s.has(h)||(pf(e,o,2,!1),s.add(h))}function qf(o,e,s){var h=0;e&&(h|=4),pf(s,o,h,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,o),qf(s,!0,o))});var e=o.nodeType===9?o:o.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(o,e,s,h){switch(jd(e)){case 1:var b=ed;break;case 4:b=gd;break;default:b=fd}s=b.bind(null,e,s,o),b=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(b=!0),h?b!==void 0?o.addEventListener(e,s,{capture:!0,passive:b}):o.addEventListener(e,s,!0):b!==void 0?o.addEventListener(e,s,{passive:b}):o.addEventListener(e,s,!1)}function hd(o,e,s,h,b){var _e=h;if(!(e&1)&&!(e&2)&&h!==null)e:for(;;){if(h===null)return;var rt=h.tag;if(rt===3||rt===4){var at=h.stateNode.containerInfo;if(at===b||at.nodeType===8&&at.parentNode===b)break;if(rt===4)for(rt=h.return;rt!==null;){var st=rt.tag;if((st===3||st===4)&&(st=rt.stateNode.containerInfo,st===b||st.nodeType===8&&st.parentNode===b))return;rt=rt.return}for(;at!==null;){if(rt=Wc(at),rt===null)return;if(st=rt.tag,st===5||st===6){h=_e=rt;continue e}at=at.parentNode}}h=h.return}Jb(function(){var ot=_e,nt=xb(s),et=[];e:{var d=df.get(o);if(d!==void 0){var _=td,tt=o;switch(o){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":_=Rd;break;case"focusin":tt="focus",_=Fd;break;case"focusout":tt="blur",_=Fd;break;case"beforeblur":case"afterblur":_=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Vd;break;case $e:case af:case bf:_=Hd;break;case cf:_=Xd;break;case"scroll":_=vd;break;case"wheel":_=Zd;break;case"copy":case"cut":case"paste":_=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Td}var lt=(e&4)!==0,ut=!lt&&o==="scroll",ct=lt?d!==null?d+"Capture":null:d;lt=[];for(var ft=ot,dt;ft!==null;){dt=ft;var ht=dt.stateNode;if(dt.tag===5&&ht!==null&&(dt=ht,ct!==null&&(ht=Kb(ft,ct),ht!=null&&lt.push(tf(ft,ht,dt)))),ut)break;ft=ft.return}0<lt.length&&(d=new _(d,tt,null,s,nt),et.push({event:d,listeners:lt}))}}if(!(e&7)){e:{if(d=o==="mouseover"||o==="pointerover",_=o==="mouseout"||o==="pointerout",d&&s!==wb&&(tt=s.relatedTarget||s.fromElement)&&(Wc(tt)||tt[uf]))break e;if((_||d)&&(d=nt.window===nt?nt:(d=nt.ownerDocument)?d.defaultView||d.parentWindow:window,_?(tt=s.relatedTarget||s.toElement,_=ot,tt=tt?Wc(tt):null,tt!==null&&(ut=Vb(tt),tt!==ut||tt.tag!==5&&tt.tag!==6)&&(tt=null)):(_=null,tt=ot),_!==tt)){if(lt=Bd,ht="onMouseLeave",ct="onMouseEnter",ft="mouse",(o==="pointerout"||o==="pointerover")&&(lt=Td,ht="onPointerLeave",ct="onPointerEnter",ft="pointer"),ut=_==null?d:ue(_),dt=tt==null?d:ue(tt),d=new lt(ht,ft+"leave",_,s,nt),d.target=ut,d.relatedTarget=dt,ht=null,Wc(nt)===ot&&(lt=new lt(ct,ft+"enter",tt,s,nt),lt.target=dt,lt.relatedTarget=ut,ht=lt),ut=ht,_&&tt)t:{for(lt=_,ct=tt,ft=0,dt=lt;dt;dt=vf(dt))ft++;for(dt=0,ht=ct;ht;ht=vf(ht))dt++;for(;0<ft-dt;)lt=vf(lt),ft--;for(;0<dt-ft;)ct=vf(ct),dt--;for(;ft--;){if(lt===ct||ct!==null&&lt===ct.alternate)break t;lt=vf(lt),ct=vf(ct)}lt=null}else lt=null;_!==null&&wf(et,d,_,lt,!1),tt!==null&&ut!==null&&wf(et,ut,tt,lt,!0)}}e:{if(d=ot?ue(ot):window,_=d.nodeName&&d.nodeName.toLowerCase(),_==="select"||_==="input"&&d.type==="file")var gt=ve;else if(me(d))if(we)gt=Fe;else{gt=De;var yt=Ce}else(_=d.nodeName)&&_.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(gt=Ee);if(gt&&(gt=gt(o,ot))){ne(et,gt,s,nt);break e}yt&&yt(o,d,ot),o==="focusout"&&(yt=d._wrapperState)&&yt.controlled&&d.type==="number"&&cb(d,"number",d.value)}switch(yt=ot?ue(ot):window,o){case"focusin":(me(yt)||yt.contentEditable==="true")&&(Qe=yt,Re=ot,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(et,s,nt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(et,s,nt)}var vt;if(ae)e:{switch(o){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else ie?ge(o,s)&&(mt="onCompositionEnd"):o==="keydown"&&s.keyCode===229&&(mt="onCompositionStart");mt&&(de$1&&s.locale!=="ko"&&(ie||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&ie&&(vt=nd()):(kd=nt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),yt=oe(ot,mt),0<yt.length&&(mt=new Ld(mt,o,null,s,nt),et.push({event:mt,listeners:yt}),vt?mt.data=vt:(vt=he(s),vt!==null&&(mt.data=vt)))),(vt=ce?je(o,s):ke(o,s))&&(ot=oe(ot,"onBeforeInput"),0<ot.length&&(nt=new Ld("onBeforeInput","beforeinput",null,s,nt),et.push({event:nt,listeners:ot}),nt.data=vt))}se$1(et,e)})}function tf(o,e,s){return{instance:o,listener:e,currentTarget:s}}function oe(o,e){for(var s=e+"Capture",h=[];o!==null;){var b=o,_e=b.stateNode;b.tag===5&&_e!==null&&(b=_e,_e=Kb(o,s),_e!=null&&h.unshift(tf(o,_e,b)),_e=Kb(o,e),_e!=null&&h.push(tf(o,_e,b))),o=o.return}return h}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,e,s,h,b){for(var _e=e._reactName,rt=[];s!==null&&s!==h;){var at=s,st=at.alternate,ot=at.stateNode;if(st!==null&&st===h)break;at.tag===5&&ot!==null&&(at=ot,b?(st=Kb(s,_e),st!=null&&rt.unshift(tf(s,st,at))):b||(st=Kb(s,_e),st!=null&&rt.push(tf(s,st,at)))),s=s.return}rt.length!==0&&o.push({event:e,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,e,s){if(e=zf(e),zf(o)!==e&&s)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,e){return o==="textarea"||o==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,e){var s=e,h=0;do{var b=s.nextSibling;if(o.removeChild(s),b&&b.nodeType===8)if(s=b.data,s==="/$"){if(h===0){o.removeChild(b),bd(e);return}h--}else s!=="$"&&s!=="$?"&&s!=="$!"||h++;s=b}while(s);bd(e)}function Lf(o){for(;o!=null;o=o.nextSibling){var e=o.nodeType;if(e===1||e===3)break;if(e===8){if(e=o.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var e=0;o;){if(o.nodeType===8){var s=o.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return o;e--}else s==="/$"&&e++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var e=o[Of];if(e)return e;for(var s=o.parentNode;s;){if(e=s[uf]||s[Of]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(o=Mf(o);o!==null;){if(s=o[Of])return s;o=Mf(o)}return e}o=s,s=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$1(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(o,e){Tf++,Sf[Tf]=o.current,o.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,e){var s=o.type.contextTypes;if(!s)return Vf;var h=o.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===e)return h.__reactInternalMemoizedMaskedChildContext;var b={},_e;for(_e in s)b[_e]=e[_e];return h&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=e,o.__reactInternalMemoizedMaskedChildContext=b),b}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E(Wf),E(H)}function ag(o,e,s){if(H.current!==Vf)throw Error(p$1(168));G(H,e),G(Wf,s)}function bg(o,e,s){var h=o.stateNode;if(e=e.childContextTypes,typeof h.getChildContext!="function")return s;h=h.getChildContext();for(var b in h)if(!(b in e))throw Error(p$1(108,Ra(o)||"Unknown",b));return A({},s,h)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,o),G(Wf,Wf.current),!0}function dg(o,e,s){var h=o.stateNode;if(!h)throw Error(p$1(169));s?(o=bg(o,e,Xf),h.__reactInternalMemoizedMergedChildContext=o,E(Wf),E(H),G(H,o)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,e=C;try{var s=eg;for(C=1;o<s.length;o++){var h=s[o];do h=h(!0);while(h!==null)}eg=null,fg=!1}catch(b){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),b}finally{C=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,e){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=e}function ug(o,e,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var h=rg;o=sg;var b=32-oc(h)-1;h&=~(1<<b),s+=1;var _e=32-oc(e)+b;if(30<_e){var rt=b-b%5;_e=(h&(1<<rt)-1).toString(32),h>>=rt,b-=rt,rg=1<<32-oc(e)+b|s<<b|h,sg=_e+o}else rg=1<<_e|s<<b|h,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(o,e){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=o,e=o.deletions,e===null?(o.deletions=[s],o.flags|=16):e.push(s)}function Cg(o,e){switch(o.tag){case 5:var s=o.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(o.stateNode=e,xg=o,yg=Lf(e.firstChild),!0):!1;case 6:return e=o.pendingProps===""||e.nodeType!==3?null:e,e!==null?(o.stateNode=e,xg=o,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=e,s.return=o,o.child=s,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I){var e=yg;if(e){var s=e;if(!Cg(o,e)){if(Dg(o))throw Error(p$1(418));e=Lf(s.nextSibling);var h=xg;e&&Cg(o,e)?Ag(h,s):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p$1(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var e;if((e=o.tag!==3)&&!(e=o.tag!==5)&&(e=o.type,e=e!=="head"&&e!=="body"&&!Ef(o.type,o.memoizedProps)),e&&(e=yg)){if(Dg(o))throw Hg(),Error(p$1(418));for(;e;)Ag(o,e),e=Lf(e.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$1(317));e:{for(o=o.nextSibling,e=0;o;){if(o.nodeType===8){var s=o.data;if(s==="/$"){if(e===0){yg=Lf(o.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,e){if(o&&o.defaultProps){e=A({},e),o=o.defaultProps;for(var s in o)e[s]===void 0&&(e[s]=o[s]);return e}return e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(o){var e=Mg.current;E(Mg),o._currentValue=e}function Sg(o,e,s){for(;o!==null;){var h=o.alternate;if((o.childLanes&e)!==e?(o.childLanes|=e,h!==null&&(h.childLanes|=e)):h!==null&&(h.childLanes&e)!==e&&(h.childLanes|=e),o===s)break;o=o.return}}function Tg(o,e){Ng=o,Pg=Og=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&e&&(Ug=!0),o.firstContext=null)}function Vg(o){var e=o._currentValue;if(Pg!==o)if(o={context:o,memoizedValue:e,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=o,Ng.dependencies={lanes:0,firstContext:o}}else Og=Og.next=o;return e}var Wg=null;function Xg(o){Wg===null?Wg=[o]:Wg.push(o)}function Yg(o,e,s,h){var b=e.interleaved;return b===null?(s.next=s,Xg(e)):(s.next=b.next,b.next=s),e.interleaved=s,Zg(o,h)}function Zg(o,e){o.lanes|=e;var s=o.alternate;for(s!==null&&(s.lanes|=e),s=o,o=o.return;o!==null;)o.childLanes|=e,s=o.alternate,s!==null&&(s.childLanes|=e),s=o,o=o.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(o,e){o=o.updateQueue,e.updateQueue===o&&(e.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ch(o,e){return{eventTime:o,lane:e,tag:0,payload:null,callback:null,next:null}}function dh(o,e,s){var h=o.updateQueue;if(h===null)return null;if(h=h.shared,K&2){var b=h.pending;return b===null?e.next=e:(e.next=b.next,b.next=e),h.pending=e,Zg(o,s)}return b=h.interleaved,b===null?(e.next=e,Xg(h)):(e.next=b.next,b.next=e),h.interleaved=e,Zg(o,s)}function eh(o,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var h=e.lanes;h&=o.pendingLanes,s|=h,e.lanes=s,Cc(o,s)}}function fh(o,e){var s=o.updateQueue,h=o.alternate;if(h!==null&&(h=h.updateQueue,s===h)){var b=null,_e=null;if(s=s.firstBaseUpdate,s!==null){do{var rt={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};_e===null?b=_e=rt:_e=_e.next=rt,s=s.next}while(s!==null);_e===null?b=_e=e:_e=_e.next=e}else b=_e=e;s={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:_e,shared:h.shared,effects:h.effects},o.updateQueue=s;return}o=s.lastBaseUpdate,o===null?s.firstBaseUpdate=e:o.next=e,s.lastBaseUpdate=e}function gh(o,e,s,h){var b=o.updateQueue;$g=!1;var _e=b.firstBaseUpdate,rt=b.lastBaseUpdate,at=b.shared.pending;if(at!==null){b.shared.pending=null;var st=at,ot=st.next;st.next=null,rt===null?_e=ot:rt.next=ot,rt=st;var nt=o.alternate;nt!==null&&(nt=nt.updateQueue,at=nt.lastBaseUpdate,at!==rt&&(at===null?nt.firstBaseUpdate=ot:at.next=ot,nt.lastBaseUpdate=st))}if(_e!==null){var et=b.baseState;rt=0,nt=ot=st=null,at=_e;do{var d=at.lane,_=at.eventTime;if((h&d)===d){nt!==null&&(nt=nt.next={eventTime:_,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var tt=o,lt=at;switch(d=e,_=s,lt.tag){case 1:if(tt=lt.payload,typeof tt=="function"){et=tt.call(_,et,d);break e}et=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=lt.payload,d=typeof tt=="function"?tt.call(_,et,d):tt,d==null)break e;et=A({},et,d);break e;case 2:$g=!0}}at.callback!==null&&at.lane!==0&&(o.flags|=64,d=b.effects,d===null?b.effects=[at]:d.push(at))}else _={eventTime:_,lane:d,tag:at.tag,payload:at.payload,callback:at.callback,next:null},nt===null?(ot=nt=_,st=et):nt=nt.next=_,rt|=d;if(at=at.next,at===null){if(at=b.shared.pending,at===null)break;d=at,at=d.next,d.next=null,b.lastBaseUpdate=d,b.shared.pending=null}}while(!0);if(nt===null&&(st=et),b.baseState=st,b.firstBaseUpdate=ot,b.lastBaseUpdate=nt,e=b.shared.interleaved,e!==null){b=e;do rt|=b.lane,b=b.next;while(b!==e)}else _e===null&&(b.shared.lanes=0);hh|=rt,o.lanes=rt,o.memoizedState=et}}function ih(o,e,s){if(o=e.effects,e.effects=null,o!==null)for(e=0;e<o.length;e++){var h=o[e],b=h.callback;if(b!==null){if(h.callback=null,h=s,typeof b!="function")throw Error(p$1(191,b));b.call(h)}}}var jh=new aa.Component().refs;function kh(o,e,s,h){e=o.memoizedState,s=s(h,e),s=s==null?e:A({},e,s),o.memoizedState=s,o.lanes===0&&(o.updateQueue.baseState=s)}var nh={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,e,s){o=o._reactInternals;var h=L(),b=lh(o),_e=ch(h,b);_e.payload=e,s!=null&&(_e.callback=s),e=dh(o,_e,b),e!==null&&(mh(e,o,b,h),eh(e,o,b))},enqueueReplaceState:function(o,e,s){o=o._reactInternals;var h=L(),b=lh(o),_e=ch(h,b);_e.tag=1,_e.payload=e,s!=null&&(_e.callback=s),e=dh(o,_e,b),e!==null&&(mh(e,o,b,h),eh(e,o,b))},enqueueForceUpdate:function(o,e){o=o._reactInternals;var s=L(),h=lh(o),b=ch(s,h);b.tag=2,e!=null&&(b.callback=e),e=dh(o,b,h),e!==null&&(mh(e,o,h,s),eh(e,o,h))}};function oh(o,e,s,h,b,_e,rt){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(h,_e,rt):e.prototype&&e.prototype.isPureReactComponent?!Ie(s,h)||!Ie(b,_e):!0}function ph(o,e,s){var h=!1,b=Vf,_e=e.contextType;return typeof _e=="object"&&_e!==null?_e=Vg(_e):(b=Zf(e)?Xf:H.current,h=e.contextTypes,_e=(h=h!=null)?Yf(o,b):Vf),e=new e(s,_e),o.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,o.stateNode=e,e._reactInternals=o,h&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=_e),e}function qh(o,e,s,h){o=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,h),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,h),e.state!==o&&nh.enqueueReplaceState(e,e.state,null)}function rh(o,e,s,h){var b=o.stateNode;b.props=s,b.state=o.memoizedState,b.refs=jh,ah(o);var _e=e.contextType;typeof _e=="object"&&_e!==null?b.context=Vg(_e):(_e=Zf(e)?Xf:H.current,b.context=Yf(o,_e)),b.state=o.memoizedState,_e=e.getDerivedStateFromProps,typeof _e=="function"&&(kh(o,e,_e,s),b.state=o.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(e=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),e!==b.state&&nh.enqueueReplaceState(b,b.state,null),gh(o,s,b,h),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308)}function sh(o,e,s){if(o=s.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$1(309));var h=s.stateNode}if(!h)throw Error(p$1(147,o));var b=h,_e=""+o;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===_e?e.ref:(e=function(rt){var at=b.refs;at===jh&&(at=b.refs={}),rt===null?delete at[_e]:at[_e]=rt},e._stringRef=_e,e)}if(typeof o!="string")throw Error(p$1(284));if(!s._owner)throw Error(p$1(290,o))}return o}function th(o,e){throw o=Object.prototype.toString.call(e),Error(p$1(31,o==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":o))}function uh(o){var e=o._init;return e(o._payload)}function vh$1(o){function e(ct,ft){if(o){var dt=ct.deletions;dt===null?(ct.deletions=[ft],ct.flags|=16):dt.push(ft)}}function s(ct,ft){if(!o)return null;for(;ft!==null;)e(ct,ft),ft=ft.sibling;return null}function h(ct,ft){for(ct=new Map;ft!==null;)ft.key!==null?ct.set(ft.key,ft):ct.set(ft.index,ft),ft=ft.sibling;return ct}function b(ct,ft){return ct=wh(ct,ft),ct.index=0,ct.sibling=null,ct}function _e(ct,ft,dt){return ct.index=dt,o?(dt=ct.alternate,dt!==null?(dt=dt.index,dt<ft?(ct.flags|=2,ft):dt):(ct.flags|=2,ft)):(ct.flags|=1048576,ft)}function rt(ct){return o&&ct.alternate===null&&(ct.flags|=2),ct}function at(ct,ft,dt,ht){return ft===null||ft.tag!==6?(ft=xh(dt,ct.mode,ht),ft.return=ct,ft):(ft=b(ft,dt),ft.return=ct,ft)}function st(ct,ft,dt,ht){var gt=dt.type;return gt===ya?nt(ct,ft,dt.props.children,ht,dt.key):ft!==null&&(ft.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&uh(gt)===ft.type)?(ht=b(ft,dt.props),ht.ref=sh(ct,ft,dt),ht.return=ct,ht):(ht=yh(dt.type,dt.key,dt.props,null,ct.mode,ht),ht.ref=sh(ct,ft,dt),ht.return=ct,ht)}function ot(ct,ft,dt,ht){return ft===null||ft.tag!==4||ft.stateNode.containerInfo!==dt.containerInfo||ft.stateNode.implementation!==dt.implementation?(ft=zh(dt,ct.mode,ht),ft.return=ct,ft):(ft=b(ft,dt.children||[]),ft.return=ct,ft)}function nt(ct,ft,dt,ht,gt){return ft===null||ft.tag!==7?(ft=Ah(dt,ct.mode,ht,gt),ft.return=ct,ft):(ft=b(ft,dt),ft.return=ct,ft)}function et(ct,ft,dt){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return ft=xh(""+ft,ct.mode,dt),ft.return=ct,ft;if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case va:return dt=yh(ft.type,ft.key,ft.props,null,ct.mode,dt),dt.ref=sh(ct,null,ft),dt.return=ct,dt;case wa:return ft=zh(ft,ct.mode,dt),ft.return=ct,ft;case Ha:var ht=ft._init;return et(ct,ht(ft._payload),dt)}if(eb(ft)||Ka(ft))return ft=Ah(ft,ct.mode,dt,null),ft.return=ct,ft;th(ct,ft)}return null}function d(ct,ft,dt,ht){var gt=ft!==null?ft.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number")return gt!==null?null:at(ct,ft,""+dt,ht);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:return dt.key===gt?st(ct,ft,dt,ht):null;case wa:return dt.key===gt?ot(ct,ft,dt,ht):null;case Ha:return gt=dt._init,d(ct,ft,gt(dt._payload),ht)}if(eb(dt)||Ka(dt))return gt!==null?null:nt(ct,ft,dt,ht,null);th(ct,dt)}return null}function _(ct,ft,dt,ht,gt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return ct=ct.get(dt)||null,at(ft,ct,""+ht,gt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return ct=ct.get(ht.key===null?dt:ht.key)||null,st(ft,ct,ht,gt);case wa:return ct=ct.get(ht.key===null?dt:ht.key)||null,ot(ft,ct,ht,gt);case Ha:var yt=ht._init;return _(ct,ft,dt,yt(ht._payload),gt)}if(eb(ht)||Ka(ht))return ct=ct.get(dt)||null,nt(ft,ct,ht,gt,null);th(ft,ht)}return null}function tt(ct,ft,dt,ht){for(var gt=null,yt=null,vt=ft,mt=ft=0,bt=null;vt!==null&&mt<dt.length;mt++){vt.index>mt?(bt=vt,vt=null):bt=vt.sibling;var $t=d(ct,vt,dt[mt],ht);if($t===null){vt===null&&(vt=bt);break}o&&vt&&$t.alternate===null&&e(ct,vt),ft=_e($t,ft,mt),yt===null?gt=$t:yt.sibling=$t,yt=$t,vt=bt}if(mt===dt.length)return s(ct,vt),I&&tg(ct,mt),gt;if(vt===null){for(;mt<dt.length;mt++)vt=et(ct,dt[mt],ht),vt!==null&&(ft=_e(vt,ft,mt),yt===null?gt=vt:yt.sibling=vt,yt=vt);return I&&tg(ct,mt),gt}for(vt=h(ct,vt);mt<dt.length;mt++)bt=_(vt,ct,mt,dt[mt],ht),bt!==null&&(o&&bt.alternate!==null&&vt.delete(bt.key===null?mt:bt.key),ft=_e(bt,ft,mt),yt===null?gt=bt:yt.sibling=bt,yt=bt);return o&&vt.forEach(function(St){return e(ct,St)}),I&&tg(ct,mt),gt}function lt(ct,ft,dt,ht){var gt=Ka(dt);if(typeof gt!="function")throw Error(p$1(150));if(dt=gt.call(dt),dt==null)throw Error(p$1(151));for(var yt=gt=null,vt=ft,mt=ft=0,bt=null,$t=dt.next();vt!==null&&!$t.done;mt++,$t=dt.next()){vt.index>mt?(bt=vt,vt=null):bt=vt.sibling;var St=d(ct,vt,$t.value,ht);if(St===null){vt===null&&(vt=bt);break}o&&vt&&St.alternate===null&&e(ct,vt),ft=_e(St,ft,mt),yt===null?gt=St:yt.sibling=St,yt=St,vt=bt}if($t.done)return s(ct,vt),I&&tg(ct,mt),gt;if(vt===null){for(;!$t.done;mt++,$t=dt.next())$t=et(ct,$t.value,ht),$t!==null&&(ft=_e($t,ft,mt),yt===null?gt=$t:yt.sibling=$t,yt=$t);return I&&tg(ct,mt),gt}for(vt=h(ct,vt);!$t.done;mt++,$t=dt.next())$t=_(vt,ct,mt,$t.value,ht),$t!==null&&(o&&$t.alternate!==null&&vt.delete($t.key===null?mt:$t.key),ft=_e($t,ft,mt),yt===null?gt=$t:yt.sibling=$t,yt=$t);return o&&vt.forEach(function(Pt){return e(ct,Pt)}),I&&tg(ct,mt),gt}function ut(ct,ft,dt,ht){if(typeof dt=="object"&&dt!==null&&dt.type===ya&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:e:{for(var gt=dt.key,yt=ft;yt!==null;){if(yt.key===gt){if(gt=dt.type,gt===ya){if(yt.tag===7){s(ct,yt.sibling),ft=b(yt,dt.props.children),ft.return=ct,ct=ft;break e}}else if(yt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&uh(gt)===yt.type){s(ct,yt.sibling),ft=b(yt,dt.props),ft.ref=sh(ct,yt,dt),ft.return=ct,ct=ft;break e}s(ct,yt);break}else e(ct,yt);yt=yt.sibling}dt.type===ya?(ft=Ah(dt.props.children,ct.mode,ht,dt.key),ft.return=ct,ct=ft):(ht=yh(dt.type,dt.key,dt.props,null,ct.mode,ht),ht.ref=sh(ct,ft,dt),ht.return=ct,ct=ht)}return rt(ct);case wa:e:{for(yt=dt.key;ft!==null;){if(ft.key===yt)if(ft.tag===4&&ft.stateNode.containerInfo===dt.containerInfo&&ft.stateNode.implementation===dt.implementation){s(ct,ft.sibling),ft=b(ft,dt.children||[]),ft.return=ct,ct=ft;break e}else{s(ct,ft);break}else e(ct,ft);ft=ft.sibling}ft=zh(dt,ct.mode,ht),ft.return=ct,ct=ft}return rt(ct);case Ha:return yt=dt._init,ut(ct,ft,yt(dt._payload),ht)}if(eb(dt))return tt(ct,ft,dt,ht);if(Ka(dt))return lt(ct,ft,dt,ht);th(ct,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"?(dt=""+dt,ft!==null&&ft.tag===6?(s(ct,ft.sibling),ft=b(ft,dt),ft.return=ct,ct=ft):(s(ct,ft),ft=xh(dt,ct.mode,ht),ft.return=ct,ct=ft),rt(ct)):s(ct,ft)}return ut}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(o){if(o===Dh)throw Error(p$1(174));return o}function Ih(o,e){switch(G(Gh,e),G(Fh,o),G(Eh,Dh),o=e.nodeType,o){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:o=o===8?e.parentNode:e,e=o.namespaceURI||null,o=o.tagName,e=lb(e,o)}E(Eh),G(Eh,e)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(o){Hh(Gh.current);var e=Hh(Eh.current),s=lb(e,o.type);e!==s&&(G(Fh,o),G(Eh,s))}function Lh(o){Fh.current===o&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(o){for(var e=o;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nh=[];function Oh(){for(var o=0;o<Nh.length;o++)Nh[o]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O$1=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$1(321))}function Wh(o,e){if(e===null)return!1;for(var s=0;s<e.length&&s<o.length;s++)if(!He(o[s],e[s]))return!1;return!0}function Xh(o,e,s,h,b,_e){if(Rh=_e,N=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=o===null||o.memoizedState===null?Yh:Zh,o=s(h,b),Th){_e=0;do{if(Th=!1,Uh=0,25<=_e)throw Error(p$1(301));_e+=1,P=O$1=null,e.updateQueue=null,Ph.current=$h,o=s(h,b)}while(Th)}if(Ph.current=ai,e=O$1!==null&&O$1.next!==null,Rh=0,P=O$1=N=null,Sh=!1,e)throw Error(p$1(300));return o}function bi(){var o=Uh!==0;return Uh=0,o}function ci(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=o:P=P.next=o,P}function di(){if(O$1===null){var o=N.alternate;o=o!==null?o.memoizedState:null}else o=O$1.next;var e=P===null?N.memoizedState:P.next;if(e!==null)P=e,O$1=o;else{if(o===null)throw Error(p$1(310));O$1=o,o={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P===null?N.memoizedState=P=o:P=P.next=o}return P}function ei(o,e){return typeof e=="function"?e(o):e}function fi(o){var e=di(),s=e.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=o;var h=O$1,b=h.baseQueue,_e=s.pending;if(_e!==null){if(b!==null){var rt=b.next;b.next=_e.next,_e.next=rt}h.baseQueue=b=_e,s.pending=null}if(b!==null){_e=b.next,h=h.baseState;var at=rt=null,st=null,ot=_e;do{var nt=ot.lane;if((Rh&nt)===nt)st!==null&&(st=st.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),h=ot.hasEagerState?ot.eagerState:o(h,ot.action);else{var et={lane:nt,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};st===null?(at=st=et,rt=h):st=st.next=et,N.lanes|=nt,hh|=nt}ot=ot.next}while(ot!==null&&ot!==_e);st===null?rt=h:st.next=at,He(h,e.memoizedState)||(Ug=!0),e.memoizedState=h,e.baseState=rt,e.baseQueue=st,s.lastRenderedState=h}if(o=s.interleaved,o!==null){b=o;do _e=b.lane,N.lanes|=_e,hh|=_e,b=b.next;while(b!==o)}else b===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function gi(o){var e=di(),s=e.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=o;var h=s.dispatch,b=s.pending,_e=e.memoizedState;if(b!==null){s.pending=null;var rt=b=b.next;do _e=o(_e,rt.action),rt=rt.next;while(rt!==b);He(_e,e.memoizedState)||(Ug=!0),e.memoizedState=_e,e.baseQueue===null&&(e.baseState=_e),s.lastRenderedState=_e}return[_e,h]}function hi$2(){}function ii(o,e){var s=N,h=di(),b=e(),_e=!He(h.memoizedState,b);if(_e&&(h.memoizedState=b,Ug=!0),h=h.queue,ji(ki.bind(null,s,h,o),[o]),h.getSnapshot!==e||_e||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,h,b,e),void 0,null),R$1===null)throw Error(p$1(349));Rh&30||ni(s,e,b)}return b}function ni(o,e,s){o.flags|=16384,o={getSnapshot:e,value:s},e=N.updateQueue,e===null?(e={lastEffect:null,stores:null},N.updateQueue=e,e.stores=[o]):(s=e.stores,s===null?e.stores=[o]:s.push(o))}function mi(o,e,s,h){e.value=s,e.getSnapshot=h,oi(e)&&pi(o)}function ki(o,e,s){return s(function(){oi(e)&&pi(o)})}function oi(o){var e=o.getSnapshot;o=o.value;try{var s=e();return!He(o,s)}catch{return!0}}function pi(o){var e=Zg(o,1);e!==null&&mh(e,o,1,-1)}function qi(o){var e=ci();return typeof o=="function"&&(o=o()),e.memoizedState=e.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},e.queue=o,o=o.dispatch=ri.bind(null,N,o),[e.memoizedState,o]}function li(o,e,s,h){return o={tag:o,create:e,destroy:s,deps:h,next:null},e=N.updateQueue,e===null?(e={lastEffect:null,stores:null},N.updateQueue=e,e.lastEffect=o.next=o):(s=e.lastEffect,s===null?e.lastEffect=o.next=o:(h=s.next,s.next=o,o.next=h,e.lastEffect=o)),o}function si(){return di().memoizedState}function ti(o,e,s,h){var b=ci();N.flags|=o,b.memoizedState=li(1|e,s,void 0,h===void 0?null:h)}function ui(o,e,s,h){var b=di();h=h===void 0?null:h;var _e=void 0;if(O$1!==null){var rt=O$1.memoizedState;if(_e=rt.destroy,h!==null&&Wh(h,rt.deps)){b.memoizedState=li(e,s,_e,h);return}}N.flags|=o,b.memoizedState=li(1|e,s,_e,h)}function vi(o,e){return ti(8390656,8,o,e)}function ji(o,e){return ui(2048,8,o,e)}function wi(o,e){return ui(4,2,o,e)}function xi(o,e){return ui(4,4,o,e)}function yi(o,e){if(typeof e=="function")return o=o(),e(o),function(){e(null)};if(e!=null)return o=o(),e.current=o,function(){e.current=null}}function zi(o,e,s){return s=s!=null?s.concat([o]):null,ui(4,4,yi.bind(null,e,o),s)}function Ai(){}function Bi(o,e){var s=di();e=e===void 0?null:e;var h=s.memoizedState;return h!==null&&e!==null&&Wh(e,h[1])?h[0]:(s.memoizedState=[o,e],o)}function Ci(o,e){var s=di();e=e===void 0?null:e;var h=s.memoizedState;return h!==null&&e!==null&&Wh(e,h[1])?h[0]:(o=o(),s.memoizedState=[o,e],o)}function Di(o,e,s){return Rh&21?(He(s,e)||(s=yc(),N.lanes|=s,hh|=s,o.baseState=!0),e):(o.baseState&&(o.baseState=!1,Ug=!0),o.memoizedState=s)}function Ei(o,e){var s=C;C=s!==0&&4>s?s:4,o(!0);var h=Qh.transition;Qh.transition={};try{o(!1),e()}finally{C=s,Qh.transition=h}}function Fi(){return di().memoizedState}function Gi(o,e,s){var h=lh(o);if(s={lane:h,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(o))Ii(e,s);else if(s=Yg(o,e,s,h),s!==null){var b=L();mh(s,o,h,b),Ji(s,e,h)}}function ri(o,e,s){var h=lh(o),b={lane:h,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(o))Ii(e,b);else{var _e=o.alternate;if(o.lanes===0&&(_e===null||_e.lanes===0)&&(_e=e.lastRenderedReducer,_e!==null))try{var rt=e.lastRenderedState,at=_e(rt,s);if(b.hasEagerState=!0,b.eagerState=at,He(at,rt)){var st=e.interleaved;st===null?(b.next=b,Xg(e)):(b.next=st.next,st.next=b),e.interleaved=b;return}}catch{}finally{}s=Yg(o,e,b,h),s!==null&&(b=L(),mh(s,o,h,b),Ji(s,e,h))}}function Hi(o){var e=o.alternate;return o===N||e!==null&&e===N}function Ii(o,e){Th=Sh=!0;var s=o.pending;s===null?e.next=e:(e.next=s.next,s.next=e),o.pending=e}function Ji(o,e,s){if(s&4194240){var h=e.lanes;h&=o.pendingLanes,s|=h,e.lanes=s,Cc(o,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(o,e){return ci().memoizedState=[o,e===void 0?null:e],o},useContext:Vg,useEffect:vi,useImperativeHandle:function(o,e,s){return s=s!=null?s.concat([o]):null,ti(4194308,4,yi.bind(null,e,o),s)},useLayoutEffect:function(o,e){return ti(4194308,4,o,e)},useInsertionEffect:function(o,e){return ti(4,2,o,e)},useMemo:function(o,e){var s=ci();return e=e===void 0?null:e,o=o(),s.memoizedState=[o,e],o},useReducer:function(o,e,s){var h=ci();return e=s!==void 0?s(e):e,h.memoizedState=h.baseState=e,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:e},h.queue=o,o=o.dispatch=Gi.bind(null,N,o),[h.memoizedState,o]},useRef:function(o){var e=ci();return o={current:o},e.memoizedState=o},useState:qi,useDebugValue:Ai,useDeferredValue:function(o){return ci().memoizedState=o},useTransition:function(){var o=qi(!1),e=o[0];return o=Ei.bind(null,o[1]),ci().memoizedState=o,[e,o]},useMutableSource:function(){},useSyncExternalStore:function(o,e,s){var h=N,b=ci();if(I){if(s===void 0)throw Error(p$1(407));s=s()}else{if(s=e(),R$1===null)throw Error(p$1(349));Rh&30||ni(h,e,s)}b.memoizedState=s;var _e={value:s,getSnapshot:e};return b.queue=_e,vi(ki.bind(null,h,_e,o),[o]),h.flags|=2048,li(9,mi.bind(null,h,_e,s,e),void 0,null),s},useId:function(){var o=ci(),e=R$1.identifierPrefix;if(I){var s=sg,h=rg;s=(h&~(1<<32-oc(h)-1)).toString(32)+s,e=":"+e+"R"+s,s=Uh++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=Vh++,e=":"+e+"r"+s.toString(32)+":";return o.memoizedState=e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var e=di();return Di(e,O$1.memoizedState,o)},useTransition:function(){var o=fi(ei)[0],e=di().memoizedState;return[o,e]},useMutableSource:hi$2,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var e=di();return O$1===null?e.memoizedState=o:Di(e,O$1.memoizedState,o)},useTransition:function(){var o=gi(ei)[0],e=di().memoizedState;return[o,e]},useMutableSource:hi$2,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(o,e){try{var s="",h=e;do s+=Pa(h),h=h.return;while(h);var b=s}catch(_e){b=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:o,source:e,stack:b,digest:null}}function Li(o,e,s){return{value:o,source:null,stack:s??null,digest:e??null}}function Mi(o,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(o,e,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var h=e.value;return s.callback=function(){Pi||(Pi=!0,Qi=h),Mi(o,e)},s}function Ri(o,e,s){s=ch(-1,s),s.tag=3;var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var b=e.value;s.payload=function(){return h(b)},s.callback=function(){Mi(o,e)}}var _e=o.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(s.callback=function(){Mi(o,e),typeof h!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var rt=e.stack;this.componentDidCatch(e.value,{componentStack:rt!==null?rt:""})}),s}function Ti(o,e,s){var h=o.pingCache;if(h===null){h=o.pingCache=new Ni;var b=new Set;h.set(e,b)}else b=h.get(e),b===void 0&&(b=new Set,h.set(e,b));b.has(s)||(b.add(s),o=Ui.bind(null,o,e,s),e.then(o,o))}function Vi(o){do{var e;if((e=o.tag===13)&&(e=o.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return o;o=o.return}while(o!==null);return null}function Wi(o,e,s,h,b){return o.mode&1?(o.flags|=65536,o.lanes=b,o):(o===e?o.flags|=65536:(o.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=ch(-1,1),e.tag=2,dh(s,e,1))),s.lanes|=1),o)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(o,e,s,h){e.child=o===null?Ch(e,null,s,h):Bh(e,o.child,s,h)}function Zi(o,e,s,h,b){s=s.render;var _e=e.ref;return Tg(e,b),h=Xh(o,e,s,h,_e,b),s=bi(),o!==null&&!Ug?(e.updateQueue=o.updateQueue,e.flags&=-2053,o.lanes&=~b,$i(o,e,b)):(I&&s&&vg(e),e.flags|=1,Yi(o,e,h,b),e.child)}function aj(o,e,s,h,b){if(o===null){var _e=s.type;return typeof _e=="function"&&!bj(_e)&&_e.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=_e,cj(o,e,_e,h,b)):(o=yh(s.type,null,h,e,e.mode,b),o.ref=e.ref,o.return=e,e.child=o)}if(_e=o.child,!(o.lanes&b)){var rt=_e.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(rt,h)&&o.ref===e.ref)return $i(o,e,b)}return e.flags|=1,o=wh(_e,h),o.ref=e.ref,o.return=e,e.child=o}function cj(o,e,s,h,b){if(o!==null){var _e=o.memoizedProps;if(Ie(_e,h)&&o.ref===e.ref)if(Ug=!1,e.pendingProps=h=_e,(o.lanes&b)!==0)o.flags&131072&&(Ug=!0);else return e.lanes=o.lanes,$i(o,e,b)}return dj(o,e,s,h,b)}function ej(o,e,s){var h=e.pendingProps,b=h.children,_e=o!==null?o.memoizedState:null;if(h.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return o=_e!==null?_e.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:o,cachePool:null,transitions:null},e.updateQueue=null,G(fj,gj),gj|=o,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_e!==null?_e.baseLanes:s,G(fj,gj),gj|=h}else _e!==null?(h=_e.baseLanes|s,e.memoizedState=null):h=s,G(fj,gj),gj|=h;return Yi(o,e,b,s),e.child}function hj(o,e){var s=e.ref;(o===null&&s!==null||o!==null&&o.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function dj(o,e,s,h,b){var _e=Zf(s)?Xf:H.current;return _e=Yf(e,_e),Tg(e,b),s=Xh(o,e,s,h,_e,b),h=bi(),o!==null&&!Ug?(e.updateQueue=o.updateQueue,e.flags&=-2053,o.lanes&=~b,$i(o,e,b)):(I&&h&&vg(e),e.flags|=1,Yi(o,e,s,b),e.child)}function ij(o,e,s,h,b){if(Zf(s)){var _e=!0;cg(e)}else _e=!1;if(Tg(e,b),e.stateNode===null)jj(o,e),ph(e,s,h),rh(e,s,h,b),h=!0;else if(o===null){var rt=e.stateNode,at=e.memoizedProps;rt.props=at;var st=rt.context,ot=s.contextType;typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(s)?Xf:H.current,ot=Yf(e,ot));var nt=s.getDerivedStateFromProps,et=typeof nt=="function"||typeof rt.getSnapshotBeforeUpdate=="function";et||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(at!==h||st!==ot)&&qh(e,rt,h,ot),$g=!1;var d=e.memoizedState;rt.state=d,gh(e,h,rt,b),st=e.memoizedState,at!==h||d!==st||Wf.current||$g?(typeof nt=="function"&&(kh(e,s,nt,h),st=e.memoizedState),(at=$g||oh(e,s,at,h,d,st,ot))?(et||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&(e.flags|=4194308)):(typeof rt.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=h,e.memoizedState=st),rt.props=h,rt.state=st,rt.context=ot,h=at):(typeof rt.componentDidMount=="function"&&(e.flags|=4194308),h=!1)}else{rt=e.stateNode,bh(o,e),at=e.memoizedProps,ot=e.type===e.elementType?at:Lg(e.type,at),rt.props=ot,et=e.pendingProps,d=rt.context,st=s.contextType,typeof st=="object"&&st!==null?st=Vg(st):(st=Zf(s)?Xf:H.current,st=Yf(e,st));var _=s.getDerivedStateFromProps;(nt=typeof _=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(at!==et||d!==st)&&qh(e,rt,h,st),$g=!1,d=e.memoizedState,rt.state=d,gh(e,h,rt,b);var tt=e.memoizedState;at!==et||d!==tt||Wf.current||$g?(typeof _=="function"&&(kh(e,s,_,h),tt=e.memoizedState),(ot=$g||oh(e,s,ot,h,d,tt,st)||!1)?(nt||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(h,tt,st),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(h,tt,st)),typeof rt.componentDidUpdate=="function"&&(e.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof rt.componentDidUpdate!="function"||at===o.memoizedProps&&d===o.memoizedState||(e.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||at===o.memoizedProps&&d===o.memoizedState||(e.flags|=1024),e.memoizedProps=h,e.memoizedState=tt),rt.props=h,rt.state=tt,rt.context=st,h=ot):(typeof rt.componentDidUpdate!="function"||at===o.memoizedProps&&d===o.memoizedState||(e.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||at===o.memoizedProps&&d===o.memoizedState||(e.flags|=1024),h=!1)}return kj(o,e,s,h,_e,b)}function kj(o,e,s,h,b,_e){hj(o,e);var rt=(e.flags&128)!==0;if(!h&&!rt)return b&&dg(e,s,!1),$i(o,e,_e);h=e.stateNode,Xi.current=e;var at=rt&&typeof s.getDerivedStateFromError!="function"?null:h.render();return e.flags|=1,o!==null&&rt?(e.child=Bh(e,o.child,null,_e),e.child=Bh(e,null,at,_e)):Yi(o,e,at,_e),e.memoizedState=h.state,b&&dg(e,s,!0),e.child}function lj(o){var e=o.stateNode;e.pendingContext?ag(o,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(o,e.context,!1),Ih(o,e.containerInfo)}function mj(o,e,s,h,b){return Ig(),Jg(b),e.flags|=256,Yi(o,e,s,h),e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(o){return{baseLanes:o,cachePool:null,transitions:null}}function pj(o,e,s){var h=e.pendingProps,b=M.current,_e=!1,rt=(e.flags&128)!==0,at;if((at=rt)||(at=o!==null&&o.memoizedState===null?!1:(b&2)!==0),at?(_e=!0,e.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),G(M,b&1),o===null)return Eg(e),o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(e.mode&1?o.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(rt=h.children,o=h.fallback,_e?(h=e.mode,_e=e.child,rt={mode:"hidden",children:rt},!(h&1)&&_e!==null?(_e.childLanes=0,_e.pendingProps=rt):_e=qj(rt,h,0,null),o=Ah(o,h,s,null),_e.return=e,o.return=e,_e.sibling=o,e.child=_e,e.child.memoizedState=oj(s),e.memoizedState=nj,o):rj(e,rt));if(b=o.memoizedState,b!==null&&(at=b.dehydrated,at!==null))return sj(o,e,rt,h,at,b,s);if(_e){_e=h.fallback,rt=e.mode,b=o.child,at=b.sibling;var st={mode:"hidden",children:h.children};return!(rt&1)&&e.child!==b?(h=e.child,h.childLanes=0,h.pendingProps=st,e.deletions=null):(h=wh(b,st),h.subtreeFlags=b.subtreeFlags&14680064),at!==null?_e=wh(at,_e):(_e=Ah(_e,rt,s,null),_e.flags|=2),_e.return=e,h.return=e,h.sibling=_e,e.child=h,h=_e,_e=e.child,rt=o.child.memoizedState,rt=rt===null?oj(s):{baseLanes:rt.baseLanes|s,cachePool:null,transitions:rt.transitions},_e.memoizedState=rt,_e.childLanes=o.childLanes&~s,e.memoizedState=nj,h}return _e=o.child,o=_e.sibling,h=wh(_e,{mode:"visible",children:h.children}),!(e.mode&1)&&(h.lanes=s),h.return=e,h.sibling=null,o!==null&&(s=e.deletions,s===null?(e.deletions=[o],e.flags|=16):s.push(o)),e.child=h,e.memoizedState=null,h}function rj(o,e){return e=qj({mode:"visible",children:e},o.mode,0,null),e.return=o,o.child=e}function tj(o,e,s,h){return h!==null&&Jg(h),Bh(e,o.child,null,s),o=rj(e,e.pendingProps.children),o.flags|=2,e.memoizedState=null,o}function sj(o,e,s,h,b,_e,rt){if(s)return e.flags&256?(e.flags&=-257,h=Li(Error(p$1(422))),tj(o,e,rt,h)):e.memoizedState!==null?(e.child=o.child,e.flags|=128,null):(_e=h.fallback,b=e.mode,h=qj({mode:"visible",children:h.children},b,0,null),_e=Ah(_e,b,rt,null),_e.flags|=2,h.return=e,_e.return=e,h.sibling=_e,e.child=h,e.mode&1&&Bh(e,o.child,null,rt),e.child.memoizedState=oj(rt),e.memoizedState=nj,_e);if(!(e.mode&1))return tj(o,e,rt,null);if(b.data==="$!"){if(h=b.nextSibling&&b.nextSibling.dataset,h)var at=h.dgst;return h=at,_e=Error(p$1(419)),h=Li(_e,h,void 0),tj(o,e,rt,h)}if(at=(rt&o.childLanes)!==0,Ug||at){if(h=R$1,h!==null){switch(rt&-rt){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=b&(h.suspendedLanes|rt)?0:b,b!==0&&b!==_e.retryLane&&(_e.retryLane=b,Zg(o,b),mh(h,o,b,-1))}return uj(),h=Li(Error(p$1(421))),tj(o,e,rt,h)}return b.data==="$?"?(e.flags|=128,e.child=o.child,e=vj.bind(null,o),b._reactRetry=e,null):(o=_e.treeContext,yg=Lf(b.nextSibling),xg=e,I=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=e),e=rj(e,h.children),e.flags|=4096,e)}function wj(o,e,s){o.lanes|=e;var h=o.alternate;h!==null&&(h.lanes|=e),Sg(o.return,e,s)}function xj(o,e,s,h,b){var _e=o.memoizedState;_e===null?o.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:h,tail:s,tailMode:b}:(_e.isBackwards=e,_e.rendering=null,_e.renderingStartTime=0,_e.last=h,_e.tail=s,_e.tailMode=b)}function yj(o,e,s){var h=e.pendingProps,b=h.revealOrder,_e=h.tail;if(Yi(o,e,h.children,s),h=M.current,h&2)h=h&1|2,e.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=e.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wj(o,s,e);else if(o.tag===19)wj(o,s,e);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}h&=1}if(G(M,h),!(e.mode&1))e.memoizedState=null;else switch(b){case"forwards":for(s=e.child,b=null;s!==null;)o=s.alternate,o!==null&&Mh(o)===null&&(b=s),s=s.sibling;s=b,s===null?(b=e.child,e.child=null):(b=s.sibling,s.sibling=null),xj(e,!1,b,s,_e);break;case"backwards":for(s=null,b=e.child,e.child=null;b!==null;){if(o=b.alternate,o!==null&&Mh(o)===null){e.child=b;break}o=b.sibling,b.sibling=s,s=b,b=o}xj(e,!0,s,null,_e);break;case"together":xj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jj(o,e){!(e.mode&1)&&o!==null&&(o.alternate=null,e.alternate=null,e.flags|=2)}function $i(o,e,s){if(o!==null&&(e.dependencies=o.dependencies),hh|=e.lanes,!(s&e.childLanes))return null;if(o!==null&&e.child!==o.child)throw Error(p$1(153));if(e.child!==null){for(o=e.child,s=wh(o,o.pendingProps),e.child=s,s.return=e;o.sibling!==null;)o=o.sibling,s=s.sibling=wh(o,o.pendingProps),s.return=e;s.sibling=null}return e.child}function zj(o,e,s){switch(e.tag){case 3:lj(e),Ig();break;case 5:Kh(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var h=e.type._context,b=e.memoizedProps.value;G(Mg,h._currentValue),h._currentValue=b;break;case 13:if(h=e.memoizedState,h!==null)return h.dehydrated!==null?(G(M,M.current&1),e.flags|=128,null):s&e.child.childLanes?pj(o,e,s):(G(M,M.current&1),o=$i(o,e,s),o!==null?o.sibling:null);G(M,M.current&1);break;case 19:if(h=(s&e.childLanes)!==0,o.flags&128){if(h)return yj(o,e,s);e.flags|=128}if(b=e.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),G(M,M.current),h)break;return null;case 22:case 23:return e.lanes=0,ej(o,e,s)}return $i(o,e,s)}var Aj,Bj,Cj,Dj;Aj=function(o,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(o,e,s,h){var b=o.memoizedProps;if(b!==h){o=e.stateNode,Hh(Eh.current);var _e=null;switch(s){case"input":b=Ya(o,b),h=Ya(o,h),_e=[];break;case"select":b=A({},b,{value:void 0}),h=A({},h,{value:void 0}),_e=[];break;case"textarea":b=gb(o,b),h=gb(o,h),_e=[];break;default:typeof b.onClick!="function"&&typeof h.onClick=="function"&&(o.onclick=Bf)}ub(s,h);var rt;s=null;for(ot in b)if(!h.hasOwnProperty(ot)&&b.hasOwnProperty(ot)&&b[ot]!=null)if(ot==="style"){var at=b[ot];for(rt in at)at.hasOwnProperty(rt)&&(s||(s={}),s[rt]="")}else ot!=="dangerouslySetInnerHTML"&&ot!=="children"&&ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea.hasOwnProperty(ot)?_e||(_e=[]):(_e=_e||[]).push(ot,null));for(ot in h){var st=h[ot];if(at=b!=null?b[ot]:void 0,h.hasOwnProperty(ot)&&st!==at&&(st!=null||at!=null))if(ot==="style")if(at){for(rt in at)!at.hasOwnProperty(rt)||st&&st.hasOwnProperty(rt)||(s||(s={}),s[rt]="");for(rt in st)st.hasOwnProperty(rt)&&at[rt]!==st[rt]&&(s||(s={}),s[rt]=st[rt])}else s||(_e||(_e=[]),_e.push(ot,s)),s=st;else ot==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,at=at?at.__html:void 0,st!=null&&at!==st&&(_e=_e||[]).push(ot,st)):ot==="children"?typeof st!="string"&&typeof st!="number"||(_e=_e||[]).push(ot,""+st):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ot)?(st!=null&&ot==="onScroll"&&D("scroll",o),_e||at===st||(_e=[])):(_e=_e||[]).push(ot,st))}s&&(_e=_e||[]).push("style",s);var ot=_e;(e.updateQueue=ot)&&(e.flags|=4)}};Dj=function(o,e,s,h){s!==h&&(e.flags|=4)};function Ej(o,e){if(!I)switch(o.tailMode){case"hidden":e=o.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?o.tail=null:s.sibling=null;break;case"collapsed":s=o.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?e||o.tail===null?o.tail=null:o.tail.sibling=null:h.sibling=null}}function S(o){var e=o.alternate!==null&&o.alternate.child===o.child,s=0,h=0;if(e)for(var b=o.child;b!==null;)s|=b.lanes|b.childLanes,h|=b.subtreeFlags&14680064,h|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)s|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=h,o.childLanes=s,e}function Fj(o,e,s){var h=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(e),null;case 1:return Zf(e.type)&&$f(),S(e),null;case 3:return h=e.stateNode,Jh(),E(Wf),E(H),Oh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Gg(e)?e.flags|=4:o===null||o.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(o,e),S(e),null;case 5:Lh(e);var b=Hh(Gh.current);if(s=e.type,o!==null&&e.stateNode!=null)Cj(o,e,s,h,b),o.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!h){if(e.stateNode===null)throw Error(p$1(166));return S(e),null}if(o=Hh(Eh.current),Gg(e)){h=e.stateNode,s=e.type;var _e=e.memoizedProps;switch(h[Of]=e,h[Pf]=_e,o=(e.mode&1)!==0,s){case"dialog":D("cancel",h),D("close",h);break;case"iframe":case"object":case"embed":D("load",h);break;case"video":case"audio":for(b=0;b<lf.length;b++)D(lf[b],h);break;case"source":D("error",h);break;case"img":case"image":case"link":D("error",h),D("load",h);break;case"details":D("toggle",h);break;case"input":Za(h,_e),D("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_e.multiple},D("invalid",h);break;case"textarea":hb(h,_e),D("invalid",h)}ub(s,_e),b=null;for(var rt in _e)if(_e.hasOwnProperty(rt)){var at=_e[rt];rt==="children"?typeof at=="string"?h.textContent!==at&&(_e.suppressHydrationWarning!==!0&&Af(h.textContent,at,o),b=["children",at]):typeof at=="number"&&h.textContent!==""+at&&(_e.suppressHydrationWarning!==!0&&Af(h.textContent,at,o),b=["children",""+at]):ea.hasOwnProperty(rt)&&at!=null&&rt==="onScroll"&&D("scroll",h)}switch(s){case"input":Va(h),db(h,_e,!0);break;case"textarea":Va(h),jb(h);break;case"select":case"option":break;default:typeof _e.onClick=="function"&&(h.onclick=Bf)}h=b,e.updateQueue=h,h!==null&&(e.flags|=4)}else{rt=b.nodeType===9?b:b.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(s)),o==="http://www.w3.org/1999/xhtml"?s==="script"?(o=rt.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof h.is=="string"?o=rt.createElement(s,{is:h.is}):(o=rt.createElement(s),s==="select"&&(rt=o,h.multiple?rt.multiple=!0:h.size&&(rt.size=h.size))):o=rt.createElementNS(o,s),o[Of]=e,o[Pf]=h,Aj(o,e,!1,!1),e.stateNode=o;e:{switch(rt=vb(s,h),s){case"dialog":D("cancel",o),D("close",o),b=h;break;case"iframe":case"object":case"embed":D("load",o),b=h;break;case"video":case"audio":for(b=0;b<lf.length;b++)D(lf[b],o);b=h;break;case"source":D("error",o),b=h;break;case"img":case"image":case"link":D("error",o),D("load",o),b=h;break;case"details":D("toggle",o),b=h;break;case"input":Za(o,h),b=Ya(o,h),D("invalid",o);break;case"option":b=h;break;case"select":o._wrapperState={wasMultiple:!!h.multiple},b=A({},h,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,h),b=gb(o,h),D("invalid",o);break;default:b=h}ub(s,b),at=b;for(_e in at)if(at.hasOwnProperty(_e)){var st=at[_e];_e==="style"?sb(o,st):_e==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(o,st)):_e==="children"?typeof st=="string"?(s!=="textarea"||st!=="")&&ob(o,st):typeof st=="number"&&ob(o,""+st):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?st!=null&&_e==="onScroll"&&D("scroll",o):st!=null&&ta(o,_e,st,rt))}switch(s){case"input":Va(o),db(o,h,!1);break;case"textarea":Va(o),jb(o);break;case"option":h.value!=null&&o.setAttribute("value",""+Sa(h.value));break;case"select":o.multiple=!!h.multiple,_e=h.value,_e!=null?fb(o,!!h.multiple,_e,!1):h.defaultValue!=null&&fb(o,!!h.multiple,h.defaultValue,!0);break;default:typeof b.onClick=="function"&&(o.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S(e),null;case 6:if(o&&e.stateNode!=null)Dj(o,e,o.memoizedProps,h);else{if(typeof h!="string"&&e.stateNode===null)throw Error(p$1(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(e)){if(h=e.stateNode,s=e.memoizedProps,h[Of]=e,(_e=h.nodeValue!==s)&&(o=xg,o!==null))switch(o.tag){case 3:Af(h.nodeValue,s,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(h.nodeValue,s,(o.mode&1)!==0)}_e&&(e.flags|=4)}else h=(s.nodeType===9?s:s.ownerDocument).createTextNode(h),h[Of]=e,e.stateNode=h}return S(e),null;case 13:if(E(M),h=e.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,_e=!1;else if(_e=Gg(e),h!==null&&h.dehydrated!==null){if(o===null){if(!_e)throw Error(p$1(318));if(_e=e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$1(317));_e[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S(e),_e=!1}else zg!==null&&(Gj(zg),zg=null),_e=!0;if(!_e)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(h=h!==null,h!==(o!==null&&o.memoizedState!==null)&&h&&(e.child.flags|=8192,e.mode&1&&(o===null||M.current&1?T===0&&(T=3):uj())),e.updateQueue!==null&&(e.flags|=4),S(e),null);case 4:return Jh(),Bj(o,e),o===null&&sf(e.stateNode.containerInfo),S(e),null;case 10:return Rg(e.type._context),S(e),null;case 17:return Zf(e.type)&&$f(),S(e),null;case 19:if(E(M),_e=e.memoizedState,_e===null)return S(e),null;if(h=(e.flags&128)!==0,rt=_e.rendering,rt===null)if(h)Ej(_e,!1);else{if(T!==0||o!==null&&o.flags&128)for(o=e.child;o!==null;){if(rt=Mh(o),rt!==null){for(e.flags|=128,Ej(_e,!1),h=rt.updateQueue,h!==null&&(e.updateQueue=h,e.flags|=4),e.subtreeFlags=0,h=s,s=e.child;s!==null;)_e=s,o=h,_e.flags&=14680066,rt=_e.alternate,rt===null?(_e.childLanes=0,_e.lanes=o,_e.child=null,_e.subtreeFlags=0,_e.memoizedProps=null,_e.memoizedState=null,_e.updateQueue=null,_e.dependencies=null,_e.stateNode=null):(_e.childLanes=rt.childLanes,_e.lanes=rt.lanes,_e.child=rt.child,_e.subtreeFlags=0,_e.deletions=null,_e.memoizedProps=rt.memoizedProps,_e.memoizedState=rt.memoizedState,_e.updateQueue=rt.updateQueue,_e.type=rt.type,o=rt.dependencies,_e.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s=s.sibling;return G(M,M.current&1|2),e.child}o=o.sibling}_e.tail!==null&&B()>Hj&&(e.flags|=128,h=!0,Ej(_e,!1),e.lanes=4194304)}else{if(!h)if(o=Mh(rt),o!==null){if(e.flags|=128,h=!0,s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Ej(_e,!0),_e.tail===null&&_e.tailMode==="hidden"&&!rt.alternate&&!I)return S(e),null}else 2*B()-_e.renderingStartTime>Hj&&s!==1073741824&&(e.flags|=128,h=!0,Ej(_e,!1),e.lanes=4194304);_e.isBackwards?(rt.sibling=e.child,e.child=rt):(s=_e.last,s!==null?s.sibling=rt:e.child=rt,_e.last=rt)}return _e.tail!==null?(e=_e.tail,_e.rendering=e,_e.tail=e.sibling,_e.renderingStartTime=B(),e.sibling=null,s=M.current,G(M,h?s&1|2:s&1),e):(S(e),null);case 22:case 23:return Ij(),h=e.memoizedState!==null,o!==null&&o.memoizedState!==null!==h&&(e.flags|=8192),h&&e.mode&1?gj&1073741824&&(S(e),e.subtreeFlags&6&&(e.flags|=8192)):S(e),null;case 24:return null;case 25:return null}throw Error(p$1(156,e.tag))}function Jj(o,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),o=e.flags,o&65536?(e.flags=o&-65537|128,e):null;case 3:return Jh(),E(Wf),E(H),Oh(),o=e.flags,o&65536&&!(o&128)?(e.flags=o&-65537|128,e):null;case 5:return Lh(e),null;case 13:if(E(M),o=e.memoizedState,o!==null&&o.dehydrated!==null){if(e.alternate===null)throw Error(p$1(340));Ig()}return o=e.flags,o&65536?(e.flags=o&-65537|128,e):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(o,e){var s=o.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(h){W(o,e,h)}else s.current=null}function Nj(o,e,s){try{s()}catch(h){W(o,e,h)}}var Oj=!1;function Pj(o,e){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{s=(s=o.ownerDocument)&&s.defaultView||window;var h=s.getSelection&&s.getSelection();if(h&&h.rangeCount!==0){s=h.anchorNode;var b=h.anchorOffset,_e=h.focusNode;h=h.focusOffset;try{s.nodeType,_e.nodeType}catch{s=null;break e}var rt=0,at=-1,st=-1,ot=0,nt=0,et=o,d=null;t:for(;;){for(var _;et!==s||b!==0&&et.nodeType!==3||(at=rt+b),et!==_e||h!==0&&et.nodeType!==3||(st=rt+h),et.nodeType===3&&(rt+=et.nodeValue.length),(_=et.firstChild)!==null;)d=et,et=_;for(;;){if(et===o)break t;if(d===s&&++ot===b&&(at=rt),d===_e&&++nt===h&&(st=rt),(_=et.nextSibling)!==null)break;et=d,d=et.parentNode}et=_}s=at===-1||st===-1?null:{start:at,end:st}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:o,selectionRange:s},dd=!1,V=e;V!==null;)if(e=V,o=e.child,(e.subtreeFlags&1028)!==0&&o!==null)o.return=e,V=o;else for(;V!==null;){e=V;try{var tt=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(tt!==null){var lt=tt.memoizedProps,ut=tt.memoizedState,ct=e.stateNode,ft=ct.getSnapshotBeforeUpdate(e.elementType===e.type?lt:Lg(e.type,lt),ut);ct.__reactInternalSnapshotBeforeUpdate=ft}break;case 3:var dt=e.stateNode.containerInfo;dt.nodeType===1?dt.textContent="":dt.nodeType===9&&dt.documentElement&&dt.removeChild(dt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(ht){W(e,e.return,ht)}if(o=e.sibling,o!==null){o.return=e.return,V=o;break}V=e.return}return tt=Oj,Oj=!1,tt}function Qj(o,e,s){var h=e.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var b=h=h.next;do{if((b.tag&o)===o){var _e=b.destroy;b.destroy=void 0,_e!==void 0&&Nj(e,s,_e)}b=b.next}while(b!==h)}}function Rj(o,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&o)===o){var h=s.create;s.destroy=h()}s=s.next}while(s!==e)}}function Sj(o){var e=o.ref;if(e!==null){var s=o.stateNode;switch(o.tag){case 5:o=s;break;default:o=s}typeof e=="function"?e(o):e.current=o}}function Tj(o){var e=o.alternate;e!==null&&(o.alternate=null,Tj(e)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(e=o.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Uj(o){return o.tag===5||o.tag===3||o.tag===4}function Vj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Uj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wj(o,e,s){var h=o.tag;if(h===5||h===6)o=o.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(o,e):s.insertBefore(o,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(o,s)):(e=s,e.appendChild(o)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Bf));else if(h!==4&&(o=o.child,o!==null))for(Wj(o,e,s),o=o.sibling;o!==null;)Wj(o,e,s),o=o.sibling}function Xj(o,e,s){var h=o.tag;if(h===5||h===6)o=o.stateNode,e?s.insertBefore(o,e):s.appendChild(o);else if(h!==4&&(o=o.child,o!==null))for(Xj(o,e,s),o=o.sibling;o!==null;)Xj(o,e,s),o=o.sibling}var X=null,Yj=!1;function Zj(o,e,s){for(s=s.child;s!==null;)ak(o,e,s),s=s.sibling}function ak(o,e,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,e);case 6:var h=X,b=Yj;X=null,Zj(o,e,s),X=h,Yj=b,X!==null&&(Yj?(o=X,s=s.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Yj?(o=X,s=s.stateNode,o.nodeType===8?Kf(o.parentNode,s):o.nodeType===1&&Kf(o,s),bd(o)):Kf(X,s.stateNode));break;case 4:h=X,b=Yj,X=s.stateNode.containerInfo,Yj=!0,Zj(o,e,s),X=h,Yj=b;break;case 0:case 11:case 14:case 15:if(!U&&(h=s.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){b=h=h.next;do{var _e=b,rt=_e.destroy;_e=_e.tag,rt!==void 0&&(_e&2||_e&4)&&Nj(s,e,rt),b=b.next}while(b!==h)}Zj(o,e,s);break;case 1:if(!U&&(Mj(s,e),h=s.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=s.memoizedProps,h.state=s.memoizedState,h.componentWillUnmount()}catch(at){W(s,e,at)}Zj(o,e,s);break;case 21:Zj(o,e,s);break;case 22:s.mode&1?(U=(h=U)||s.memoizedState!==null,Zj(o,e,s),U=h):Zj(o,e,s);break;default:Zj(o,e,s)}}function bk(o){var e=o.updateQueue;if(e!==null){o.updateQueue=null;var s=o.stateNode;s===null&&(s=o.stateNode=new Lj),e.forEach(function(h){var b=ck.bind(null,o,h);s.has(h)||(s.add(h),h.then(b,b))})}}function dk(o,e){var s=e.deletions;if(s!==null)for(var h=0;h<s.length;h++){var b=s[h];try{var _e=o,rt=e,at=rt;e:for(;at!==null;){switch(at.tag){case 5:X=at.stateNode,Yj=!1;break e;case 3:X=at.stateNode.containerInfo,Yj=!0;break e;case 4:X=at.stateNode.containerInfo,Yj=!0;break e}at=at.return}if(X===null)throw Error(p$1(160));ak(_e,rt,b),X=null,Yj=!1;var st=b.alternate;st!==null&&(st.return=null),b.return=null}catch(ot){W(b,e,ot)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ek(e,o),e=e.sibling}function ek(o,e){var s=o.alternate,h=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(dk(e,o),fk(o),h&4){try{Qj(3,o,o.return),Rj(3,o)}catch(lt){W(o,o.return,lt)}try{Qj(5,o,o.return)}catch(lt){W(o,o.return,lt)}}break;case 1:dk(e,o),fk(o),h&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(e,o),fk(o),h&512&&s!==null&&Mj(s,s.return),o.flags&32){var b=o.stateNode;try{ob(b,"")}catch(lt){W(o,o.return,lt)}}if(h&4&&(b=o.stateNode,b!=null)){var _e=o.memoizedProps,rt=s!==null?s.memoizedProps:_e,at=o.type,st=o.updateQueue;if(o.updateQueue=null,st!==null)try{at==="input"&&_e.type==="radio"&&_e.name!=null&&ab(b,_e),vb(at,rt);var ot=vb(at,_e);for(rt=0;rt<st.length;rt+=2){var nt=st[rt],et=st[rt+1];nt==="style"?sb(b,et):nt==="dangerouslySetInnerHTML"?nb(b,et):nt==="children"?ob(b,et):ta(b,nt,et,ot)}switch(at){case"input":bb(b,_e);break;case"textarea":ib(b,_e);break;case"select":var d=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!_e.multiple;var _=_e.value;_!=null?fb(b,!!_e.multiple,_,!1):d!==!!_e.multiple&&(_e.defaultValue!=null?fb(b,!!_e.multiple,_e.defaultValue,!0):fb(b,!!_e.multiple,_e.multiple?[]:"",!1))}b[Pf]=_e}catch(lt){W(o,o.return,lt)}}break;case 6:if(dk(e,o),fk(o),h&4){if(o.stateNode===null)throw Error(p$1(162));b=o.stateNode,_e=o.memoizedProps;try{b.nodeValue=_e}catch(lt){W(o,o.return,lt)}}break;case 3:if(dk(e,o),fk(o),h&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(lt){W(o,o.return,lt)}break;case 4:dk(e,o),fk(o);break;case 13:dk(e,o),fk(o),b=o.child,b.flags&8192&&(_e=b.memoizedState!==null,b.stateNode.isHidden=_e,!_e||b.alternate!==null&&b.alternate.memoizedState!==null||(gk=B())),h&4&&bk(o);break;case 22:if(nt=s!==null&&s.memoizedState!==null,o.mode&1?(U=(ot=U)||nt,dk(e,o),U=ot):dk(e,o),fk(o),h&8192){if(ot=o.memoizedState!==null,(o.stateNode.isHidden=ot)&&!nt&&o.mode&1)for(V=o,nt=o.child;nt!==null;){for(et=V=nt;V!==null;){switch(d=V,_=d.child,d.tag){case 0:case 11:case 14:case 15:Qj(4,d,d.return);break;case 1:Mj(d,d.return);var tt=d.stateNode;if(typeof tt.componentWillUnmount=="function"){h=d,s=d.return;try{e=h,tt.props=e.memoizedProps,tt.state=e.memoizedState,tt.componentWillUnmount()}catch(lt){W(h,s,lt)}}break;case 5:Mj(d,d.return);break;case 22:if(d.memoizedState!==null){hk(et);continue}}_!==null?(_.return=d,V=_):hk(et)}nt=nt.sibling}e:for(nt=null,et=o;;){if(et.tag===5){if(nt===null){nt=et;try{b=et.stateNode,ot?(_e=b.style,typeof _e.setProperty=="function"?_e.setProperty("display","none","important"):_e.display="none"):(at=et.stateNode,st=et.memoizedProps.style,rt=st!=null&&st.hasOwnProperty("display")?st.display:null,at.style.display=rb("display",rt))}catch(lt){W(o,o.return,lt)}}}else if(et.tag===6){if(nt===null)try{et.stateNode.nodeValue=ot?"":et.memoizedProps}catch(lt){W(o,o.return,lt)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===o)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===o)break e;for(;et.sibling===null;){if(et.return===null||et.return===o)break e;nt===et&&(nt=null),et=et.return}nt===et&&(nt=null),et.sibling.return=et.return,et=et.sibling}}break;case 19:dk(e,o),fk(o),h&4&&bk(o);break;case 21:break;default:dk(e,o),fk(o)}}function fk(o){var e=o.flags;if(e&2){try{e:{for(var s=o.return;s!==null;){if(Uj(s)){var h=s;break e}s=s.return}throw Error(p$1(160))}switch(h.tag){case 5:var b=h.stateNode;h.flags&32&&(ob(b,""),h.flags&=-33);var _e=Vj(o);Xj(o,_e,b);break;case 3:case 4:var rt=h.stateNode.containerInfo,at=Vj(o);Wj(o,at,rt);break;default:throw Error(p$1(161))}}catch(st){W(o,o.return,st)}o.flags&=-3}e&4096&&(o.flags&=-4097)}function ik(o,e,s){V=o,jk(o)}function jk(o,e,s){for(var h=(o.mode&1)!==0;V!==null;){var b=V,_e=b.child;if(b.tag===22&&h){var rt=b.memoizedState!==null||Kj;if(!rt){var at=b.alternate,st=at!==null&&at.memoizedState!==null||U;at=Kj;var ot=U;if(Kj=rt,(U=st)&&!ot)for(V=b;V!==null;)rt=V,st=rt.child,rt.tag===22&&rt.memoizedState!==null?kk(b):st!==null?(st.return=rt,V=st):kk(b);for(;_e!==null;)V=_e,jk(_e),_e=_e.sibling;V=b,Kj=at,U=ot}lk(o)}else b.subtreeFlags&8772&&_e!==null?(_e.return=b,V=_e):lk(o)}}function lk(o){for(;V!==null;){var e=V;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U||Rj(5,e);break;case 1:var h=e.stateNode;if(e.flags&4&&!U)if(s===null)h.componentDidMount();else{var b=e.elementType===e.type?s.memoizedProps:Lg(e.type,s.memoizedProps);h.componentDidUpdate(b,s.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _e=e.updateQueue;_e!==null&&ih(e,_e,h);break;case 3:var rt=e.updateQueue;if(rt!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}ih(e,rt,s)}break;case 5:var at=e.stateNode;if(s===null&&e.flags&4){s=at;var st=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&s.focus();break;case"img":st.src&&(s.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var ot=e.alternate;if(ot!==null){var nt=ot.memoizedState;if(nt!==null){var et=nt.dehydrated;et!==null&&bd(et)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||e.flags&512&&Sj(e)}catch(d){W(e,e.return,d)}}if(e===o){V=null;break}if(s=e.sibling,s!==null){s.return=e.return,V=s;break}V=e.return}}function hk(o){for(;V!==null;){var e=V;if(e===o){V=null;break}var s=e.sibling;if(s!==null){s.return=e.return,V=s;break}V=e.return}}function kk(o){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Rj(4,e)}catch(st){W(e,s,st)}break;case 1:var h=e.stateNode;if(typeof h.componentDidMount=="function"){var b=e.return;try{h.componentDidMount()}catch(st){W(e,b,st)}}var _e=e.return;try{Sj(e)}catch(st){W(e,_e,st)}break;case 5:var rt=e.return;try{Sj(e)}catch(st){W(e,rt,st)}}}catch(st){W(e,e.return,st)}if(e===o){V=null;break}var at=e.sibling;if(at!==null){at.return=e.return,V=at;break}V=e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$1=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk$1=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(o){return o.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o):1}function mh(o,e,s,h){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(o,s,h),(!(K&2)||o!==R$1)&&(o===R$1&&(!(K&2)&&(rk|=s),T===4&&Dk(o,Z$1)),Ek(o,h),s===1&&K===0&&!(e.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(o,e){var s=o.callbackNode;wc(o,e);var h=uc(o,o===R$1?Z$1:0);if(h===0)s!==null&&bc(s),o.callbackNode=null,o.callbackPriority=0;else if(e=h&-h,o.callbackPriority!==e){if(s!=null&&bc(s),e===1)o.tag===0?ig(Fk.bind(null,o)):hg(Fk.bind(null,o)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(h)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,o))}o.callbackPriority=e,o.callbackNode=s}}function Hk(o,e){if(Bk=-1,Ck=0,K&6)throw Error(p$1(327));var s=o.callbackNode;if(Ik()&&o.callbackNode!==s)return null;var h=uc(o,o===R$1?Z$1:0);if(h===0)return null;if(h&30||h&o.expiredLanes||e)e=Jk(o,h);else{e=h;var b=K;K|=2;var _e=Kk();(R$1!==o||Z$1!==e)&&(vk=null,Hj=B()+500,Lk(o,e));do try{Mk();break}catch(at){Nk(o,at)}while(!0);Qg(),nk.current=_e,K=b,Y$1!==null?e=0:(R$1=null,Z$1=0,e=T)}if(e!==0){if(e===2&&(b=xc(o),b!==0&&(h=b,e=Ok(o,b))),e===1)throw s=qk,Lk(o,0),Dk(o,h),Ek(o,B()),s;if(e===6)Dk(o,h);else{if(b=o.current.alternate,!(h&30)&&!Pk(b)&&(e=Jk(o,h),e===2&&(_e=xc(o),_e!==0&&(h=_e,e=Ok(o,_e))),e===1))throw s=qk,Lk(o,0),Dk(o,h),Ek(o,B()),s;switch(o.finishedWork=b,o.finishedLanes=h,e){case 0:case 1:throw Error(p$1(345));case 2:Qk(o,uk$1,vk);break;case 3:if(Dk(o,h),(h&130023424)===h&&(e=gk+500-B(),10<e)){if(uc(o,0)!==0)break;if(b=o.suspendedLanes,(b&h)!==h){L(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=Ff(Qk.bind(null,o,uk$1,vk),e);break}Qk(o,uk$1,vk);break;case 4:if(Dk(o,h),(h&4194240)===h)break;for(e=o.eventTimes,b=-1;0<h;){var rt=31-oc(h);_e=1<<rt,rt=e[rt],rt>b&&(b=rt),h&=~_e}if(h=b,h=B()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*mk(h/1960))-h,10<h){o.timeoutHandle=Ff(Qk.bind(null,o,uk$1,vk),h);break}Qk(o,uk$1,vk);break;case 5:Qk(o,uk$1,vk);break;default:throw Error(p$1(329))}}}return Ek(o,B()),o.callbackNode===s?Hk.bind(null,o):null}function Ok(o,e){var s=tk;return o.current.memoizedState.isDehydrated&&(Lk(o,e).flags|=256),o=Jk(o,e),o!==2&&(e=uk$1,uk$1=s,e!==null&&Gj(e)),o}function Gj(o){uk$1===null?uk$1=o:uk$1.push.apply(uk$1,o)}function Pk(o){for(var e=o;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var h=0;h<s.length;h++){var b=s[h],_e=b.getSnapshot;b=b.value;try{if(!He(_e(),b))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dk(o,e){for(e&=~sk,e&=~rk,o.suspendedLanes|=e,o.pingedLanes&=~e,o=o.expirationTimes;0<e;){var s=31-oc(e),h=1<<s;o[s]=-1,e&=~h}}function Fk(o){if(K&6)throw Error(p$1(327));Ik();var e=uc(o,0);if(!(e&1))return Ek(o,B()),null;var s=Jk(o,e);if(o.tag!==0&&s===2){var h=xc(o);h!==0&&(e=h,s=Ok(o,h))}if(s===1)throw s=qk,Lk(o,0),Dk(o,e),Ek(o,B()),s;if(s===6)throw Error(p$1(345));return o.finishedWork=o.current.alternate,o.finishedLanes=e,Qk(o,uk$1,vk),Ek(o,B()),null}function Rk(o,e){var s=K;K|=1;try{return o(e)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(o){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var e=K;K|=1;var s=pk.transition,h=C;try{if(pk.transition=null,C=1,o)return o()}finally{C=h,pk.transition=s,K=e,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(o,e){o.finishedWork=null,o.finishedLanes=0;var s=o.timeoutHandle;if(s!==-1&&(o.timeoutHandle=-1,Gf(s)),Y$1!==null)for(s=Y$1.return;s!==null;){var h=s;switch(wg(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(h);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(h.type._context);break;case 22:case 23:Ij()}s=s.return}if(R$1=o,Y$1=o=wh(o.current,null),Z$1=gj=e,T=0,qk=null,sk=rk=hh=0,uk$1=tk=null,Wg!==null){for(e=0;e<Wg.length;e++)if(s=Wg[e],h=s.interleaved,h!==null){s.interleaved=null;var b=h.next,_e=s.pending;if(_e!==null){var rt=_e.next;_e.next=b,h.next=rt}s.pending=h}Wg=null}return o}function Nk(o,e){do{var s=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var h=N.memoizedState;h!==null;){var b=h.queue;b!==null&&(b.pending=null),h=h.next}Sh=!1}if(Rh=0,P=O$1=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=e,Y$1=null;break}e:{var _e=o,rt=s.return,at=s,st=e;if(e=Z$1,at.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var ot=st,nt=at,et=nt.tag;if(!(nt.mode&1)&&(et===0||et===11||et===15)){var d=nt.alternate;d?(nt.updateQueue=d.updateQueue,nt.memoizedState=d.memoizedState,nt.lanes=d.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var _=Vi(rt);if(_!==null){_.flags&=-257,Wi(_,rt,at,_e,e),_.mode&1&&Ti(_e,ot,e),e=_,st=ot;var tt=e.updateQueue;if(tt===null){var lt=new Set;lt.add(st),e.updateQueue=lt}else tt.add(st);break e}else{if(!(e&1)){Ti(_e,ot,e),uj();break e}st=Error(p$1(426))}}else if(I&&at.mode&1){var ut=Vi(rt);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),Wi(ut,rt,at,_e,e),Jg(Ki(st,at));break e}}_e=st=Ki(st,at),T!==4&&(T=2),tk===null?tk=[_e]:tk.push(_e),_e=rt;do{switch(_e.tag){case 3:_e.flags|=65536,e&=-e,_e.lanes|=e;var ct=Oi(_e,st,e);fh(_e,ct);break e;case 1:at=st;var ft=_e.type,dt=_e.stateNode;if(!(_e.flags&128)&&(typeof ft.getDerivedStateFromError=="function"||dt!==null&&typeof dt.componentDidCatch=="function"&&(Si===null||!Si.has(dt)))){_e.flags|=65536,e&=-e,_e.lanes|=e;var ht=Ri(_e,at,e);fh(_e,ht);break e}}_e=_e.return}while(_e!==null)}Tk(s)}catch(gt){e=gt,Y$1===s&&s!==null&&(Y$1=s=s.return);continue}break}while(!0)}function Kk(){var o=nk.current;return nk.current=ai,o===null?ai:o}function uj(){(T===0||T===3||T===2)&&(T=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$1)}function Jk(o,e){var s=K;K|=2;var h=Kk();(R$1!==o||Z$1!==e)&&(vk=null,Lk(o,e));do try{Uk();break}catch(b){Nk(o,b)}while(!0);if(Qg(),K=s,nk.current=h,Y$1!==null)throw Error(p$1(261));return R$1=null,Z$1=0,T}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(o){var e=Wk(o.alternate,o,gj);o.memoizedProps=o.pendingProps,e===null?Tk(o):Y$1=e,ok.current=null}function Tk(o){var e=o;do{var s=e.alternate;if(o=e.return,e.flags&32768){if(s=Jj(s,e),s!==null){s.flags&=32767,Y$1=s;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y$1=null;return}}else if(s=Fj(s,e,gj),s!==null){Y$1=s;return}if(e=e.sibling,e!==null){Y$1=e;return}Y$1=e=o}while(e!==null);T===0&&(T=5)}function Qk(o,e,s){var h=C,b=pk.transition;try{pk.transition=null,C=1,Xk(o,e,s,h)}finally{pk.transition=b,C=h}return null}function Xk(o,e,s,h){do Ik();while(xk!==null);if(K&6)throw Error(p$1(327));s=o.finishedWork;var b=o.finishedLanes;if(s===null)return null;if(o.finishedWork=null,o.finishedLanes=0,s===o.current)throw Error(p$1(177));o.callbackNode=null,o.callbackPriority=0;var _e=s.lanes|s.childLanes;if(Bc(o,_e),o===R$1&&(Y$1=R$1=null,Z$1=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),_e=(s.flags&15990)!==0,s.subtreeFlags&15990||_e){_e=pk.transition,pk.transition=null;var rt=C;C=1;var at=K;K|=4,ok.current=null,Pj(o,s),ek(s,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=s,ik(s),dc(),K=at,C=rt,pk.transition=_e}else o.current=s;if(wk&&(wk=!1,xk=o,yk=b),_e=o.pendingLanes,_e===0&&(Si=null),mc(s.stateNode),Ek(o,B()),e!==null)for(h=o.onRecoverableError,s=0;s<e.length;s++)b=e[s],h(b.value,{componentStack:b.stack,digest:b.digest});if(Pi)throw Pi=!1,o=Qi,Qi=null,o;return yk&1&&o.tag!==0&&Ik(),_e=o.pendingLanes,_e&1?o===Ak?zk++:(zk=0,Ak=o):zk=0,jg(),null}function Ik(){if(xk!==null){var o=Dc(yk),e=pk.transition,s=C;try{if(pk.transition=null,C=16>o?16:o,xk===null)var h=!1;else{if(o=xk,xk=null,yk=0,K&6)throw Error(p$1(331));var b=K;for(K|=4,V=o.current;V!==null;){var _e=V,rt=_e.child;if(V.flags&16){var at=_e.deletions;if(at!==null){for(var st=0;st<at.length;st++){var ot=at[st];for(V=ot;V!==null;){var nt=V;switch(nt.tag){case 0:case 11:case 15:Qj(8,nt,_e)}var et=nt.child;if(et!==null)et.return=nt,V=et;else for(;V!==null;){nt=V;var d=nt.sibling,_=nt.return;if(Tj(nt),nt===ot){V=null;break}if(d!==null){d.return=_,V=d;break}V=_}}}var tt=_e.alternate;if(tt!==null){var lt=tt.child;if(lt!==null){tt.child=null;do{var ut=lt.sibling;lt.sibling=null,lt=ut}while(lt!==null)}}V=_e}}if(_e.subtreeFlags&2064&&rt!==null)rt.return=_e,V=rt;else e:for(;V!==null;){if(_e=V,_e.flags&2048)switch(_e.tag){case 0:case 11:case 15:Qj(9,_e,_e.return)}var ct=_e.sibling;if(ct!==null){ct.return=_e.return,V=ct;break e}V=_e.return}}var ft=o.current;for(V=ft;V!==null;){rt=V;var dt=rt.child;if(rt.subtreeFlags&2064&&dt!==null)dt.return=rt,V=dt;else e:for(rt=ft;V!==null;){if(at=V,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Rj(9,at)}}catch(gt){W(at,at.return,gt)}if(at===rt){V=null;break e}var ht=at.sibling;if(ht!==null){ht.return=at.return,V=ht;break e}V=at.return}}if(K=b,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}h=!0}return h}finally{C=s,pk.transition=e}}return!1}function Yk(o,e,s){e=Ki(s,e),e=Oi(o,e,1),o=dh(o,e,1),e=L(),o!==null&&(Ac(o,1,e),Ek(o,e))}function W(o,e,s){if(o.tag===3)Yk(o,o,s);else for(;e!==null;){if(e.tag===3){Yk(e,o,s);break}else if(e.tag===1){var h=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Si===null||!Si.has(h))){o=Ki(s,o),o=Ri(e,o,1),e=dh(e,o,1),o=L(),e!==null&&(Ac(e,1,o),Ek(e,o));break}}e=e.return}}function Ui(o,e,s){var h=o.pingCache;h!==null&&h.delete(e),e=L(),o.pingedLanes|=o.suspendedLanes&s,R$1===o&&(Z$1&s)===s&&(T===4||T===3&&(Z$1&130023424)===Z$1&&500>B()-gk?Lk(o,0):sk|=s),Ek(o,e)}function Zk(o,e){e===0&&(o.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var s=L();o=Zg(o,e),o!==null&&(Ac(o,e,s),Ek(o,s))}function vj(o){var e=o.memoizedState,s=0;e!==null&&(s=e.retryLane),Zk(o,s)}function ck(o,e){var s=0;switch(o.tag){case 13:var h=o.stateNode,b=o.memoizedState;b!==null&&(s=b.retryLane);break;case 19:h=o.stateNode;break;default:throw Error(p$1(314))}h!==null&&h.delete(e),Zk(o,s)}var Wk;Wk=function(o,e,s){if(o!==null)if(o.memoizedProps!==e.pendingProps||Wf.current)Ug=!0;else{if(!(o.lanes&s)&&!(e.flags&128))return Ug=!1,zj(o,e,s);Ug=!!(o.flags&131072)}else Ug=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var h=e.type;jj(o,e),o=e.pendingProps;var b=Yf(e,H.current);Tg(e,s),b=Xh(null,e,h,o,b,s);var _e=bi();return e.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(h)?(_e=!0,cg(e)):_e=!1,e.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,ah(e),b.updater=nh,e.stateNode=b,b._reactInternals=e,rh(e,h,o,s),e=kj(null,e,h,!0,_e,s)):(e.tag=0,I&&_e&&vg(e),Yi(null,e,b,s),e=e.child),e;case 16:h=e.elementType;e:{switch(jj(o,e),o=e.pendingProps,b=h._init,h=b(h._payload),e.type=h,b=e.tag=$k(h),o=Lg(h,o),b){case 0:e=dj(null,e,h,o,s);break e;case 1:e=ij(null,e,h,o,s);break e;case 11:e=Zi(null,e,h,o,s);break e;case 14:e=aj(null,e,h,Lg(h.type,o),s);break e}throw Error(p$1(306,h,""))}return e;case 0:return h=e.type,b=e.pendingProps,b=e.elementType===h?b:Lg(h,b),dj(o,e,h,b,s);case 1:return h=e.type,b=e.pendingProps,b=e.elementType===h?b:Lg(h,b),ij(o,e,h,b,s);case 3:e:{if(lj(e),o===null)throw Error(p$1(387));h=e.pendingProps,_e=e.memoizedState,b=_e.element,bh(o,e),gh(e,h,null,s);var rt=e.memoizedState;if(h=rt.element,_e.isDehydrated)if(_e={element:h,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},e.updateQueue.baseState=_e,e.memoizedState=_e,e.flags&256){b=Ki(Error(p$1(423)),e),e=mj(o,e,h,s,b);break e}else if(h!==b){b=Ki(Error(p$1(424)),e),e=mj(o,e,h,s,b);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,s=Ch(e,null,h,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),h===b){e=$i(o,e,s);break e}Yi(o,e,h,s)}e=e.child}return e;case 5:return Kh(e),o===null&&Eg(e),h=e.type,b=e.pendingProps,_e=o!==null?o.memoizedProps:null,rt=b.children,Ef(h,b)?rt=null:_e!==null&&Ef(h,_e)&&(e.flags|=32),hj(o,e),Yi(o,e,rt,s),e.child;case 6:return o===null&&Eg(e),null;case 13:return pj(o,e,s);case 4:return Ih(e,e.stateNode.containerInfo),h=e.pendingProps,o===null?e.child=Bh(e,null,h,s):Yi(o,e,h,s),e.child;case 11:return h=e.type,b=e.pendingProps,b=e.elementType===h?b:Lg(h,b),Zi(o,e,h,b,s);case 7:return Yi(o,e,e.pendingProps,s),e.child;case 8:return Yi(o,e,e.pendingProps.children,s),e.child;case 12:return Yi(o,e,e.pendingProps.children,s),e.child;case 10:e:{if(h=e.type._context,b=e.pendingProps,_e=e.memoizedProps,rt=b.value,G(Mg,h._currentValue),h._currentValue=rt,_e!==null)if(He(_e.value,rt)){if(_e.children===b.children&&!Wf.current){e=$i(o,e,s);break e}}else for(_e=e.child,_e!==null&&(_e.return=e);_e!==null;){var at=_e.dependencies;if(at!==null){rt=_e.child;for(var st=at.firstContext;st!==null;){if(st.context===h){if(_e.tag===1){st=ch(-1,s&-s),st.tag=2;var ot=_e.updateQueue;if(ot!==null){ot=ot.shared;var nt=ot.pending;nt===null?st.next=st:(st.next=nt.next,nt.next=st),ot.pending=st}}_e.lanes|=s,st=_e.alternate,st!==null&&(st.lanes|=s),Sg(_e.return,s,e),at.lanes|=s;break}st=st.next}}else if(_e.tag===10)rt=_e.type===e.type?null:_e.child;else if(_e.tag===18){if(rt=_e.return,rt===null)throw Error(p$1(341));rt.lanes|=s,at=rt.alternate,at!==null&&(at.lanes|=s),Sg(rt,s,e),rt=_e.sibling}else rt=_e.child;if(rt!==null)rt.return=_e;else for(rt=_e;rt!==null;){if(rt===e){rt=null;break}if(_e=rt.sibling,_e!==null){_e.return=rt.return,rt=_e;break}rt=rt.return}_e=rt}Yi(o,e,b.children,s),e=e.child}return e;case 9:return b=e.type,h=e.pendingProps.children,Tg(e,s),b=Vg(b),h=h(b),e.flags|=1,Yi(o,e,h,s),e.child;case 14:return h=e.type,b=Lg(h,e.pendingProps),b=Lg(h.type,b),aj(o,e,h,b,s);case 15:return cj(o,e,e.type,e.pendingProps,s);case 17:return h=e.type,b=e.pendingProps,b=e.elementType===h?b:Lg(h,b),jj(o,e),e.tag=1,Zf(h)?(o=!0,cg(e)):o=!1,Tg(e,s),ph(e,h,b),rh(e,h,b,s),kj(null,e,h,!0,o,s);case 19:return yj(o,e,s);case 22:return ej(o,e,s)}throw Error(p$1(156,e.tag))};function Gk(o,e){return ac(o,e)}function al(o,e,s,h){this.tag=o,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,e,s,h){return new al(o,e,s,h)}function bj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $k(o){if(typeof o=="function")return bj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function wh(o,e){var s=o.alternate;return s===null?(s=Bg(o.tag,e,o.key,o.mode),s.elementType=o.elementType,s.type=o.type,s.stateNode=o.stateNode,s.alternate=o,o.alternate=s):(s.pendingProps=e,s.type=o.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=o.flags&14680064,s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=o.sibling,s.index=o.index,s.ref=o.ref,s}function yh(o,e,s,h,b,_e){var rt=2;if(h=o,typeof o=="function")bj(o)&&(rt=1);else if(typeof o=="string")rt=5;else e:switch(o){case ya:return Ah(s.children,b,_e,e);case za:rt=8,b|=8;break;case Aa:return o=Bg(12,s,e,b|2),o.elementType=Aa,o.lanes=_e,o;case Ea:return o=Bg(13,s,e,b),o.elementType=Ea,o.lanes=_e,o;case Fa:return o=Bg(19,s,e,b),o.elementType=Fa,o.lanes=_e,o;case Ia:return qj(s,b,_e,e);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:rt=10;break e;case Ca:rt=9;break e;case Da:rt=11;break e;case Ga:rt=14;break e;case Ha:rt=16,h=null;break e}throw Error(p$1(130,o==null?o:typeof o,""))}return e=Bg(rt,s,e,b),e.elementType=o,e.type=h,e.lanes=_e,e}function Ah(o,e,s,h){return o=Bg(7,o,h,e),o.lanes=s,o}function qj(o,e,s,h){return o=Bg(22,o,h,e),o.elementType=Ia,o.lanes=s,o.stateNode={isHidden:!1},o}function xh(o,e,s){return o=Bg(6,o,null,e),o.lanes=s,o}function zh(o,e,s){return e=Bg(4,o.children!==null?o.children:[],o.key,e),e.lanes=s,e.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},e}function bl(o,e,s,h,b){this.tag=e,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=h,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function cl(o,e,s,h,b,_e,rt,at,st){return o=new bl(o,e,s,at,st),e===1?(e=1,_e===!0&&(e|=8)):e=0,_e=Bg(3,null,null,e),o.current=_e,_e.stateNode=o,_e.memoizedState={element:h,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(_e),o}function dl(o,e,s){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:h==null?null:""+h,children:o,containerInfo:e,implementation:s}}function el(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p$1(170));var e=o;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p$1(171))}if(o.tag===1){var s=o.type;if(Zf(s))return bg(o,s,e)}return e}function fl(o,e,s,h,b,_e,rt,at,st){return o=cl(s,h,!0,o,b,_e,rt,at,st),o.context=el(null),s=o.current,h=L(),b=lh(s),_e=ch(h,b),_e.callback=e??null,dh(s,_e,b),o.current.lanes=b,Ac(o,b,h),Ek(o,h),o}function gl(o,e,s,h){var b=e.current,_e=L(),rt=lh(b);return s=el(s),e.context===null?e.context=s:e.pendingContext=s,e=ch(_e,rt),e.payload={element:o},h=h===void 0?null:h,h!==null&&(e.callback=h),o=dh(b,e,rt),o!==null&&(mh(o,b,rt,_e),eh(o,b,rt)),rt}function hl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function il(o,e){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var s=o.retryLane;o.retryLane=s!==0&&s<e?s:e}}function jl(o,e){il(o,e),(o=o.alternate)&&il(o,e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(o){console.error(o)};function ml(o){this._internalRoot=o}nl$1.prototype.render=ml.prototype.render=function(o){var e=this._internalRoot;if(e===null)throw Error(p$1(409));gl(o,e,null,null)};nl$1.prototype.unmount=ml.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var e=o.containerInfo;Sk(function(){gl(null,o,null,null)}),e[uf]=null}};function nl$1(o){this._internalRoot=o}nl$1.prototype.unstable_scheduleHydration=function(o){if(o){var e=Hc();o={blockedOn:null,target:o,priority:e};for(var s=0;s<Qc.length&&e!==0&&e<Qc[s].priority;s++);Qc.splice(s,0,o),s===0&&Vc(o)}};function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(o,e,s,h,b){if(b){if(typeof h=="function"){var _e=h;h=function(){var ot=hl(rt);_e.call(ot)}}var rt=fl(e,h,o,0,null,!1,!1,"",ql);return o._reactRootContainer=rt,o[uf]=rt.current,sf(o.nodeType===8?o.parentNode:o),Sk(),rt}for(;b=o.lastChild;)o.removeChild(b);if(typeof h=="function"){var at=h;h=function(){var ot=hl(st);at.call(ot)}}var st=cl(o,0,!1,null,null,!1,!1,"",ql);return o._reactRootContainer=st,o[uf]=st.current,sf(o.nodeType===8?o.parentNode:o),Sk(function(){gl(e,st,s,h)}),st}function sl(o,e,s,h,b){var _e=s._reactRootContainer;if(_e){var rt=_e;if(typeof b=="function"){var at=b;b=function(){var st=hl(rt);at.call(st)}}gl(e,rt,o,b)}else rt=rl(s,e,o,b,h);return hl(rt)}Ec=function(o){switch(o.tag){case 3:var e=o.stateNode;if(e.current.memoizedState.isDehydrated){var s=tc(e.pendingLanes);s!==0&&(Cc(e,s|1),Ek(e,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var h=Zg(o,1);if(h!==null){var b=L();mh(h,o,1,b)}}),jl(o,1)}};Fc=function(o){if(o.tag===13){var e=Zg(o,134217728);if(e!==null){var s=L();mh(e,o,134217728,s)}jl(o,134217728)}};Gc=function(o){if(o.tag===13){var e=lh(o),s=Zg(o,e);if(s!==null){var h=L();mh(s,o,e,h)}jl(o,e)}};Hc=function(){return C};Ic=function(o,e){var s=C;try{return C=o,e()}finally{C=s}};yb=function(o,e,s){switch(e){case"input":if(bb(o,s),e=s.name,s.type==="radio"&&e!=null){for(s=o;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var h=s[e];if(h!==o&&h.form===o.form){var b=Db(h);if(!b)throw Error(p$1(90));Wa(h),bb(h,b)}}}break;case"textarea":ib(o,s);break;case"select":e=s.value,e!=null&&fb(o,!!s.multiple,e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(o,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(e))throw Error(p$1(200));return dl(o,e,null,s)};reactDom_production_min.createRoot=function(o,e){if(!ol(o))throw Error(p$1(299));var s=!1,h="",b=ll;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(h=e.identifierPrefix),e.onRecoverableError!==void 0&&(b=e.onRecoverableError)),e=cl(o,1,!1,null,null,s,!1,h,b),o[uf]=e.current,sf(o.nodeType===8?o.parentNode:o),new ml(e)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var e=o._reactInternals;if(e===void 0)throw typeof o.render=="function"?Error(p$1(188)):(o=Object.keys(o).join(","),Error(p$1(268,o)));return o=Zb(e),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Sk(o)};reactDom_production_min.hydrate=function(o,e,s){if(!pl(e))throw Error(p$1(200));return sl(null,o,e,!0,s)};reactDom_production_min.hydrateRoot=function(o,e,s){if(!ol(o))throw Error(p$1(405));var h=s!=null&&s.hydratedSources||null,b=!1,_e="",rt=ll;if(s!=null&&(s.unstable_strictMode===!0&&(b=!0),s.identifierPrefix!==void 0&&(_e=s.identifierPrefix),s.onRecoverableError!==void 0&&(rt=s.onRecoverableError)),e=fl(e,null,o,1,s??null,b,!1,_e,rt),o[uf]=e.current,sf(o),h)for(o=0;o<h.length;o++)s=h[o],b=s._getVersion,b=b(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,b]:e.mutableSourceEagerHydrationData.push(s,b);return new nl$1(e)};reactDom_production_min.render=function(o,e,s){if(!pl(e))throw Error(p$1(200));return sl(null,o,e,!1,s)};reactDom_production_min.unmountComponentAtNode=function(o){if(!pl(o))throw Error(p$1(40));return o._reactRootContainer?(Sk(function(){sl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,e,s,h){if(!pl(s))throw Error(p$1(200));if(o==null||o._reactInternals===void 0)throw Error(p$1(38));return sl(o,e,s,!1,h)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const $k7QOs$reactdom=getDefaultExportFromCjs$2(reactDomExports);var m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;const $b5e257d569688ac6$var$defaultContext={prefix:String(Math.round(Math.random()*1e10)),current:0},$b5e257d569688ac6$var$SSRContext=React.createContext($b5e257d569688ac6$var$defaultContext),$b5e257d569688ac6$var$IsSSRContext=React.createContext(!1);let $b5e257d569688ac6$var$canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),$b5e257d569688ac6$var$componentIds=new WeakMap;function $b5e257d569688ac6$var$useCounter(o=!1){let e=reactExports.useContext($b5e257d569688ac6$var$SSRContext),s=reactExports.useRef(null);if(s.current===null&&!o){var h,b;let _e=(b=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||b===void 0||(h=b.ReactCurrentOwner)===null||h===void 0?void 0:h.current;if(_e){let rt=$b5e257d569688ac6$var$componentIds.get(_e);rt==null?$b5e257d569688ac6$var$componentIds.set(_e,{id:e.current,state:_e.memoizedState}):_e.memoizedState!==rt.state&&(e.current=rt.id,$b5e257d569688ac6$var$componentIds.delete(_e))}s.current=++e.current}return s.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(o){let e=reactExports.useContext($b5e257d569688ac6$var$SSRContext);e===$b5e257d569688ac6$var$defaultContext&&!$b5e257d569688ac6$var$canUseDOM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let s=$b5e257d569688ac6$var$useCounter(!!o),h=`react-aria${e.prefix}`;return o||`${h}-${s}`}function $b5e257d569688ac6$var$useModernSSRSafeId(o){let e=React.useId(),[s]=reactExports.useState($b5e257d569688ac6$export$535bd6ca7f90a273()),h=s?"react-aria":`react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;return o||`${h}-${e}`}React.useId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(o){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return typeof React.useSyncExternalStore=="function"?React.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):reactExports.useContext($b5e257d569688ac6$var$IsSSRContext)}function $458b0a5536c1a7cf$export$40bfa8c7b0832715(o,e,s){let[h,b]=reactExports.useState(o||e),_e=reactExports.useRef(o!==void 0),rt=o!==void 0;reactExports.useEffect(()=>{let ot=_e.current;ot!==rt&&console.warn(`WARN: A component changed from ${ot?"controlled":"uncontrolled"} to ${rt?"controlled":"uncontrolled"}.`),_e.current=rt},[rt]);let at=rt?o:h,st=reactExports.useCallback((ot,...nt)=>{let et=(d,..._)=>{s&&(Object.is(at,d)||s(d,..._)),rt||(at=d)};typeof ot=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),b((_,...tt)=>{let lt=ot(rt?at:_,...tt);return et(lt,...nt),rt?_:lt})):(rt||b(ot),et(ot,...nt))},[rt,at,s]);return[at,st]}function r(o){var e,s,h="";if(typeof o=="string"||typeof o=="number")h+=o;else if(typeof o=="object")if(Array.isArray(o))for(e=0;e<o.length;e++)o[e]&&(s=r(o[e]))&&(h&&(h+=" "),h+=s);else for(e in o)o[e]&&(h&&(h+=" "),h+=e);return h}function clsx$1(){for(var o,e,s=0,h="";s<arguments.length;)(o=arguments[s++])&&(e=r(o))&&(h&&(h+=" "),h+=e);return h}const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(o){const e=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{e.current=o},[o]),reactExports.useCallback((...s)=>{const h=e.current;return h(...s)},[])}let $bdb11010cef70236$var$idsUpdaterMap=new Map;function $bdb11010cef70236$export$cd8c9cb68f842629(o,e){if(o===e)return o;let s=$bdb11010cef70236$var$idsUpdaterMap.get(o);if(s)return s(e),e;let h=$bdb11010cef70236$var$idsUpdaterMap.get(e);return h?(h(o),o):e}function $ff5963eb1fccf552$export$e08e3b67e392101e(...o){return(...e)=>{for(let s of o)typeof s=="function"&&s(...e)}}function $3ef42575df84b30b$export$9d1611c77c2fe928(...o){let e={...o[0]};for(let s=1;s<o.length;s++){let h=o[s];for(let b in h){let _e=e[b],rt=h[b];typeof _e=="function"&&typeof rt=="function"&&b[0]==="o"&&b[1]==="n"&&b.charCodeAt(2)>=65&&b.charCodeAt(2)<=90?e[b]=$ff5963eb1fccf552$export$e08e3b67e392101e(_e,rt):(b==="className"||b==="UNSAFE_className")&&typeof _e=="string"&&typeof rt=="string"?e[b]=clsx$1(_e,rt):b==="id"&&_e&&rt?e.id=$bdb11010cef70236$export$cd8c9cb68f842629(_e,rt):e[b]=rt!==void 0?rt:_e}}return e}const $65484d02dcb7eb3e$var$DOMPropNames=new Set(["id"]),$65484d02dcb7eb3e$var$labelablePropNames=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),$65484d02dcb7eb3e$var$linkPropNames=new Set(["href","target","rel","download","ping","referrerPolicy"]),$65484d02dcb7eb3e$var$propRe=/^(data-.*)$/;function $65484d02dcb7eb3e$export$457c3d6518dd4c6f(o,e={}){let{labelable:s,isLink:h,propNames:b}=e,_e={};for(const rt in o)Object.prototype.hasOwnProperty.call(o,rt)&&($65484d02dcb7eb3e$var$DOMPropNames.has(rt)||s&&$65484d02dcb7eb3e$var$labelablePropNames.has(rt)||h&&$65484d02dcb7eb3e$var$linkPropNames.has(rt)||b!=null&&b.has(rt)||$65484d02dcb7eb3e$var$propRe.test(rt))&&(_e[rt]=o[rt]);return _e}function $7215afc6de606d6b$export$de79e2c695e052f3(o){if($7215afc6de606d6b$var$supportsPreventScroll())o.focus({preventScroll:!0});else{let e=$7215afc6de606d6b$var$getScrollableElements(o);o.focus(),$7215afc6de606d6b$var$restoreScrollPosition(e)}}let $7215afc6de606d6b$var$supportsPreventScrollCached=null;function $7215afc6de606d6b$var$supportsPreventScroll(){if($7215afc6de606d6b$var$supportsPreventScrollCached==null){$7215afc6de606d6b$var$supportsPreventScrollCached=!1;try{var o=document.createElement("div");o.focus({get preventScroll(){return $7215afc6de606d6b$var$supportsPreventScrollCached=!0,!0}})}catch{}}return $7215afc6de606d6b$var$supportsPreventScrollCached}function $7215afc6de606d6b$var$getScrollableElements(o){for(var e=o.parentNode,s=[],h=document.scrollingElement||document.documentElement;e instanceof HTMLElement&&e!==h;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&s.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return h instanceof HTMLElement&&s.push({element:h,scrollTop:h.scrollTop,scrollLeft:h.scrollLeft}),s}function $7215afc6de606d6b$var$restoreScrollPosition(o){for(let{element:e,scrollTop:s,scrollLeft:h}of o)e.scrollTop=s,e.scrollLeft=h}function $c87311424ea30a05$var$testUserAgent(o){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(s=>o.test(s.brand)))||o.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(o){var e;return typeof window<"u"&&window.navigator!=null?o.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$186c6964ca17d99(){return $c87311424ea30a05$var$testPlatform(/^iPhone/i)}function $c87311424ea30a05$export$7bef049ce92e4224(){return $c87311424ea30a05$var$testPlatform(/^iPad/i)||$c87311424ea30a05$export$9ac100e40613ea10()&&navigator.maxTouchPoints>1}function $c87311424ea30a05$export$fedb369cb70207f1(){return $c87311424ea30a05$export$186c6964ca17d99()||$c87311424ea30a05$export$7bef049ce92e4224()}function $c87311424ea30a05$export$78551043582a6a98(){return $c87311424ea30a05$var$testUserAgent(/AppleWebKit/i)&&!$c87311424ea30a05$export$6446a186d09e379e()}function $c87311424ea30a05$export$6446a186d09e379e(){return $c87311424ea30a05$var$testUserAgent(/Chrome/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $c87311424ea30a05$export$b7d78993b74f766d(){return $c87311424ea30a05$var$testUserAgent(/Firefox/i)}const $ea8dcbcb9ea1b556$var$RouterContext=reactExports.createContext({isNative:!0,open:$ea8dcbcb9ea1b556$var$openSyntheticLink});function $ea8dcbcb9ea1b556$export$323e4fc2fa4753fb(o){let{children:e,navigate:s}=o,h=reactExports.useMemo(()=>({isNative:!1,open:(b,_e)=>{$ea8dcbcb9ea1b556$var$getSyntheticLink(b,rt=>{$ea8dcbcb9ea1b556$export$efa8c9099e530235(rt,_e)?s(rt.pathname+rt.search+rt.hash):$ea8dcbcb9ea1b556$export$95185d699e05d4d7(rt,_e)})}}),[s]);return React.createElement($ea8dcbcb9ea1b556$var$RouterContext.Provider,{value:h},e)}function $ea8dcbcb9ea1b556$export$9a302a45f65d0572(){return reactExports.useContext($ea8dcbcb9ea1b556$var$RouterContext)}function $ea8dcbcb9ea1b556$export$efa8c9099e530235(o,e){let s=o.getAttribute("target");return(!s||s==="_self")&&o.origin===location.origin&&!o.hasAttribute("download")&&!e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey}function $ea8dcbcb9ea1b556$export$95185d699e05d4d7(o,e,s=!0){var h,b;let{metaKey:_e,ctrlKey:rt,altKey:at,shiftKey:st}=e;$c87311424ea30a05$export$b7d78993b74f766d()&&(!((b=window.event)===null||b===void 0||(h=b.type)===null||h===void 0)&&h.startsWith("key"))&&o.target==="_blank"&&($c87311424ea30a05$export$9ac100e40613ea10()?_e=!0:rt=!0);let ot=$c87311424ea30a05$export$78551043582a6a98()&&$c87311424ea30a05$export$9ac100e40613ea10()&&!$c87311424ea30a05$export$7bef049ce92e4224()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:_e,ctrlKey:rt,altKey:at,shiftKey:st}):new MouseEvent("click",{metaKey:_e,ctrlKey:rt,altKey:at,shiftKey:st,bubbles:!0,cancelable:!0});$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening=s,$7215afc6de606d6b$export$de79e2c695e052f3(o),o.dispatchEvent(ot),$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening=!1}$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening=!1;function $ea8dcbcb9ea1b556$var$getSyntheticLink(o,e){if(o instanceof HTMLAnchorElement)e(o);else if(o.hasAttribute("data-href")){let s=document.createElement("a");s.href=o.getAttribute("data-href"),o.hasAttribute("data-target")&&(s.target=o.getAttribute("data-target")),o.hasAttribute("data-rel")&&(s.rel=o.getAttribute("data-rel")),o.hasAttribute("data-download")&&(s.download=o.getAttribute("data-download")),o.hasAttribute("data-ping")&&(s.ping=o.getAttribute("data-ping")),o.hasAttribute("data-referrer-policy")&&(s.referrerPolicy=o.getAttribute("data-referrer-policy")),o.appendChild(s),e(s),o.removeChild(s)}}function $ea8dcbcb9ea1b556$var$openSyntheticLink(o,e){$ea8dcbcb9ea1b556$var$getSyntheticLink(o,s=>$ea8dcbcb9ea1b556$export$95185d699e05d4d7(s,e))}let $bbed8b41f857bcc0$var$transitionsByElement=new Map,$bbed8b41f857bcc0$var$transitionCallbacks=new Set;function $bbed8b41f857bcc0$var$setupGlobalEvents(){if(typeof window>"u")return;let o=s=>{let h=$bbed8b41f857bcc0$var$transitionsByElement.get(s.target);h||(h=new Set,$bbed8b41f857bcc0$var$transitionsByElement.set(s.target,h),s.target.addEventListener("transitioncancel",e)),h.add(s.propertyName)},e=s=>{let h=$bbed8b41f857bcc0$var$transitionsByElement.get(s.target);if(h&&(h.delete(s.propertyName),h.size===0&&(s.target.removeEventListener("transitioncancel",e),$bbed8b41f857bcc0$var$transitionsByElement.delete(s.target)),$bbed8b41f857bcc0$var$transitionsByElement.size===0)){for(let b of $bbed8b41f857bcc0$var$transitionCallbacks)b();$bbed8b41f857bcc0$var$transitionCallbacks.clear()}};document.body.addEventListener("transitionrun",o),document.body.addEventListener("transitionend",e)}typeof document<"u"&&(document.readyState!=="loading"?$bbed8b41f857bcc0$var$setupGlobalEvents():document.addEventListener("DOMContentLoaded",$bbed8b41f857bcc0$var$setupGlobalEvents));function $bbed8b41f857bcc0$export$24490316f764c430(o){requestAnimationFrame(()=>{$bbed8b41f857bcc0$var$transitionsByElement.size===0?o():$bbed8b41f857bcc0$var$transitionCallbacks.add(o)})}function $03deb23ff14920c4$export$4eaf04e54aa8eed6(){let o=reactExports.useRef(new Map),e=reactExports.useCallback((b,_e,rt,at)=>{let st=at!=null&&at.once?(...ot)=>{o.current.delete(rt),rt(...ot)}:rt;o.current.set(rt,{type:_e,eventTarget:b,fn:st,options:at}),b.addEventListener(_e,rt,at)},[]),s=reactExports.useCallback((b,_e,rt,at)=>{var st;let ot=((st=o.current.get(rt))===null||st===void 0?void 0:st.fn)||rt;b.removeEventListener(_e,ot,at),o.current.delete(rt)},[]),h=reactExports.useCallback(()=>{o.current.forEach((b,_e)=>{s(b.eventTarget,b.type,_e,b.options)})},[s]);return reactExports.useEffect(()=>h,[h]),{addGlobalListener:e,removeGlobalListener:s,removeAllGlobalListeners:h}}function $9daab02d461809db$var$hasResizeObserver(){return typeof window.ResizeObserver<"u"}function $9daab02d461809db$export$683480f191c0e3ea(o){const{ref:e,onResize:s}=o;reactExports.useEffect(()=>{let h=e==null?void 0:e.current;if(h)if($9daab02d461809db$var$hasResizeObserver()){const b=new window.ResizeObserver(_e=>{_e.length&&s()});return b.observe(h),()=>{h&&b.unobserve(h)}}else return window.addEventListener("resize",s,!1),()=>{window.removeEventListener("resize",s,!1)}},[s,e])}function $e7801be82b4b2a53$export$4debdb1a3f0fa79e(o,e){$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(o&&o.ref&&e)return o.ref.current=e.current,()=>{o.ref.current=null}})}function $6a7db85432448f7f$export$60278871457622de(o){return o.mozInputSource===0&&o.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&o.pointerType?o.type==="click"&&o.buttons===1:o.detail===0&&!o.pointerType}function $6a7db85432448f7f$export$29bf1b5f2c56cf63(o){return!$c87311424ea30a05$export$a11b0059900ceec8()&&o.width===0&&o.height===0||o.width===1&&o.height===1&&o.pressure===0&&o.detail===0&&o.pointerType==="mouse"}const $148a7a147e38ea7f$var$RTL_SCRIPTS=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),$148a7a147e38ea7f$var$RTL_LANGS=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function $148a7a147e38ea7f$export$702d680b21cbd764(o){if(Intl.Locale){let s=new Intl.Locale(o).maximize().script;return s?$148a7a147e38ea7f$var$RTL_SCRIPTS.has(s):!1}let e=o.split("-")[0];return $148a7a147e38ea7f$var$RTL_LANGS.has(e)}function $1e5a04cdaf7d1af8$export$f09106e7c6677ec5(){let o=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([o])}catch{o="en-US"}return{locale:o,direction:$148a7a147e38ea7f$export$702d680b21cbd764(o)?"rtl":"ltr"}}let $1e5a04cdaf7d1af8$var$currentLocale=$1e5a04cdaf7d1af8$export$f09106e7c6677ec5(),$1e5a04cdaf7d1af8$var$listeners=new Set;function $1e5a04cdaf7d1af8$var$updateLocale(){$1e5a04cdaf7d1af8$var$currentLocale=$1e5a04cdaf7d1af8$export$f09106e7c6677ec5();for(let o of $1e5a04cdaf7d1af8$var$listeners)o($1e5a04cdaf7d1af8$var$currentLocale)}function $1e5a04cdaf7d1af8$export$188ec29ebc2bdc3a(){let o=$b5e257d569688ac6$export$535bd6ca7f90a273(),[e,s]=reactExports.useState($1e5a04cdaf7d1af8$var$currentLocale);return reactExports.useEffect(()=>($1e5a04cdaf7d1af8$var$listeners.size===0&&window.addEventListener("languagechange",$1e5a04cdaf7d1af8$var$updateLocale),$1e5a04cdaf7d1af8$var$listeners.add(s),()=>{$1e5a04cdaf7d1af8$var$listeners.delete(s),$1e5a04cdaf7d1af8$var$listeners.size===0&&window.removeEventListener("languagechange",$1e5a04cdaf7d1af8$var$updateLocale)}),[]),o?{locale:"en-US",direction:"ltr"}:e}const $18f2051aff69b9bf$var$I18nContext=React.createContext(null);function $18f2051aff69b9bf$export$a54013f0d02a8f82(o){let{locale:e,children:s}=o,h=$1e5a04cdaf7d1af8$export$188ec29ebc2bdc3a(),b=e?{locale:e,direction:$148a7a147e38ea7f$export$702d680b21cbd764(e)?"rtl":"ltr"}:h;return React.createElement($18f2051aff69b9bf$var$I18nContext.Provider,{value:b},s)}var __assign=function(){return __assign=Object.assign||function(e){for(var s,h=1,b=arguments.length;h<b;h++){s=arguments[h];for(var _e in s)Object.prototype.hasOwnProperty.call(s,_e)&&(e[_e]=s[_e])}return e},__assign.apply(this,arguments)};function __rest(o,e){var s={};for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&e.indexOf(h)<0&&(s[h]=o[h]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,h=Object.getOwnPropertySymbols(o);b<h.length;b++)e.indexOf(h[b])<0&&Object.prototype.propertyIsEnumerable.call(o,h[b])&&(s[h[b]]=o[h[b]]);return s}function __spreadArray(o,e,s){if(s||arguments.length===2)for(var h=0,b=e.length,_e;h<b;h++)(_e||!(h in e))&&(_e||(_e=Array.prototype.slice.call(e,0,h)),_e[h]=e[h]);return o.concat(_e||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;const $ae1eeba8b9eafd08$export$5165eccb35aaadb5=React.createContext({register:()=>{}});$ae1eeba8b9eafd08$export$5165eccb35aaadb5.displayName="PressResponderContext";function $f1ab8c75478c6f73$export$cf75428e0b9ed1ea({children:o}){let e=reactExports.useMemo(()=>({register:()=>{}}),[]);return React.createElement($ae1eeba8b9eafd08$export$5165eccb35aaadb5.Provider,{value:e},o)}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,s){this.nativeEvent=s,this.target=s.target,this.currentTarget=s.currentTarget,this.relatedTarget=s.relatedTarget,this.bubbles=s.bubbles,this.cancelable=s.cancelable,this.defaultPrevented=s.defaultPrevented,this.eventPhase=s.eventPhase,this.isTrusted=s.isTrusted,this.timeStamp=s.timeStamp,this.type=e}}function $8a9cb279dc87e130$export$715c682d09d639cc(o){let e=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const h=e.current;return()=>{h.observer&&(h.observer.disconnect(),h.observer=null)}},[]);let s=$8ae05eaa5c114e9c$export$7f54fc3180508a52(h=>{o==null||o(h)});return reactExports.useCallback(h=>{if(h.target instanceof HTMLButtonElement||h.target instanceof HTMLInputElement||h.target instanceof HTMLTextAreaElement||h.target instanceof HTMLSelectElement){e.current.isFocused=!0;let b=h.target,_e=rt=>{e.current.isFocused=!1,b.disabled&&s(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",rt)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};b.addEventListener("focusout",_e,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&b.disabled){var rt;(rt=e.current.observer)===null||rt===void 0||rt.disconnect();let at=b===document.activeElement?null:document.activeElement;b.dispatchEvent(new FocusEvent("blur",{relatedTarget:at})),b.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:at}))}}),e.current.observer.observe(b,{attributes:!0,attributeFilter:["disabled"]})}},[s])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(o){let{isDisabled:e,onFocus:s,onBlur:h,onFocusChange:b}=o;const _e=reactExports.useCallback(st=>{if(st.target===st.currentTarget)return h&&h(st),b&&b(!1),!0},[h,b]),rt=$8a9cb279dc87e130$export$715c682d09d639cc(_e),at=reactExports.useCallback(st=>{st.target===st.currentTarget&&document.activeElement===st.target&&(s&&s(st),b&&b(!0),rt(st))},[b,s,rt]);return{focusProps:{onFocus:!e&&(s||b||h)?at:void 0,onBlur:!e&&(h||b)?_e:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$var$hasSetupGlobalListeners=!1,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(o,e){for(let s of $507fabe10e71c6fb$var$changeHandlers)s(o,e)}function $507fabe10e71c6fb$var$isValidKey(o){return!(o.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&o.altKey||o.ctrlKey||o.key==="Control"||o.key==="Shift"||o.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(o){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(o)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",o))}function $507fabe10e71c6fb$var$handlePointerEvent(o){$507fabe10e71c6fb$var$currentModality="pointer",(o.type==="mousedown"||o.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",o))}function $507fabe10e71c6fb$var$handleClickEvent(o){$6a7db85432448f7f$export$60278871457622de(o)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(o){o.target===window||o.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",o)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(){if(typeof window>"u"||$507fabe10e71c6fb$var$hasSetupGlobalListeners)return;let o=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,o.apply(this,arguments)},document.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),document.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),document.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),window.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),window.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),document.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),document.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(document.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),document.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),document.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$var$hasSetupGlobalListeners=!0}typeof document<"u"&&(document.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents():document.addEventListener("DOMContentLoaded",$507fabe10e71c6fb$var$setupGlobalFocusEvents));function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}function $507fabe10e71c6fb$export$630ff653c5ada6a9(){return $507fabe10e71c6fb$var$currentModality}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(o,e,s){var h;return o=o||(s==null?void 0:s.target)instanceof HTMLInputElement&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(s==null||(h=s.target)===null||h===void 0?void 0:h.type)||(s==null?void 0:s.target)instanceof HTMLTextAreaElement||(s==null?void 0:s.target)instanceof HTMLElement&&(s==null?void 0:s.target.isContentEditable),!(o&&e==="keyboard"&&s instanceof KeyboardEvent&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[s.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(o,e,s){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let h=(b,_e)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(s!=null&&s.isTextInput),b,_e)&&o($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(h),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(h)}},e)}function $9ab94262bd0047c7$export$420e68273165f4ec(o){let{isDisabled:e,onBlurWithin:s,onFocusWithin:h,onFocusWithinChange:b}=o,_e=reactExports.useRef({isFocusWithin:!1}),rt=reactExports.useCallback(ot=>{_e.current.isFocusWithin&&!ot.currentTarget.contains(ot.relatedTarget)&&(_e.current.isFocusWithin=!1,s&&s(ot),b&&b(!1))},[s,b,_e]),at=$8a9cb279dc87e130$export$715c682d09d639cc(rt),st=reactExports.useCallback(ot=>{!_e.current.isFocusWithin&&document.activeElement===ot.target&&(h&&h(ot),b&&b(!0),_e.current.isFocusWithin=!0,at(ot))},[h,b,at]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:st,onBlur:rt}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(o){o.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(o){let{onHoverStart:e,onHoverChange:s,onHoverEnd:h,isDisabled:b}=o,[_e,rt]=reactExports.useState(!1),at=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:st,triggerHoverEnd:ot}=reactExports.useMemo(()=>{let nt=(_,tt)=>{if(at.pointerType=tt,b||tt==="touch"||at.isHovered||!_.currentTarget.contains(_.target))return;at.isHovered=!0;let lt=_.currentTarget;at.target=lt,e&&e({type:"hoverstart",target:lt,pointerType:tt}),s&&s(!0),rt(!0)},et=(_,tt)=>{if(at.pointerType="",at.target=null,tt==="touch"||!at.isHovered)return;at.isHovered=!1;let lt=_.currentTarget;h&&h({type:"hoverend",target:lt,pointerType:tt}),s&&s(!1),rt(!1)},d={};return typeof PointerEvent<"u"?(d.onPointerEnter=_=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&_.pointerType==="mouse"||nt(_,_.pointerType)},d.onPointerLeave=_=>{!b&&_.currentTarget.contains(_.target)&&et(_,_.pointerType)}):(d.onTouchStart=()=>{at.ignoreEmulatedMouseEvents=!0},d.onMouseEnter=_=>{!at.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&nt(_,"mouse"),at.ignoreEmulatedMouseEvents=!1},d.onMouseLeave=_=>{!b&&_.currentTarget.contains(_.target)&&et(_,"mouse")}),{hoverProps:d,triggerHoverEnd:et}},[e,s,h,b,at]);return reactExports.useEffect(()=>{b&&ot({currentTarget:at.target},at.pointerType)},[b]),{hoverProps:st,isHovered:_e}}function $93925083ecbb358c$export$48d1ea6320830260(o){if(!o)return;let e=!0;return s=>{let h={...s,preventDefault(){s.preventDefault()},isDefaultPrevented(){return s.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){e=!1}};o(h),e&&s.stopPropagation()}}function $46d819fcbaf35654$export$8f71654801c2f7cd(o){return{keyboardProps:o.isDisabled?{}:{onKeyDown:$93925083ecbb358c$export$48d1ea6320830260(o.onKeyDown),onKeyUp:$93925083ecbb358c$export$48d1ea6320830260(o.onKeyUp)}}}function $6a99195332edec8b$export$80f3e147d781571c(o){if($507fabe10e71c6fb$export$630ff653c5ada6a9()==="virtual"){let e=document.activeElement;$bbed8b41f857bcc0$export$24490316f764c430(()=>{document.activeElement===e&&document.contains(o)&&$7215afc6de606d6b$export$de79e2c695e052f3(o)})}else $7215afc6de606d6b$export$de79e2c695e052f3(o)}function $645f2e67b85a24c9$var$isStyleVisible(o){if(!(o instanceof HTMLElement)&&!(o instanceof SVGElement))return!1;let{display:e,visibility:s}=o.style,h=e!=="none"&&s!=="hidden"&&s!=="collapse";if(h){const{getComputedStyle:b}=o.ownerDocument.defaultView;let{display:_e,visibility:rt}=b(o);h=_e!=="none"&&rt!=="hidden"&&rt!=="collapse"}return h}function $645f2e67b85a24c9$var$isAttributeVisible(o,e){return!o.hasAttribute("hidden")&&(o.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?o.hasAttribute("open"):!0)}function $645f2e67b85a24c9$export$e989c0fffaa6b27a(o,e){return o.nodeName!=="#comment"&&$645f2e67b85a24c9$var$isStyleVisible(o)&&$645f2e67b85a24c9$var$isAttributeVisible(o,e)&&(!o.parentElement||$645f2e67b85a24c9$export$e989c0fffaa6b27a(o.parentElement,o))}const $9bf71ea28793e738$var$FocusContext=React.createContext(null);let $9bf71ea28793e738$var$activeScope=null;function $9bf71ea28793e738$export$20e40289641fbbb6(o){let{children:e,contain:s,restoreFocus:h,autoFocus:b}=o,_e=reactExports.useRef(null),rt=reactExports.useRef(null),at=reactExports.useRef([]),{parentNode:st}=reactExports.useContext($9bf71ea28793e738$var$FocusContext)||{},ot=reactExports.useMemo(()=>new $9bf71ea28793e738$var$TreeNode({scopeRef:at}),[at]);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let d=st||$9bf71ea28793e738$export$d06fae2ee68b101e.root;if($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(d.scopeRef)&&$9bf71ea28793e738$var$activeScope&&!$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,d.scopeRef)){let _=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);_&&(d=_)}d.addChild(ot),$9bf71ea28793e738$export$d06fae2ee68b101e.addNode(ot)},[ot,st]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let d=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(at);d&&(d.contain=!!s)},[s]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{var d;let _=(d=_e.current)===null||d===void 0?void 0:d.nextSibling,tt=[];for(;_&&_!==rt.current;)tt.push(_),_=_.nextSibling;at.current=tt},[e]),$9bf71ea28793e738$var$useActiveScopeTracker(at,h,s),$9bf71ea28793e738$var$useFocusContainment(at,s),$9bf71ea28793e738$var$useRestoreFocus(at,h,s),$9bf71ea28793e738$var$useAutoFocus(at,b),reactExports.useEffect(()=>{let d=document.activeElement,_=null;if($9bf71ea28793e738$var$isElementInScope(d,at.current)){for(let tt of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse())tt.scopeRef&&$9bf71ea28793e738$var$isElementInScope(d,tt.scopeRef.current)&&(_=tt);_===$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(at)&&($9bf71ea28793e738$var$activeScope=_.scopeRef)}},[at]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>()=>{var d,_,tt;let lt=(tt=(_=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(at))===null||_===void 0||(d=_.parent)===null||d===void 0?void 0:d.scopeRef)!==null&&tt!==void 0?tt:null;(at===$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope(at,$9bf71ea28793e738$var$activeScope))&&(!lt||$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(lt))&&($9bf71ea28793e738$var$activeScope=lt),$9bf71ea28793e738$export$d06fae2ee68b101e.removeTreeNode(at)},[at]);let nt=reactExports.useMemo(()=>$9bf71ea28793e738$var$createFocusManagerForScope(at),[]),et=reactExports.useMemo(()=>({focusManager:nt,parentNode:ot}),[ot,nt]);return React.createElement($9bf71ea28793e738$var$FocusContext.Provider,{value:et},React.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:_e}),e,React.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:rt}))}function $9bf71ea28793e738$var$createFocusManagerForScope(o){return{focusNext(e={}){let s=o.current,{from:h,tabbable:b,wrap:_e,accept:rt}=e,at=h||document.activeElement,st=s[0].previousElementSibling,ot=$9bf71ea28793e738$var$getScopeRoot(s),nt=$9bf71ea28793e738$export$2d6ec8fc375ceafa(ot,{tabbable:b,accept:rt},s);nt.currentNode=$9bf71ea28793e738$var$isElementInScope(at,s)?at:st;let et=nt.nextNode();return!et&&_e&&(nt.currentNode=st,et=nt.nextNode()),et&&$9bf71ea28793e738$var$focusElement(et,!0),et},focusPrevious(e={}){let s=o.current,{from:h,tabbable:b,wrap:_e,accept:rt}=e,at=h||document.activeElement,st=s[s.length-1].nextElementSibling,ot=$9bf71ea28793e738$var$getScopeRoot(s),nt=$9bf71ea28793e738$export$2d6ec8fc375ceafa(ot,{tabbable:b,accept:rt},s);nt.currentNode=$9bf71ea28793e738$var$isElementInScope(at,s)?at:st;let et=nt.previousNode();return!et&&_e&&(nt.currentNode=st,et=nt.previousNode()),et&&$9bf71ea28793e738$var$focusElement(et,!0),et},focusFirst(e={}){let s=o.current,{tabbable:h,accept:b}=e,_e=$9bf71ea28793e738$var$getScopeRoot(s),rt=$9bf71ea28793e738$export$2d6ec8fc375ceafa(_e,{tabbable:h,accept:b},s);rt.currentNode=s[0].previousElementSibling;let at=rt.nextNode();return at&&$9bf71ea28793e738$var$focusElement(at,!0),at},focusLast(e={}){let s=o.current,{tabbable:h,accept:b}=e,_e=$9bf71ea28793e738$var$getScopeRoot(s),rt=$9bf71ea28793e738$export$2d6ec8fc375ceafa(_e,{tabbable:h,accept:b},s);rt.currentNode=s[s.length-1].nextElementSibling;let at=rt.previousNode();return at&&$9bf71ea28793e738$var$focusElement(at,!0),at}}}const $9bf71ea28793e738$var$focusableElements=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],$9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR=$9bf71ea28793e738$var$focusableElements.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";$9bf71ea28793e738$var$focusableElements.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const $9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR=$9bf71ea28793e738$var$focusableElements.join(':not([hidden]):not([tabindex="-1"]),');function $9bf71ea28793e738$var$getScopeRoot(o){return o[0].parentElement}function $9bf71ea28793e738$var$shouldContainFocus(o){let e=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);for(;e&&e.scopeRef!==o;){if(e.contain)return!1;e=e.parent}return!0}function $9bf71ea28793e738$var$useFocusContainment(o,e){let s=reactExports.useRef(),h=reactExports.useRef();$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let b=o.current;if(!e){h.current&&(cancelAnimationFrame(h.current),h.current=void 0);return}let _e=st=>{if(st.key!=="Tab"||st.altKey||st.ctrlKey||st.metaKey||!$9bf71ea28793e738$var$shouldContainFocus(o))return;let ot=document.activeElement,nt=o.current;if(!nt||!$9bf71ea28793e738$var$isElementInScope(ot,nt))return;let et=$9bf71ea28793e738$var$getScopeRoot(nt),d=$9bf71ea28793e738$export$2d6ec8fc375ceafa(et,{tabbable:!0},nt);if(!ot)return;d.currentNode=ot;let _=st.shiftKey?d.previousNode():d.nextNode();_||(d.currentNode=st.shiftKey?nt[nt.length-1].nextElementSibling:nt[0].previousElementSibling,_=st.shiftKey?d.previousNode():d.nextNode()),st.preventDefault(),_&&$9bf71ea28793e738$var$focusElement(_,!0)},rt=st=>{(!$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,o))&&$9bf71ea28793e738$var$isElementInScope(st.target,o.current)?($9bf71ea28793e738$var$activeScope=o,s.current=st.target):$9bf71ea28793e738$var$shouldContainFocus(o)&&!$9bf71ea28793e738$var$isElementInChildScope(st.target,o)?s.current?s.current.focus():$9bf71ea28793e738$var$activeScope&&$9bf71ea28793e738$var$activeScope.current&&$9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current):$9bf71ea28793e738$var$shouldContainFocus(o)&&(s.current=st.target)},at=st=>{h.current&&cancelAnimationFrame(h.current),h.current=requestAnimationFrame(()=>{if(document.activeElement&&$9bf71ea28793e738$var$shouldContainFocus(o)&&!$9bf71ea28793e738$var$isElementInChildScope(document.activeElement,o))if($9bf71ea28793e738$var$activeScope=o,document.body.contains(st.target)){var ot;s.current=st.target,(ot=s.current)===null||ot===void 0||ot.focus()}else $9bf71ea28793e738$var$activeScope.current&&$9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current)})};return document.addEventListener("keydown",_e,!1),document.addEventListener("focusin",rt,!1),b==null||b.forEach(st=>st.addEventListener("focusin",rt,!1)),b==null||b.forEach(st=>st.addEventListener("focusout",at,!1)),()=>{document.removeEventListener("keydown",_e,!1),document.removeEventListener("focusin",rt,!1),b==null||b.forEach(st=>st.removeEventListener("focusin",rt,!1)),b==null||b.forEach(st=>st.removeEventListener("focusout",at,!1))}},[o,e]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>()=>{h.current&&cancelAnimationFrame(h.current)},[h])}function $9bf71ea28793e738$var$isElementInAnyScope(o){return $9bf71ea28793e738$var$isElementInChildScope(o)}function $9bf71ea28793e738$var$isElementInScope(o,e){return!o||!e?!1:e.some(s=>s.contains(o))}function $9bf71ea28793e738$var$isElementInChildScope(o,e=null){if(o instanceof Element&&o.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:s}of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(e)))if(s&&$9bf71ea28793e738$var$isElementInScope(o,s.current))return!0;return!1}function $9bf71ea28793e738$var$isAncestorScope(o,e){var s;let h=(s=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(e))===null||s===void 0?void 0:s.parent;for(;h;){if(h.scopeRef===o)return!0;h=h.parent}return!1}function $9bf71ea28793e738$var$focusElement(o,e=!1){if(o!=null&&!e)try{$6a99195332edec8b$export$80f3e147d781571c(o)}catch{}else if(o!=null)try{o.focus()}catch{}}function $9bf71ea28793e738$var$focusFirstInScope(o,e=!0){let s=o[0].previousElementSibling,h=$9bf71ea28793e738$var$getScopeRoot(o),b=$9bf71ea28793e738$export$2d6ec8fc375ceafa(h,{tabbable:e},o);b.currentNode=s;let _e=b.nextNode();e&&!_e&&(h=$9bf71ea28793e738$var$getScopeRoot(o),b=$9bf71ea28793e738$export$2d6ec8fc375ceafa(h,{tabbable:!1},o),b.currentNode=s,_e=b.nextNode()),$9bf71ea28793e738$var$focusElement(_e)}function $9bf71ea28793e738$var$useAutoFocus(o,e){const s=React.useRef(e);reactExports.useEffect(()=>{s.current&&($9bf71ea28793e738$var$activeScope=o,!$9bf71ea28793e738$var$isElementInScope(document.activeElement,$9bf71ea28793e738$var$activeScope.current)&&o.current&&$9bf71ea28793e738$var$focusFirstInScope(o.current)),s.current=!1},[o])}function $9bf71ea28793e738$var$useActiveScopeTracker(o,e,s){$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(e||s)return;let h=o.current,b=_e=>{let rt=_e.target;$9bf71ea28793e738$var$isElementInScope(rt,o.current)?$9bf71ea28793e738$var$activeScope=o:$9bf71ea28793e738$var$isElementInAnyScope(rt)||($9bf71ea28793e738$var$activeScope=null)};return document.addEventListener("focusin",b,!1),h==null||h.forEach(_e=>_e.addEventListener("focusin",b,!1)),()=>{document.removeEventListener("focusin",b,!1),h==null||h.forEach(_e=>_e.removeEventListener("focusin",b,!1))}},[o,e,s])}function $9bf71ea28793e738$var$shouldRestoreFocus(o){let e=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);for(;e&&e.scopeRef!==o;){if(e.nodeToRestore)return!1;e=e.parent}return(e==null?void 0:e.scopeRef)===o}function $9bf71ea28793e738$var$useRestoreFocus(o,e,s){const h=reactExports.useRef(typeof document<"u"?document.activeElement:null);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let b=o.current;if(!e||s)return;let _e=()=>{(!$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,o))&&$9bf71ea28793e738$var$isElementInScope(document.activeElement,o.current)&&($9bf71ea28793e738$var$activeScope=o)};return document.addEventListener("focusin",_e,!1),b==null||b.forEach(rt=>rt.addEventListener("focusin",_e,!1)),()=>{document.removeEventListener("focusin",_e,!1),b==null||b.forEach(rt=>rt.removeEventListener("focusin",_e,!1))}},[o,s]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(!e)return;let b=_e=>{if(_e.key!=="Tab"||_e.altKey||_e.ctrlKey||_e.metaKey||!$9bf71ea28793e738$var$shouldContainFocus(o))return;let rt=document.activeElement;if(!$9bf71ea28793e738$var$isElementInScope(rt,o.current))return;let at=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(o);if(!at)return;let st=at.nodeToRestore,ot=$9bf71ea28793e738$export$2d6ec8fc375ceafa(document.body,{tabbable:!0});ot.currentNode=rt;let nt=_e.shiftKey?ot.previousNode():ot.nextNode();if((!st||!document.body.contains(st)||st===document.body)&&(st=void 0,at.nodeToRestore=void 0),(!nt||!$9bf71ea28793e738$var$isElementInScope(nt,o.current))&&st){ot.currentNode=st;do nt=_e.shiftKey?ot.previousNode():ot.nextNode();while($9bf71ea28793e738$var$isElementInScope(nt,o.current));_e.preventDefault(),_e.stopPropagation(),nt?$9bf71ea28793e738$var$focusElement(nt,!0):$9bf71ea28793e738$var$isElementInAnyScope(st)?$9bf71ea28793e738$var$focusElement(st,!0):rt.blur()}};return s||document.addEventListener("keydown",b,!0),()=>{s||document.removeEventListener("keydown",b,!0)}},[o,e,s]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(!e)return;let b=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(o);if(b){var _e;return b.nodeToRestore=(_e=h.current)!==null&&_e!==void 0?_e:void 0,()=>{let rt=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(o);if(!rt)return;let at=rt.nodeToRestore;if(e&&at&&($9bf71ea28793e738$var$isElementInScope(document.activeElement,o.current)||document.activeElement===document.body&&$9bf71ea28793e738$var$shouldRestoreFocus(o))){let st=$9bf71ea28793e738$export$d06fae2ee68b101e.clone();requestAnimationFrame(()=>{if(document.activeElement===document.body){let ot=st.getTreeNode(o);for(;ot;){if(ot.nodeToRestore&&document.body.contains(ot.nodeToRestore)){$9bf71ea28793e738$var$focusElement(ot.nodeToRestore);return}ot=ot.parent}for(ot=st.getTreeNode(o);ot;){if(ot.scopeRef&&ot.scopeRef.current&&$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(ot.scopeRef)){$9bf71ea28793e738$var$focusFirstInScope(ot.scopeRef.current,!0);return}ot=ot.parent}}})}}}},[o,e])}function $9bf71ea28793e738$export$2d6ec8fc375ceafa(o,e,s){let h=e!=null&&e.tabbable?$9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR:$9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR,b=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode(_e){var rt;return!(e==null||(rt=e.from)===null||rt===void 0)&&rt.contains(_e)?NodeFilter.FILTER_REJECT:_e.matches(h)&&$645f2e67b85a24c9$export$e989c0fffaa6b27a(_e)&&(!s||$9bf71ea28793e738$var$isElementInScope(_e,s))&&(!(e!=null&&e.accept)||e.accept(_e))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(b.currentNode=e.from),b}class $9bf71ea28793e738$var$Tree{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,s,h){let b=this.fastMap.get(s??null);if(!b)return;let _e=new $9bf71ea28793e738$var$TreeNode({scopeRef:e});b.addChild(_e),_e.parent=b,this.fastMap.set(e,_e),h&&(_e.nodeToRestore=h)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let s=this.fastMap.get(e);if(!s)return;let h=s.parent;for(let _e of this.traverse())_e!==s&&s.nodeToRestore&&_e.nodeToRestore&&s.scopeRef&&s.scopeRef.current&&$9bf71ea28793e738$var$isElementInScope(_e.nodeToRestore,s.scopeRef.current)&&(_e.nodeToRestore=s.nodeToRestore);let b=s.children;h&&(h.removeChild(s),b.size>0&&b.forEach(_e=>h&&h.addChild(_e))),this.fastMap.delete(s.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let s of e.children)yield*this.traverse(s)}clone(){var e;let s=new $9bf71ea28793e738$var$Tree;var h;for(let b of this.traverse())s.addTreeNode(b.scopeRef,(h=(e=b.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&h!==void 0?h:null,b.nodeToRestore);return s}constructor(){this.fastMap=new Map,this.root=new $9bf71ea28793e738$var$TreeNode({scopeRef:null}),this.fastMap.set(null,this.root)}}class $9bf71ea28793e738$var$TreeNode{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let $9bf71ea28793e738$export$d06fae2ee68b101e=new $9bf71ea28793e738$var$Tree;function $f7dceffc5ad7768b$export$4e328f61c538687f(o={}){let{autoFocus:e=!1,isTextInput:s,within:h}=o,b=reactExports.useRef({isFocused:!1,isFocusVisible:e||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[_e,rt]=reactExports.useState(!1),[at,st]=reactExports.useState(()=>b.current.isFocused&&b.current.isFocusVisible),ot=reactExports.useCallback(()=>st(b.current.isFocused&&b.current.isFocusVisible),[]),nt=reactExports.useCallback(_=>{b.current.isFocused=_,rt(_),ot()},[ot]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(_=>{b.current.isFocusVisible=_,ot()},[],{isTextInput:s});let{focusProps:et}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:h,onFocusChange:nt}),{focusWithinProps:d}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!h,onFocusWithinChange:nt});return{isFocused:_e,isFocusVisible:at,focusProps:h?d:et}}let $e6afbd83fe6ebbd2$var$FocusableContext=React.createContext(null);function $e6afbd83fe6ebbd2$var$useFocusableContext(o){let e=reactExports.useContext($e6afbd83fe6ebbd2$var$FocusableContext)||{};$e7801be82b4b2a53$export$4debdb1a3f0fa79e(e,o);let{ref:s,...h}=e;return h}function $e6afbd83fe6ebbd2$export$4c014de7c8940b4c(o,e){let{focusProps:s}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6(o),{keyboardProps:h}=$46d819fcbaf35654$export$8f71654801c2f7cd(o),b=$3ef42575df84b30b$export$9d1611c77c2fe928(s,h),_e=$e6afbd83fe6ebbd2$var$useFocusableContext(e),rt=o.isDisabled?{}:_e,at=reactExports.useRef(o.autoFocus);return reactExports.useEffect(()=>{at.current&&e.current&&$6a99195332edec8b$export$80f3e147d781571c(e.current),at.current=!1},[e]),{focusableProps:$3ef42575df84b30b$export$9d1611c77c2fe928({...b,tabIndex:o.excludeFromTabOrder&&!o.isDisabled?-1:void 0},rt)}}const $f57aed4a881a3485$var$Context=React.createContext(null);function $f57aed4a881a3485$export$178405afcd8c5eb(o){let{children:e}=o,s=reactExports.useContext($f57aed4a881a3485$var$Context),[h,b]=reactExports.useState(0),_e=reactExports.useMemo(()=>({parent:s,modalCount:h,addModal(){b(rt=>rt+1),s&&s.addModal()},removeModal(){b(rt=>rt-1),s&&s.removeModal()}}),[s,h]);return React.createElement($f57aed4a881a3485$var$Context.Provider,{value:_e},e)}function $f57aed4a881a3485$export$d9aaed4c3ece1bc0(){let o=reactExports.useContext($f57aed4a881a3485$var$Context);return{modalProviderProps:{"aria-hidden":o&&o.modalCount>0?!0:null}}}function $f57aed4a881a3485$var$OverlayContainerDOM(o){let{modalProviderProps:e}=$f57aed4a881a3485$export$d9aaed4c3ece1bc0();return React.createElement("div",{"data-overlay-container":!0,...o,...e})}function $f57aed4a881a3485$export$bf688221f59024e5(o){return React.createElement($f57aed4a881a3485$export$178405afcd8c5eb,null,React.createElement($f57aed4a881a3485$var$OverlayContainerDOM,o))}const $337b884510726a0d$export$a2200b96afd16271=React.createContext(null);function $337b884510726a0d$export$c6fdb837b070b4ff(o){let e=$b5e257d569688ac6$export$535bd6ca7f90a273(),{portalContainer:s=e?null:document.body,isExiting:h}=o,[b,_e]=reactExports.useState(!1),rt=reactExports.useMemo(()=>({contain:b,setContain:_e}),[b,_e]);if(!s)return null;let at=o.children;return o.disableFocusManagement||(at=React.createElement($9bf71ea28793e738$export$20e40289641fbbb6,{restoreFocus:!0,contain:b&&!h},at)),at=React.createElement($337b884510726a0d$export$a2200b96afd16271.Provider,{value:rt},React.createElement($f1ab8c75478c6f73$export$cf75428e0b9ed1ea,null,at)),$k7QOs$reactdom.createPortal(at,s)}var NextUIProvider=({children:o,locale:e="en-US",navigate:s,...h})=>{let b=o;return s&&(b=jsxRuntimeExports.jsx($ea8dcbcb9ea1b556$export$323e4fc2fa4753fb,{navigate:s,children:b})),jsxRuntimeExports.jsx($18f2051aff69b9bf$export$a54013f0d02a8f82,{locale:e,children:jsxRuntimeExports.jsx($f57aed4a881a3485$export$bf688221f59024e5,{...h,children:b})})};function forwardRef(o){return reactExports.forwardRef(o)}var mapPropsVariants=(o,e,s=!0)=>{if(!e)return[o,{}];const h=e.reduce((b,_e)=>_e in o?{...b,[_e]:o[_e]}:b,{});return s?[Object.keys(o).filter(_e=>!e.includes(_e)).reduce((_e,rt)=>({..._e,[rt]:o[rt]}),{}),h]:[o,h]},spacingScaleKeys=["0","xs","sm","md","lg","xl","2xl","3xl","4xl","5xl","6xl","7xl","8xl","9xl","1","2","3","3.5","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","20","24","28","32","36","40","44","48","52","56","60","64","72","80","96"],mappedSpacingScaleKeys=spacingScaleKeys.map(o=>`unit-${o}`),l=o=>typeof o=="boolean"?`${o}`:o===0?"0":o,u=o=>!o||typeof o!="object"||Object.keys(o).length===0,x=(o,e)=>JSON.stringify(o)===JSON.stringify(e);function i$2(o,e){o.forEach(function(s){Array.isArray(s)?i$2(s,e):e.push(s)})}function y(o){let e=[];return i$2(o,e),e}var a=(...o)=>y(o).filter(Boolean),p=(o,e)=>{let s={},h=Object.keys(o),b=Object.keys(e);for(let _e of h)if(b.includes(_e)){let rt=o[_e],at=e[_e];typeof rt=="object"&&typeof at=="object"?s[_e]=p(rt,at):Array.isArray(rt)||Array.isArray(at)?s[_e]=a(at,rt):s[_e]=at+" "+rt}else s[_e]=o[_e];for(let _e of b)h.includes(_e)||(s[_e]=e[_e]);return s},g=o=>!o||typeof o!="string"?o:o.replace(/\s+/g," ").trim();function twJoin(){for(var o=0,e,s,h="";o<arguments.length;)(e=arguments[o++])&&(s=toValue(e))&&(h&&(h+=" "),h+=s);return h}function toValue(o){if(typeof o=="string")return o;for(var e,s="",h=0;h<o.length;h++)o[h]&&(e=toValue(o[h]))&&(s&&(s+=" "),s+=e);return s}var CLASS_PART_SEPARATOR="-";function createClassUtils(o){var e=createClassMap(o),s=o.conflictingClassGroups,h=o.conflictingClassGroupModifiers,b=h===void 0?{}:h;function _e(at){var st=at.split(CLASS_PART_SEPARATOR);return st[0]===""&&st.length!==1&&st.shift(),getGroupRecursive(st,e)||getGroupIdForArbitraryProperty(at)}function rt(at,st){var ot=s[at]||[];return st&&b[at]?[].concat(ot,b[at]):ot}return{getClassGroupId:_e,getConflictingClassGroupIds:rt}}function getGroupRecursive(o,e){var rt;if(o.length===0)return e.classGroupId;var s=o[0],h=e.nextPart.get(s),b=h?getGroupRecursive(o.slice(1),h):void 0;if(b)return b;if(e.validators.length!==0){var _e=o.join(CLASS_PART_SEPARATOR);return(rt=e.validators.find(function(at){var st=at.validator;return st(_e)}))==null?void 0:rt.classGroupId}}var arbitraryPropertyRegex=/^\[(.+)\]$/;function getGroupIdForArbitraryProperty(o){if(arbitraryPropertyRegex.test(o)){var e=arbitraryPropertyRegex.exec(o)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}}function createClassMap(o){var e=o.theme,s=o.prefix,h={nextPart:new Map,validators:[]},b=getPrefixedClassGroupEntries(Object.entries(o.classGroups),s);return b.forEach(function(_e){var rt=_e[0],at=_e[1];processClassesRecursively(at,h,rt,e)}),h}function processClassesRecursively(o,e,s,h){o.forEach(function(b){if(typeof b=="string"){var _e=b===""?e:getPart(e,b);_e.classGroupId=s;return}if(typeof b=="function"){if(isThemeGetter(b)){processClassesRecursively(b(h),e,s,h);return}e.validators.push({validator:b,classGroupId:s});return}Object.entries(b).forEach(function(rt){var at=rt[0],st=rt[1];processClassesRecursively(st,getPart(e,at),s,h)})})}function getPart(o,e){var s=o;return e.split(CLASS_PART_SEPARATOR).forEach(function(h){s.nextPart.has(h)||s.nextPart.set(h,{nextPart:new Map,validators:[]}),s=s.nextPart.get(h)}),s}function isThemeGetter(o){return o.isThemeGetter}function getPrefixedClassGroupEntries(o,e){return e?o.map(function(s){var h=s[0],b=s[1],_e=b.map(function(rt){return typeof rt=="string"?e+rt:typeof rt=="object"?Object.fromEntries(Object.entries(rt).map(function(at){var st=at[0],ot=at[1];return[e+st,ot]})):rt});return[h,_e]}):o}function createLruCache(o){if(o<1)return{get:function(){},set:function(){}};var e=0,s=new Map,h=new Map;function b(_e,rt){s.set(_e,rt),e++,e>o&&(e=0,h=s,s=new Map)}return{get:function(rt){var at=s.get(rt);if(at!==void 0)return at;if((at=h.get(rt))!==void 0)return b(rt,at),at},set:function(rt,at){s.has(rt)?s.set(rt,at):b(rt,at)}}}var IMPORTANT_MODIFIER="!";function createSplitModifiers(o){var e=o.separator||":",s=e.length===1,h=e[0],b=e.length;return function(rt){for(var at=[],st=0,ot=0,nt,et=0;et<rt.length;et++){var d=rt[et];if(st===0){if(d===h&&(s||rt.slice(et,et+b)===e)){at.push(rt.slice(ot,et)),ot=et+b;continue}if(d==="/"){nt=et;continue}}d==="["?st++:d==="]"&&st--}var _=at.length===0?rt:rt.substring(ot),tt=_.startsWith(IMPORTANT_MODIFIER),lt=tt?_.substring(1):_,ut=nt&&nt>ot?nt-ot:void 0;return{modifiers:at,hasImportantModifier:tt,baseClassName:lt,maybePostfixModifierPosition:ut}}}function sortModifiers(o){if(o.length<=1)return o;var e=[],s=[];return o.forEach(function(h){var b=h[0]==="[";b?(e.push.apply(e,s.sort().concat([h])),s=[]):s.push(h)}),e.push.apply(e,s.sort()),e}function createConfigUtils(o){return{cache:createLruCache(o.cacheSize),splitModifiers:createSplitModifiers(o),...createClassUtils(o)}}var SPLIT_CLASSES_REGEX=/\s+/;function mergeClassList(o,e){var s=e.splitModifiers,h=e.getClassGroupId,b=e.getConflictingClassGroupIds,_e=new Set;return o.trim().split(SPLIT_CLASSES_REGEX).map(function(rt){var at=s(rt),st=at.modifiers,ot=at.hasImportantModifier,nt=at.baseClassName,et=at.maybePostfixModifierPosition,d=h(et?nt.substring(0,et):nt),_=!!et;if(!d){if(!et)return{isTailwindClass:!1,originalClassName:rt};if(d=h(nt),!d)return{isTailwindClass:!1,originalClassName:rt};_=!1}var tt=sortModifiers(st).join(":"),lt=ot?tt+IMPORTANT_MODIFIER:tt;return{isTailwindClass:!0,modifierId:lt,classGroupId:d,originalClassName:rt,hasPostfixModifier:_}}).reverse().filter(function(rt){if(!rt.isTailwindClass)return!0;var at=rt.modifierId,st=rt.classGroupId,ot=rt.hasPostfixModifier,nt=at+st;return _e.has(nt)?!1:(_e.add(nt),b(st,ot).forEach(function(et){return _e.add(at+et)}),!0)}).reverse().map(function(rt){return rt.originalClassName}).join(" ")}function createTailwindMerge(){for(var o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];var h,b,_e,rt=at;function at(ot){var nt=e[0],et=e.slice(1),d=et.reduce(function(_,tt){return tt(_)},nt());return h=createConfigUtils(d),b=h.cache.get,_e=h.cache.set,rt=st,st(ot)}function st(ot){var nt=b(ot);if(nt)return nt;var et=mergeClassList(ot,h);return _e(ot,et),et}return function(){return rt(twJoin.apply(null,arguments))}}function fromTheme(o){var e=function(h){return h[o]||[]};return e.isThemeGetter=!0,e}var arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,shadowRegex=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function isLength(o){return isNumber(o)||stringLengths.has(o)||fractionRegex.test(o)||isArbitraryLength(o)}function isArbitraryLength(o){return getIsArbitraryValue(o,"length",isLengthOnly)}function isArbitrarySize(o){return getIsArbitraryValue(o,"size",isNever)}function isArbitraryPosition(o){return getIsArbitraryValue(o,"position",isNever)}function isArbitraryUrl(o){return getIsArbitraryValue(o,"url",isUrl)}function isArbitraryNumber(o){return getIsArbitraryValue(o,"number",isNumber)}function isNumber(o){return!Number.isNaN(Number(o))}function isPercent(o){return o.endsWith("%")&&isNumber(o.slice(0,-1))}function isInteger(o){return isIntegerOnly(o)||getIsArbitraryValue(o,"number",isIntegerOnly)}function isArbitraryValue(o){return arbitraryValueRegex.test(o)}function isAny(){return!0}function isTshirtSize(o){return tshirtUnitRegex.test(o)}function isArbitraryShadow(o){return getIsArbitraryValue(o,"",isShadow)}function getIsArbitraryValue(o,e,s){var h=arbitraryValueRegex.exec(o);return h?h[1]?h[1]===e:s(h[2]):!1}function isLengthOnly(o){return lengthUnitRegex.test(o)}function isNever(){return!1}function isUrl(o){return o.startsWith("url(")}function isIntegerOnly(o){return Number.isInteger(Number(o))}function isShadow(o){return shadowRegex.test(o)}function getDefaultConfig(){var o=fromTheme("colors"),e=fromTheme("spacing"),s=fromTheme("blur"),h=fromTheme("brightness"),b=fromTheme("borderColor"),_e=fromTheme("borderRadius"),rt=fromTheme("borderSpacing"),at=fromTheme("borderWidth"),st=fromTheme("contrast"),ot=fromTheme("grayscale"),nt=fromTheme("hueRotate"),et=fromTheme("invert"),d=fromTheme("gap"),_=fromTheme("gradientColorStops"),tt=fromTheme("gradientColorStopPositions"),lt=fromTheme("inset"),ut=fromTheme("margin"),ct=fromTheme("opacity"),ft=fromTheme("padding"),dt=fromTheme("saturate"),ht=fromTheme("scale"),gt=fromTheme("sepia"),yt=fromTheme("skew"),vt=fromTheme("space"),mt=fromTheme("translate"),bt=function(){return["auto","contain","none"]},$t=function(){return["auto","hidden","clip","visible","scroll"]},St=function(){return["auto",isArbitraryValue,e]},Pt=function(){return[isArbitraryValue,e]},_t=function(){return["",isLength]},wt=function(){return["auto",isNumber,isArbitraryValue]},xt=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Tt=function(){return["solid","dashed","dotted","double","none"]},It=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Ct=function(){return["start","end","center","between","around","evenly","stretch"]},Rt=function(){return["","0",isArbitraryValue]},Ut=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},kt=function(){return[isNumber,isArbitraryNumber]},jt=function(){return[isNumber,isArbitraryValue]};return{cacheSize:500,theme:{colors:[isAny],spacing:[isLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:kt(),borderColor:[o],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:Pt(),borderWidth:_t(),contrast:kt(),grayscale:Rt(),hueRotate:jt(),invert:Rt(),gap:Pt(),gradientColorStops:[o],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:St(),margin:St(),opacity:kt(),padding:Pt(),saturate:kt(),scale:kt(),sepia:Rt(),skew:jt(),space:Pt(),translate:Pt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Ut()}],"break-before":[{"break-before":Ut()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(xt(),[isArbitraryValue])}],overflow:[{overflow:$t()}],"overflow-x":[{"overflow-x":$t()}],"overflow-y":[{"overflow-y":$t()}],overscroll:[{overscroll:bt()}],"overscroll-x":[{"overscroll-x":bt()}],"overscroll-y":[{"overscroll-y":bt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[lt]}],"inset-x":[{"inset-x":[lt]}],"inset-y":[{"inset-y":[lt]}],start:[{start:[lt]}],end:[{end:[lt]}],top:[{top:[lt]}],right:[{right:[lt]}],bottom:[{bottom:[lt]}],left:[{left:[lt]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger]}],basis:[{basis:St()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:Rt()}],shrink:[{shrink:Rt()}],order:[{order:["first","last","none",isInteger]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger]},isArbitraryValue]}],"col-start":[{"col-start":wt()}],"col-end":[{"col-end":wt()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger]},isArbitraryValue]}],"row-start":[{"row-start":wt()}],"row-end":[{"row-end":wt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal"].concat(Ct())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(Ct(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Ct(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[ft]}],px:[{px:[ft]}],py:[{py:[ft]}],ps:[{ps:[ft]}],pe:[{pe:[ft]}],pt:[{pt:[ft]}],pr:[{pr:[ft]}],pb:[{pb:[ft]}],pl:[{pl:[ft]}],m:[{m:[ut]}],mx:[{mx:[ut]}],my:[{my:[ut]}],ms:[{ms:[ut]}],me:[{me:[ut]}],mt:[{mt:[ut]}],mr:[{mr:[ut]}],mb:[{mb:[ut]}],ml:[{ml:[ut]}],"space-x":[{"space-x":[vt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[vt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",isArbitraryValue,e]}],"min-w":[{"min-w":["min","max","fit",isArbitraryValue,isLength]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize,isArbitraryValue]}],h:[{h:[isArbitraryValue,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",isArbitraryValue,isLength]}],"max-h":[{"max-h":[isArbitraryValue,e,"min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isArbitraryValue,isLength]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[o]}],"placeholder-opacity":[{"placeholder-opacity":[ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[o]}],"text-opacity":[{"text-opacity":[ct]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Tt(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength]}],"underline-offset":[{"underline-offset":["auto",isArbitraryValue,isLength]}],"text-decoration-color":[{decoration:[o]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Pt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[ct]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(xt(),[isArbitraryPosition])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryUrl]}],"bg-color":[{bg:[o]}],"gradient-from-pos":[{from:[tt]}],"gradient-via-pos":[{via:[tt]}],"gradient-to-pos":[{to:[tt]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[_e]}],"rounded-s":[{"rounded-s":[_e]}],"rounded-e":[{"rounded-e":[_e]}],"rounded-t":[{"rounded-t":[_e]}],"rounded-r":[{"rounded-r":[_e]}],"rounded-b":[{"rounded-b":[_e]}],"rounded-l":[{"rounded-l":[_e]}],"rounded-ss":[{"rounded-ss":[_e]}],"rounded-se":[{"rounded-se":[_e]}],"rounded-ee":[{"rounded-ee":[_e]}],"rounded-es":[{"rounded-es":[_e]}],"rounded-tl":[{"rounded-tl":[_e]}],"rounded-tr":[{"rounded-tr":[_e]}],"rounded-br":[{"rounded-br":[_e]}],"rounded-bl":[{"rounded-bl":[_e]}],"border-w":[{border:[at]}],"border-w-x":[{"border-x":[at]}],"border-w-y":[{"border-y":[at]}],"border-w-s":[{"border-s":[at]}],"border-w-e":[{"border-e":[at]}],"border-w-t":[{"border-t":[at]}],"border-w-r":[{"border-r":[at]}],"border-w-b":[{"border-b":[at]}],"border-w-l":[{"border-l":[at]}],"border-opacity":[{"border-opacity":[ct]}],"border-style":[{border:[].concat(Tt(),["hidden"])}],"divide-x":[{"divide-x":[at]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[at]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[ct]}],"divide-style":[{divide:Tt()}],"border-color":[{border:[b]}],"border-color-x":[{"border-x":[b]}],"border-color-y":[{"border-y":[b]}],"border-color-t":[{"border-t":[b]}],"border-color-r":[{"border-r":[b]}],"border-color-b":[{"border-b":[b]}],"border-color-l":[{"border-l":[b]}],"divide-color":[{divide:[b]}],"outline-style":[{outline:[""].concat(Tt())}],"outline-offset":[{"outline-offset":[isArbitraryValue,isLength]}],"outline-w":[{outline:[isLength]}],"outline-color":[{outline:[o]}],"ring-w":[{ring:_t()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[o]}],"ring-opacity":[{"ring-opacity":[ct]}],"ring-offset-w":[{"ring-offset":[isLength]}],"ring-offset-color":[{"ring-offset":[o]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[ct]}],"mix-blend":[{"mix-blend":It()}],"bg-blend":[{"bg-blend":It()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[h]}],contrast:[{contrast:[st]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[ot]}],"hue-rotate":[{"hue-rotate":[nt]}],invert:[{invert:[et]}],saturate:[{saturate:[dt]}],sepia:[{sepia:[gt]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[h]}],"backdrop-contrast":[{"backdrop-contrast":[st]}],"backdrop-grayscale":[{"backdrop-grayscale":[ot]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nt]}],"backdrop-invert":[{"backdrop-invert":[et]}],"backdrop-opacity":[{"backdrop-opacity":[ct]}],"backdrop-saturate":[{"backdrop-saturate":[dt]}],"backdrop-sepia":[{"backdrop-sepia":[gt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[rt]}],"border-spacing-x":[{"border-spacing-x":[rt]}],"border-spacing-y":[{"border-spacing-y":[rt]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:jt()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:jt()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ht]}],"scale-x":[{"scale-x":[ht]}],"scale-y":[{"scale-y":[ht]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[mt]}],"translate-y":[{"translate-y":[mt]}],"skew-x":[{"skew-x":[yt]}],"skew-y":[{"skew-y":[yt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",o]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[o]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Pt()}],"scroll-mx":[{"scroll-mx":Pt()}],"scroll-my":[{"scroll-my":Pt()}],"scroll-ms":[{"scroll-ms":Pt()}],"scroll-me":[{"scroll-me":Pt()}],"scroll-mt":[{"scroll-mt":Pt()}],"scroll-mr":[{"scroll-mr":Pt()}],"scroll-mb":[{"scroll-mb":Pt()}],"scroll-ml":[{"scroll-ml":Pt()}],"scroll-p":[{"scroll-p":Pt()}],"scroll-px":[{"scroll-px":Pt()}],"scroll-py":[{"scroll-py":Pt()}],"scroll-ps":[{"scroll-ps":Pt()}],"scroll-pe":[{"scroll-pe":Pt()}],"scroll-pt":[{"scroll-pt":Pt()}],"scroll-pr":[{"scroll-pr":Pt()}],"scroll-pb":[{"scroll-pb":Pt()}],"scroll-pl":[{"scroll-pl":Pt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[o,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryNumber]}],stroke:[{stroke:[o,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function mergeConfigs(o,e){for(var s in e)mergePropertyRecursively(o,s,e[s]);return o}var hasOwnProperty$2=Object.prototype.hasOwnProperty,overrideTypes=new Set(["string","number","boolean"]);function mergePropertyRecursively(o,e,s){if(!hasOwnProperty$2.call(o,e)||overrideTypes.has(typeof s)||s===null){o[e]=s;return}if(Array.isArray(s)&&Array.isArray(o[e])){o[e]=o[e].concat(s);return}if(typeof s=="object"&&typeof o[e]=="object"){if(o[e]===null){o[e]=s;return}for(var h in s)mergePropertyRecursively(o[e],h,s[h])}}function extendTailwindMerge(o){for(var e=arguments.length,s=new Array(e>1?e-1:0),h=1;h<e;h++)s[h-1]=arguments[h];return typeof o=="function"?createTailwindMerge.apply(void 0,[getDefaultConfig,o].concat(s)):createTailwindMerge.apply(void 0,[function(){return mergeConfigs(getDefaultConfig(),o)}].concat(s))}var twMerge=createTailwindMerge(getDefaultConfig),re={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Z=o=>o||void 0,j=(...o)=>Z(y(o).filter(Boolean).join(" ")),R=null,O={},q=!1,w=(...o)=>e=>e.twMerge?((!R||q)&&(q=!1,R=u(O)?twMerge:extendTailwindMerge(O)),Z(R(j(o)))):j(o),Y=(o,e)=>{for(let s in e)o.hasOwnProperty(s)?o[s]=j(o[s],e[s]):o[s]=e[s];return o},se=(o,e)=>{let{extend:s=null,slots:h={},variants:b={},compoundVariants:_e=[],compoundSlots:rt=[],defaultVariants:at={}}=o,st={...re,...e},ot=s!=null&&s.base?j(s.base,o==null?void 0:o.base):o==null?void 0:o.base,nt=s!=null&&s.variants&&!u(s.variants)?p(b,s.variants):b,et=s!=null&&s.defaultVariants&&!u(s.defaultVariants)?{...s.defaultVariants,...at}:at;!u(st.twMergeConfig)&&!x(st.twMergeConfig,O)&&(q=!0,O=st.twMergeConfig);let d=u(h)?{}:{base:o==null?void 0:o.base,...h},_=u(s==null?void 0:s.slots)?d:Y({...s==null?void 0:s.slots},u(d)?{base:o==null?void 0:o.base}:d),tt=ut=>{if(u(nt)&&u(h)&&u(s==null?void 0:s.slots))return w(ot,ut==null?void 0:ut.class,ut==null?void 0:ut.className)(st);if(_e&&!Array.isArray(_e))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof _e}`);if(rt&&!Array.isArray(rt))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof rt}`);let ct=(St,Pt,_t=[],wt)=>{let xt=_t;if(typeof Pt=="string")xt=xt.concat(g(Pt).split(" ").map(Tt=>`${St}:${Tt}`));else if(Array.isArray(Pt))xt=xt.concat(Pt.reduce((Tt,It)=>Tt.concat(`${St}:${It}`),[]));else if(typeof Pt=="object"&&typeof wt=="string"){for(let Tt in Pt)if(Pt.hasOwnProperty(Tt)&&Tt===wt){let It=Pt[Tt];if(It&&typeof It=="string"){let Ct=g(It);xt[wt]?xt[wt]=xt[wt].concat(Ct.split(" ").map(Rt=>`${St}:${Rt}`)):xt[wt]=Ct.split(" ").map(Rt=>`${St}:${Rt}`)}else Array.isArray(It)&&It.length>0&&(xt[wt]=It.reduce((Ct,Rt)=>Ct.concat(`${St}:${Rt}`),[]))}}return xt},ft=(St,Pt=nt,_t=null,wt=null)=>{var xt;let Tt=Pt[St];if(!Tt||u(Tt))return null;let It=(xt=wt==null?void 0:wt[St])!=null?xt:ut==null?void 0:ut[St];if(It===null)return null;let Ct=l(It),Rt=Array.isArray(st.responsiveVariants)&&st.responsiveVariants.length>0||st.responsiveVariants===!0,Ut=et==null?void 0:et[St],kt=[];if(typeof Ct=="object"&&Rt)for(let[Vt,Gt]of Object.entries(Ct)){let Yt=Tt[Gt];if(Vt==="initial"){Ut=Gt;continue}Array.isArray(st.responsiveVariants)&&!st.responsiveVariants.includes(Vt)||(kt=ct(Vt,Yt,kt,_t))}let jt=Tt[Ct]||Tt[l(Ut)];return typeof kt=="object"&&typeof _t=="string"&&kt[_t]?Y(kt,jt):kt.length>0?(kt.push(jt),kt):jt},dt=()=>nt?Object.keys(nt).map(St=>ft(St,nt)):null,ht=(St,Pt)=>{if(!nt||typeof nt!="object")return null;let _t=new Array;for(let wt in nt){let xt=ft(wt,nt,St,Pt),Tt=St==="base"&&typeof xt=="string"?xt:xt&&xt[St];Tt&&(_t[_t.length]=Tt)}return _t},gt={};for(let St in ut)ut[St]!==void 0&&(gt[St]=ut[St]);let yt=(St,Pt)=>{var _t;let wt=typeof(ut==null?void 0:ut[St])=="object"?{[St]:(_t=ut[St])==null?void 0:_t.initial}:{};return{...et,...gt,...wt,...Pt}},vt=(St=[],Pt)=>{let _t=[];for(let{class:wt,className:xt,...Tt}of St){let It=!0;for(let[Ct,Rt]of Object.entries(Tt)){let Ut=yt(Ct,Pt);if(Array.isArray(Rt)){if(!Rt.includes(Ut[Ct])){It=!1;break}}else if(Ut[Ct]!==Rt){It=!1;break}}It&&(wt&&_t.push(wt),xt&&_t.push(xt))}return _t},mt=St=>{let Pt=vt(_e,St),_t=vt(s==null?void 0:s.compoundVariants,St);return a(_t,Pt)},bt=St=>{let Pt=mt(St);if(!Array.isArray(Pt))return Pt;let _t={};for(let wt of Pt)if(typeof wt=="string"&&(_t.base=w(_t.base,wt)(st)),typeof wt=="object")for(let[xt,Tt]of Object.entries(wt))_t[xt]=w(_t[xt],Tt)(st);return _t},$t=St=>{if(rt.length<1)return null;let Pt={};for(let{slots:_t=[],class:wt,className:xt,...Tt}of rt){if(!u(Tt)){let It=!0;for(let Ct of Object.keys(Tt)){let Rt=yt(Ct,St)[Ct];if(Rt===void 0||(Array.isArray(Tt[Ct])?!Tt[Ct].includes(Rt):Tt[Ct]!==Rt)){It=!1;break}}if(!It)continue}for(let It of _t)Pt[It]=Pt[It]||[],Pt[It].push([wt,xt])}return Pt};if(!u(h)||!u(s==null?void 0:s.slots)){let St={};if(typeof _=="object"&&!u(_))for(let Pt of Object.keys(_))St[Pt]=_t=>{var wt,xt;return w(_[Pt],ht(Pt,_t),((wt=bt(_t))!=null?wt:[])[Pt],((xt=$t(_t))!=null?xt:[])[Pt],_t==null?void 0:_t.class,_t==null?void 0:_t.className)(st)};return St}return w(ot,dt(),mt(),ut==null?void 0:ut.class,ut==null?void 0:ut.className)(st)},lt=()=>{if(!(!nt||typeof nt!="object"))return Object.keys(nt)};return tt.variantKeys=lt(),tt.extend=s,tt.base=ot,tt.slots=_,tt.variants=nt,tt.defaultVariants=et,tt.compoundSlots=rt,tt.compoundVariants=_e,tt},COMMON_UNITS=["small","medium","large"],tv=(o,e)=>{var s,h,b;return se(o,{...e,twMerge:(s=e==null?void 0:e.twMerge)!=null?s:!0,twMergeConfig:{...e==null?void 0:e.twMergeConfig,theme:{...(h=e==null?void 0:e.twMergeConfig)==null?void 0:h.theme,opacity:["disabled"],spacing:["divider","unit",...mappedSpacingScaleKeys],borderWidth:COMMON_UNITS,borderRadius:COMMON_UNITS},classGroups:{...(b=e==null?void 0:e.twMergeConfig)==null?void 0:b.classGroups,shadow:[{shadow:COMMON_UNITS}],"font-size":[{text:["tiny",...COMMON_UNITS]}],"bg-image":["bg-stripe-gradient"],"min-w":[{"min-w":["unit",...mappedSpacingScaleKeys]}],"min-h":[{"min-h":["unit",...mappedSpacingScaleKeys]}]}}})},dataFocusVisibleClasses=["outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],collapseAdjacentVariantBorders={default:["[&+.border-medium.border-default]:ms-[calc(theme(borderWidth.medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(theme(borderWidth.medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(theme(borderWidth.medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(theme(borderWidth.medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(theme(borderWidth.medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(theme(borderWidth.medium)*-1)]"]},solid={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},shadow={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground",foreground:"shadow-lg shadow-foreground/40 bg-foreground text-background"},bordered={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger",foreground:"bg-transparent border-foreground text-foreground"},flat={default:"bg-default/40 text-default-foreground",primary:"bg-primary/20 text-primary",secondary:"bg-secondary/20 text-secondary",success:"bg-success/20 text-success-600 dark:text-success",warning:"bg-warning/20 text-warning-600 dark:text-warning",danger:"bg-danger/20 text-danger dark:text-danger-500",foreground:"bg-foreground/10 text-foreground"},faded={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger",foreground:"border-default bg-default-100 text-foreground"},light={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger",foreground:"bg-transparent text-foreground"},ghost={default:"border-default text-default-foreground hover:!bg-default",primary:"border-primary text-primary hover:!text-primary-foreground hover:!bg-primary",secondary:"border-secondary text-secondary hover:text-secondary-foreground hover:!bg-secondary",success:"border-success text-success hover:!text-success-foreground hover:!bg-success",warning:"border-warning text-warning hover:!text-warning-foreground hover:!bg-warning",danger:"border-danger text-danger hover:!text-danger-foreground hover:!bg-danger",foreground:"border-foreground text-foreground hover:!bg-foreground"},colorVariants={solid,shadow,bordered,flat,faded,light,ghost},spinner=tv({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",circle1:["absolute","w-full","h-full","rounded-full","animate-spinner-ease-spin","border-2","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["absolute","w-full","h-full","rounded-full","opacity-75","animate-spinner-linear-spin","border-2","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"],label:"text-foreground dark:text-foreground-dark font-regular"},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current"},white:{circle1:"border-b-white",circle2:"border-b-white"},default:{circle1:"border-b-default",circle2:"border-b-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground"}}),navbar=tv({slots:{base:["flex","z-40","w-full","h-auto","items-center","justify-center","data-[menu-open=true]:border-none"],wrapper:["z-40","flex","px-6","gap-4","w-full","flex-row","relative","flex-nowrap","items-center","justify-between","h-[var(--navbar-height)]"],toggle:["group","flex","items-center","justify-center","w-6","h-full","outline-none","rounded-small","tap-highlight-transparent",...dataFocusVisibleClasses],srOnly:["sr-only"],toggleIcon:["w-full","h-full","pointer-events-none","flex","flex-col","items-center","justify-center","text-inherit","group-data-[pressed=true]:opacity-70","transition-opacity","before:content-['']","before:block","before:h-px","before:w-6","before:bg-current","before:transition-transform","before:duration-150","before:-translate-y-1","before:rotate-0","group-data-[open=true]:before:translate-y-px","group-data-[open=true]:before:rotate-45","after:content-['']","after:block","after:h-px","after:w-6","after:bg-current","after:transition-transform","after:duration-150","after:translate-y-1","after:rotate-0","group-data-[open=true]:after:translate-y-0","group-data-[open=true]:after:-rotate-45"],brand:["flex","basis-0","flex-row","flex-grow","flex-nowrap","justify-start","bg-transparent","items-center","no-underline","text-medium","whitespace-nowrap","box-border"],content:["flex","gap-4","h-full","flex-row","flex-nowrap","items-center","data-[justify=start]:justify-start","data-[justify=start]:flex-grow","data-[justify=start]:basis-0","data-[justify=center]:justify-center","data-[justify=end]:justify-end","data-[justify=end]:flex-grow","data-[justify=end]:basis-0"],item:["text-medium","whitespace-nowrap","box-border","list-none","data-[active=true]:font-semibold"],menu:["z-30","px-6","pt-2","fixed","flex","max-w-full","top-[var(--navbar-height)]","inset-x-0","bottom-0","w-screen","flex-col","gap-2","overflow-y-auto"],menuItem:["text-large","data-[active=true]:font-semibold"]},variants:{position:{static:{base:"static"},sticky:{base:"sticky top-0 inset-x-0"}},maxWidth:{sm:{wrapper:"max-w-[640px]"},md:{wrapper:"max-w-[768px]"},lg:{wrapper:"max-w-[1024px]"},xl:{wrapper:"max-w-[1280px]"},"2xl":{wrapper:"max-w-[1536px]"},full:{wrapper:"max-w-full"}},hideOnScroll:{true:{base:["sticky","top-0","inset-x-0"]}},isBordered:{true:{base:["border-b","border-divider"]}},isBlurred:{false:{base:"bg-background",menu:"bg-background"},true:{base:["backdrop-blur-lg","data-[menu-open=true]:backdrop-blur-xl","backdrop-saturate-150","bg-background/70"],menu:["backdrop-blur-xl","backdrop-saturate-150","bg-background/70"]}},disableAnimation:{true:{menu:["hidden","h-[calc(100dvh_-_var(--navbar-height)_-_1px)]","data-[open=true]:flex"]}}},defaultVariants:{maxWidth:"lg",position:"sticky",isBlurred:!0}}),image=tv({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1,disableAnimation:!1},compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),link=tv({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...dataFocusVisibleClasses],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1,disableAnimation:!1}}),linkAnchorClasses="flex mx-1 text-current self-center",button=tv({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-none","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent",...dataFocusVisibleClasses],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-unit-3 min-w-unit-16 h-unit-8 text-tiny gap-unit-2 rounded-small",md:"px-unit-4 min-w-unit-20 h-unit-10 text-small gap-unit-2 rounded-medium",lg:"px-unit-6 min-w-unit-24 h-unit-12 text-medium gap-unit-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-unit-0 !gap-unit-0",false:"[&>svg]:max-w-[theme(spacing.unit-8)]"},disableAnimation:{true:"!transition-none",false:"data-[pressed=true]:scale-[0.97] transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1,disableAnimation:!1},compoundVariants:[{variant:"solid",color:"default",class:colorVariants.solid.default},{variant:"solid",color:"primary",class:colorVariants.solid.primary},{variant:"solid",color:"secondary",class:colorVariants.solid.secondary},{variant:"solid",color:"success",class:colorVariants.solid.success},{variant:"solid",color:"warning",class:colorVariants.solid.warning},{variant:"solid",color:"danger",class:colorVariants.solid.danger},{variant:"shadow",color:"default",class:colorVariants.shadow.default},{variant:"shadow",color:"primary",class:colorVariants.shadow.primary},{variant:"shadow",color:"secondary",class:colorVariants.shadow.secondary},{variant:"shadow",color:"success",class:colorVariants.shadow.success},{variant:"shadow",color:"warning",class:colorVariants.shadow.warning},{variant:"shadow",color:"danger",class:colorVariants.shadow.danger},{variant:"bordered",color:"default",class:colorVariants.bordered.default},{variant:"bordered",color:"primary",class:colorVariants.bordered.primary},{variant:"bordered",color:"secondary",class:colorVariants.bordered.secondary},{variant:"bordered",color:"success",class:colorVariants.bordered.success},{variant:"bordered",color:"warning",class:colorVariants.bordered.warning},{variant:"bordered",color:"danger",class:colorVariants.bordered.danger},{variant:"flat",color:"default",class:colorVariants.flat.default},{variant:"flat",color:"primary",class:colorVariants.flat.primary},{variant:"flat",color:"secondary",class:colorVariants.flat.secondary},{variant:"flat",color:"success",class:colorVariants.flat.success},{variant:"flat",color:"warning",class:colorVariants.flat.warning},{variant:"flat",color:"danger",class:colorVariants.flat.danger},{variant:"faded",color:"default",class:colorVariants.faded.default},{variant:"faded",color:"primary",class:colorVariants.faded.primary},{variant:"faded",color:"secondary",class:colorVariants.faded.secondary},{variant:"faded",color:"success",class:colorVariants.faded.success},{variant:"faded",color:"warning",class:colorVariants.faded.warning},{variant:"faded",color:"danger",class:colorVariants.faded.danger},{variant:"light",color:"default",class:[colorVariants.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[colorVariants.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[colorVariants.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[colorVariants.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[colorVariants.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[colorVariants.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:colorVariants.ghost.default},{variant:"ghost",color:"primary",class:colorVariants.ghost.primary},{variant:"ghost",color:"secondary",class:colorVariants.ghost.secondary},{variant:"ghost",color:"success",class:colorVariants.ghost.success},{variant:"ghost",color:"warning",class:colorVariants.ghost.warning},{variant:"ghost",color:"danger",class:colorVariants.ghost.danger},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:collapseAdjacentVariantBorders.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:collapseAdjacentVariantBorders.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:collapseAdjacentVariantBorders.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:collapseAdjacentVariantBorders.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:collapseAdjacentVariantBorders.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:collapseAdjacentVariantBorders.danger},{isIconOnly:!0,size:"sm",class:"min-w-unit-8 w-unit-8 h-unit-8"},{isIconOnly:!0,size:"md",class:"min-w-unit-10 w-unit-10 h-unit-10"},{isIconOnly:!0,size:"lg",class:"min-w-unit-12 w-unit-12 h-unit-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});tv({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});function toVal(o){var e,s,h="";if(typeof o=="string"||typeof o=="number")h+=o;else if(typeof o=="object")if(Array.isArray(o))for(e=0;e<o.length;e++)o[e]&&(s=toVal(o[e]))&&(h&&(h+=" "),h+=s);else for(e in o)o[e]&&(h&&(h+=" "),h+=e);return h}function clsx(...o){for(var e=0,s,h,b="";e<o.length;)(s=o[e++])&&(h=toVal(s))&&(b&&(b+=" "),b+=h);return b}function getUniqueID(o){return`${o}-${Math.floor(Math.random()*1e6)}`}var dataAttr=o=>o?"true":void 0;function createContext2(o={}){const{strict:e=!0,errorMessage:s="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:h}=o,b=reactExports.createContext(void 0);b.displayName=h;function _e(){var rt;const at=reactExports.useContext(b);if(!at&&e){const st=new Error(s);throw st.name="ContextError",(rt=Error.captureStackTrace)==null||rt.call(Error,st,_e),st}return at}return[b.Provider,_e,b]}function useDOMRef(o){const e=reactExports.useRef(null);return reactExports.useImperativeHandle(o,()=>e.current),e}var __create=Object.create,__defProp$1=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(o,e)=>function(){return e||(0,o[__getOwnPropNames(o)[0]])((e={exports:{}}).exports,e),e.exports},__copyProps=(o,e,s,h)=>{if(e&&typeof e=="object"||typeof e=="function")for(let b of __getOwnPropNames(e))!__hasOwnProp.call(o,b)&&b!==s&&__defProp$1(o,b,{get:()=>e[b],enumerable:!(h=__getOwnPropDesc(e,b))||h.enumerable});return o},__toESM=(o,e,s)=>(s=o!=null?__create(__getProtoOf(o)):{},__copyProps(e||!o||!o.__esModule?__defProp$1(s,"default",{value:o,enumerable:!0}):s,o)),require_react_production_min=__commonJS({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react.production.min.js"(o){var e=Symbol.for("react.element"),s=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),rt=Symbol.for("react.provider"),at=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),nt=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),d=Symbol.iterator;function _(kt){return kt===null||typeof kt!="object"?null:(kt=d&&kt[d]||kt["@@iterator"],typeof kt=="function"?kt:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lt=Object.assign,ut={};function ct(kt,jt,Vt){this.props=kt,this.context=jt,this.refs=ut,this.updater=Vt||tt}ct.prototype.isReactComponent={},ct.prototype.setState=function(kt,jt){if(typeof kt!="object"&&typeof kt!="function"&&kt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,kt,jt,"setState")},ct.prototype.forceUpdate=function(kt){this.updater.enqueueForceUpdate(this,kt,"forceUpdate")};function ft(){}ft.prototype=ct.prototype;function dt(kt,jt,Vt){this.props=kt,this.context=jt,this.refs=ut,this.updater=Vt||tt}var ht=dt.prototype=new ft;ht.constructor=dt,lt(ht,ct.prototype),ht.isPureReactComponent=!0;var gt=Array.isArray,yt=Object.prototype.hasOwnProperty,vt={current:null},mt={key:!0,ref:!0,__self:!0,__source:!0};function bt(kt,jt,Vt){var Gt,Yt={},er=null,nr=null;if(jt!=null)for(Gt in jt.ref!==void 0&&(nr=jt.ref),jt.key!==void 0&&(er=""+jt.key),jt)yt.call(jt,Gt)&&!mt.hasOwnProperty(Gt)&&(Yt[Gt]=jt[Gt]);var Et=arguments.length-2;if(Et===1)Yt.children=Vt;else if(1<Et){for(var Ot=Array(Et),At=0;At<Et;At++)Ot[At]=arguments[At+2];Yt.children=Ot}if(kt&&kt.defaultProps)for(Gt in Et=kt.defaultProps,Et)Yt[Gt]===void 0&&(Yt[Gt]=Et[Gt]);return{$$typeof:e,type:kt,key:er,ref:nr,props:Yt,_owner:vt.current}}function $t(kt,jt){return{$$typeof:e,type:kt.type,key:jt,ref:kt.ref,props:kt.props,_owner:kt._owner}}function St(kt){return typeof kt=="object"&&kt!==null&&kt.$$typeof===e}function Pt(kt){var jt={"=":"=0",":":"=2"};return"$"+kt.replace(/[=:]/g,function(Vt){return jt[Vt]})}var _t=/\/+/g;function wt(kt,jt){return typeof kt=="object"&&kt!==null&&kt.key!=null?Pt(""+kt.key):jt.toString(36)}function xt(kt,jt,Vt,Gt,Yt){var er=typeof kt;(er==="undefined"||er==="boolean")&&(kt=null);var nr=!1;if(kt===null)nr=!0;else switch(er){case"string":case"number":nr=!0;break;case"object":switch(kt.$$typeof){case e:case s:nr=!0}}if(nr)return nr=kt,Yt=Yt(nr),kt=Gt===""?"."+wt(nr,0):Gt,gt(Yt)?(Vt="",kt!=null&&(Vt=kt.replace(_t,"$&/")+"/"),xt(Yt,jt,Vt,"",function(At){return At})):Yt!=null&&(St(Yt)&&(Yt=$t(Yt,Vt+(!Yt.key||nr&&nr.key===Yt.key?"":(""+Yt.key).replace(_t,"$&/")+"/")+kt)),jt.push(Yt)),1;if(nr=0,Gt=Gt===""?".":Gt+":",gt(kt))for(var Et=0;Et<kt.length;Et++){er=kt[Et];var Ot=Gt+wt(er,Et);nr+=xt(er,jt,Vt,Ot,Yt)}else if(Ot=_(kt),typeof Ot=="function")for(kt=Ot.call(kt),Et=0;!(er=kt.next()).done;)er=er.value,Ot=Gt+wt(er,Et++),nr+=xt(er,jt,Vt,Ot,Yt);else if(er==="object")throw jt=String(kt),Error("Objects are not valid as a React child (found: "+(jt==="[object Object]"?"object with keys {"+Object.keys(kt).join(", ")+"}":jt)+"). If you meant to render a collection of children, use an array instead.");return nr}function Tt(kt,jt,Vt){if(kt==null)return kt;var Gt=[],Yt=0;return xt(kt,Gt,"","",function(er){return jt.call(Vt,er,Yt++)}),Gt}function It(kt){if(kt._status===-1){var jt=kt._result;jt=jt(),jt.then(function(Vt){(kt._status===0||kt._status===-1)&&(kt._status=1,kt._result=Vt)},function(Vt){(kt._status===0||kt._status===-1)&&(kt._status=2,kt._result=Vt)}),kt._status===-1&&(kt._status=0,kt._result=jt)}if(kt._status===1)return kt._result.default;throw kt._result}var Ct={current:null},Rt={transition:null},Ut={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:Rt,ReactCurrentOwner:vt};o.Children={map:Tt,forEach:function(kt,jt,Vt){Tt(kt,function(){jt.apply(this,arguments)},Vt)},count:function(kt){var jt=0;return Tt(kt,function(){jt++}),jt},toArray:function(kt){return Tt(kt,function(jt){return jt})||[]},only:function(kt){if(!St(kt))throw Error("React.Children.only expected to receive a single React element child.");return kt}},o.Component=ct,o.Fragment=h,o.Profiler=_e,o.PureComponent=dt,o.StrictMode=b,o.Suspense=ot,o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ut,o.cloneElement=function(kt,jt,Vt){if(kt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+kt+".");var Gt=lt({},kt.props),Yt=kt.key,er=kt.ref,nr=kt._owner;if(jt!=null){if(jt.ref!==void 0&&(er=jt.ref,nr=vt.current),jt.key!==void 0&&(Yt=""+jt.key),kt.type&&kt.type.defaultProps)var Et=kt.type.defaultProps;for(Ot in jt)yt.call(jt,Ot)&&!mt.hasOwnProperty(Ot)&&(Gt[Ot]=jt[Ot]===void 0&&Et!==void 0?Et[Ot]:jt[Ot])}var Ot=arguments.length-2;if(Ot===1)Gt.children=Vt;else if(1<Ot){Et=Array(Ot);for(var At=0;At<Ot;At++)Et[At]=arguments[At+2];Gt.children=Et}return{$$typeof:e,type:kt.type,key:Yt,ref:er,props:Gt,_owner:nr}},o.createContext=function(kt){return kt={$$typeof:at,_currentValue:kt,_currentValue2:kt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},kt.Provider={$$typeof:rt,_context:kt},kt.Consumer=kt},o.createElement=bt,o.createFactory=function(kt){var jt=bt.bind(null,kt);return jt.type=kt,jt},o.createRef=function(){return{current:null}},o.forwardRef=function(kt){return{$$typeof:st,render:kt}},o.isValidElement=St,o.lazy=function(kt){return{$$typeof:et,_payload:{_status:-1,_result:kt},_init:It}},o.memo=function(kt,jt){return{$$typeof:nt,type:kt,compare:jt===void 0?null:jt}},o.startTransition=function(kt){var jt=Rt.transition;Rt.transition={};try{kt()}finally{Rt.transition=jt}},o.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},o.useCallback=function(kt,jt){return Ct.current.useCallback(kt,jt)},o.useContext=function(kt){return Ct.current.useContext(kt)},o.useDebugValue=function(){},o.useDeferredValue=function(kt){return Ct.current.useDeferredValue(kt)},o.useEffect=function(kt,jt){return Ct.current.useEffect(kt,jt)},o.useId=function(){return Ct.current.useId()},o.useImperativeHandle=function(kt,jt,Vt){return Ct.current.useImperativeHandle(kt,jt,Vt)},o.useInsertionEffect=function(kt,jt){return Ct.current.useInsertionEffect(kt,jt)},o.useLayoutEffect=function(kt,jt){return Ct.current.useLayoutEffect(kt,jt)},o.useMemo=function(kt,jt){return Ct.current.useMemo(kt,jt)},o.useReducer=function(kt,jt,Vt){return Ct.current.useReducer(kt,jt,Vt)},o.useRef=function(kt){return Ct.current.useRef(kt)},o.useState=function(kt){return Ct.current.useState(kt)},o.useSyncExternalStore=function(kt,jt,Vt){return Ct.current.useSyncExternalStore(kt,jt,Vt)},o.useTransition=function(){return Ct.current.useTransition()},o.version="18.2.0"}}),require_react=__commonJS({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"(o,e){e.exports=require_react_production_min()}});/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var import_react=__toESM(require_react()),pickChildren=(o,e)=>{var s;let h=[];const b=(s=import_react.Children.map(o,rt=>(0,import_react.isValidElement)(rt)&&rt.type===e?(h.push(rt),null):rt))==null?void 0:s.filter(Boolean),_e=h.length>=0?h:void 0;return[b,_e]},DOMPropNames=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),DOMEventNames=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),propRe=/^(data-.*)$/,ariaRe=/^(aria-.*)$/,funcRe=/^(on[A-Z].*)$/;function filterDOMProps(o,e={}){let{labelable:s=!0,enabled:h=!0,propNames:b,omitPropNames:_e,omitEventNames:rt}=e,at={};if(!h)return o;for(const st in o)_e!=null&&_e.has(st)||rt!=null&&rt.has(st)&&funcRe.test(st)||funcRe.test(st)&&!DOMEventNames.has(st)||(Object.prototype.hasOwnProperty.call(o,st)&&(DOMPropNames.has(st)||s&&ariaRe.test(st)||b!=null&&b.has(st)||propRe.test(st))||funcRe.test(st))&&(at[st]=o[st]);return at}var PressResponderContext=React.createContext(null);PressResponderContext.displayName="PressResponderContext";var __defProp=Object.defineProperty,__defNormalProp=(o,e,s)=>e in o?__defProp(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s,__publicField=(o,e,s)=>(__defNormalProp(o,typeof e!="symbol"?e+"":e,s),s),__accessCheck=(o,e,s)=>{if(!e.has(o))throw TypeError("Cannot "+s)},__privateGet=(o,e,s)=>(__accessCheck(o,e,"read from private field"),s?s.call(o):e.get(o)),__privateAdd=(o,e,s)=>{if(e.has(o))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(o):e.set(o,s)},__privateSet=(o,e,s,h)=>(__accessCheck(o,e,"write to private field"),h?h.call(o,s):e.set(o,s),s),_shouldStopPropagation,PressEvent=class{constructor(o,e,s){__publicField(this,"type"),__publicField(this,"pointerType"),__publicField(this,"target"),__publicField(this,"shiftKey"),__publicField(this,"ctrlKey"),__publicField(this,"metaKey"),__publicField(this,"altKey"),__privateAdd(this,_shouldStopPropagation,!0),this.type=o,this.pointerType=e,this.target=s.currentTarget,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.ctrlKey=s.ctrlKey,this.altKey=s.altKey}continuePropagation(){__privateSet(this,_shouldStopPropagation,!1)}get shouldStopPropagation(){return __privateGet(this,_shouldStopPropagation)}};_shouldStopPropagation=new WeakMap;var getOwnerDocument=o=>{var e;return(e=o==null?void 0:o.ownerDocument)!=null?e:document},getOwnerWindow=o=>{var e,s;return(s=(e=o==null?void 0:o.ownerDocument)==null?void 0:e.defaultView)!=null?s:window},state="default",savedUserSelect="",modifiedElementMap=new WeakMap;function disableTextSelection(o){if($c87311424ea30a05$export$fedb369cb70207f1()){if(state==="default"){const e=getOwnerDocument(o);savedUserSelect=e.documentElement.style.webkitUserSelect,e.documentElement.style.webkitUserSelect="none"}state="disabled"}else(o instanceof HTMLElement||o instanceof SVGElement)&&(modifiedElementMap.set(o,o.style.userSelect),o.style.userSelect="none")}function restoreTextSelection(o){if($c87311424ea30a05$export$fedb369cb70207f1()){if(state!=="disabled")return;state="restoring",setTimeout(()=>{$bbed8b41f857bcc0$export$24490316f764c430(()=>{if(state==="restoring"){const e=getOwnerDocument(o);e.documentElement.style.webkitUserSelect==="none"&&(e.documentElement.style.webkitUserSelect=savedUserSelect||""),savedUserSelect="",state="default"}})},300)}else if((o instanceof HTMLElement||o instanceof SVGElement)&&o&&modifiedElementMap.has(o)){let e=modifiedElementMap.get(o);o.style.userSelect==="none"&&e&&(o.style.userSelect=e),o.getAttribute("style")===""&&o.removeAttribute("style"),modifiedElementMap.delete(o)}}function usePressResponderContext(o){let e=reactExports.useContext(PressResponderContext);if(e){let{register:s,...h}=e;o=$3ef42575df84b30b$export$9d1611c77c2fe928(h,o),s()}return $e7801be82b4b2a53$export$4debdb1a3f0fa79e(e,o.ref),o}var LINK_CLICKED=Symbol("linkClicked");function usePress(o){let{onPress:e,onPressChange:s,onPressStart:h,onPressEnd:b,onPressUp:_e,isDisabled:rt,isPressed:at,preventFocusOnPress:st,shouldCancelOnPointerExit:ot,allowTextSelectionOnPress:nt,ref:et,...d}=usePressResponderContext(o),[_,tt]=reactExports.useState(!1),lt=reactExports.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:ut,removeAllGlobalListeners:ct}=$03deb23ff14920c4$export$4eaf04e54aa8eed6(),ft=$8ae05eaa5c114e9c$export$7f54fc3180508a52((mt,bt)=>{let $t=lt.current;if(rt||$t.didFirePressStart)return;let St=!0;if($t.isTriggeringEvent=!0,h){let Pt=new PressEvent("pressstart",bt,mt);h(Pt),St=Pt.shouldStopPropagation}return s&&s(!0),$t.isTriggeringEvent=!1,$t.didFirePressStart=!0,tt(!0),St}),dt=$8ae05eaa5c114e9c$export$7f54fc3180508a52((mt,bt,$t=!0)=>{let St=lt.current;if(!St.didFirePressStart)return;St.ignoreClickAfterPress=!0,St.didFirePressStart=!1,St.isTriggeringEvent=!0;let Pt=!0;if(b){let _t=new PressEvent("pressend",bt,mt);b(_t),Pt=_t.shouldStopPropagation}if(s&&s(!1),tt(!1),e&&$t&&!rt){let _t=new PressEvent("press",bt,mt);e(_t),Pt&&(Pt=_t.shouldStopPropagation)}return St.isTriggeringEvent=!1,Pt}),ht=$8ae05eaa5c114e9c$export$7f54fc3180508a52((mt,bt)=>{let $t=lt.current;if(!rt){if(_e){$t.isTriggeringEvent=!0;let St=new PressEvent("pressup",bt,mt);return _e(St),$t.isTriggeringEvent=!1,St.shouldStopPropagation}return!0}}),gt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(mt=>{let bt=lt.current;bt.isPressed&&(bt.isOverTarget&&bt.target&&dt(createEvent(bt.target,mt),bt.pointerType,!1),bt.isPressed=!1,bt.isOverTarget=!1,bt.activePointerId=null,bt.pointerType=null,ct(),!nt&&bt.target&&restoreTextSelection(bt.target))}),yt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(mt=>{ot&&gt(mt)}),vt=reactExports.useMemo(()=>{let mt=lt.current,bt={onKeyDown(St){var Pt;if(isValidKeyboardEvent(St.nativeEvent,St.currentTarget)&&St.currentTarget.contains(St.target)){shouldPreventDefaultKeyboard(St.target,St.key)&&St.preventDefault();let _t=!0;!mt.isPressed&&!St.repeat&&(mt.target=St.currentTarget,mt.isPressed=!0,_t=ft(St,"keyboard"),ut(getOwnerDocument(St.currentTarget),"keyup",$t,!1)),_t&&St.stopPropagation(),St.metaKey&&$c87311424ea30a05$export$9ac100e40613ea10()&&((Pt=mt.metaKeyEvents)==null||Pt.set(St.key,St.nativeEvent))}else St.key==="Meta"&&(mt.metaKeyEvents=new Map)},onKeyUp(St){mt.target&&isValidKeyboardEvent(St.nativeEvent,St.currentTarget)&&!St.repeat&&St.currentTarget.contains(St.target)&&ht(createEvent(mt.target,St),"keyboard")},onClick(St){if(!(St&&!St.currentTarget.contains(St.target))&&St&&St.button===0&&!mt.isTriggeringEvent&&!$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening){let Pt=!0;if(rt&&St.preventDefault(),!mt.ignoreClickAfterPress&&!mt.ignoreEmulatedMouseEvents&&!mt.isPressed&&(mt.pointerType==="virtual"||$6a7db85432448f7f$export$60278871457622de(St.nativeEvent))){!rt&&!st&&$7215afc6de606d6b$export$de79e2c695e052f3(St.currentTarget);let _t=ft(St,"virtual"),wt=ht(St,"virtual"),xt=dt(St,"virtual");Pt=_t&&wt&&xt}mt.ignoreEmulatedMouseEvents=!1,mt.ignoreClickAfterPress=!1,Pt&&St.stopPropagation()}}},$t=St=>{var Pt,_t;if(mt.isPressed&&mt.target&&isValidKeyboardEvent(St,mt.target)){shouldPreventDefaultKeyboard(St.target,St.key)&&St.preventDefault();let wt=St.target,xt=dt(createEvent(mt.target,St),"keyboard",mt.target.contains(wt));ct(),xt&&St.stopPropagation(),St.key!=="Enter"&&isHTMLAnchorLink(mt.target)&&mt.target.contains(wt)&&!St[LINK_CLICKED]&&(St[LINK_CLICKED]=!0,$ea8dcbcb9ea1b556$export$95185d699e05d4d7(mt.target,St,!1)),mt.isPressed=!1,(Pt=mt.metaKeyEvents)==null||Pt.delete(St.key)}else if(St.key==="Meta"&&((_t=mt.metaKeyEvents)!=null&&_t.size)){let wt=mt.metaKeyEvents;mt.metaKeyEvents=null;for(let xt of wt.values())mt.target&&mt.target.dispatchEvent(new KeyboardEvent("keyup",xt))}};if(typeof PointerEvent<"u"){bt.onPointerDown=wt=>{if(wt.button!==0||!wt.currentTarget.contains(wt.target))return;if($6a7db85432448f7f$export$29bf1b5f2c56cf63(wt.nativeEvent)){mt.pointerType="virtual";return}shouldPreventDefault(wt.currentTarget)&&wt.preventDefault(),mt.pointerType=wt.pointerType;let xt=!0;mt.isPressed||(mt.isPressed=!0,mt.isOverTarget=!0,mt.activePointerId=wt.pointerId,mt.target=wt.currentTarget,!rt&&!st&&$7215afc6de606d6b$export$de79e2c695e052f3(wt.currentTarget),nt||disableTextSelection(mt.target),xt=ft(wt,mt.pointerType),ut(getOwnerDocument(wt.currentTarget),"pointermove",St,!1),ut(getOwnerDocument(wt.currentTarget),"pointerup",Pt,!1),ut(getOwnerDocument(wt.currentTarget),"pointercancel",_t,!1)),xt&&wt.stopPropagation()},bt.onMouseDown=wt=>{wt.currentTarget.contains(wt.target)&&wt.button===0&&(shouldPreventDefault(wt.currentTarget)&&wt.preventDefault(),wt.stopPropagation())},bt.onPointerUp=wt=>{!wt.currentTarget.contains(wt.target)||mt.pointerType==="virtual"||wt.button===0&&isOverTarget(wt,wt.currentTarget)&&ht(wt,mt.pointerType||wt.pointerType)};let St=wt=>{wt.pointerId!==mt.activePointerId||!mt.target||(isOverTarget(wt,mt.target)?mt.isOverTarget||(mt.isOverTarget=!0,ft(createEvent(mt.target,wt),mt.pointerType)):mt.isOverTarget&&(mt.isOverTarget=!1,dt(createEvent(mt.target,wt),mt.pointerType,!1),yt(wt)))},Pt=wt=>{wt.pointerId===mt.activePointerId&&mt.isPressed&&wt.button===0&&mt.target&&((isOverTarget(wt,mt.target)||mt.isOverTarget)&&dt(createEvent(mt.target,wt),mt.pointerType),mt.isPressed=!1,mt.isOverTarget=!1,mt.activePointerId=null,mt.pointerType=null,ct(),nt||restoreTextSelection(mt.target))},_t=wt=>{gt(wt)};bt.onDragStart=wt=>{wt.currentTarget.contains(wt.target)&&gt(wt)}}else{bt.onMouseDown=_t=>{if(_t.button!==0||!_t.currentTarget.contains(_t.target))return;if(shouldPreventDefault(_t.currentTarget)&&_t.preventDefault(),mt.ignoreEmulatedMouseEvents){_t.stopPropagation();return}mt.isPressed=!0,mt.isOverTarget=!0,mt.target=_t.currentTarget,mt.pointerType=$6a7db85432448f7f$export$60278871457622de(_t.nativeEvent)?"virtual":"mouse",!rt&&!st&&$7215afc6de606d6b$export$de79e2c695e052f3(_t.currentTarget),ft(_t,mt.pointerType)&&_t.stopPropagation(),ut(getOwnerDocument(_t.currentTarget),"mouseup",St,!1)},bt.onMouseEnter=_t=>{if(!_t.currentTarget.contains(_t.target))return;let wt=!0;mt.isPressed&&!mt.ignoreEmulatedMouseEvents&&(mt.isOverTarget=!0,wt=ft(_t,mt.pointerType)),wt&&_t.stopPropagation()},bt.onMouseLeave=_t=>{if(!_t.currentTarget.contains(_t.target))return;let wt=!0;mt.isPressed&&!mt.ignoreEmulatedMouseEvents&&(mt.isOverTarget=!1,wt=dt(_t,mt.pointerType,!1),yt(_t)),wt&&_t.stopPropagation()},bt.onMouseUp=_t=>{_t.currentTarget.contains(_t.target)&&!mt.ignoreEmulatedMouseEvents&&_t.button===0&&ht(_t,mt.pointerType||"mouse")};let St=_t=>{if(_t.button===0){if(mt.isPressed=!1,ct(),mt.ignoreEmulatedMouseEvents){mt.ignoreEmulatedMouseEvents=!1;return}mt.target&&(isOverTarget(_t,mt.target)?dt(createEvent(mt.target,_t),mt.pointerType):mt.isOverTarget&&dt(createEvent(mt.target,_t),mt.pointerType,!1),mt.isOverTarget=!1)}};bt.onTouchStart=_t=>{if(!_t.currentTarget.contains(_t.target))return;let wt=getTouchFromEvent(_t.nativeEvent);if(!wt)return;mt.activePointerId=wt.identifier,mt.ignoreEmulatedMouseEvents=!0,mt.isOverTarget=!0,mt.isPressed=!0,mt.target=_t.currentTarget,mt.pointerType="touch",!rt&&!st&&$7215afc6de606d6b$export$de79e2c695e052f3(_t.currentTarget),nt||disableTextSelection(mt.target),ft(_t,mt.pointerType)&&_t.stopPropagation(),ut(getOwnerWindow(_t.currentTarget),"scroll",Pt,!0)},bt.onTouchMove=_t=>{if(!_t.currentTarget.contains(_t.target))return;if(!mt.isPressed){_t.stopPropagation();return}let wt=getTouchById(_t.nativeEvent,mt.activePointerId),xt=!0;wt&&isOverTarget(wt,_t.currentTarget)?mt.isOverTarget||(mt.isOverTarget=!0,xt=ft(_t,mt.pointerType)):mt.isOverTarget&&(mt.isOverTarget=!1,xt=dt(_t,mt.pointerType,!1),yt(_t)),xt&&_t.stopPropagation()},bt.onTouchEnd=_t=>{if(!_t.currentTarget.contains(_t.target))return;if(!mt.isPressed){_t.stopPropagation();return}let wt=getTouchById(_t.nativeEvent,mt.activePointerId),xt=!0;wt&&isOverTarget(wt,_t.currentTarget)?(ht(_t,mt.pointerType),xt=dt(_t,mt.pointerType)):mt.isOverTarget&&(xt=dt(_t,mt.pointerType,!1)),xt&&_t.stopPropagation(),mt.isPressed=!1,mt.activePointerId=null,mt.isOverTarget=!1,mt.ignoreEmulatedMouseEvents=!0,!nt&&mt.target&&restoreTextSelection(mt.target),ct()},bt.onTouchCancel=_t=>{_t.currentTarget.contains(_t.target)&&(_t.stopPropagation(),mt.isPressed&&gt(_t))};let Pt=_t=>{mt.isPressed&&_t.target.contains(mt.target)&&gt({currentTarget:mt.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};bt.onDragStart=_t=>{_t.currentTarget.contains(_t.target)&&gt(_t)}}return bt},[ut,rt,st,ct,nt,gt,yt,dt,ft,ht]);return reactExports.useEffect(()=>()=>{!nt&&lt.current.target&&restoreTextSelection(lt.current.target)},[nt]),{isPressed:at||_,pressProps:$3ef42575df84b30b$export$9d1611c77c2fe928(d,vt)}}function isHTMLAnchorLink(o){return o.tagName==="A"&&o.hasAttribute("href")}function isValidKeyboardEvent(o,e){const{key:s,code:h}=o,b=e,_e=b.getAttribute("role");return(s==="Enter"||s===" "||s==="Spacebar"||h==="Space")&&!(b instanceof getOwnerWindow(b).HTMLInputElement&&!isValidInputKey(b,s)||b instanceof getOwnerWindow(b).HTMLTextAreaElement||b.isContentEditable)&&!((_e==="link"||!_e&&isHTMLAnchorLink(b))&&s!=="Enter")}function getTouchFromEvent(o){const{targetTouches:e}=o;return e.length>0?e[0]:null}function getTouchById(o,e){const s=o.changedTouches;for(let h=0;h<s.length;h++){const b=s[h];if(b.identifier===e)return b}return null}function createEvent(o,e){return{currentTarget:o,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey}}function getPointClientRect(o){let e=o.width?o.width/2:o.radiusX||0,s=o.height?o.height/2:o.radiusY||0;return{top:o.clientY-s,right:o.clientX+e,bottom:o.clientY+s,left:o.clientX-e}}function areRectanglesOverlapping(o,e){return!(o.left>e.right||e.left>o.right||o.top>e.bottom||e.top>o.bottom)}function isOverTarget(o,e){let s=e.getBoundingClientRect(),h=getPointClientRect(o);return areRectanglesOverlapping(s,h)}function shouldPreventDefault(o){return!(o instanceof HTMLElement)||!o.hasAttribute("draggable")}function shouldPreventDefaultKeyboard(o,e){return o instanceof HTMLInputElement?!isValidInputKey(o,e):o instanceof HTMLButtonElement?o.type!=="submit"&&o.type!=="reset":!isHTMLAnchorLink(o)}var nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function isValidInputKey(o,e){return o.type==="checkbox"||o.type==="radio"?e===" ":nonTextInputTypes.has(o.type)}var LinkIcon=o=>jsxRuntimeExports.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...o,children:[jsxRuntimeExports.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),jsxRuntimeExports.jsx("path",{d:"M15 3h6v6"}),jsxRuntimeExports.jsx("path",{d:"M10 14L21 3"})]});const MotionConfigContext=reactExports.createContext({transformPagePoint:o=>o,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser$1=typeof document<"u",useIsomorphicLayoutEffect$1=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=o=>o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function useVisualElement(o,e,s,h){const{visualElement:b}=reactExports.useContext(MotionContext),_e=reactExports.useContext(LazyContext),rt=reactExports.useContext(PresenceContext),at=reactExports.useContext(MotionConfigContext).reducedMotion,st=reactExports.useRef();h=h||_e.renderer,!st.current&&h&&(st.current=h(o,{visualState:e,parent:b,props:s,presenceContext:rt,blockInitialAnimation:rt?rt.initial===!1:!1,reducedMotionConfig:at}));const ot=st.current;reactExports.useInsertionEffect(()=>{ot&&ot.update(s,rt)});const nt=reactExports.useRef(!!(s[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect$1(()=>{ot&&(ot.render(),nt.current&&ot.animationState&&ot.animationState.animateChanges())}),reactExports.useEffect(()=>{ot&&(ot.updateFeatures(),!nt.current&&ot.animationState&&ot.animationState.animateChanges(),nt.current&&(nt.current=!1,window.HandoffComplete=!0))}),ot}function isRefObject(o){return typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function useMotionRef(o,e,s){return reactExports.useCallback(h=>{h&&o.mount&&o.mount(h),e&&(h?e.mount(h):e.unmount()),s&&(typeof s=="function"?s(h):isRefObject(s)&&(s.current=h))},[e])}function isVariantLabel(o){return typeof o=="string"||Array.isArray(o)}function isAnimationControls(o){return typeof o=="object"&&typeof o.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(o){return isAnimationControls(o.animate)||variantProps.some(e=>isVariantLabel(o[e]))}function isVariantNode(o){return!!(isControllingVariants(o)||o.variants)}function getCurrentTreeVariants(o,e){if(isControllingVariants(o)){const{initial:s,animate:h}=o;return{initial:s===!1||isVariantLabel(s)?s:void 0,animate:isVariantLabel(h)?h:void 0}}return o.inherit!==!1?e:{}}function useCreateMotionContext(o){const{initial:e,animate:s}=getCurrentTreeVariants(o,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:s}),[variantLabelsAsDependency(e),variantLabelsAsDependency(s)])}function variantLabelsAsDependency(o){return Array.isArray(o)?o.join(" "):o}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const o in featureProps)featureDefinitions[o]={isEnabled:e=>featureProps[o].some(s=>!!e[s])};function loadFeatures(o){for(const e in o)featureDefinitions[e]={...featureDefinitions[e],...o[e]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:o,createVisualElement:e,useRender:s,useVisualState:h,Component:b}){o&&loadFeatures(o);function _e(at,st){let ot;const nt={...reactExports.useContext(MotionConfigContext),...at,layoutId:useLayoutId(at)},{isStatic:et}=nt,d=useCreateMotionContext(at),_=h(at,et);if(!et&&isBrowser$1){d.visualElement=useVisualElement(b,_,nt,e);const tt=reactExports.useContext(SwitchLayoutGroupContext),lt=reactExports.useContext(LazyContext).strict;d.visualElement&&(ot=d.visualElement.loadFeatures(nt,lt,o,tt))}return reactExports.createElement(MotionContext.Provider,{value:d},ot&&d.visualElement?reactExports.createElement(ot,{visualElement:d.visualElement,...nt}):null,s(b,at,useMotionRef(_,d.visualElement,st),_,et,d.visualElement))}const rt=reactExports.forwardRef(_e);return rt[motionComponentSymbol]=b,rt}function useLayoutId({layoutId:o}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&o!==void 0?e+"-"+o:o}function createMotionProxy(o){function e(h,b={}){return createMotionComponent(o(h,b))}if(typeof Proxy>"u")return e;const s=new Map;return new Proxy(e,{get:(h,b)=>(s.has(b)||s.set(b,e(b)),s.get(b))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(o){return typeof o!="string"||o.includes("-")?!1:!!(lowercaseSVGElements.indexOf(o)>-1||/[A-Z]/.test(o))}const scaleCorrectors={};function addScaleCorrector(o){Object.assign(scaleCorrectors,o)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(o,{layout:e,layoutId:s}){return transformProps.has(o)||o.startsWith("origin")||(e||s!==void 0)&&(!!scaleCorrectors[o]||o==="opacity")}const isMotionValue=o=>!!(o&&o.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(o,{enableHardwareAcceleration:e=!0,allowTransformNone:s=!0},h,b){let _e="";for(let rt=0;rt<numTransforms;rt++){const at=transformPropOrder[rt];if(o[at]!==void 0){const st=translateAlias[at]||at;_e+=`${st}(${o[at]}) `}}return e&&!o.z&&(_e+="translateZ(0)"),_e=_e.trim(),b?_e=b(o,h?"":_e):s&&h&&(_e="none"),_e}const checkStringStartsWith=o=>e=>typeof e=="string"&&e.startsWith(o),isCSSVariableName=checkStringStartsWith("--"),isCSSVariableToken=checkStringStartsWith("var(--"),cssVariableRegex=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,getValueAsType=(o,e)=>e&&typeof o=="number"?e.transform(o):o,clamp$1=(o,e,s)=>Math.min(Math.max(s,o),e),number$1={test:o=>typeof o=="number",parse:parseFloat,transform:o=>o},alpha={...number$1,transform:o=>clamp$1(0,1,o)},scale={...number$1,default:1},sanitize=o=>Math.round(o*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$1(o){return typeof o=="string"}const createUnitType=o=>({test:e=>isString$1(e)&&e.endsWith(o)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${o}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:o=>percent.parse(o)/100,transform:o=>percent.transform(o*100)},int={...number$1,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(o,e,s,h){const{style:b,vars:_e,transform:rt,transformOrigin:at}=o;let st=!1,ot=!1,nt=!0;for(const et in e){const d=e[et];if(isCSSVariableName(et)){_e[et]=d;continue}const _=numberValueTypes[et],tt=getValueAsType(d,_);if(transformProps.has(et)){if(st=!0,rt[et]=tt,!nt)continue;d!==(_.default||0)&&(nt=!1)}else et.startsWith("origin")?(ot=!0,at[et]=tt):b[et]=tt}if(e.transform||(st||h?b.transform=buildTransform(o.transform,s,nt,h):b.transform&&(b.transform="none")),ot){const{originX:et="50%",originY:d="50%",originZ:_=0}=at;b.transformOrigin=`${et} ${d} ${_}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(o,e,s){for(const h in e)!isMotionValue(e[h])&&!isForcedMotionValue(h,s)&&(o[h]=e[h])}function useInitialMotionValues({transformTemplate:o},e,s){return reactExports.useMemo(()=>{const h=createHtmlRenderState();return buildHTMLStyles(h,e,{enableHardwareAcceleration:!s},o),Object.assign({},h.vars,h.style)},[e])}function useStyle(o,e,s){const h=o.style||{},b={};return copyRawValuesOnly(b,h,o),Object.assign(b,useInitialMotionValues(o,e,s)),o.transformValues?o.transformValues(b):b}function useHTMLProps(o,e,s){const h={},b=useStyle(o,e,s);return o.drag&&o.dragListener!==!1&&(h.draggable=!1,b.userSelect=b.WebkitUserSelect=b.WebkitTouchCallout="none",b.touchAction=o.drag===!0?"none":`pan-${o.drag==="x"?"y":"x"}`),o.tabIndex===void 0&&(o.onTap||o.onTapStart||o.whileTap)&&(h.tabIndex=0),h.style=b,h}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function isValidMotionProp(o){return o.startsWith("while")||o.startsWith("drag")&&o!=="draggable"||o.startsWith("layout")||o.startsWith("onTap")||o.startsWith("onPan")||validMotionProps.has(o)}let shouldForward=o=>!isValidMotionProp(o);function loadExternalIsValidProp(o){o&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):o(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(o,e,s){const h={};for(const b in o)b==="values"&&typeof o.values=="object"||(shouldForward(b)||s===!0&&isValidMotionProp(b)||!e&&!isValidMotionProp(b)||o.draggable&&b.startsWith("onDrag"))&&(h[b]=o[b]);return h}function calcOrigin$1(o,e,s){return typeof o=="string"?o:px.transform(e+s*o)}function calcSVGTransformOrigin(o,e,s){const h=calcOrigin$1(e,o.x,o.width),b=calcOrigin$1(s,o.y,o.height);return`${h} ${b}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(o,e,s=1,h=0,b=!0){o.pathLength=1;const _e=b?dashKeys:camelKeys;o[_e.offset]=px.transform(-h);const rt=px.transform(e),at=px.transform(s);o[_e.array]=`${rt} ${at}`}function buildSVGAttrs(o,{attrX:e,attrY:s,attrScale:h,originX:b,originY:_e,pathLength:rt,pathSpacing:at=1,pathOffset:st=0,...ot},nt,et,d){if(buildHTMLStyles(o,ot,nt,d),et){o.style.viewBox&&(o.attrs.viewBox=o.style.viewBox);return}o.attrs=o.style,o.style={};const{attrs:_,style:tt,dimensions:lt}=o;_.transform&&(lt&&(tt.transform=_.transform),delete _.transform),lt&&(b!==void 0||_e!==void 0||tt.transform)&&(tt.transformOrigin=calcSVGTransformOrigin(lt,b!==void 0?b:.5,_e!==void 0?_e:.5)),e!==void 0&&(_.x=e),s!==void 0&&(_.y=s),h!==void 0&&(_.scale=h),rt!==void 0&&buildSVGPath(_,rt,at,st,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=o=>typeof o=="string"&&o.toLowerCase()==="svg";function useSVGProps(o,e,s,h){const b=reactExports.useMemo(()=>{const _e=createSvgRenderState();return buildSVGAttrs(_e,e,{enableHardwareAcceleration:!1},isSVGTag(h),o.transformTemplate),{..._e.attrs,style:{..._e.style}}},[e]);if(o.style){const _e={};copyRawValuesOnly(_e,o.style,o),b.style={..._e,...b.style}}return b}function createUseRender(o=!1){return(s,h,b,{latestValues:_e},rt)=>{const st=(isSVGComponent(s)?useSVGProps:useHTMLProps)(h,_e,rt,s),nt={...filterProps(h,typeof s=="string",o),...st,ref:b},{children:et}=h,d=reactExports.useMemo(()=>isMotionValue(et)?et.get():et,[et]);return reactExports.createElement(s,{...nt,children:d})}}function renderHTML(o,{style:e,vars:s},h,b){Object.assign(o.style,e,b&&b.getProjectionStyles(h));for(const _e in s)o.style.setProperty(_e,s[_e])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(o,e,s,h){renderHTML(o,e,void 0,h);for(const b in e.attrs)o.setAttribute(camelCaseAttributes.has(b)?b:camelToDash(b),e.attrs[b])}function scrapeMotionValuesFromProps$1(o,e){const{style:s}=o,h={};for(const b in s)(isMotionValue(s[b])||e.style&&isMotionValue(e.style[b])||isForcedMotionValue(b,o))&&(h[b]=s[b]);return h}function scrapeMotionValuesFromProps(o,e){const s=scrapeMotionValuesFromProps$1(o,e);for(const h in o)if(isMotionValue(o[h])||isMotionValue(e[h])){const b=transformPropOrder.indexOf(h)!==-1?"attr"+h.charAt(0).toUpperCase()+h.substring(1):h;s[b]=o[h]}return s}function resolveVariantFromProps(o,e,s,h={},b={}){return typeof e=="function"&&(e=e(s!==void 0?s:o.custom,h,b)),typeof e=="string"&&(e=o.variants&&o.variants[e]),typeof e=="function"&&(e=e(s!==void 0?s:o.custom,h,b)),e}function useConstant(o){const e=reactExports.useRef(null);return e.current===null&&(e.current=o()),e.current}const isKeyframesTarget=o=>Array.isArray(o),isCustomValue=o=>!!(o&&typeof o=="object"&&o.mix&&o.toValue),resolveFinalValueInKeyframes=o=>isKeyframesTarget(o)?o[o.length-1]||0:o;function resolveMotionValue(o){const e=isMotionValue(o)?o.get():o;return isCustomValue(e)?e.toValue():e}function makeState({scrapeMotionValuesFromProps:o,createRenderState:e,onMount:s},h,b,_e){const rt={latestValues:makeLatestValues(h,b,_e,o),renderState:e()};return s&&(rt.mount=at=>s(h,at,rt)),rt}const makeUseVisualState=o=>(e,s)=>{const h=reactExports.useContext(MotionContext),b=reactExports.useContext(PresenceContext),_e=()=>makeState(o,e,h,b);return s?_e():useConstant(_e)};function makeLatestValues(o,e,s,h){const b={},_e=h(o,{});for(const d in _e)b[d]=resolveMotionValue(_e[d]);let{initial:rt,animate:at}=o;const st=isControllingVariants(o),ot=isVariantNode(o);e&&ot&&!st&&o.inherit!==!1&&(rt===void 0&&(rt=e.initial),at===void 0&&(at=e.animate));let nt=s?s.initial===!1:!1;nt=nt||rt===!1;const et=nt?at:rt;return et&&typeof et!="boolean"&&!isAnimationControls(et)&&(Array.isArray(et)?et:[et]).forEach(_=>{const tt=resolveVariantFromProps(o,_);if(!tt)return;const{transitionEnd:lt,transition:ut,...ct}=tt;for(const ft in ct){let dt=ct[ft];if(Array.isArray(dt)){const ht=nt?dt.length-1:0;dt=dt[ht]}dt!==null&&(b[ft]=dt)}for(const ft in lt)b[ft]=lt[ft]}),b}const noop$2=o=>o;let Queue$4=class{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const s=this.order.indexOf(e);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}};function createRenderStep(o){let e=new Queue$4,s=new Queue$4,h=0,b=!1,_e=!1;const rt=new WeakSet,at={schedule:(st,ot=!1,nt=!1)=>{const et=nt&&b,d=et?e:s;return ot&&rt.add(st),d.add(st)&&et&&b&&(h=e.order.length),st},cancel:st=>{s.remove(st),rt.delete(st)},process:st=>{if(b){_e=!0;return}if(b=!0,[e,s]=[s,e],s.clear(),h=e.order.length,h)for(let ot=0;ot<h;ot++){const nt=e.order[ot];nt(st),rt.has(nt)&&(at.schedule(nt),o())}b=!1,_e&&(_e=!1,at.process(st))}};return at}const stepsOrder=["prepare","read","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(o,e){let s=!1,h=!0;const b={delta:0,timestamp:0,isProcessing:!1},_e=stepsOrder.reduce((et,d)=>(et[d]=createRenderStep(()=>s=!0),et),{}),rt=et=>_e[et].process(b),at=()=>{const et=performance.now();s=!1,b.delta=h?1e3/60:Math.max(Math.min(et-b.timestamp,maxElapsed),1),b.timestamp=et,b.isProcessing=!0,stepsOrder.forEach(rt),b.isProcessing=!1,s&&e&&(h=!1,o(at))},st=()=>{s=!0,h=!0,b.isProcessing||o(at)};return{schedule:stepsOrder.reduce((et,d)=>{const _=_e[d];return et[d]=(tt,lt=!1,ut=!1)=>(s||st(),_.schedule(tt,lt,ut)),et},{}),cancel:et=>stepsOrder.forEach(d=>_e[d].cancel(et)),state:b,steps:_e}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(o,e,{renderState:s,latestValues:h})=>{frame.read(()=>{try{s.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(s,h,{enableHardwareAcceleration:!1},isSVGTag(e.tagName),o.transformTemplate),renderSVG(e,s)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(o,{forwardMotionProps:e=!1},s,h){return{...isSVGComponent(o)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:s,useRender:createUseRender(e),createVisualElement:h,Component:o}}function addDomEvent(o,e,s,h={passive:!0}){return o.addEventListener(e,s,h),()=>o.removeEventListener(e,s)}const isPrimaryPointer=o=>o.pointerType==="mouse"?typeof o.button!="number"||o.button<=0:o.isPrimary!==!1;function extractEventInfo(o,e="page"){return{point:{x:o[e+"X"],y:o[e+"Y"]}}}const addPointerInfo=o=>e=>isPrimaryPointer(e)&&o(e,extractEventInfo(e));function addPointerEvent(o,e,s,h){return addDomEvent(o,e,addPointerInfo(s),h)}const combineFunctions=(o,e)=>s=>e(o(s)),pipe=(...o)=>o.reduce(combineFunctions);function createLock(o){let e=null;return()=>{const s=()=>{e=null};return e===null?(e=o,s):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(o){let e=!1;if(o==="y")e=globalVerticalLock();else if(o==="x")e=globalHorizontalLock();else{const s=globalHorizontalLock(),h=globalVerticalLock();s&&h?e=()=>{s(),h()}:(s&&s(),h&&h())}return e}function isDragActive(){const o=getGlobalLock(!0);return o?(o(),!1):!0}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}function addHoverEvent(o,e){const s="pointer"+(e?"enter":"leave"),h="onHover"+(e?"Start":"End"),b=(_e,rt)=>{if(_e.type==="touch"||isDragActive())return;const at=o.getProps();o.animationState&&at.whileHover&&o.animationState.setActive("whileHover",e),at[h]&&frame.update(()=>at[h](_e,rt))};return addPointerEvent(o.current,s,b,{passive:!o.getProps()[h]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(o,e)=>e?o===e?!0:isNodeOrChild(o,e.parentElement):!1;function fireSyntheticPointerEvent(o,e){if(!e)return;const s=new PointerEvent("pointer"+o);e(s,extractEventInfo(s))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$2,this.removeEndListeners=noop$2,this.removeAccessibleListeners=noop$2,this.startPointerPress=(e,s)=>{if(this.removeEndListeners(),this.isPressing)return;const h=this.node.getProps(),_e=addPointerEvent(window,"pointerup",(at,st)=>{if(!this.checkPressEnd())return;const{onTap:ot,onTapCancel:nt}=this.node.getProps();frame.update(()=>{isNodeOrChild(this.node.current,at.target)?ot&&ot(at,st):nt&&nt(at,st)})},{passive:!(h.onTap||h.onPointerUp)}),rt=addPointerEvent(window,"pointercancel",(at,st)=>this.cancelPress(at,st),{passive:!(h.onTapCancel||h.onPointerCancel)});this.removeEndListeners=pipe(_e,rt),this.startPress(e,s)},this.startAccessiblePress=()=>{const e=_e=>{if(_e.key!=="Enter"||this.isPressing)return;const rt=at=>{at.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(st,ot)=>{const{onTap:nt}=this.node.getProps();nt&&frame.update(()=>nt(st,ot))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",rt),fireSyntheticPointerEvent("down",(at,st)=>{this.startPress(at,st)})},s=addDomEvent(this.node.current,"keydown",e),h=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(_e,rt)=>this.cancelPress(_e,rt))},b=addDomEvent(this.node.current,"blur",h);this.removeAccessibleListeners=pipe(s,b)}}startPress(e,s){this.isPressing=!0;const{onTapStart:h,whileTap:b}=this.node.getProps();b&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),h&&frame.update(()=>h(e,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(e,s){if(!this.checkPressEnd())return;const{onTapCancel:h}=this.node.getProps();h&&frame.update(()=>h(e,s))}mount(){const e=this.node.getProps(),s=addPointerEvent(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),h=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(s,h)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=o=>{const e=observerCallbacks.get(o.target);e&&e(o)},fireAllObserverCallbacks=o=>{o.forEach(fireObserverCallback)};function initIntersectionObserver({root:o,...e}){const s=o||document;observers.has(s)||observers.set(s,{});const h=observers.get(s),b=JSON.stringify(e);return h[b]||(h[b]=new IntersectionObserver(fireAllObserverCallbacks,{root:o,...e})),h[b]}function observeIntersection(o,e,s){const h=initIntersectionObserver(e);return observerCallbacks.set(o,s),h.observe(o),()=>{observerCallbacks.delete(o),h.unobserve(o)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:h,amount:b="some",once:_e}=e,rt={root:s?s.current:void 0,rootMargin:h,threshold:typeof b=="number"?b:thresholdNames[b]},at=st=>{const{isIntersecting:ot}=st;if(this.isInView===ot||(this.isInView=ot,_e&&!ot&&this.hasEnteredView))return;ot&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",ot);const{onViewportEnter:nt,onViewportLeave:et}=this.node.getProps(),d=ot?nt:et;d&&d(st)};return observeIntersection(this.node.current,rt,at)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,s))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:o={}},{viewport:e={}}={}){return s=>o[s]!==e[s]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(o,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==o.length)return!1;for(let h=0;h<s;h++)if(e[h]!==o[h])return!1;return!0}function getCurrent(o){const e={};return o.values.forEach((s,h)=>e[h]=s.get()),e}function getVelocity$3(o){const e={};return o.values.forEach((s,h)=>e[h]=s.getVelocity()),e}function resolveVariant(o,e,s){const h=o.getProps();return resolveVariantFromProps(h,e,s!==void 0?s:h.custom,getCurrent(o),getVelocity$3(o))}let warning$1=noop$2,invariant$1=noop$2;const secondsToMilliseconds=o=>o*1e3,millisecondsToSeconds=o=>o/1e3,instantAnimationState={current:!1},isBezierDefinition=o=>Array.isArray(o)&&typeof o[0]=="number";function isWaapiSupportedEasing(o){return!!(!o||typeof o=="string"&&supportedWaapiEasing[o]||isBezierDefinition(o)||Array.isArray(o)&&o.every(isWaapiSupportedEasing))}const cubicBezierAsString=([o,e,s,h])=>`cubic-bezier(${o}, ${e}, ${s}, ${h})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(o){if(o)return isBezierDefinition(o)?cubicBezierAsString(o):Array.isArray(o)?o.map(mapEasingToNativeEasing):supportedWaapiEasing[o]}function animateStyle(o,e,s,{delay:h=0,duration:b,repeat:_e=0,repeatType:rt="loop",ease:at,times:st}={}){const ot={[e]:s};st&&(ot.offset=st);const nt=mapEasingToNativeEasing(at);return Array.isArray(nt)&&(ot.easing=nt),o.animate(ot,{delay:h,duration:b,easing:Array.isArray(nt)?"linear":nt,fill:"both",iterations:_e+1,direction:rt==="reverse"?"alternate":"normal"})}function getFinalKeyframe(o,{repeat:e,repeatType:s="loop"}){const h=e&&s!=="loop"&&e%2===1?0:o.length-1;return o[h]}const calcBezier=(o,e,s)=>(((1-3*s+3*e)*o+(3*s-6*e))*o+3*e)*o,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(o,e,s,h,b){let _e,rt,at=0;do rt=e+(s-e)/2,_e=calcBezier(rt,h,b)-o,_e>0?s=rt:e=rt;while(Math.abs(_e)>subdivisionPrecision&&++at<subdivisionMaxIterations);return rt}function cubicBezier(o,e,s,h){if(o===e&&s===h)return noop$2;const b=_e=>binarySubdivide(_e,0,1,o,s);return _e=>_e===0||_e===1?_e:calcBezier(b(_e),e,h)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=o=>Array.isArray(o)&&typeof o[0]!="number",mirrorEasing=o=>e=>e<=.5?o(2*e)/2:(2-o(2*(1-e)))/2,reverseEasing=o=>e=>1-o(1-e),circIn=o=>1-Math.sin(Math.acos(o)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=o=>(o*=2)<1?.5*backIn(o):.5*(2-Math.pow(2,-10*(o-1))),easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=o=>{if(Array.isArray(o)){invariant$1(o.length===4);const[e,s,h,b]=o;return cubicBezier(e,s,h,b)}else if(typeof o=="string")return easingLookup[o];return o},isColorString=(o,e)=>s=>!!(isString$1(s)&&singleColorRegex.test(s)&&s.startsWith(o)||e&&Object.prototype.hasOwnProperty.call(s,e)),splitColor=(o,e,s)=>h=>{if(!isString$1(h))return h;const[b,_e,rt,at]=h.match(floatRegex);return{[o]:parseFloat(b),[e]:parseFloat(_e),[s]:parseFloat(rt),alpha:at!==void 0?parseFloat(at):1}},clampRgbUnit=o=>clamp$1(0,255,o),rgbUnit={...number$1,transform:o=>Math.round(clampRgbUnit(o))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:o,green:e,blue:s,alpha:h=1})=>"rgba("+rgbUnit.transform(o)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(s)+", "+sanitize(alpha.transform(h))+")"};function parseHex(o){let e="",s="",h="",b="";return o.length>5?(e=o.substring(1,3),s=o.substring(3,5),h=o.substring(5,7),b=o.substring(7,9)):(e=o.substring(1,2),s=o.substring(2,3),h=o.substring(3,4),b=o.substring(4,5),e+=e,s+=s,h+=h,b+=b),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(h,16),alpha:b?parseInt(b,16)/255:1}}const hex$1={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:o,saturation:e,lightness:s,alpha:h=1})=>"hsla("+Math.round(o)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(s))+", "+sanitize(alpha.transform(h))+")"},color={test:o=>rgba.test(o)||hex$1.test(o)||hsla.test(o),parse:o=>rgba.test(o)?rgba.parse(o):hsla.test(o)?hsla.parse(o):hex$1.parse(o),transform:o=>isString$1(o)?o:o.hasOwnProperty("red")?rgba.transform(o):hsla.transform(o)},mix=(o,e,s)=>-s*o+s*e+o;function hueToRgb(o,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?o+(e-o)*6*s:s<1/2?e:s<2/3?o+(e-o)*(2/3-s)*6:o}function hslaToRgba({hue:o,saturation:e,lightness:s,alpha:h}){o/=360,e/=100,s/=100;let b=0,_e=0,rt=0;if(!e)b=_e=rt=s;else{const at=s<.5?s*(1+e):s+e-s*e,st=2*s-at;b=hueToRgb(st,at,o+1/3),_e=hueToRgb(st,at,o),rt=hueToRgb(st,at,o-1/3)}return{red:Math.round(b*255),green:Math.round(_e*255),blue:Math.round(rt*255),alpha:h}}const mixLinearColor=(o,e,s)=>{const h=o*o;return Math.sqrt(Math.max(0,s*(e*e-h)+h))},colorTypes=[hex$1,rgba,hsla],getColorType=o=>colorTypes.find(e=>e.test(o));function asRGBA(o){const e=getColorType(o);let s=e.parse(o);return e===hsla&&(s=hslaToRgba(s)),s}const mixColor=(o,e)=>{const s=asRGBA(o),h=asRGBA(e),b={...s};return _e=>(b.red=mixLinearColor(s.red,h.red,_e),b.green=mixLinearColor(s.green,h.green,_e),b.blue=mixLinearColor(s.blue,h.blue,_e),b.alpha=mix(s.alpha,h.alpha,_e),rgba.transform(b))};function test$4(o){var e,s;return isNaN(o)&&isString$1(o)&&(((e=o.match(floatRegex))===null||e===void 0?void 0:e.length)||0)+(((s=o.match(colorRegex))===null||s===void 0?void 0:s.length)||0)>0}const cssVarTokeniser={regex:cssVariableRegex,countKey:"Vars",token:"${v}",parse:noop$2},colorTokeniser={regex:colorRegex,countKey:"Colors",token:"${c}",parse:color.parse},numberTokeniser={regex:floatRegex,countKey:"Numbers",token:"${n}",parse:number$1.parse};function tokenise(o,{regex:e,countKey:s,token:h,parse:b}){const _e=o.tokenised.match(e);_e&&(o["num"+s]=_e.length,o.tokenised=o.tokenised.replace(e,h),o.values.push(..._e.map(b)))}function analyseComplexValue(o){const e=o.toString(),s={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&tokenise(s,cssVarTokeniser),tokenise(s,colorTokeniser),tokenise(s,numberTokeniser),s}function parseComplexValue(o){return analyseComplexValue(o).values}function createTransformer(o){const{values:e,numColors:s,numVars:h,tokenised:b}=analyseComplexValue(o),_e=e.length;return rt=>{let at=b;for(let st=0;st<_e;st++)st<h?at=at.replace(cssVarTokeniser.token,rt[st]):st<h+s?at=at.replace(colorTokeniser.token,color.transform(rt[st])):at=at.replace(numberTokeniser.token,sanitize(rt[st]));return at}}const convertNumbersToZero=o=>typeof o=="number"?0:o;function getAnimatableNone$1(o){const e=parseComplexValue(o);return createTransformer(o)(e.map(convertNumbersToZero))}const complex={test:test$4,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},mixImmediate=(o,e)=>s=>`${s>0?e:o}`;function getMixer(o,e){return typeof o=="number"?s=>mix(o,e,s):color.test(o)?mixColor(o,e):o.startsWith("var(")?mixImmediate(o,e):mixComplex(o,e)}const mixArray=(o,e)=>{const s=[...o],h=s.length,b=o.map((_e,rt)=>getMixer(_e,e[rt]));return _e=>{for(let rt=0;rt<h;rt++)s[rt]=b[rt](_e);return s}},mixObject=(o,e)=>{const s={...o,...e},h={};for(const b in s)o[b]!==void 0&&e[b]!==void 0&&(h[b]=getMixer(o[b],e[b]));return b=>{for(const _e in h)s[_e]=h[_e](b);return s}},mixComplex=(o,e)=>{const s=complex.createTransformer(e),h=analyseComplexValue(o),b=analyseComplexValue(e);return h.numVars===b.numVars&&h.numColors===b.numColors&&h.numNumbers>=b.numNumbers?pipe(mixArray(h.values,b.values),s):mixImmediate(o,e)},progress=(o,e,s)=>{const h=e-o;return h===0?1:(s-o)/h},mixNumber=(o,e)=>s=>mix(o,e,s);function detectMixerFactory(o){return typeof o=="number"?mixNumber:typeof o=="string"?color.test(o)?mixColor:mixComplex:Array.isArray(o)?mixArray:typeof o=="object"?mixObject:mixNumber}function createMixers(o,e,s){const h=[],b=s||detectMixerFactory(o[0]),_e=o.length-1;for(let rt=0;rt<_e;rt++){let at=b(o[rt],o[rt+1]);if(e){const st=Array.isArray(e)?e[rt]||noop$2:e;at=pipe(st,at)}h.push(at)}return h}function interpolate(o,e,{clamp:s=!0,ease:h,mixer:b}={}){const _e=o.length;if(invariant$1(_e===e.length),_e===1)return()=>e[0];o[0]>o[_e-1]&&(o=[...o].reverse(),e=[...e].reverse());const rt=createMixers(e,h,b),at=rt.length,st=ot=>{let nt=0;if(at>1)for(;nt<o.length-2&&!(ot<o[nt+1]);nt++);const et=progress(o[nt],o[nt+1],ot);return rt[nt](et)};return s?ot=>st(clamp$1(o[0],o[_e-1],ot)):st}function fillOffset(o,e){const s=o[o.length-1];for(let h=1;h<=e;h++){const b=progress(0,e,h);o.push(mix(s,1,b))}}function defaultOffset(o){const e=[0];return fillOffset(e,o.length-1),e}function convertOffsetToTimes(o,e){return o.map(s=>s*e)}function defaultEasing(o,e){return o.map(()=>e||easeInOut).splice(0,o.length-1)}function keyframes({duration:o=300,keyframes:e,times:s,ease:h="easeInOut"}){const b=isEasingArray(h)?h.map(easingDefinitionToFunction):easingDefinitionToFunction(h),_e={done:!1,value:e[0]},rt=convertOffsetToTimes(s&&s.length===e.length?s:defaultOffset(e),o),at=interpolate(rt,e,{ease:Array.isArray(b)?b:defaultEasing(e,b)});return{calculatedDuration:o,next:st=>(_e.value=at(st),_e.done=st>=o,_e)}}function velocityPerSecond(o,e){return e?o*(1e3/e):0}const velocitySampleDuration=5;function calcGeneratorVelocity(o,e,s){const h=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(s-o(h),e-h)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:o=800,bounce:e=.25,velocity:s=0,mass:h=1}){let b,_e;warning$1(o<=secondsToMilliseconds(maxDuration$1));let rt=1-e;rt=clamp$1(minDamping,maxDamping,rt),o=clamp$1(minDuration,maxDuration$1,millisecondsToSeconds(o)),rt<1?(b=ot=>{const nt=ot*rt,et=nt*o,d=nt-s,_=calcAngularFreq(ot,rt),tt=Math.exp(-et);return safeMin-d/_*tt},_e=ot=>{const et=ot*rt*o,d=et*s+s,_=Math.pow(rt,2)*Math.pow(ot,2)*o,tt=Math.exp(-et),lt=calcAngularFreq(Math.pow(ot,2),rt);return(-b(ot)+safeMin>0?-1:1)*((d-_)*tt)/lt}):(b=ot=>{const nt=Math.exp(-ot*o),et=(ot-s)*o+1;return-safeMin+nt*et},_e=ot=>{const nt=Math.exp(-ot*o),et=(s-ot)*(o*o);return nt*et});const at=5/o,st=approximateRoot(b,_e,at);if(o=secondsToMilliseconds(o),isNaN(st))return{stiffness:100,damping:10,duration:o};{const ot=Math.pow(st,2)*h;return{stiffness:ot,damping:rt*2*Math.sqrt(h*ot),duration:o}}}const rootIterations=12;function approximateRoot(o,e,s){let h=s;for(let b=1;b<rootIterations;b++)h=h-o(h)/e(h);return h}function calcAngularFreq(o,e){return o*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(o,e){return e.some(s=>o[s]!==void 0)}function getSpringOptions(o){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...o};if(!isSpringType(o,physicsKeys)&&isSpringType(o,durationKeys)){const s=findSpring(o);e={...e,...s,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function spring({keyframes:o,restDelta:e,restSpeed:s,...h}){const b=o[0],_e=o[o.length-1],rt={done:!1,value:b},{stiffness:at,damping:st,mass:ot,velocity:nt,duration:et,isResolvedFromDuration:d}=getSpringOptions(h),_=nt?-millisecondsToSeconds(nt):0,tt=st/(2*Math.sqrt(at*ot)),lt=_e-b,ut=millisecondsToSeconds(Math.sqrt(at/ot)),ct=Math.abs(lt)<5;s||(s=ct?.01:2),e||(e=ct?.005:.5);let ft;if(tt<1){const dt=calcAngularFreq(ut,tt);ft=ht=>{const gt=Math.exp(-tt*ut*ht);return _e-gt*((_+tt*ut*lt)/dt*Math.sin(dt*ht)+lt*Math.cos(dt*ht))}}else if(tt===1)ft=dt=>_e-Math.exp(-ut*dt)*(lt+(_+ut*lt)*dt);else{const dt=ut*Math.sqrt(tt*tt-1);ft=ht=>{const gt=Math.exp(-tt*ut*ht),yt=Math.min(dt*ht,300);return _e-gt*((_+tt*ut*lt)*Math.sinh(yt)+dt*lt*Math.cosh(yt))/dt}}return{calculatedDuration:d&&et||null,next:dt=>{const ht=ft(dt);if(d)rt.done=dt>=et;else{let gt=_;dt!==0&&(tt<1?gt=calcGeneratorVelocity(ft,dt,ht):gt=0);const yt=Math.abs(gt)<=s,vt=Math.abs(_e-ht)<=e;rt.done=yt&&vt}return rt.value=rt.done?_e:ht,rt}}}function inertia({keyframes:o,velocity:e=0,power:s=.8,timeConstant:h=325,bounceDamping:b=10,bounceStiffness:_e=500,modifyTarget:rt,min:at,max:st,restDelta:ot=.5,restSpeed:nt}){const et=o[0],d={done:!1,value:et},_=mt=>at!==void 0&&mt<at||st!==void 0&&mt>st,tt=mt=>at===void 0?st:st===void 0||Math.abs(at-mt)<Math.abs(st-mt)?at:st;let lt=s*e;const ut=et+lt,ct=rt===void 0?ut:rt(ut);ct!==ut&&(lt=ct-et);const ft=mt=>-lt*Math.exp(-mt/h),dt=mt=>ct+ft(mt),ht=mt=>{const bt=ft(mt),$t=dt(mt);d.done=Math.abs(bt)<=ot,d.value=d.done?ct:$t};let gt,yt;const vt=mt=>{_(d.value)&&(gt=mt,yt=spring({keyframes:[d.value,tt(d.value)],velocity:calcGeneratorVelocity(dt,mt,d.value),damping:b,stiffness:_e,restDelta:ot,restSpeed:nt}))};return vt(0),{calculatedDuration:null,next:mt=>{let bt=!1;return!yt&&gt===void 0&&(bt=!0,ht(mt),vt(mt)),gt!==void 0&&mt>gt?yt.next(mt-gt):(!bt&&ht(mt),d)}}}const frameloopDriver=o=>{const e=({timestamp:s})=>o(s);return{start:()=>frame.update(e,!0),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:performance.now()}},maxGeneratorDuration=2e4;function calcGeneratorDuration(o){let e=0;const s=50;let h=o.next(e);for(;!h.done&&e<maxGeneratorDuration;)e+=s,h=o.next(e);return e>=maxGeneratorDuration?1/0:e}const types={decay:inertia,inertia,tween:keyframes,keyframes,spring};function animateValue({autoplay:o=!0,delay:e=0,driver:s=frameloopDriver,keyframes:h,type:b="keyframes",repeat:_e=0,repeatDelay:rt=0,repeatType:at="loop",onPlay:st,onStop:ot,onComplete:nt,onUpdate:et,...d}){let _=1,tt=!1,lt,ut;const ct=()=>{ut=new Promise(kt=>{lt=kt})};ct();let ft;const dt=types[b]||keyframes;let ht;dt!==keyframes&&typeof h[0]!="number"&&(ht=interpolate([0,100],h,{clamp:!1}),h=[0,100]);const gt=dt({...d,keyframes:h});let yt;at==="mirror"&&(yt=dt({...d,keyframes:[...h].reverse(),velocity:-(d.velocity||0)}));let vt="idle",mt=null,bt=null,$t=null;gt.calculatedDuration===null&&_e&&(gt.calculatedDuration=calcGeneratorDuration(gt));const{calculatedDuration:St}=gt;let Pt=1/0,_t=1/0;St!==null&&(Pt=St+rt,_t=Pt*(_e+1)-rt);let wt=0;const xt=kt=>{if(bt===null)return;_>0&&(bt=Math.min(bt,kt)),_<0&&(bt=Math.min(kt-_t/_,bt)),mt!==null?wt=mt:wt=Math.round(kt-bt)*_;const jt=wt-e*(_>=0?1:-1),Vt=_>=0?jt<0:jt>_t;wt=Math.max(jt,0),vt==="finished"&&mt===null&&(wt=_t);let Gt=wt,Yt=gt;if(_e){const Ot=wt/Pt;let At=Math.floor(Ot),Nt=Ot%1;!Nt&&Ot>=1&&(Nt=1),Nt===1&&At--,At=Math.min(At,_e+1);const Mt=!!(At%2);Mt&&(at==="reverse"?(Nt=1-Nt,rt&&(Nt-=rt/Pt)):at==="mirror"&&(Yt=yt));let Lt=clamp$1(0,1,Nt);wt>_t&&(Lt=at==="reverse"&&Mt?1:0),Gt=Lt*Pt}const er=Vt?{done:!1,value:h[0]}:Yt.next(Gt);ht&&(er.value=ht(er.value));let{done:nr}=er;!Vt&&St!==null&&(nr=_>=0?wt>=_t:wt<=0);const Et=mt===null&&(vt==="finished"||vt==="running"&&nr);return et&&et(er.value),Et&&Ct(),er},Tt=()=>{ft&&ft.stop(),ft=void 0},It=()=>{vt="idle",Tt(),lt(),ct(),bt=$t=null},Ct=()=>{vt="finished",nt&&nt(),Tt(),lt()},Rt=()=>{if(tt)return;ft||(ft=s(xt));const kt=ft.now();st&&st(),mt!==null?bt=kt-mt:(!bt||vt==="finished")&&(bt=kt),vt==="finished"&&ct(),$t=bt,mt=null,vt="running",ft.start()};o&&Rt();const Ut={then(kt,jt){return ut.then(kt,jt)},get time(){return millisecondsToSeconds(wt)},set time(kt){kt=secondsToMilliseconds(kt),wt=kt,mt!==null||!ft||_===0?mt=kt:bt=ft.now()-kt/_},get duration(){const kt=gt.calculatedDuration===null?calcGeneratorDuration(gt):gt.calculatedDuration;return millisecondsToSeconds(kt)},get speed(){return _},set speed(kt){kt===_||!ft||(_=kt,Ut.time=millisecondsToSeconds(wt))},get state(){return vt},play:Rt,pause:()=>{vt="paused",mt=wt},stop:()=>{tt=!0,vt!=="idle"&&(vt="idle",ot&&ot(),It())},cancel:()=>{$t!==null&&xt($t),It()},complete:()=>{vt="finished"},sample:kt=>(bt=0,xt(kt))};return Ut}function memo(o){let e;return()=>(e===void 0&&(e=o()),e)}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sampleDelta=10,maxDuration=2e4,requiresPregeneratedKeyframes=(o,e)=>e.type==="spring"||o==="backgroundColor"||!isWaapiSupportedEasing(e.ease);function createAcceleratedAnimation(o,e,{onUpdate:s,onComplete:h,...b}){if(!(supportsWaapi()&&acceleratedValues.has(e)&&!b.repeatDelay&&b.repeatType!=="mirror"&&b.damping!==0&&b.type!=="inertia"))return!1;let rt=!1,at,st;const ot=()=>{st=new Promise(ft=>{at=ft})};ot();let{keyframes:nt,duration:et=300,ease:d,times:_}=b;if(requiresPregeneratedKeyframes(e,b)){const ft=animateValue({...b,repeat:0,delay:0});let dt={done:!1,value:nt[0]};const ht=[];let gt=0;for(;!dt.done&&gt<maxDuration;)dt=ft.sample(gt),ht.push(dt.value),gt+=sampleDelta;_=void 0,nt=ht,et=gt-sampleDelta,d="linear"}const tt=animateStyle(o.owner.current,e,nt,{...b,duration:et,ease:d,times:_}),lt=()=>tt.cancel(),ut=()=>{frame.update(lt),at(),ot()};return tt.onfinish=()=>{o.set(getFinalKeyframe(nt,b)),h&&h(),ut()},{then(ft,dt){return st.then(ft,dt)},attachTimeline(ft){return tt.timeline=ft,tt.onfinish=null,noop$2},get time(){return millisecondsToSeconds(tt.currentTime||0)},set time(ft){tt.currentTime=secondsToMilliseconds(ft)},get speed(){return tt.playbackRate},set speed(ft){tt.playbackRate=ft},get duration(){return millisecondsToSeconds(et)},play:()=>{rt||(tt.play(),cancelFrame(lt))},pause:()=>tt.pause(),stop:()=>{if(rt=!0,tt.playState==="idle")return;const{currentTime:ft}=tt;if(ft){const dt=animateValue({...b,autoplay:!1});o.setWithVelocity(dt.sample(ft-sampleDelta).value,dt.sample(ft).value,sampleDelta)}ut()},complete:()=>tt.finish(),cancel:ut}}function createInstantAnimation({keyframes:o,delay:e,onUpdate:s,onComplete:h}){const b=()=>(s&&s(o[o.length-1]),h&&h(),{time:0,speed:1,duration:0,play:noop$2,pause:noop$2,stop:noop$2,then:_e=>(_e(),Promise.resolve()),cancel:noop$2,complete:noop$2});return e?animateValue({keyframes:[0,1],duration:0,delay:e,onComplete:b}):b()}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=o=>({type:"spring",stiffness:550,damping:o===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(o,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(o)?o.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease,isAnimatable=(o,e)=>o==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url(")),maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(o){const[e,s]=o.slice(0,-1).split("(");if(e==="drop-shadow")return o;const[h]=s.match(floatRegex)||[];if(!h)return o;const b=s.replace(h,"");let _e=maxDefaults.has(e)?1:0;return h!==s&&(_e*=100),e+"("+_e+b+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter$5={...complex,getAnimatableNone:o=>{const e=o.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):o}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter:filter$5,WebkitFilter:filter$5},getDefaultValueType=o=>defaultValueTypes[o];function getAnimatableNone(o,e){let s=getDefaultValueType(o);return s!==filter$5&&(s=complex),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const isZeroValueString=o=>/^0[^.\s]+$/.test(o);function isNone(o){if(typeof o=="number")return o===0;if(o!==null)return o==="none"||o==="0"||isZeroValueString(o)}function getKeyframes(o,e,s,h){const b=isAnimatable(e,s);let _e;Array.isArray(s)?_e=[...s]:_e=[null,s];const rt=h.from!==void 0?h.from:o.get();let at;const st=[];for(let ot=0;ot<_e.length;ot++)_e[ot]===null&&(_e[ot]=ot===0?rt:_e[ot-1]),isNone(_e[ot])&&st.push(ot),typeof _e[ot]=="string"&&_e[ot]!=="none"&&_e[ot]!=="0"&&(at=_e[ot]);if(b&&st.length&&at)for(let ot=0;ot<st.length;ot++){const nt=st[ot];_e[nt]=getAnimatableNone(e,at)}return _e}function isTransitionDefined({when:o,delay:e,delayChildren:s,staggerChildren:h,staggerDirection:b,repeat:_e,repeatType:rt,repeatDelay:at,from:st,elapsed:ot,...nt}){return!!Object.keys(nt).length}function getValueTransition(o,e){return o[e]||o.default||o}const animateMotionValue=(o,e,s,h={})=>b=>{const _e=getValueTransition(h,o)||{},rt=_e.delay||h.delay||0;let{elapsed:at=0}=h;at=at-secondsToMilliseconds(rt);const st=getKeyframes(e,o,s,_e),ot=st[0],nt=st[st.length-1],et=isAnimatable(o,ot),d=isAnimatable(o,nt);let _={keyframes:st,velocity:e.getVelocity(),ease:"easeOut",..._e,delay:-at,onUpdate:tt=>{e.set(tt),_e.onUpdate&&_e.onUpdate(tt)},onComplete:()=>{b(),_e.onComplete&&_e.onComplete()}};if(isTransitionDefined(_e)||(_={..._,...getDefaultTransition(o,_)}),_.duration&&(_.duration=secondsToMilliseconds(_.duration)),_.repeatDelay&&(_.repeatDelay=secondsToMilliseconds(_.repeatDelay)),!et||!d||instantAnimationState.current||_e.type===!1)return createInstantAnimation(_);if(!h.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const tt=createAcceleratedAnimation(e,o,_);if(tt)return tt}return animateValue(_)};function isWillChangeMotionValue(o){return!!(isMotionValue(o)&&o.add)}const isNumericalString=o=>/^\-?\d*\.?\d+$/.test(o);function addUniqueItem(o,e){o.indexOf(e)===-1&&o.push(e)}function removeItem(o,e){const s=o.indexOf(e);s>-1&&o.splice(s,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,s,h){const b=this.subscriptions.length;if(b)if(b===1)this.subscriptions[0](e,s,h);else for(let _e=0;_e<b;_e++){const rt=this.subscriptions[_e];rt&&rt(e,s,h)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=o=>!isNaN(parseFloat(o));class MotionValue{constructor(e,s={}){this.version="10.16.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(h,b=!0)=>{this.prev=this.current,this.current=h;const{delta:_e,timestamp:rt}=frameData;this.lastUpdated!==rt&&(this.timeDelta=_e,this.lastUpdated=rt,frame.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),b&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>frame.postRender(this.velocityCheck),this.velocityCheck=({timestamp:h})=>{h!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=isFloat(this.current),this.owner=s.owner}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new SubscriptionManager);const h=this.events[e].add(s);return e==="change"?()=>{h(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:h}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,h){this.set(s),this.prev=e,this.timeDelta=h}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(o,e){return new MotionValue(o,e)}const testValueType=o=>e=>e.test(o),auto={test:o=>o==="auto",parse:o=>o},dimensionValueTypes=[number$1,px,percent,degrees,vw,vh,auto],findDimensionValueType=o=>dimensionValueTypes.find(testValueType(o)),valueTypes=[...dimensionValueTypes,color,complex],findValueType=o=>valueTypes.find(testValueType(o));function setMotionValue(o,e,s){o.hasValue(e)?o.getValue(e).set(s):o.addValue(e,motionValue(s))}function setTarget(o,e){const s=resolveVariant(o,e);let{transitionEnd:h={},transition:b={},..._e}=s?o.makeTargetAnimatable(s,!1):{};_e={..._e,...h};for(const rt in _e){const at=resolveFinalValueInKeyframes(_e[rt]);setMotionValue(o,rt,at)}}function checkTargetForNewValues(o,e,s){var h,b;const _e=Object.keys(e).filter(at=>!o.hasValue(at)),rt=_e.length;if(rt)for(let at=0;at<rt;at++){const st=_e[at],ot=e[st];let nt=null;Array.isArray(ot)&&(nt=ot[0]),nt===null&&(nt=(b=(h=s[st])!==null&&h!==void 0?h:o.readValue(st))!==null&&b!==void 0?b:e[st]),nt!=null&&(typeof nt=="string"&&(isNumericalString(nt)||isZeroValueString(nt))?nt=parseFloat(nt):!findValueType(nt)&&complex.test(ot)&&(nt=getAnimatableNone(st,ot)),o.addValue(st,motionValue(nt,{owner:o})),s[st]===void 0&&(s[st]=nt),nt!==null&&o.setBaseTarget(st,nt))}}function getOriginFromTransition(o,e){return e?(e[o]||e.default||e).from:void 0}function getOrigin(o,e,s){const h={};for(const b in o){const _e=getOriginFromTransition(b,e);if(_e!==void 0)h[b]=_e;else{const rt=s.getValue(b);rt&&(h[b]=rt.get())}}return h}function shouldBlockAnimation({protectedKeys:o,needsAnimating:e},s){const h=o.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,h}function hasKeyframesChanged(o,e){const s=o.get();if(Array.isArray(e)){for(let h=0;h<e.length;h++)if(e[h]!==s)return!0}else return s!==e}function animateTarget(o,e,{delay:s=0,transitionOverride:h,type:b}={}){let{transition:_e=o.getDefaultTransition(),transitionEnd:rt,...at}=o.makeTargetAnimatable(e);const st=o.getValue("willChange");h&&(_e=h);const ot=[],nt=b&&o.animationState&&o.animationState.getState()[b];for(const et in at){const d=o.getValue(et),_=at[et];if(!d||_===void 0||nt&&shouldBlockAnimation(nt,et))continue;const tt={delay:s,elapsed:0,...getValueTransition(_e||{},et)};if(window.HandoffAppearAnimations){const ct=o.getProps()[optimizedAppearDataAttribute];if(ct){const ft=window.HandoffAppearAnimations(ct,et,d,frame);ft!==null&&(tt.elapsed=ft,tt.isHandoff=!0)}}let lt=!tt.isHandoff&&!hasKeyframesChanged(d,_);if(tt.type==="spring"&&(d.getVelocity()||tt.velocity)&&(lt=!1),d.animation&&(lt=!1),lt)continue;d.start(animateMotionValue(et,d,_,o.shouldReduceMotion&&transformProps.has(et)?{type:!1}:tt));const ut=d.animation;isWillChangeMotionValue(st)&&(st.add(et),ut.then(()=>st.remove(et))),ot.push(ut)}return rt&&Promise.all(ot).then(()=>{rt&&setTarget(o,rt)}),ot}function animateVariant(o,e,s={}){const h=resolveVariant(o,e,s.custom);let{transition:b=o.getDefaultTransition()||{}}=h||{};s.transitionOverride&&(b=s.transitionOverride);const _e=h?()=>Promise.all(animateTarget(o,h,s)):()=>Promise.resolve(),rt=o.variantChildren&&o.variantChildren.size?(st=0)=>{const{delayChildren:ot=0,staggerChildren:nt,staggerDirection:et}=b;return animateChildren(o,e,ot+st,nt,et,s)}:()=>Promise.resolve(),{when:at}=b;if(at){const[st,ot]=at==="beforeChildren"?[_e,rt]:[rt,_e];return st().then(()=>ot())}else return Promise.all([_e(),rt(s.delay)])}function animateChildren(o,e,s=0,h=0,b=1,_e){const rt=[],at=(o.variantChildren.size-1)*h,st=b===1?(ot=0)=>ot*h:(ot=0)=>at-ot*h;return Array.from(o.variantChildren).sort(sortByTreeOrder).forEach((ot,nt)=>{ot.notify("AnimationStart",e),rt.push(animateVariant(ot,e,{..._e,delay:s+st(nt)}).then(()=>ot.notify("AnimationComplete",e)))}),Promise.all(rt)}function sortByTreeOrder(o,e){return o.sortNodePosition(e)}function animateVisualElement(o,e,s={}){o.notify("AnimationStart",e);let h;if(Array.isArray(e)){const b=e.map(_e=>animateVariant(o,_e,s));h=Promise.all(b)}else if(typeof e=="string")h=animateVariant(o,e,s);else{const b=typeof e=="function"?resolveVariant(o,e,s.custom):e;h=Promise.all(animateTarget(o,b,s))}return h.then(()=>o.notify("AnimationComplete",e))}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(o){return e=>Promise.all(e.map(({animation:s,options:h})=>animateVisualElement(o,s,h)))}function createAnimationState(o){let e=animateList(o);const s=createState();let h=!0;const b=(st,ot)=>{const nt=resolveVariant(o,ot);if(nt){const{transition:et,transitionEnd:d,..._}=nt;st={...st,..._,...d}}return st};function _e(st){e=st(o)}function rt(st,ot){const nt=o.getProps(),et=o.getVariantContext(!0)||{},d=[],_=new Set;let tt={},lt=1/0;for(let ct=0;ct<numAnimationTypes;ct++){const ft=reversePriorityOrder[ct],dt=s[ft],ht=nt[ft]!==void 0?nt[ft]:et[ft],gt=isVariantLabel(ht),yt=ft===ot?dt.isActive:null;yt===!1&&(lt=ct);let vt=ht===et[ft]&&ht!==nt[ft]&&gt;if(vt&&h&&o.manuallyAnimateOnMount&&(vt=!1),dt.protectedKeys={...tt},!dt.isActive&&yt===null||!ht&&!dt.prevProp||isAnimationControls(ht)||typeof ht=="boolean")continue;const mt=checkVariantsDidChange(dt.prevProp,ht);let bt=mt||ft===ot&&dt.isActive&&!vt&&gt||ct>lt&&gt;const $t=Array.isArray(ht)?ht:[ht];let St=$t.reduce(b,{});yt===!1&&(St={});const{prevResolvedValues:Pt={}}=dt,_t={...Pt,...St},wt=xt=>{bt=!0,_.delete(xt),dt.needsAnimating[xt]=!0};for(const xt in _t){const Tt=St[xt],It=Pt[xt];tt.hasOwnProperty(xt)||(Tt!==It?isKeyframesTarget(Tt)&&isKeyframesTarget(It)?!shallowCompare(Tt,It)||mt?wt(xt):dt.protectedKeys[xt]=!0:Tt!==void 0?wt(xt):_.add(xt):Tt!==void 0&&_.has(xt)?wt(xt):dt.protectedKeys[xt]=!0)}dt.prevProp=ht,dt.prevResolvedValues=St,dt.isActive&&(tt={...tt,...St}),h&&o.blockInitialAnimation&&(bt=!1),bt&&!vt&&d.push(...$t.map(xt=>({animation:xt,options:{type:ft,...st}})))}if(_.size){const ct={};_.forEach(ft=>{const dt=o.getBaseTarget(ft);dt!==void 0&&(ct[ft]=dt)}),d.push({animation:ct})}let ut=!!d.length;return h&&(nt.initial===!1||nt.initial===nt.animate)&&!o.manuallyAnimateOnMount&&(ut=!1),h=!1,ut?e(d):Promise.resolve()}function at(st,ot,nt){var et;if(s[st].isActive===ot)return Promise.resolve();(et=o.variantChildren)===null||et===void 0||et.forEach(_=>{var tt;return(tt=_.animationState)===null||tt===void 0?void 0:tt.setActive(st,ot)}),s[st].isActive=ot;const d=rt(nt,st);for(const _ in s)s[_].protectedKeys={};return d}return{animateChanges:rt,setActive:at,setAnimateFunction:_e,getState:()=>s}}function checkVariantsDidChange(o,e){return typeof e=="string"?e!==o:Array.isArray(e)?!shallowCompare(e,o):!1}function createTypeState(o=!1){return{isActive:o,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),isAnimationControls(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let id$5=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s,custom:h}=this.node.presenceContext,{isPresent:b}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===b)return;const _e=this.node.animationState.setActive("exit",!e,{custom:h??this.node.getProps().custom});s&&!e&&_e.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(o,e)=>Math.abs(o-e);function distance2D(o,e){const s=distance(o.x,e.x),h=distance(o.y,e.y);return Math.sqrt(s**2+h**2)}class PanSession{constructor(e,s,{transformPagePoint:h,contextWindow:b}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const nt=getPanInfo(this.lastMoveEventInfo,this.history),et=this.startEvent!==null,d=distance2D(nt.offset,{x:0,y:0})>=3;if(!et&&!d)return;const{point:_}=nt,{timestamp:tt}=frameData;this.history.push({..._,timestamp:tt});const{onStart:lt,onMove:ut}=this.handlers;et||(lt&&lt(this.lastMoveEvent,nt),this.startEvent=this.lastMoveEvent),ut&&ut(this.lastMoveEvent,nt)},this.handlePointerMove=(nt,et)=>{this.lastMoveEvent=nt,this.lastMoveEventInfo=transformPoint(et,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(nt,et)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:_}=this.handlers,tt=getPanInfo(nt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(et,this.transformPagePoint),this.history);this.startEvent&&d&&d(nt,tt),_&&_(nt,tt)},!isPrimaryPointer(e))return;this.handlers=s,this.transformPagePoint=h,this.contextWindow=b||window;const _e=extractEventInfo(e),rt=transformPoint(_e,this.transformPagePoint),{point:at}=rt,{timestamp:st}=frameData;this.history=[{...at,timestamp:st}];const{onSessionStart:ot}=s;ot&&ot(e,getPanInfo(rt,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(o,e){return e?{point:e(o.point)}:o}function subtractPoint(o,e){return{x:o.x-e.x,y:o.y-e.y}}function getPanInfo({point:o},e){return{point:o,delta:subtractPoint(o,lastDevicePoint(e)),offset:subtractPoint(o,startDevicePoint(e)),velocity:getVelocity$2(e,.1)}}function startDevicePoint(o){return o[0]}function lastDevicePoint(o){return o[o.length-1]}function getVelocity$2(o,e){if(o.length<2)return{x:0,y:0};let s=o.length-1,h=null;const b=lastDevicePoint(o);for(;s>=0&&(h=o[s],!(b.timestamp-h.timestamp>secondsToMilliseconds(e)));)s--;if(!h)return{x:0,y:0};const _e=millisecondsToSeconds(b.timestamp-h.timestamp);if(_e===0)return{x:0,y:0};const rt={x:(b.x-h.x)/_e,y:(b.y-h.y)/_e};return rt.x===1/0&&(rt.x=0),rt.y===1/0&&(rt.y=0),rt}function calcLength(o){return o.max-o.min}function isNear(o,e=0,s=.01){return Math.abs(o-e)<=s}function calcAxisDelta(o,e,s,h=.5){o.origin=h,o.originPoint=mix(e.min,e.max,o.origin),o.scale=calcLength(s)/calcLength(e),(isNear(o.scale,1,1e-4)||isNaN(o.scale))&&(o.scale=1),o.translate=mix(s.min,s.max,o.origin)-o.originPoint,(isNear(o.translate)||isNaN(o.translate))&&(o.translate=0)}function calcBoxDelta(o,e,s,h){calcAxisDelta(o.x,e.x,s.x,h?h.originX:void 0),calcAxisDelta(o.y,e.y,s.y,h?h.originY:void 0)}function calcRelativeAxis(o,e,s){o.min=s.min+e.min,o.max=o.min+calcLength(e)}function calcRelativeBox(o,e,s){calcRelativeAxis(o.x,e.x,s.x),calcRelativeAxis(o.y,e.y,s.y)}function calcRelativeAxisPosition(o,e,s){o.min=e.min-s.min,o.max=o.min+calcLength(e)}function calcRelativePosition(o,e,s){calcRelativeAxisPosition(o.x,e.x,s.x),calcRelativeAxisPosition(o.y,e.y,s.y)}function applyConstraints(o,{min:e,max:s},h){return e!==void 0&&o<e?o=h?mix(e,o,h.min):Math.max(o,e):s!==void 0&&o>s&&(o=h?mix(s,o,h.max):Math.min(o,s)),o}function calcRelativeAxisConstraints(o,e,s){return{min:e!==void 0?o.min+e:void 0,max:s!==void 0?o.max+s-(o.max-o.min):void 0}}function calcRelativeConstraints(o,{top:e,left:s,bottom:h,right:b}){return{x:calcRelativeAxisConstraints(o.x,s,b),y:calcRelativeAxisConstraints(o.y,e,h)}}function calcViewportAxisConstraints(o,e){let s=e.min-o.min,h=e.max-o.max;return e.max-e.min<o.max-o.min&&([s,h]=[h,s]),{min:s,max:h}}function calcViewportConstraints(o,e){return{x:calcViewportAxisConstraints(o.x,e.x),y:calcViewportAxisConstraints(o.y,e.y)}}function calcOrigin(o,e){let s=.5;const h=calcLength(o),b=calcLength(e);return b>h?s=progress(e.min,e.max-h,o.min):h>b&&(s=progress(o.min,o.max-b,e.min)),clamp$1(0,1,s)}function rebaseAxisConstraints(o,e){const s={};return e.min!==void 0&&(s.min=e.min-o.min),e.max!==void 0&&(s.max=e.max-o.min),s}const defaultElastic=.35;function resolveDragElastic(o=defaultElastic){return o===!1?o=0:o===!0&&(o=defaultElastic),{x:resolveAxisElastic(o,"left","right"),y:resolveAxisElastic(o,"top","bottom")}}function resolveAxisElastic(o,e,s){return{min:resolvePointElastic(o,e),max:resolvePointElastic(o,s)}}function resolvePointElastic(o,e){return typeof o=="number"?o:o[e]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(o){return[o("x"),o("y")]}function convertBoundingBoxToBox({top:o,left:e,right:s,bottom:h}){return{x:{min:e,max:s},y:{min:o,max:h}}}function convertBoxToBoundingBox({x:o,y:e}){return{top:e.min,right:o.max,bottom:e.max,left:o.min}}function transformBoxPoints(o,e){if(!e)return o;const s=e({x:o.left,y:o.top}),h=e({x:o.right,y:o.bottom});return{top:s.y,left:s.x,bottom:h.y,right:h.x}}function isIdentityScale(o){return o===void 0||o===1}function hasScale({scale:o,scaleX:e,scaleY:s}){return!isIdentityScale(o)||!isIdentityScale(e)||!isIdentityScale(s)}function hasTransform(o){return hasScale(o)||has2DTranslate(o)||o.z||o.rotate||o.rotateX||o.rotateY}function has2DTranslate(o){return is2DTranslate(o.x)||is2DTranslate(o.y)}function is2DTranslate(o){return o&&o!=="0%"}function scalePoint(o,e,s){const h=o-s,b=e*h;return s+b}function applyPointDelta(o,e,s,h,b){return b!==void 0&&(o=scalePoint(o,b,h)),scalePoint(o,s,h)+e}function applyAxisDelta(o,e=0,s=1,h,b){o.min=applyPointDelta(o.min,e,s,h,b),o.max=applyPointDelta(o.max,e,s,h,b)}function applyBoxDelta(o,{x:e,y:s}){applyAxisDelta(o.x,e.translate,e.scale,e.originPoint),applyAxisDelta(o.y,s.translate,s.scale,s.originPoint)}function applyTreeDeltas(o,e,s,h=!1){const b=s.length;if(!b)return;e.x=e.y=1;let _e,rt;for(let at=0;at<b;at++){_e=s[at],rt=_e.projectionDelta;const st=_e.instance;st&&st.style&&st.style.display==="contents"||(h&&_e.options.layoutScroll&&_e.scroll&&_e!==_e.root&&transformBox(o,{x:-_e.scroll.offset.x,y:-_e.scroll.offset.y}),rt&&(e.x*=rt.x.scale,e.y*=rt.y.scale,applyBoxDelta(o,rt)),h&&hasTransform(_e.latestValues)&&transformBox(o,_e.latestValues))}e.x=snapToDefault(e.x),e.y=snapToDefault(e.y)}function snapToDefault(o){return Number.isInteger(o)||o>1.0000000000001||o<.999999999999?o:1}function translateAxis(o,e){o.min=o.min+e,o.max=o.max+e}function transformAxis(o,e,[s,h,b]){const _e=e[b]!==void 0?e[b]:.5,rt=mix(o.min,o.max,_e);applyAxisDelta(o,e[s],e[h],rt,e.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(o,e){transformAxis(o.x,e,xKeys$1),transformAxis(o.y,e,yKeys$1)}function measureViewportBox(o,e){return convertBoundingBoxToBox(transformBoxPoints(o.getBoundingClientRect(),e))}function measurePageBox(o,e,s){const h=measureViewportBox(o,s),{scroll:b}=e;return b&&(translateAxis(h.x,b.offset.x),translateAxis(h.y,b.offset.y)),h}const getContextWindow=({current:o})=>o?o.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:h}=this.visualElement;if(h&&h.isPresent===!1)return;const b=st=>{this.stopAnimation(),s&&this.snapToCursor(extractEventInfo(st,"page").point)},_e=(st,ot)=>{const{drag:nt,dragPropagation:et,onDragStart:d}=this.getProps();if(nt&&!et&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(nt),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(tt=>{let lt=this.getAxisMotionValue(tt).get()||0;if(percent.test(lt)){const{projection:ut}=this.visualElement;if(ut&&ut.layout){const ct=ut.layout.layoutBox[tt];ct&&(lt=calcLength(ct)*(parseFloat(lt)/100))}}this.originPoint[tt]=lt}),d&&frame.update(()=>d(st,ot),!1,!0);const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},rt=(st,ot)=>{const{dragPropagation:nt,dragDirectionLock:et,onDirectionLock:d,onDrag:_}=this.getProps();if(!nt&&!this.openGlobalLock)return;const{offset:tt}=ot;if(et&&this.currentDirection===null){this.currentDirection=getCurrentDirection(tt),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",ot.point,tt),this.updateAxis("y",ot.point,tt),this.visualElement.render(),_&&_(st,ot)},at=(st,ot)=>this.stop(st,ot);this.panSession=new PanSession(e,{onSessionStart:b,onStart:_e,onMove:rt,onSessionEnd:at},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:getContextWindow(this.visualElement)})}stop(e,s){const h=this.isDragging;if(this.cancel(),!h)return;const{velocity:b}=s;this.startAnimation(b);const{onDragEnd:_e}=this.getProps();_e&&frame.update(()=>_e(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:h}=this.getProps();!h&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,h){const{drag:b}=this.getProps();if(!h||!shouldDrag(e,b,this.currentDirection))return;const _e=this.getAxisMotionValue(e);let rt=this.originPoint[e]+h[e];this.constraints&&this.constraints[e]&&(rt=applyConstraints(rt,this.constraints[e],this.elastic[e])),_e.set(rt)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:h}=this.getProps(),b=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,_e=this.constraints;s&&isRefObject(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&b?this.constraints=calcRelativeConstraints(b.layoutBox,s):this.constraints=!1,this.elastic=resolveDragElastic(h),_e!==this.constraints&&b&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(rt=>{this.getAxisMotionValue(rt)&&(this.constraints[rt]=rebaseAxisConstraints(b.layoutBox[rt],this.constraints[rt]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!isRefObject(e))return!1;const h=e.current,{projection:b}=this.visualElement;if(!b||!b.layout)return!1;const _e=measurePageBox(h,b.root,this.visualElement.getTransformPagePoint());let rt=calcViewportConstraints(b.layout.layoutBox,_e);if(s){const at=s(convertBoxToBoundingBox(rt));this.hasMutatedConstraints=!!at,at&&(rt=convertBoundingBoxToBox(at))}return rt}startAnimation(e){const{drag:s,dragMomentum:h,dragElastic:b,dragTransition:_e,dragSnapToOrigin:rt,onDragTransitionEnd:at}=this.getProps(),st=this.constraints||{},ot=eachAxis(nt=>{if(!shouldDrag(nt,s,this.currentDirection))return;let et=st&&st[nt]||{};rt&&(et={min:0,max:0});const d=b?200:1e6,_=b?40:1e7,tt={type:"inertia",velocity:h?e[nt]:0,bounceStiffness:d,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,..._e,...et};return this.startAxisValueAnimation(nt,tt)});return Promise.all(ot).then(at)}startAxisValueAnimation(e,s){const h=this.getAxisMotionValue(e);return h.start(animateMotionValue(e,h,0,s))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const s="_drag"+e.toUpperCase(),h=this.visualElement.getProps(),b=h[s];return b||this.visualElement.getValue(e,(h.initial?h.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(s=>{const{drag:h}=this.getProps();if(!shouldDrag(s,h,this.currentDirection))return;const{projection:b}=this.visualElement,_e=this.getAxisMotionValue(s);if(b&&b.layout){const{min:rt,max:at}=b.layout.layoutBox[s];_e.set(e[s]-mix(rt,at,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:h}=this.visualElement;if(!isRefObject(s)||!h||!this.constraints)return;this.stopAnimation();const b={x:0,y:0};eachAxis(rt=>{const at=this.getAxisMotionValue(rt);if(at){const st=at.get();b[rt]=calcOrigin({min:st,max:st},this.constraints[rt])}});const{transformTemplate:_e}=this.visualElement.getProps();this.visualElement.current.style.transform=_e?_e({},""):"none",h.root&&h.root.updateScroll(),h.updateLayout(),this.resolveConstraints(),eachAxis(rt=>{if(!shouldDrag(rt,e,null))return;const at=this.getAxisMotionValue(rt),{min:st,max:ot}=this.constraints[rt];at.set(mix(st,ot,b[rt]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,s=addPointerEvent(e,"pointerdown",st=>{const{drag:ot,dragListener:nt=!0}=this.getProps();ot&&nt&&this.start(st)}),h=()=>{const{dragConstraints:st}=this.getProps();isRefObject(st)&&(this.constraints=this.resolveRefConstraints())},{projection:b}=this.visualElement,_e=b.addEventListener("measure",h);b&&!b.layout&&(b.root&&b.root.updateScroll(),b.updateLayout()),h();const rt=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),at=b.addEventListener("didUpdate",({delta:st,hasLayoutChanged:ot})=>{this.isDragging&&ot&&(eachAxis(nt=>{const et=this.getAxisMotionValue(nt);et&&(this.originPoint[nt]+=st[nt].translate,et.set(et.get()+st[nt].translate))}),this.visualElement.render())});return()=>{rt(),s(),_e(),at&&at()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:h=!1,dragPropagation:b=!1,dragConstraints:_e=!1,dragElastic:rt=defaultElastic,dragMomentum:at=!0}=e;return{...e,drag:s,dragDirectionLock:h,dragPropagation:b,dragConstraints:_e,dragElastic:rt,dragMomentum:at}}}function shouldDrag(o,e,s){return(e===!0||e===o)&&(s===null||s===o)}function getCurrentDirection(o,e=10){let s=null;return Math.abs(o.y)>e?s="y":Math.abs(o.x)>e&&(s="x"),s}class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=o=>(e,s)=>{o&&frame.update(()=>o(e,s))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:h,onPanEnd:b}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(s),onMove:h,onEnd:(_e,rt)=>{delete this.session,b&&frame.update(()=>b(_e,rt))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const o=reactExports.useContext(PresenceContext);if(o===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:h}=o,b=reactExports.useId();return reactExports.useEffect(()=>h(b),[]),!e&&s?[!1,()=>s&&s(b)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(o,e){return e.max===e.min?0:o/(e.max-e.min)*100}const correctBorderRadius={correct:(o,e)=>{if(!e.target)return o;if(typeof o=="string")if(px.test(o))o=parseFloat(o);else return o;const s=pixelsToPercent(o,e.target.x),h=pixelsToPercent(o,e.target.y);return`${s}% ${h}%`}},correctBoxShadow={correct:(o,{treeScale:e,projectionDelta:s})=>{const h=o,b=complex.parse(o);if(b.length>5)return h;const _e=complex.createTransformer(o),rt=typeof b[0]!="number"?1:0,at=s.x.scale*e.x,st=s.y.scale*e.y;b[0+rt]/=at,b[1+rt]/=st;const ot=mix(at,st,.5);return typeof b[2+rt]=="number"&&(b[2+rt]/=ot),typeof b[3+rt]=="number"&&(b[3+rt]/=ot),_e(b)}};class MeasureLayoutWithContext extends React.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:h,layoutId:b}=this.props,{projection:_e}=e;addScaleCorrector(defaultScaleCorrectors),_e&&(s.group&&s.group.add(_e),h&&h.register&&b&&h.register(_e),_e.root.didUpdate(),_e.addEventListener("animationComplete",()=>{this.safeToRemove()}),_e.setOptions({..._e.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:h,drag:b,isPresent:_e}=this.props,rt=h.projection;return rt&&(rt.isPresent=_e,b||e.layoutDependency!==s||s===void 0?rt.willUpdate():this.safeToRemove(),e.isPresent!==_e&&(_e?rt.promote():rt.relegate()||frame.postRender(()=>{const at=rt.getStack();(!at||!at.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:h}=this.props,{projection:b}=e;b&&(b.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(b),h&&h.deregister&&h.deregister(b))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(o){const[e,s]=usePresence(),h=reactExports.useContext(LayoutGroupContext);return React.createElement(MeasureLayoutWithContext,{...o,layoutGroup:h,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:s})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=o=>typeof o=="string"?parseFloat(o):o,isPx=o=>typeof o=="number"||px.test(o);function mixValues(o,e,s,h,b,_e){b?(o.opacity=mix(0,s.opacity!==void 0?s.opacity:1,easeCrossfadeIn(h)),o.opacityExit=mix(e.opacity!==void 0?e.opacity:1,0,easeCrossfadeOut(h))):_e&&(o.opacity=mix(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,h));for(let rt=0;rt<numBorders;rt++){const at=`border${borders[rt]}Radius`;let st=getRadius(e,at),ot=getRadius(s,at);if(st===void 0&&ot===void 0)continue;st||(st=0),ot||(ot=0),st===0||ot===0||isPx(st)===isPx(ot)?(o[at]=Math.max(mix(asNumber(st),asNumber(ot),h),0),(percent.test(ot)||percent.test(st))&&(o[at]+="%")):o[at]=ot}(e.rotate||s.rotate)&&(o.rotate=mix(e.rotate||0,s.rotate||0,h))}function getRadius(o,e){return o[e]!==void 0?o[e]:o.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$2);function compress(o,e,s){return h=>h<o?0:h>e?1:s(progress(o,e,h))}function copyAxisInto(o,e){o.min=e.min,o.max=e.max}function copyBoxInto(o,e){copyAxisInto(o.x,e.x),copyAxisInto(o.y,e.y)}function removePointDelta(o,e,s,h,b){return o-=e,o=scalePoint(o,1/s,h),b!==void 0&&(o=scalePoint(o,1/b,h)),o}function removeAxisDelta(o,e=0,s=1,h=.5,b,_e=o,rt=o){if(percent.test(e)&&(e=parseFloat(e),e=mix(rt.min,rt.max,e/100)-rt.min),typeof e!="number")return;let at=mix(_e.min,_e.max,h);o===_e&&(at-=e),o.min=removePointDelta(o.min,e,s,at,b),o.max=removePointDelta(o.max,e,s,at,b)}function removeAxisTransforms(o,e,[s,h,b],_e,rt){removeAxisDelta(o,e[s],e[h],e[b],e.scale,_e,rt)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(o,e,s,h){removeAxisTransforms(o.x,e,xKeys,s?s.x:void 0,h?h.x:void 0),removeAxisTransforms(o.y,e,yKeys,s?s.y:void 0,h?h.y:void 0)}function isAxisDeltaZero(o){return o.translate===0&&o.scale===1}function isDeltaZero(o){return isAxisDeltaZero(o.x)&&isAxisDeltaZero(o.y)}function boxEquals(o,e){return o.x.min===e.x.min&&o.x.max===e.x.max&&o.y.min===e.y.min&&o.y.max===e.y.max}function boxEqualsRounded(o,e){return Math.round(o.x.min)===Math.round(e.x.min)&&Math.round(o.x.max)===Math.round(e.x.max)&&Math.round(o.y.min)===Math.round(e.y.min)&&Math.round(o.y.max)===Math.round(e.y.max)}function aspectRatio(o){return calcLength(o.x)/calcLength(o.y)}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(b=>e===b);if(s===0)return!1;let h;for(let b=s;b>=0;b--){const _e=this.members[b];if(_e.isPresent!==!1){h=_e;break}}return h?(this.promote(h),!0):!1}promote(e,s){const h=this.lead;if(e!==h&&(this.prevLead=h,this.lead=e,e.show(),h)){h.instance&&h.scheduleRender(),e.scheduleRender(),e.resumeFrom=h,s&&(e.resumeFrom.preserveOpacity=!0),h.snapshot&&(e.snapshot=h.snapshot,e.snapshot.latestValues=h.animationValues||h.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:b}=e.options;b===!1&&h.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:h}=e;s.onExitComplete&&s.onExitComplete(),h&&h.options.onExitComplete&&h.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(o,e,s){let h="";const b=o.x.translate/e.x,_e=o.y.translate/e.y;if((b||_e)&&(h=`translate3d(${b}px, ${_e}px, 0) `),(e.x!==1||e.y!==1)&&(h+=`scale(${1/e.x}, ${1/e.y}) `),s){const{rotate:st,rotateX:ot,rotateY:nt}=s;st&&(h+=`rotate(${st}deg) `),ot&&(h+=`rotateX(${ot}deg) `),nt&&(h+=`rotateY(${nt}deg) `)}const rt=o.x.scale*e.x,at=o.y.scale*e.y;return(rt!==1||at!==1)&&(h+=`scale(${rt}, ${at})`),h||"none"}const compareByDepth=(o,e)=>o.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function delay(o,e){const s=performance.now(),h=({timestamp:b})=>{const _e=b-s;_e>=e&&(cancelFrame(h),o(_e-e))};return frame.read(h,!0),()=>cancelFrame(h)}function record(o){window.MotionDebug&&window.MotionDebug.record(o)}function isSVGElement(o){return o instanceof SVGElement&&o.tagName!=="svg"}function animateSingleValue(o,e,s){const h=isMotionValue(o)?o:motionValue(o);return h.start(animateMotionValue("",h,e,s)),h.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id$4=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:o,defaultParent:e,measureScroll:s,checkIsScrollRoot:h,resetTransform:b}){return class{constructor(rt={},at=e==null?void 0:e()){this.id=id$4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=rt,this.root=at?at.root||at:this,this.path=at?[...at.path,at]:[],this.parent=at,this.depth=at?at.depth+1:0;for(let st=0;st<this.path.length;st++)this.path[st].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(rt,at){return this.eventHandlers.has(rt)||this.eventHandlers.set(rt,new SubscriptionManager),this.eventHandlers.get(rt).add(at)}notifyListeners(rt,...at){const st=this.eventHandlers.get(rt);st&&st.notify(...at)}hasListeners(rt){return this.eventHandlers.has(rt)}mount(rt,at=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(rt),this.instance=rt;const{layoutId:st,layout:ot,visualElement:nt}=this.options;if(nt&&!nt.current&&nt.mount(rt),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),at&&(ot||st)&&(this.isLayoutDirty=!0),o){let et;const d=()=>this.root.updateBlockedByResize=!1;o(rt,()=>{this.root.updateBlockedByResize=!0,et&&et(),et=delay(d,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}st&&this.root.registerSharedNode(st,this),this.options.animate!==!1&&nt&&(st||ot)&&this.addEventListener("didUpdate",({delta:et,hasLayoutChanged:d,hasRelativeTargetChanged:_,layout:tt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const lt=this.options.transition||nt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:ut,onLayoutAnimationComplete:ct}=nt.getProps(),ft=!this.targetLayout||!boxEqualsRounded(this.targetLayout,tt)||_,dt=!d&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||dt||d&&(ft||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(et,dt);const ht={...getValueTransition(lt,"layout"),onPlay:ut,onComplete:ct};(nt.shouldReduceMotion||this.options.layoutRoot)&&(ht.delay=0,ht.type=!1),this.startAnimation(ht)}else d||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=tt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const rt=this.getStack();rt&&rt.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:rt}=this.options;return rt&&rt.getProps().transformTemplate}willUpdate(rt=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let nt=0;nt<this.path.length;nt++){const et=this.path[nt];et.shouldResetTransform=!0,et.updateScroll("snapshot"),et.options.layoutRoot&&et.willUpdate(!1)}const{layoutId:at,layout:st}=this.options;if(at===void 0&&!st)return;const ot=this.getTransformTemplate();this.prevTransformTemplateValue=ot?ot(this.latestValues,""):void 0,this.updateSnapshot(),rt&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const at=performance.now();frameData.delta=clamp$1(0,1e3/60,at-frameData.timestamp),frameData.timestamp=at,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let st=0;st<this.path.length;st++)this.path[st].updateScroll();const rt=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:at}=this.options;at&&at.notify("LayoutMeasure",this.layout.layoutBox,rt?rt.layoutBox:void 0)}updateScroll(rt="measure"){let at=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===rt&&(at=!1),at&&(this.scroll={animationId:this.root.animationId,phase:rt,isRoot:h(this.instance),offset:s(this.instance)})}resetTransform(){if(!b)return;const rt=this.isLayoutDirty||this.shouldResetTransform,at=this.projectionDelta&&!isDeltaZero(this.projectionDelta),st=this.getTransformTemplate(),ot=st?st(this.latestValues,""):void 0,nt=ot!==this.prevTransformTemplateValue;rt&&(at||hasTransform(this.latestValues)||nt)&&(b(this.instance,ot),this.shouldResetTransform=!1,this.scheduleRender())}measure(rt=!0){const at=this.measurePageBox();let st=this.removeElementScroll(at);return rt&&(st=this.removeTransform(st)),roundBox(st),{animationId:this.root.animationId,measuredBox:at,layoutBox:st,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:rt}=this.options;if(!rt)return createBox();const at=rt.measureViewportBox(),{scroll:st}=this.root;return st&&(translateAxis(at.x,st.offset.x),translateAxis(at.y,st.offset.y)),at}removeElementScroll(rt){const at=createBox();copyBoxInto(at,rt);for(let st=0;st<this.path.length;st++){const ot=this.path[st],{scroll:nt,options:et}=ot;if(ot!==this.root&&nt&&et.layoutScroll){if(nt.isRoot){copyBoxInto(at,rt);const{scroll:d}=this.root;d&&(translateAxis(at.x,-d.offset.x),translateAxis(at.y,-d.offset.y))}translateAxis(at.x,nt.offset.x),translateAxis(at.y,nt.offset.y)}}return at}applyTransform(rt,at=!1){const st=createBox();copyBoxInto(st,rt);for(let ot=0;ot<this.path.length;ot++){const nt=this.path[ot];!at&&nt.options.layoutScroll&&nt.scroll&&nt!==nt.root&&transformBox(st,{x:-nt.scroll.offset.x,y:-nt.scroll.offset.y}),hasTransform(nt.latestValues)&&transformBox(st,nt.latestValues)}return hasTransform(this.latestValues)&&transformBox(st,this.latestValues),st}removeTransform(rt){const at=createBox();copyBoxInto(at,rt);for(let st=0;st<this.path.length;st++){const ot=this.path[st];if(!ot.instance||!hasTransform(ot.latestValues))continue;hasScale(ot.latestValues)&&ot.updateSnapshot();const nt=createBox(),et=ot.measurePageBox();copyBoxInto(nt,et),removeBoxTransforms(at,ot.latestValues,ot.snapshot?ot.snapshot.layoutBox:void 0,nt)}return hasTransform(this.latestValues)&&removeBoxTransforms(at,this.latestValues),at}setTargetDelta(rt){this.targetDelta=rt,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(rt){this.options={...this.options,...rt,crossfade:rt.crossfade!==void 0?rt.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(rt=!1){var at;const st=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=st.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=st.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=st.isSharedProjectionDirty);const ot=!!this.resumingFrom||this!==st;if(!(rt||ot&&this.isSharedProjectionDirty||this.isProjectionDirty||!((at=this.parent)===null||at===void 0)&&at.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:et,layoutId:d}=this.options;if(!(!this.layout||!(et||d))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,_.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var rt;const at=this.getLead(),st=!!this.resumingFrom||this!==at;let ot=!0;if((this.isProjectionDirty||!((rt=this.parent)===null||rt===void 0)&&rt.isProjectionDirty)&&(ot=!1),st&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(ot=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(ot=!1),ot)return;const{layout:nt,layoutId:et}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(nt||et))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,_=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,st),at.layout&&!at.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(at.target=at.layout.layoutBox);const{target:tt}=at;if(!tt){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const lt=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,tt,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==lt||this.treeScale.x!==d||this.treeScale.y!==_)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",tt)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(rt=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),rt){const at=this.getStack();at&&at.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(rt,at=!1){const st=this.snapshot,ot=st?st.latestValues:{},nt={...this.latestValues},et=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!at;const d=createBox(),_=st?st.source:void 0,tt=this.layout?this.layout.source:void 0,lt=_!==tt,ut=this.getStack(),ct=!ut||ut.members.length<=1,ft=!!(lt&&!ct&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let dt;this.mixTargetDelta=ht=>{const gt=ht/1e3;mixAxisDelta(et.x,rt.x,gt),mixAxisDelta(et.y,rt.y,gt),this.setTargetDelta(et),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,d,gt),dt&&boxEquals(this.relativeTarget,dt)&&(this.isProjectionDirty=!1),dt||(dt=createBox()),copyBoxInto(dt,this.relativeTarget)),lt&&(this.animationValues=nt,mixValues(nt,ot,this.latestValues,gt,ft,ct)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=gt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(rt){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...rt,onUpdate:at=>{this.mixTargetDelta(at),rt.onUpdate&&rt.onUpdate(at)},onComplete:()=>{rt.onComplete&&rt.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const rt=this.getStack();rt&&rt.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const rt=this.getLead();let{targetWithTransforms:at,target:st,layout:ot,latestValues:nt}=rt;if(!(!at||!st||!ot)){if(this!==rt&&this.layout&&ot&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,ot.layoutBox)){st=this.target||createBox();const et=calcLength(this.layout.layoutBox.x);st.x.min=rt.target.x.min,st.x.max=st.x.min+et;const d=calcLength(this.layout.layoutBox.y);st.y.min=rt.target.y.min,st.y.max=st.y.min+d}copyBoxInto(at,st),transformBox(at,nt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,at,nt)}}registerSharedNode(rt,at){this.sharedNodes.has(rt)||this.sharedNodes.set(rt,new NodeStack),this.sharedNodes.get(rt).add(at);const ot=at.options.initialPromotionConfig;at.promote({transition:ot?ot.transition:void 0,preserveFollowOpacity:ot&&ot.shouldPreserveFollowOpacity?ot.shouldPreserveFollowOpacity(at):void 0})}isLead(){const rt=this.getStack();return rt?rt.lead===this:!0}getLead(){var rt;const{layoutId:at}=this.options;return at?((rt=this.getStack())===null||rt===void 0?void 0:rt.lead)||this:this}getPrevLead(){var rt;const{layoutId:at}=this.options;return at?(rt=this.getStack())===null||rt===void 0?void 0:rt.prevLead:void 0}getStack(){const{layoutId:rt}=this.options;if(rt)return this.root.sharedNodes.get(rt)}promote({needsReset:rt,transition:at,preserveFollowOpacity:st}={}){const ot=this.getStack();ot&&ot.promote(this,st),rt&&(this.projectionDelta=void 0,this.needsReset=!0),at&&this.setOptions({transition:at})}relegate(){const rt=this.getStack();return rt?rt.relegate(this):!1}resetRotation(){const{visualElement:rt}=this.options;if(!rt)return;let at=!1;const{latestValues:st}=rt;if((st.rotate||st.rotateX||st.rotateY||st.rotateZ)&&(at=!0),!at)return;const ot={};for(let nt=0;nt<transformAxes.length;nt++){const et="rotate"+transformAxes[nt];st[et]&&(ot[et]=st[et],rt.setStaticValue(et,0))}rt.render();for(const nt in ot)rt.setStaticValue(nt,ot[nt]);rt.scheduleRender()}getProjectionStyles(rt){var at,st;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const ot={visibility:""},nt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,ot.opacity="",ot.pointerEvents=resolveMotionValue(rt==null?void 0:rt.pointerEvents)||"",ot.transform=nt?nt(this.latestValues,""):"none",ot;const et=this.getLead();if(!this.projectionDelta||!this.layout||!et.target){const lt={};return this.options.layoutId&&(lt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,lt.pointerEvents=resolveMotionValue(rt==null?void 0:rt.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(lt.transform=nt?nt({},""):"none",this.hasProjected=!1),lt}const d=et.animationValues||et.latestValues;this.applyTransformsToTarget(),ot.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,d),nt&&(ot.transform=nt(d,ot.transform));const{x:_,y:tt}=this.projectionDelta;ot.transformOrigin=`${_.origin*100}% ${tt.origin*100}% 0`,et.animationValues?ot.opacity=et===this?(st=(at=d.opacity)!==null&&at!==void 0?at:this.latestValues.opacity)!==null&&st!==void 0?st:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:ot.opacity=et===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const lt in scaleCorrectors){if(d[lt]===void 0)continue;const{correct:ut,applyTo:ct}=scaleCorrectors[lt],ft=ot.transform==="none"?d[lt]:ut(d[lt],et);if(ct){const dt=ct.length;for(let ht=0;ht<dt;ht++)ot[ct[ht]]=ft}else ot[lt]=ft}return this.options.layoutId&&(ot.pointerEvents=et===this?resolveMotionValue(rt==null?void 0:rt.pointerEvents)||"":"none"),ot}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(rt=>{var at;return(at=rt.currentAnimation)===null||at===void 0?void 0:at.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(o){o.updateLayout()}function notifyLayoutUpdate(o){var e;const s=((e=o.resumeFrom)===null||e===void 0?void 0:e.snapshot)||o.snapshot;if(o.isLead()&&o.layout&&s&&o.hasListeners("didUpdate")){const{layoutBox:h,measuredBox:b}=o.layout,{animationType:_e}=o.options,rt=s.source!==o.layout.source;_e==="size"?eachAxis(et=>{const d=rt?s.measuredBox[et]:s.layoutBox[et],_=calcLength(d);d.min=h[et].min,d.max=d.min+_}):shouldAnimatePositionOnly(_e,s.layoutBox,h)&&eachAxis(et=>{const d=rt?s.measuredBox[et]:s.layoutBox[et],_=calcLength(h[et]);d.max=d.min+_,o.relativeTarget&&!o.currentAnimation&&(o.isProjectionDirty=!0,o.relativeTarget[et].max=o.relativeTarget[et].min+_)});const at=createDelta();calcBoxDelta(at,h,s.layoutBox);const st=createDelta();rt?calcBoxDelta(st,o.applyTransform(b,!0),s.measuredBox):calcBoxDelta(st,h,s.layoutBox);const ot=!isDeltaZero(at);let nt=!1;if(!o.resumeFrom){const et=o.getClosestProjectingParent();if(et&&!et.resumeFrom){const{snapshot:d,layout:_}=et;if(d&&_){const tt=createBox();calcRelativePosition(tt,s.layoutBox,d.layoutBox);const lt=createBox();calcRelativePosition(lt,h,_.layoutBox),boxEqualsRounded(tt,lt)||(nt=!0),et.options.layoutRoot&&(o.relativeTarget=lt,o.relativeTargetOrigin=tt,o.relativeParent=et)}}}o.notifyListeners("didUpdate",{layout:h,snapshot:s,delta:st,layoutDelta:at,hasLayoutChanged:ot,hasRelativeTargetChanged:nt})}else if(o.isLead()){const{onExitComplete:h}=o.options;h&&h()}o.options.transition=void 0}function propagateDirtyNodes(o){projectionFrameData.totalNodes++,o.parent&&(o.isProjecting()||(o.isProjectionDirty=o.parent.isProjectionDirty),o.isSharedProjectionDirty||(o.isSharedProjectionDirty=!!(o.isProjectionDirty||o.parent.isProjectionDirty||o.parent.isSharedProjectionDirty)),o.isTransformDirty||(o.isTransformDirty=o.parent.isTransformDirty))}function cleanDirtyNodes(o){o.isProjectionDirty=o.isSharedProjectionDirty=o.isTransformDirty=!1}function clearSnapshot(o){o.clearSnapshot()}function clearMeasurements(o){o.clearMeasurements()}function clearIsLayoutDirty(o){o.isLayoutDirty=!1}function resetTransformStyle(o){const{visualElement:e}=o.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),o.resetTransform()}function finishAnimation(o){o.finishAnimation(),o.targetDelta=o.relativeTarget=o.target=void 0,o.isProjectionDirty=!0}function resolveTargetDelta(o){o.resolveTargetDelta()}function calcProjection(o){o.calcProjection()}function resetRotation(o){o.resetRotation()}function removeLeadSnapshots(o){o.removeLeadSnapshot()}function mixAxisDelta(o,e,s){o.translate=mix(e.translate,0,s),o.scale=mix(e.scale,1,s),o.origin=e.origin,o.originPoint=e.originPoint}function mixAxis(o,e,s,h){o.min=mix(e.min,s.min,h),o.max=mix(e.max,s.max,h)}function mixBox(o,e,s,h){mixAxis(o.x,e.x,s.x,h),mixAxis(o.y,e.y,s.y,h)}function hasOpacityCrossfade(o){return o.animationValues&&o.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=o=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(o),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(o){o.min=roundPoint(o.min),o.max=roundPoint(o.max)}function roundBox(o){roundAxis(o.x),roundAxis(o.y)}function shouldAnimatePositionOnly(o,e,s){return o==="position"||o==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(s),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(o,e)=>addDomEvent(o,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:o=>({x:o.scrollLeft,y:o.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const o=new DocumentProjectionNode({});o.mount(window),o.setOptions({layoutScroll:!0}),rootProjectionNode.current=o}return rootProjectionNode.current},resetTransform:(o,e)=>{o.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:o=>window.getComputedStyle(o).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},splitCSSVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(o){const e=splitCSSVariableRegex.exec(o);if(!e)return[,];const[,s,h]=e;return[s,h]}function getVariableValue(o,e,s=1){const[h,b]=parseCSSVariable(o);if(!h)return;const _e=window.getComputedStyle(e).getPropertyValue(h);if(_e){const rt=_e.trim();return isNumericalString(rt)?parseFloat(rt):rt}else return isCSSVariableToken(b)?getVariableValue(b,e,s+1):b}function resolveCSSVariables(o,{...e},s){const h=o.current;if(!(h instanceof Element))return{target:e,transitionEnd:s};s&&(s={...s}),o.values.forEach(b=>{const _e=b.get();if(!isCSSVariableToken(_e))return;const rt=getVariableValue(_e,h);rt&&b.set(rt)});for(const b in e){const _e=e[b];if(!isCSSVariableToken(_e))continue;const rt=getVariableValue(_e,h);rt&&(e[b]=rt,s||(s={}),s[b]===void 0&&(s[b]=_e))}return{target:e,transitionEnd:s}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isPositionalKey=o=>positionalKeys.has(o),hasPositionalKey=o=>Object.keys(o).some(isPositionalKey),isNumOrPxType=o=>o===number$1||o===px,getPosFromMatrix=(o,e)=>parseFloat(o.split(", ")[e]),getTranslateFromMatrix=(o,e)=>(s,{transform:h})=>{if(h==="none"||!h)return 0;const b=h.match(/^matrix3d\((.+)\)$/);if(b)return getPosFromMatrix(b[1],e);{const _e=h.match(/^matrix\((.+)\)$/);return _e?getPosFromMatrix(_e[1],o):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(o=>!transformKeys.has(o));function removeNonTranslationalTransform(o){const e=[];return nonTranslationalTransformKeys.forEach(s=>{const h=o.getValue(s);h!==void 0&&(e.push([s,h.get()]),h.set(s.startsWith("scale")?1:0))}),e.length&&o.render(),e}const positionalValues={width:({x:o},{paddingLeft:e="0",paddingRight:s="0"})=>o.max-o.min-parseFloat(e)-parseFloat(s),height:({y:o},{paddingTop:e="0",paddingBottom:s="0"})=>o.max-o.min-parseFloat(e)-parseFloat(s),top:(o,{top:e})=>parseFloat(e),left:(o,{left:e})=>parseFloat(e),bottom:({y:o},{top:e})=>parseFloat(e)+(o.max-o.min),right:({x:o},{left:e})=>parseFloat(e)+(o.max-o.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const convertChangedValueTypes=(o,e,s)=>{const h=e.measureViewportBox(),b=e.current,_e=getComputedStyle(b),{display:rt}=_e,at={};rt==="none"&&e.setStaticValue("display",o.display||"block"),s.forEach(ot=>{at[ot]=positionalValues[ot](h,_e)}),e.render();const st=e.measureViewportBox();return s.forEach(ot=>{const nt=e.getValue(ot);nt&&nt.jump(at[ot]),o[ot]=positionalValues[ot](st,_e)}),o},checkAndConvertChangedValueTypes=(o,e,s={},h={})=>{e={...e},h={...h};const b=Object.keys(e).filter(isPositionalKey);let _e=[],rt=!1;const at=[];if(b.forEach(st=>{const ot=o.getValue(st);if(!o.hasValue(st))return;let nt=s[st],et=findDimensionValueType(nt);const d=e[st];let _;if(isKeyframesTarget(d)){const tt=d.length,lt=d[0]===null?1:0;nt=d[lt],et=findDimensionValueType(nt);for(let ut=lt;ut<tt&&d[ut]!==null;ut++)_?invariant$1(findDimensionValueType(d[ut])===_):_=findDimensionValueType(d[ut])}else _=findDimensionValueType(d);if(et!==_)if(isNumOrPxType(et)&&isNumOrPxType(_)){const tt=ot.get();typeof tt=="string"&&ot.set(parseFloat(tt)),typeof d=="string"?e[st]=parseFloat(d):Array.isArray(d)&&_===px&&(e[st]=d.map(parseFloat))}else et!=null&&et.transform&&(_!=null&&_.transform)&&(nt===0||d===0)?nt===0?ot.set(_.transform(nt)):e[st]=et.transform(d):(rt||(_e=removeNonTranslationalTransform(o),rt=!0),at.push(st),h[st]=h[st]!==void 0?h[st]:e[st],ot.jump(d))}),at.length){const st=at.indexOf("height")>=0?window.pageYOffset:null,ot=convertChangedValueTypes(e,o,at);return _e.length&&_e.forEach(([nt,et])=>{o.getValue(nt).set(et)}),o.render(),isBrowser$1&&st!==null&&window.scrollTo({top:st}),{target:ot,transitionEnd:h}}else return{target:e,transitionEnd:h}};function unitConversion(o,e,s,h){return hasPositionalKey(e)?checkAndConvertChangedValueTypes(o,e,s,h):{target:e,transitionEnd:h}}const parseDomVariant=(o,e,s,h)=>{const b=resolveCSSVariables(o,e,h);return e=b.target,h=b.transitionEnd,unitConversion(o,e,s,h)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const o=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=o.matches;o.addListener(e),e()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(o,e,s){const{willChange:h}=e;for(const b in e){const _e=e[b],rt=s[b];if(isMotionValue(_e))o.addValue(b,_e),isWillChangeMotionValue(h)&&h.add(b);else if(isMotionValue(rt))o.addValue(b,motionValue(_e,{owner:o})),isWillChangeMotionValue(h)&&h.remove(b);else if(rt!==_e)if(o.hasValue(b)){const at=o.getValue(b);!at.hasAnimated&&at.set(_e)}else{const at=o.getStaticValue(b);o.addValue(b,motionValue(at!==void 0?at:_e,{owner:o}))}}for(const b in s)e[b]===void 0&&o.removeValue(b);return e}const visualElementStore=new WeakMap,featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:e,props:s,presenceContext:h,reducedMotionConfig:b,visualState:_e},rt={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:at,renderState:st}=_e;this.latestValues=at,this.baseTarget={...at},this.initialValues=s.initial?{...at}:{},this.renderState=st,this.parent=e,this.props=s,this.presenceContext=h,this.depth=e?e.depth+1:0,this.reducedMotionConfig=b,this.options=rt,this.isControllingVariants=isControllingVariants(s),this.isVariantNode=isVariantNode(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:ot,...nt}=this.scrapeMotionValuesFromProps(s,{});for(const et in nt){const d=nt[et];at[et]!==void 0&&isMotionValue(d)&&(d.set(at[et],!1),isWillChangeMotionValue(ot)&&ot.add(et))}}scrapeMotionValuesFromProps(e,s){return{}}mount(e){this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,h)=>this.bindToMotionValue(h,s)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,s){const h=transformProps.has(e),b=s.on("change",rt=>{this.latestValues[e]=rt,this.props.onUpdate&&frame.update(this.notifyUpdate,!1,!0),h&&this.projection&&(this.projection.isTransformDirty=!0)}),_e=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{b(),_e()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...s},h,b,_e){let rt,at;for(let st=0;st<numFeatures;st++){const ot=featureNames[st],{isEnabled:nt,Feature:et,ProjectionNode:d,MeasureLayout:_}=featureDefinitions[ot];d&&(rt=d),nt(s)&&(!this.features[ot]&&et&&(this.features[ot]=new et(this)),_&&(at=_))}if(!this.projection&&rt){this.projection=new rt(this.latestValues,this.parent&&this.parent.projection);const{layoutId:st,layout:ot,drag:nt,dragConstraints:et,layoutScroll:d,layoutRoot:_}=s;this.projection.setOptions({layoutId:st,layout:ot,alwaysMeasureLayout:!!nt||et&&isRefObject(et),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof ot=="string"?ot:"both",initialPromotionConfig:_e,layoutScroll:d,layoutRoot:_})}return at}updateFeatures(){for(const e in this.features){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}makeTargetAnimatable(e,s=!0){return this.makeTargetAnimatableFromInstance(e,this.props,s)}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let h=0;h<propEventHandlers.length;h++){const b=propEventHandlers[h];this.propEventSubscriptions[b]&&(this.propEventSubscriptions[b](),delete this.propEventSubscriptions[b]);const _e=e["on"+b];_e&&(this.propEventSubscriptions[b]=this.on(b,_e))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const h=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(h.initial=this.props.initial),h}const s={};for(let h=0;h<numVariantProps;h++){const b=variantProps[h],_e=this.props[b];(isVariantLabel(_e)||_e===!1)&&(s[b]=_e)}return s}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){s!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,s)),this.values.set(e,s),this.latestValues[e]=s.get()}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let h=this.values.get(e);return h===void 0&&s!==void 0&&(h=motionValue(s,{owner:this}),this.addValue(e,h)),h}readValue(e){var s;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:h}=this.props,b=typeof h=="string"||typeof h=="object"?(s=resolveVariantFromProps(this.props,h))===null||s===void 0?void 0:s[e]:void 0;if(h&&b!==void 0)return b;const _e=this.getBaseTargetFromProps(this.props,e);return _e!==void 0&&!isMotionValue(_e)?_e:this.initialValues[e]!==void 0&&b===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class DOMVisualElement extends VisualElement{sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:h}){delete s[e],delete h[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:s,...h},{transformValues:b},_e){let rt=getOrigin(h,e||{},this);if(b&&(s&&(s=b(s)),h&&(h=b(h)),rt&&(rt=b(rt))),_e){checkTargetForNewValues(this,h,rt);const at=parseDomVariant(this,h,rt,s);s=at.transitionEnd,h=at.target}return{transition:e,transitionEnd:s,...h}}}function getComputedStyle$1(o){return window.getComputedStyle(o)}class HTMLVisualElement extends DOMVisualElement{readValueFromInstance(e,s){if(transformProps.has(s)){const h=getDefaultValueType(s);return h&&h.default||0}else{const h=getComputedStyle$1(e),b=(isCSSVariableName(s)?h.getPropertyValue(s):h[s])||0;return typeof b=="string"?b.trim():b}}measureInstanceViewportBox(e,{transformPagePoint:s}){return measureViewportBox(e,s)}build(e,s,h,b){buildHTMLStyles(e,s,h,b.transformTemplate)}scrapeMotionValuesFromProps(e,s){return scrapeMotionValuesFromProps$1(e,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(e,s,h,b){renderHTML(e,s,h,b)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(transformProps.has(s)){const h=getDefaultValueType(s);return h&&h.default||0}return s=camelCaseAttributes.has(s)?s:camelToDash(s),e.getAttribute(s)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(e,s){return scrapeMotionValuesFromProps(e,s)}build(e,s,h,b){buildSVGAttrs(e,s,h,this.isSVGTag,b.transformTemplate)}renderInstance(e,s,h,b){renderSVG(e,s,h,b)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(o,e)=>isSVGComponent(o)?new SVGVisualElement(e,{enableHardwareAcceleration:!1}):new HTMLVisualElement(e,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((o,e)=>createDomMotionConfig(o,e,preloadedFeatures,createDomVisualElement));function useIsMounted(){const o=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>(o.current=!0,()=>{o.current=!1}),[]),o}function useForceUpdate(){const o=useIsMounted(),[e,s]=reactExports.useState(0),h=reactExports.useCallback(()=>{o.current&&s(e+1)},[e]);return[reactExports.useCallback(()=>frame.postRender(h),[h]),e]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const h=this.props.sizeRef.current;h.height=s.offsetHeight||0,h.width=s.offsetWidth||0,h.top=s.offsetTop,h.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:o,isPresent:e}){const s=reactExports.useId(),h=reactExports.useRef(null),b=reactExports.useRef({width:0,height:0,top:0,left:0});return reactExports.useInsertionEffect(()=>{const{width:_e,height:rt,top:at,left:st}=b.current;if(e||!h.current||!_e||!rt)return;h.current.dataset.motionPopId=s;const ot=document.createElement("style");return document.head.appendChild(ot),ot.sheet&&ot.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${_e}px !important;
            height: ${rt}px !important;
            top: ${at}px !important;
            left: ${st}px !important;
          }
        `),()=>{document.head.removeChild(ot)}},[e]),reactExports.createElement(PopChildMeasure,{isPresent:e,childRef:h,sizeRef:b},reactExports.cloneElement(o,{ref:h}))}const PresenceChild=({children:o,initial:e,isPresent:s,onExitComplete:h,custom:b,presenceAffectsLayout:_e,mode:rt})=>{const at=useConstant(newChildrenMap),st=reactExports.useId(),ot=reactExports.useMemo(()=>({id:st,initial:e,isPresent:s,custom:b,onExitComplete:nt=>{at.set(nt,!0);for(const et of at.values())if(!et)return;h&&h()},register:nt=>(at.set(nt,!1),()=>at.delete(nt))}),_e?void 0:[s]);return reactExports.useMemo(()=>{at.forEach((nt,et)=>at.set(et,!1))},[s]),reactExports.useEffect(()=>{!s&&!at.size&&h&&h()},[s]),rt==="popLayout"&&(o=reactExports.createElement(PopChild,{isPresent:s},o)),reactExports.createElement(PresenceContext.Provider,{value:ot},o)};function newChildrenMap(){return new Map}function useUnmountEffect(o){return reactExports.useEffect(()=>()=>o(),[])}const getChildKey=o=>o.key||"";function updateChildLookup(o,e){o.forEach(s=>{const h=getChildKey(s);e.set(h,s)})}function onlyElements(o){const e=[];return reactExports.Children.forEach(o,s=>{reactExports.isValidElement(s)&&e.push(s)}),e}const AnimatePresence=({children:o,custom:e,initial:s=!0,onExitComplete:h,exitBeforeEnter:b,presenceAffectsLayout:_e=!0,mode:rt="sync"})=>{const at=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],st=useIsMounted(),ot=onlyElements(o);let nt=ot;const et=reactExports.useRef(new Map).current,d=reactExports.useRef(nt),_=reactExports.useRef(new Map).current,tt=reactExports.useRef(!0);if(useIsomorphicLayoutEffect$1(()=>{tt.current=!1,updateChildLookup(ot,_),d.current=nt}),useUnmountEffect(()=>{tt.current=!0,_.clear(),et.clear()}),tt.current)return reactExports.createElement(reactExports.Fragment,null,nt.map(ft=>reactExports.createElement(PresenceChild,{key:getChildKey(ft),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:_e,mode:rt},ft)));nt=[...nt];const lt=d.current.map(getChildKey),ut=ot.map(getChildKey),ct=lt.length;for(let ft=0;ft<ct;ft++){const dt=lt[ft];ut.indexOf(dt)===-1&&!et.has(dt)&&et.set(dt,void 0)}return rt==="wait"&&et.size&&(nt=[]),et.forEach((ft,dt)=>{if(ut.indexOf(dt)!==-1)return;const ht=_.get(dt);if(!ht)return;const gt=lt.indexOf(dt);let yt=ft;if(!yt){const vt=()=>{et.delete(dt);const mt=Array.from(_.keys()).filter(bt=>!ut.includes(bt));if(mt.forEach(bt=>_.delete(bt)),d.current=ot.filter(bt=>{const $t=getChildKey(bt);return $t===dt||mt.includes($t)}),!et.size){if(st.current===!1)return;at(),h&&h()}};yt=reactExports.createElement(PresenceChild,{key:getChildKey(ht),isPresent:!1,onExitComplete:vt,custom:e,presenceAffectsLayout:_e,mode:rt},ht),et.set(dt,yt)}nt.splice(gt,0,yt)}),nt=nt.map(ft=>{const dt=ft.key;return et.has(dt)?ft:reactExports.createElement(PresenceChild,{key:getChildKey(ft),isPresent:!0,presenceAffectsLayout:_e,mode:rt},ft)}),reactExports.createElement(reactExports.Fragment,null,et.size?nt:nt.map(ft=>reactExports.cloneElement(ft)))};var TRANSITION_EASINGS={ease:[.36,.66,.4,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1],spring:[.155,1.105,.295,1.12],springOut:[.57,-.15,.62,.07],softSpring:[.16,1.11,.3,1.02]},useSafeLayoutEffect=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect;function useImage$1(o={}){const{loading:e,src:s,srcSet:h,onLoad:b,onError:_e,crossOrigin:rt,sizes:at,ignoreFallback:st}=o,[ot,nt]=reactExports.useState("pending");reactExports.useEffect(()=>{nt(s?"loading":"pending")},[s]);const et=reactExports.useRef(),d=reactExports.useCallback(()=>{if(!s)return;_();const tt=new Image;tt.src=s,rt&&(tt.crossOrigin=rt),h&&(tt.srcset=h),at&&(tt.sizes=at),e&&(tt.loading=e),tt.onload=lt=>{_(),nt("loaded"),b==null||b(lt)},tt.onerror=lt=>{_(),nt("failed"),_e==null||_e(lt)},et.current=tt},[s,rt,h,at,b,_e,e]),_=()=>{et.current&&(et.current.onload=null,et.current.onerror=null,et.current=null)};return useSafeLayoutEffect(()=>{if(!st)return ot==="loading"&&d(),()=>{_()}},[ot,d,st]),st?"loaded":ot}var[ButtonGroupProvider,useButtonGroupContext]=createContext2({name:"ButtonGroupContext",strict:!1});function useAriaButton(o,e){let{elementType:s="button",isDisabled:h,onPress:b,onPressStart:_e,onPressEnd:rt,onPressChange:at,preventFocusOnPress:st,allowFocusWhenDisabled:ot,onClick:nt,href:et,target:d,rel:_,type:tt="button",allowTextSelectionOnPress:lt}=o,ut;s==="button"?ut={type:tt,disabled:h}:ut={role:"button",tabIndex:h?void 0:0,href:s==="a"&&h?void 0:et,target:s==="a"?d:void 0,type:s==="input"?tt:void 0,disabled:s==="input"?h:void 0,"aria-disabled":!h||s==="input"?void 0:h,rel:s==="a"?_:void 0};let{pressProps:ct,isPressed:ft}=usePress({onPressStart:_e,onPressEnd:rt,onPressChange:at,onPress:b,isDisabled:h,preventFocusOnPress:st,allowTextSelectionOnPress:lt,ref:e}),{focusableProps:dt}=$e6afbd83fe6ebbd2$export$4c014de7c8940b4c(o,e);ot&&(dt.tabIndex=h?-1:dt.tabIndex);let ht=$3ef42575df84b30b$export$9d1611c77c2fe928(dt,ct,$65484d02dcb7eb3e$export$457c3d6518dd4c6f(o,{labelable:!0}));return{isPressed:ft,buttonProps:$3ef42575df84b30b$export$9d1611c77c2fe928(ut,ht,{"aria-haspopup":o["aria-haspopup"],"aria-expanded":o["aria-expanded"],"aria-controls":o["aria-controls"],"aria-pressed":o["aria-pressed"],onClick:gt=>{nt==null||nt(gt)}})}}var clamp=(o,e,s)=>Math.min(Math.max(o,e),s),Ripple=o=>{const{ripples:e=[],motionProps:s,color:h="currentColor",style:b,onClear:_e}=o;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e.map(rt=>{const at=clamp(.01*rt.size,.2,rt.size>100?.75:.5);return jsxRuntimeExports.jsx(AnimatePresence,{mode:"popLayout",children:jsxRuntimeExports.jsx(motion.span,{animate:{transform:"scale(2)",opacity:0},className:"nextui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:h,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",zIndex:10,top:rt.y,left:rt.x,width:`${rt.size}px`,height:`${rt.size}px`,...b},transition:{duration:at},onAnimationComplete:()=>{_e(rt.key)},...s})},rt.key)})})};Ripple.displayName="NextUI.Ripple";var ripple_default=Ripple;function useRipple(o={}){const[e,s]=reactExports.useState([]),h=reactExports.useCallback(_e=>{const rt=_e.currentTarget,at=Math.max(rt.clientWidth,rt.clientHeight),st=rt.getBoundingClientRect();s(ot=>[...ot,{key:getUniqueID(ot.length.toString()),size:at,x:_e.clientX-st.x-at/2,y:_e.clientY-st.y-at/2}])},[]),b=reactExports.useCallback(_e=>{s(rt=>rt.filter(at=>at.key!==_e))},[]);return{ripples:e,onClick:h,onClear:b,...o}}function useButton(o){var e,s,h,b,_e,rt,at,st;const ot=useButtonGroupContext(),nt=!!ot,{ref:et,as:d,children:_,startContent:tt,endContent:lt,autoFocus:ut,className:ct,spinner:ft,fullWidth:dt=(e=ot==null?void 0:ot.fullWidth)!=null?e:!1,size:ht=(s=ot==null?void 0:ot.size)!=null?s:"md",color:gt=(h=ot==null?void 0:ot.color)!=null?h:"default",variant:yt=(b=ot==null?void 0:ot.variant)!=null?b:"solid",disableAnimation:vt=(_e=ot==null?void 0:ot.disableAnimation)!=null?_e:!1,radius:mt=ot==null?void 0:ot.radius,disableRipple:bt=(rt=ot==null?void 0:ot.disableRipple)!=null?rt:!1,isDisabled:$t=(at=ot==null?void 0:ot.isDisabled)!=null?at:!1,isIconOnly:St=(st=ot==null?void 0:ot.isIconOnly)!=null?st:!1,isLoading:Pt=!1,spinnerPlacement:_t="start",onPress:wt,onClick:xt,...Tt}=o,It=d||"button",Ct=typeof It=="string",Rt=useDOMRef(et),{isFocusVisible:Ut,isFocused:kt,focusProps:jt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:ut}),Vt=$t||Pt,Gt=reactExports.useMemo(()=>button({size:ht,color:gt,variant:yt,radius:mt,fullWidth:dt,isDisabled:Vt,isInGroup:nt,disableAnimation:vt,isIconOnly:St,className:ct}),[ht,gt,yt,mt,dt,Vt,nt,St,vt,ct]),{onClick:Yt,onClear:er,ripples:nr}=useRipple(),Et=reactExports.useCallback(dr=>{bt||Vt||vt||Rt.current&&Yt(dr)},[bt,Vt,vt,Rt,Yt]),{buttonProps:Ot,isPressed:At}=useAriaButton({elementType:d,isDisabled:Vt,onPress:wt,onClick:$ff5963eb1fccf552$export$e08e3b67e392101e(xt,Et),...Tt},Rt),{isHovered:Nt,hoverProps:Mt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:Vt}),Lt=reactExports.useCallback((dr={})=>({"data-disabled":dataAttr(Vt),"data-focus":dataAttr(kt),"data-pressed":dataAttr(At),"data-focus-visible":dataAttr(Ut),"data-hover":dataAttr(Nt),"data-loading":dataAttr(Pt),...$3ef42575df84b30b$export$9d1611c77c2fe928(Ot,jt,Mt,filterDOMProps(Tt,{enabled:Ct}),filterDOMProps(dr))}),[Pt,Vt,kt,At,Ct,Ut,Nt,Ot,jt,Mt,Tt]),Wt=dr=>reactExports.isValidElement(dr)?reactExports.cloneElement(dr,{"aria-hidden":!0,focusable:!1,tabIndex:-1}):null,Xt=Wt(tt),ar=Wt(lt),Ht=reactExports.useMemo(()=>({sm:"sm",md:"sm",lg:"md"})[ht],[ht]),sr=reactExports.useCallback(()=>({ripples:nr,onClear:er}),[nr,er]);return{Component:It,children:_,domRef:Rt,spinner:ft,styles:Gt,startContent:Xt,endContent:ar,isLoading:Pt,spinnerPlacement:_t,spinnerSize:Ht,disableRipple:bt,getButtonProps:Lt,getRippleProps:sr,isIconOnly:St}}function useSpinner(o){const[e,s]=mapPropsVariants(o,spinner.variantKeys),{children:h,className:b,classNames:_e,label:rt,...at}=e,st=reactExports.useMemo(()=>spinner({...s}),[...Object.values(s)]),ot=clsx(_e==null?void 0:_e.base,b),nt=rt||h,et=reactExports.useMemo(()=>nt&&typeof nt=="string"?nt:at["aria-label"]?"":"Loading",[h,nt,at["aria-label"]]),d=reactExports.useCallback(()=>({"aria-label":et,className:st.base({class:ot}),...at}),[et,st,ot,at]);return{label:nt,slots:st,classNames:_e,getSpinnerProps:d}}var Spinner=forwardRef((o,e)=>{const{slots:s,classNames:h,label:b,getSpinnerProps:_e}=useSpinner({...o});return jsxRuntimeExports.jsxs("div",{ref:e,..._e(),children:[jsxRuntimeExports.jsxs("div",{className:s.wrapper({class:h==null?void 0:h.wrapper}),children:[jsxRuntimeExports.jsx("i",{className:s.circle1({class:h==null?void 0:h.circle1})}),jsxRuntimeExports.jsx("i",{className:s.circle2({class:h==null?void 0:h.circle2})})]}),b&&jsxRuntimeExports.jsx("span",{className:s.label(),children:b})]})});Spinner.displayName="NextUI.Spinner";var spinner_default=Spinner,Button=forwardRef((o,e)=>{const{Component:s,domRef:h,children:b,styles:_e,spinnerSize:rt,spinner:at=jsxRuntimeExports.jsx(spinner_default,{color:"current",size:rt}),spinnerPlacement:st,startContent:ot,endContent:nt,isLoading:et,disableRipple:d,getButtonProps:_,getRippleProps:tt,isIconOnly:lt}=useButton({...o,ref:e});return jsxRuntimeExports.jsxs(s,{ref:h,className:_e,..._(),children:[ot,et&&st==="start"&&at,et&&lt?null:b,et&&st==="end"&&at,nt,!d&&jsxRuntimeExports.jsx(ripple_default,{...tt()})]})});Button.displayName="NextUI.Button";var button_default=Button;function useAriaLink(o,e){let{elementType:s="a",onPress:h,onPressStart:b,onPressEnd:_e,onClick:rt,isDisabled:at,...st}=o,ot={};s!=="a"&&(ot={role:"link",tabIndex:at?void 0:0});let{focusableProps:nt}=$e6afbd83fe6ebbd2$export$4c014de7c8940b4c(o,e),{pressProps:et,isPressed:d}=usePress({onPress:h,onPressStart:b,onPressEnd:_e,isDisabled:at,ref:e}),_=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(st,{labelable:!0,isLink:s==="a"}),tt=$3ef42575df84b30b$export$9d1611c77c2fe928(nt,et),lt=$ea8dcbcb9ea1b556$export$9a302a45f65d0572();return{isPressed:d,linkProps:$3ef42575df84b30b$export$9d1611c77c2fe928(_,{...tt,...ot,"aria-disabled":at||void 0,"aria-current":o["aria-current"],onClick:ut=>{var ct;(ct=et.onClick)==null||ct.call(et,ut),rt&&rt(ut),!lt.isNative&&ut.currentTarget instanceof HTMLAnchorElement&&ut.currentTarget.href&&!ut.isDefaultPrevented()&&$ea8dcbcb9ea1b556$export$efa8c9099e530235(ut.currentTarget,ut)&&(ut.preventDefault(),lt.open(ut.currentTarget,ut))}})}}function useLink(o){var e,s;const[h,b]=mapPropsVariants(o,link.variantKeys),{ref:_e,as:rt,children:at,anchorIcon:st,isExternal:ot=!1,showAnchorIcon:nt=!1,autoFocus:et=!1,className:d,onPress:_,onPressStart:tt,onPressEnd:lt,onClick:ut,...ct}=h,ft=rt||"a",dt=useDOMRef(_e),{linkProps:ht}=useAriaLink({...ct,onPress:_,onPressStart:tt,onPressEnd:lt,onClick:ut,isDisabled:o.isDisabled,elementType:`${rt}`},dt),{isFocused:gt,isFocusVisible:yt,focusProps:vt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:et});ot&&(ct.rel=(e=ct.rel)!=null?e:"noopener noreferrer",ct.target=(s=ct.target)!=null?s:"_blank");const mt=reactExports.useMemo(()=>link({...b,className:d}),[...Object.values(b),d]),bt=reactExports.useCallback(()=>({ref:dt,className:mt,"data-focus":dataAttr(gt),"data-disabled":dataAttr(o.isDisabled),"data-focus-visible":dataAttr(yt),...$3ef42575df84b30b$export$9d1611c77c2fe928(vt,ht,ct)}),[mt,gt,yt,vt,ht,ct]);return{Component:ft,children:at,anchorIcon:st,showAnchorIcon:nt,getLinkProps:bt}}var Link=forwardRef((o,e)=>{const{Component:s,children:h,showAnchorIcon:b,anchorIcon:_e=jsxRuntimeExports.jsx(LinkIcon,{className:linkAnchorClasses}),getLinkProps:rt}=useLink({ref:e,...o});return jsxRuntimeExports.jsx(s,{...rt(),children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[h,b&&_e]})})});Link.displayName="NextUI.Link";var link_default=Link,zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(o,e){return typeof o=="function"?o(e):o&&(o.current=e),o}function useCallbackRef(o,e){var s=reactExports.useState(function(){return{value:o,callback:e,facade:{get current(){return s.value},set current(h){var b=s.value;b!==h&&(s.value=h,s.callback(h,b))}}}})[0];return s.callback=e,s.facade}function useMergeRefs(o,e){return useCallbackRef(e||null,function(s){return o.forEach(function(h){return assignRef(h,s)})})}function ItoI(o){return o}function innerCreateMedium(o,e){e===void 0&&(e=ItoI);var s=[],h=!1,b={read:function(){if(h)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:o},useMedium:function(_e){var rt=e(_e,h);return s.push(rt),function(){s=s.filter(function(at){return at!==rt})}},assignSyncMedium:function(_e){for(h=!0;s.length;){var rt=s;s=[],rt.forEach(_e)}s={push:function(at){return _e(at)},filter:function(){return s}}},assignMedium:function(_e){h=!0;var rt=[];if(s.length){var at=s;s=[],at.forEach(_e),rt=s}var st=function(){var nt=rt;rt=[],nt.forEach(_e)},ot=function(){return Promise.resolve().then(st)};ot(),s={push:function(nt){rt.push(nt),ot()},filter:function(nt){return rt=rt.filter(nt),s}}}};return b}function createSidecarMedium(o){o===void 0&&(o={});var e=innerCreateMedium(null);return e.options=__assign({async:!0,ssr:!1},o),e}var SideCar$1=function(o){var e=o.sideCar,s=__rest(o,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var h=e.read();if(!h)throw new Error("Sidecar medium not found");return reactExports.createElement(h,__assign({},s))};SideCar$1.isSideCarExport=!0;function exportSidecar(o,e){return o.useMedium(e),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll$1=reactExports.forwardRef(function(o,e){var s=reactExports.useRef(null),h=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),b=h[0],_e=h[1],rt=o.forwardProps,at=o.children,st=o.className,ot=o.removeScrollBar,nt=o.enabled,et=o.shards,d=o.sideCar,_=o.noIsolation,tt=o.inert,lt=o.allowPinchZoom,ut=o.as,ct=ut===void 0?"div":ut,ft=o.gapMode,dt=__rest(o,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),ht=d,gt=useMergeRefs([s,e]),yt=__assign(__assign({},dt),b);return reactExports.createElement(reactExports.Fragment,null,nt&&reactExports.createElement(ht,{sideCar:effectCar,removeScrollBar:ot,shards:et,noIsolation:_,inert:tt,setCallbacks:_e,allowPinchZoom:!!lt,lockRef:s,gapMode:ft}),rt?reactExports.cloneElement(reactExports.Children.only(at),__assign(__assign({},yt),{ref:gt})):reactExports.createElement(ct,__assign({},yt,{className:st,ref:gt}),at))});RemoveScroll$1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll$1.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var currentNonce,getNonce=function(){if(currentNonce)return currentNonce;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var o=document.createElement("style");o.type="text/css";var e=getNonce();return e&&o.setAttribute("nonce",e),o}function injectStyles(o,e){o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}function insertStyleTag(o){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(o)}var stylesheetSingleton=function(){var o=0,e=null;return{add:function(s){o==0&&(e=makeStyleTag())&&(injectStyles(e,s),insertStyleTag(e)),o++},remove:function(){o--,!o&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},styleHookSingleton=function(){var o=stylesheetSingleton();return function(e,s){reactExports.useEffect(function(){return o.add(e),function(){o.remove()}},[e&&s])}},styleSingleton=function(){var o=styleHookSingleton(),e=function(s){var h=s.styles,b=s.dynamic;return o(h,b),null};return e},zeroGap={left:0,top:0,right:0,gap:0},parse=function(o){return parseInt(o||"",10)||0},getOffset=function(o){var e=window.getComputedStyle(document.body),s=e[o==="padding"?"paddingLeft":"marginLeft"],h=e[o==="padding"?"paddingTop":"marginTop"],b=e[o==="padding"?"paddingRight":"marginRight"];return[parse(s),parse(h),parse(b)]},getGapWidth=function(o){if(o===void 0&&(o="margin"),typeof window>"u")return zeroGap;var e=getOffset(o),s=document.documentElement.clientWidth,h=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,h-s+e[2]-e[0])}},Style=styleSingleton(),getStyles=function(o,e,s,h){var b=o.left,_e=o.top,rt=o.right,at=o.gap;return s===void 0&&(s="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(h,`;
   padding-right: `).concat(at,"px ").concat(h,`;
  }
  body {
    overflow: hidden `).concat(h,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(h,";"),s==="margin"&&`
    padding-left: `.concat(b,`px;
    padding-top: `).concat(_e,`px;
    padding-right: `).concat(rt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(at,"px ").concat(h,`;
    `),s==="padding"&&"padding-right: ".concat(at,"px ").concat(h,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(at,"px ").concat(h,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(at,"px ").concat(h,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(h,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(h,`;
  }
  
  body {
    `).concat(removedBarSizeVariable,": ").concat(at,`px;
  }
`)},RemoveScrollBar=function(o){var e=o.noRelative,s=o.noImportant,h=o.gapMode,b=h===void 0?"margin":h,_e=reactExports.useMemo(function(){return getGapWidth(b)},[b]);return reactExports.createElement(Style,{styles:getStyles(_e,!e,b,s?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(o){return o.tagName==="TEXTAREA"},elementCanBeScrolled=function(o,e){var s=window.getComputedStyle(o);return s[e]!=="hidden"&&!(s.overflowY===s.overflowX&&!alwaysContainsScroll(o)&&s[e]==="visible")},elementCouldBeVScrolled=function(o){return elementCanBeScrolled(o,"overflowY")},elementCouldBeHScrolled=function(o){return elementCanBeScrolled(o,"overflowX")},locationCouldBeScrolled=function(o,e){var s=e.ownerDocument,h=e;do{typeof ShadowRoot<"u"&&h instanceof ShadowRoot&&(h=h.host);var b=elementCouldBeScrolled(o,h);if(b){var _e=getScrollVariables(o,h),rt=_e[1],at=_e[2];if(rt>at)return!0}h=h.parentNode}while(h&&h!==s.body);return!1},getVScrollVariables=function(o){var e=o.scrollTop,s=o.scrollHeight,h=o.clientHeight;return[e,s,h]},getHScrollVariables=function(o){var e=o.scrollLeft,s=o.scrollWidth,h=o.clientWidth;return[e,s,h]},elementCouldBeScrolled=function(o,e){return o==="v"?elementCouldBeVScrolled(e):elementCouldBeHScrolled(e)},getScrollVariables=function(o,e){return o==="v"?getVScrollVariables(e):getHScrollVariables(e)},getDirectionFactor=function(o,e){return o==="h"&&e==="rtl"?-1:1},handleScroll=function(o,e,s,h,b){var _e=getDirectionFactor(o,window.getComputedStyle(e).direction),rt=_e*h,at=s.target,st=e.contains(at),ot=!1,nt=rt>0,et=0,d=0;do{var _=getScrollVariables(o,at),tt=_[0],lt=_[1],ut=_[2],ct=lt-ut-_e*tt;(tt||ct)&&elementCouldBeScrolled(o,at)&&(et+=ct,d+=tt),at instanceof ShadowRoot?at=at.host:at=at.parentNode}while(!st&&at!==document.body||st&&(e.contains(at)||e===at));return(nt&&(b&&Math.abs(et)<1||!b&&rt>et)||!nt&&(b&&Math.abs(d)<1||!b&&-rt>d))&&(ot=!0),ot},getTouchXY=function(o){return"changedTouches"in o?[o.changedTouches[0].clientX,o.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(o){return[o.deltaX,o.deltaY]},extractRef=function(o){return o&&"current"in o?o.current:o},deltaCompare=function(o,e){return o[0]===e[0]&&o[1]===e[1]},generateStyle=function(o){return`
  .block-interactivity-`.concat(o,` {pointer-events: none;}
  .allow-interactivity-`).concat(o,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(o){var e=reactExports.useRef([]),s=reactExports.useRef([0,0]),h=reactExports.useRef(),b=reactExports.useState(idCounter++)[0],_e=reactExports.useState(styleSingleton)[0],rt=reactExports.useRef(o);reactExports.useEffect(function(){rt.current=o},[o]),reactExports.useEffect(function(){if(o.inert){document.body.classList.add("block-interactivity-".concat(b));var lt=__spreadArray([o.lockRef.current],(o.shards||[]).map(extractRef),!0).filter(Boolean);return lt.forEach(function(ut){return ut.classList.add("allow-interactivity-".concat(b))}),function(){document.body.classList.remove("block-interactivity-".concat(b)),lt.forEach(function(ut){return ut.classList.remove("allow-interactivity-".concat(b))})}}},[o.inert,o.lockRef.current,o.shards]);var at=reactExports.useCallback(function(lt,ut){if("touches"in lt&&lt.touches.length===2)return!rt.current.allowPinchZoom;var ct=getTouchXY(lt),ft=s.current,dt="deltaX"in lt?lt.deltaX:ft[0]-ct[0],ht="deltaY"in lt?lt.deltaY:ft[1]-ct[1],gt,yt=lt.target,vt=Math.abs(dt)>Math.abs(ht)?"h":"v";if("touches"in lt&&vt==="h"&&yt.type==="range")return!1;var mt=locationCouldBeScrolled(vt,yt);if(!mt)return!0;if(mt?gt=vt:(gt=vt==="v"?"h":"v",mt=locationCouldBeScrolled(vt,yt)),!mt)return!1;if(!h.current&&"changedTouches"in lt&&(dt||ht)&&(h.current=gt),!gt)return!0;var bt=h.current||gt;return handleScroll(bt,ut,lt,bt==="h"?dt:ht,!0)},[]),st=reactExports.useCallback(function(lt){var ut=lt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==_e)){var ct="deltaY"in ut?getDeltaXY(ut):getTouchXY(ut),ft=e.current.filter(function(gt){return gt.name===ut.type&&(gt.target===ut.target||ut.target===gt.shadowParent)&&deltaCompare(gt.delta,ct)})[0];if(ft&&ft.should){ut.cancelable&&ut.preventDefault();return}if(!ft){var dt=(rt.current.shards||[]).map(extractRef).filter(Boolean).filter(function(gt){return gt.contains(ut.target)}),ht=dt.length>0?at(ut,dt[0]):!rt.current.noIsolation;ht&&ut.cancelable&&ut.preventDefault()}}},[]),ot=reactExports.useCallback(function(lt,ut,ct,ft){var dt={name:lt,delta:ut,target:ct,should:ft,shadowParent:getOutermostShadowParent(ct)};e.current.push(dt),setTimeout(function(){e.current=e.current.filter(function(ht){return ht!==dt})},1)},[]),nt=reactExports.useCallback(function(lt){s.current=getTouchXY(lt),h.current=void 0},[]),et=reactExports.useCallback(function(lt){ot(lt.type,getDeltaXY(lt),lt.target,at(lt,o.lockRef.current))},[]),d=reactExports.useCallback(function(lt){ot(lt.type,getTouchXY(lt),lt.target,at(lt,o.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(_e),o.setCallbacks({onScrollCapture:et,onWheelCapture:et,onTouchMoveCapture:d}),document.addEventListener("wheel",st,nonPassive),document.addEventListener("touchmove",st,nonPassive),document.addEventListener("touchstart",nt,nonPassive),function(){lockStack=lockStack.filter(function(lt){return lt!==_e}),document.removeEventListener("wheel",st,nonPassive),document.removeEventListener("touchmove",st,nonPassive),document.removeEventListener("touchstart",nt,nonPassive)}},[]);var _=o.removeScrollBar,tt=o.inert;return reactExports.createElement(reactExports.Fragment,null,tt?reactExports.createElement(_e,{styles:generateStyle(b)}):null,_?reactExports.createElement(RemoveScrollBar,{gapMode:o.gapMode}):null)}function getOutermostShadowParent(o){for(var e=null;o!==null;)o instanceof ShadowRoot&&(e=o.host,o=o.host),o=o.parentNode;return e}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(o,e){return reactExports.createElement(RemoveScroll$1,__assign({},o,{ref:e,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll$1.classNames;const RemoveScroll=ReactRemoveScroll;function useImage(o){const[e,s]=mapPropsVariants(o,image.variantKeys),{ref:h,as:b,src:_e,className:rt,classNames:at,loading:st,isBlurred:ot,fallbackSrc:nt,isLoading:et,disableSkeleton:d=!!nt,removeWrapper:_=!1,onError:tt,onLoad:lt,srcSet:ut,sizes:ct,crossOrigin:ft,...dt}=e,ht=useImage$1({src:_e,loading:st,onError:tt,onLoad:lt,ignoreFallback:!1,srcSet:ut,sizes:ct,crossOrigin:ft}),gt=ht==="loaded"&&!et,yt=ht==="loading"||et,vt=o.isZoomed,mt=b||"img",bt=useDOMRef(h),{w:$t}=reactExports.useMemo(()=>({w:e.width?typeof e.width=="number"?`${e.width}px`:e.width:"fit-content"}),[e==null?void 0:e.width]),St=(!_e||!gt)&&!!nt,Pt=yt&&!d,_t=reactExports.useMemo(()=>image({...s,showSkeleton:Pt}),[...Object.values(s),Pt]),wt=clsx(rt,at==null?void 0:at.img),xt=(Ct={})=>{const Rt=clsx(wt,Ct==null?void 0:Ct.className);return{src:_e,ref:bt,"data-loaded":dataAttr(gt),className:_t.img({class:Rt}),loading:st,srcSet:ut,sizes:ct,crossOrigin:ft,...dt}},Tt=reactExports.useCallback(()=>{const Ct=St?{backgroundImage:`url(${nt})`}:{};return{className:_t.wrapper({class:at==null?void 0:at.wrapper}),style:{...Ct,maxWidth:$t}}},[_t,St,nt,at==null?void 0:at.wrapper]),It=reactExports.useCallback(()=>({src:_e,"aria-hidden":dataAttr(!0),className:_t.blurredImg({class:at==null?void 0:at.blurredImg})}),[_t,_e,at==null?void 0:at.blurredImg]);return{Component:mt,domRef:bt,slots:_t,classNames:at,isBlurred:ot,disableSkeleton:d,fallbackSrc:nt,removeWrapper:_,isZoomed:vt,isLoading:yt,getImgProps:xt,getWrapperProps:Tt,getBlurredImgProps:It}}var Image$3=forwardRef((o,e)=>{const{Component:s,domRef:h,slots:b,classNames:_e,isBlurred:rt,isZoomed:at,fallbackSrc:st,removeWrapper:ot,disableSkeleton:nt,getImgProps:et,getWrapperProps:d,getBlurredImgProps:_}=useImage({...o,ref:e}),tt=jsxRuntimeExports.jsx(s,{ref:h,...et()});if(ot)return tt;const lt=jsxRuntimeExports.jsx("div",{className:b.zoomedWrapper({class:_e==null?void 0:_e.zoomedWrapper}),children:tt});return rt?jsxRuntimeExports.jsxs("div",{...d(),children:[at?lt:tt,reactExports.cloneElement(tt,_())]}):at||!nt||st?jsxRuntimeExports.jsxs("div",{...d(),children:[" ",at?lt:tt]}):tt});Image$3.displayName="NextUI.Image";var image_default=Image$3,[NavbarProvider,useNavbarContext]=createContext2({name:"NavbarContext",strict:!0,errorMessage:"useNavbarContext: `context` is undefined. Seems you forgot to wrap component within <Navbar />"}),menuVariants={enter:{height:"calc(100vh - var(--navbar-height) - 1px)",transition:{duration:.3,easings:"easeOut"}},exit:{height:0,transition:{duration:.25,easings:"easeIn"}}},NavbarMenu=forwardRef((o,e)=>{var s,h;const{className:b,children:_e,portalContainer:rt,motionProps:at,style:st,...ot}=o,nt=useDOMRef(e),{slots:et,isMenuOpen:d,height:_,disableAnimation:tt,classNames:lt}=useNavbarContext(),ut=clsx(lt==null?void 0:lt.menu,b),ct=reactExports.useCallback(({children:dt})=>jsxRuntimeExports.jsx(RemoveScroll,{forwardProps:!0,enabled:d,removeScrollBar:!1,children:dt}),[d]),ft=tt?jsxRuntimeExports.jsx(ct,{children:jsxRuntimeExports.jsx("ul",{ref:nt,className:(s=et.menu)==null?void 0:s.call(et,{class:ut}),"data-open":dataAttr(d),style:{"--navbar-height":_},...ot,children:_e})}):jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:d?jsxRuntimeExports.jsx(ct,{children:jsxRuntimeExports.jsx(motion.ul,{ref:nt,layoutScroll:!0,animate:"enter",className:(h=et.menu)==null?void 0:h.call(et,{class:ut}),"data-open":dataAttr(d),exit:"exit",initial:"exit",style:{"--navbar-height":_,...st},variants:menuVariants,...$3ef42575df84b30b$export$9d1611c77c2fe928(at,ot),children:_e})}):null});return jsxRuntimeExports.jsx($337b884510726a0d$export$c6fdb837b070b4ff,{portalContainer:rt,children:ft})});NavbarMenu.displayName="NextUI.NavbarMenu";var navbar_menu_default=NavbarMenu,hideOnScrollVariants={visible:{y:0,transition:{ease:TRANSITION_EASINGS.easeOut}},hidden:{y:"-100%",transition:{ease:TRANSITION_EASINGS.easeIn}}},isBrowser=typeof window<"u";function getScrollPosition(o){return isBrowser?o?{x:o.scrollLeft,y:o.scrollTop}:{x:window.scrollX,y:window.scrollY}:{x:0,y:0}}var useScrollPosition=o=>{const{elementRef:e,delay:s=30,callback:h,isEnabled:b}=o,_e=reactExports.useRef(b?getScrollPosition(e==null?void 0:e.current):{x:0,y:0});let rt=null;const at=()=>{const st=getScrollPosition(e==null?void 0:e.current);typeof h=="function"&&h({prevPos:_e.current,currPos:st}),_e.current=st,rt=null};return reactExports.useEffect(()=>{if(!b)return;const st=()=>{s?rt===null&&(rt=setTimeout(at,s)):at()},ot=(e==null?void 0:e.current)||window;return ot.addEventListener("scroll",st),()=>ot.removeEventListener("scroll",st)},[e==null?void 0:e.current,s,b]),_e.current};function useNavbar(o){var e;const[s,h]=mapPropsVariants(o,navbar.variantKeys),{ref:b,as:_e,parentRef:rt,height:at="4rem",shouldHideOnScroll:st=!1,disableScrollHandler:ot=!1,onScrollPositionChange:nt,isMenuOpen:et,isMenuDefaultOpen:d,onMenuOpenChange:_=()=>{},motionProps:tt,className:lt,classNames:ut,...ct}=s,ft=_e||"nav",dt=useDOMRef(b),ht=reactExports.useRef(0),gt=reactExports.useRef(0),[yt,vt]=reactExports.useState(!1),mt=reactExports.useCallback(Tt=>{_(Tt||!1)},[_]),[bt,$t]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(et,d,mt),St=()=>{if(dt.current){const Tt=dt.current.offsetWidth;Tt!==ht.current&&(ht.current=Tt)}};$9daab02d461809db$export$683480f191c0e3ea({ref:dt,onResize:()=>{var Tt;((Tt=dt.current)==null?void 0:Tt.offsetWidth)!==ht.current&&(St(),$t(!1))}}),reactExports.useEffect(()=>{var Tt;St(),gt.current=((Tt=dt.current)==null?void 0:Tt.offsetHeight)||0},[]);const Pt=reactExports.useMemo(()=>navbar({...h,hideOnScroll:st}),[...Object.values(h),st]),_t=clsx(ut==null?void 0:ut.base,lt);useScrollPosition({elementRef:rt,isEnabled:st||!ot,callback:({prevPos:Tt,currPos:It})=>{nt==null||nt(It.y),st&&vt(Ct=>{const Rt=It.y>Tt.y&&It.y>gt.current;return Rt!==Ct?Rt:Ct})}});const wt=(Tt={})=>({...$3ef42575df84b30b$export$9d1611c77c2fe928(ct,Tt),"data-hidden":dataAttr(yt),"data-menu-open":dataAttr(bt),ref:dt,className:Pt.base({class:clsx(_t,Tt==null?void 0:Tt.className)}),style:{"--navbar-height":at,...ct==null?void 0:ct.style,...Tt==null?void 0:Tt.style}}),xt=(Tt={})=>({...Tt,"data-menu-open":dataAttr(bt),className:Pt.wrapper({class:clsx(ut==null?void 0:ut.wrapper,Tt==null?void 0:Tt.className)})});return{Component:ft,slots:Pt,domRef:dt,height:at,isHidden:yt,disableAnimation:(e=o.disableAnimation)!=null?e:!1,shouldHideOnScroll:st,isMenuOpen:bt,classNames:ut,setIsMenuOpen:$t,motionProps:tt,getBaseProps:wt,getWrapperProps:xt}}var Navbar=forwardRef((o,e)=>{const{children:s,...h}=o,b=useNavbar({...h,ref:e}),_e=b.Component,[rt,at]=pickChildren(s,navbar_menu_default),st=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("header",{...b.getWrapperProps(),children:rt}),at]});return jsxRuntimeExports.jsx(NavbarProvider,{value:b,children:b.shouldHideOnScroll?jsxRuntimeExports.jsx(motion.nav,{animate:b.isHidden?"hidden":"visible",initial:!1,variants:hideOnScrollVariants,...$3ef42575df84b30b$export$9d1611c77c2fe928(b.getBaseProps(),b.motionProps),children:st}):jsxRuntimeExports.jsx(_e,{...b.getBaseProps(),children:st})})});Navbar.displayName="NextUI.Navbar";var navbar_default=Navbar,NavbarBrand=forwardRef((o,e)=>{var s;const{as:h,className:b,children:_e,...rt}=o,at=h||"div",st=useDOMRef(e),{slots:ot,classNames:nt}=useNavbarContext(),et=clsx(nt==null?void 0:nt.brand,b);return jsxRuntimeExports.jsx(at,{ref:st,className:(s=ot.brand)==null?void 0:s.call(ot,{class:et}),...rt,children:_e})});NavbarBrand.displayName="NextUI.NavbarBrand";var navbar_brand_default=NavbarBrand,NavbarContent=forwardRef((o,e)=>{var s;const{as:h,className:b,children:_e,justify:rt="start",...at}=o,st=h||"ul",ot=useDOMRef(e),{slots:nt,classNames:et}=useNavbarContext(),d=clsx(et==null?void 0:et.content,b);return jsxRuntimeExports.jsx(st,{ref:ot,className:(s=nt.content)==null?void 0:s.call(nt,{class:d}),"data-justify":rt,...at,children:_e})});NavbarContent.displayName="NextUI.NavbarContent";var navbar_content_default=NavbarContent,NavbarItem=forwardRef((o,e)=>{var s;const{as:h,className:b,children:_e,isActive:rt,...at}=o,st=h||"li",ot=useDOMRef(e),{slots:nt,classNames:et}=useNavbarContext(),d=clsx(et==null?void 0:et.item,b);return jsxRuntimeExports.jsx(st,{ref:ot,className:(s=nt.item)==null?void 0:s.call(nt,{class:d}),"data-active":dataAttr(rt),...at,children:_e})});NavbarItem.displayName="NextUI.NavbarItem";var navbar_item_default=NavbarItem;/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(o[h]=s[h])}return o},_extends$3.apply(this,arguments)}var Action;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(o){o===void 0&&(o={});function e(h,b){let{pathname:_e,search:rt,hash:at}=h.location;return createLocation("",{pathname:_e,search:rt,hash:at},b.state&&b.state.usr||null,b.state&&b.state.key||"default")}function s(h,b){return typeof b=="string"?b:createPath(b)}return getUrlBasedHistory(e,s,null,o)}function invariant(o,e){if(o===!1||o===null||typeof o>"u")throw new Error(e)}function warning(o,e){if(!o){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(o,e){return{usr:o.state,key:o.key,idx:e}}function createLocation(o,e,s,h){return s===void 0&&(s=null),_extends$3({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:s,key:e&&e.key||h||createKey()})}function createPath(o){let{pathname:e="/",search:s="",hash:h=""}=o;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),h&&h!=="#"&&(e+=h.charAt(0)==="#"?h:"#"+h),e}function parsePath(o){let e={};if(o){let s=o.indexOf("#");s>=0&&(e.hash=o.substr(s),o=o.substr(0,s));let h=o.indexOf("?");h>=0&&(e.search=o.substr(h),o=o.substr(0,h)),o&&(e.pathname=o)}return e}function getUrlBasedHistory(o,e,s,h){h===void 0&&(h={});let{window:b=document.defaultView,v5Compat:_e=!1}=h,rt=b.history,at=Action.Pop,st=null,ot=nt();ot==null&&(ot=0,rt.replaceState(_extends$3({},rt.state,{idx:ot}),""));function nt(){return(rt.state||{idx:null}).idx}function et(){at=Action.Pop;let ut=nt(),ct=ut==null?null:ut-ot;ot=ut,st&&st({action:at,location:lt.location,delta:ct})}function d(ut,ct){at=Action.Push;let ft=createLocation(lt.location,ut,ct);s&&s(ft,ut),ot=nt()+1;let dt=getHistoryState(ft,ot),ht=lt.createHref(ft);try{rt.pushState(dt,"",ht)}catch(gt){if(gt instanceof DOMException&&gt.name==="DataCloneError")throw gt;b.location.assign(ht)}_e&&st&&st({action:at,location:lt.location,delta:1})}function _(ut,ct){at=Action.Replace;let ft=createLocation(lt.location,ut,ct);s&&s(ft,ut),ot=nt();let dt=getHistoryState(ft,ot),ht=lt.createHref(ft);rt.replaceState(dt,"",ht),_e&&st&&st({action:at,location:lt.location,delta:0})}function tt(ut){let ct=b.location.origin!=="null"?b.location.origin:b.location.href,ft=typeof ut=="string"?ut:createPath(ut);return invariant(ct,"No window.location.(origin|href) available to create URL for href: "+ft),new URL(ft,ct)}let lt={get action(){return at},get location(){return o(b,rt)},listen(ut){if(st)throw new Error("A history only accepts one active listener");return b.addEventListener(PopStateEventType,et),st=ut,()=>{b.removeEventListener(PopStateEventType,et),st=null}},createHref(ut){return e(b,ut)},createURL:tt,encodeLocation(ut){let ct=tt(ut);return{pathname:ct.pathname,search:ct.search,hash:ct.hash}},push:d,replace:_,go(ut){return rt.go(ut)}};return lt}var ResultType;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ResultType||(ResultType={}));function matchRoutes(o,e,s){s===void 0&&(s="/");let h=typeof e=="string"?parsePath(e):e,b=stripBasename(h.pathname||"/",s);if(b==null)return null;let _e=flattenRoutes(o);rankRouteBranches(_e);let rt=null;for(let at=0;rt==null&&at<_e.length;++at)rt=matchRouteBranch(_e[at],safelyDecodeURI(b));return rt}function flattenRoutes(o,e,s,h){e===void 0&&(e=[]),s===void 0&&(s=[]),h===void 0&&(h="");let b=(_e,rt,at)=>{let st={relativePath:at===void 0?_e.path||"":at,caseSensitive:_e.caseSensitive===!0,childrenIndex:rt,route:_e};st.relativePath.startsWith("/")&&(invariant(st.relativePath.startsWith(h),'Absolute route path "'+st.relativePath+'" nested under path '+('"'+h+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),st.relativePath=st.relativePath.slice(h.length));let ot=joinPaths([h,st.relativePath]),nt=s.concat(st);_e.children&&_e.children.length>0&&(invariant(_e.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ot+'".')),flattenRoutes(_e.children,e,nt,ot)),!(_e.path==null&&!_e.index)&&e.push({path:ot,score:computeScore(ot,_e.index),routesMeta:nt})};return o.forEach((_e,rt)=>{var at;if(_e.path===""||!((at=_e.path)!=null&&at.includes("?")))b(_e,rt);else for(let st of explodeOptionalSegments(_e.path))b(_e,rt,st)}),e}function explodeOptionalSegments(o){let e=o.split("/");if(e.length===0)return[];let[s,...h]=e,b=s.endsWith("?"),_e=s.replace(/\?$/,"");if(h.length===0)return b?[_e,""]:[_e];let rt=explodeOptionalSegments(h.join("/")),at=[];return at.push(...rt.map(st=>st===""?_e:[_e,st].join("/"))),b&&at.push(...rt),at.map(st=>o.startsWith("/")&&st===""?"/":st)}function rankRouteBranches(o){o.sort((e,s)=>e.score!==s.score?s.score-e.score:compareIndexes(e.routesMeta.map(h=>h.childrenIndex),s.routesMeta.map(h=>h.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=o=>o==="*";function computeScore(o,e){let s=o.split("/"),h=s.length;return s.some(isSplat)&&(h+=splatPenalty),e&&(h+=indexRouteValue),s.filter(b=>!isSplat(b)).reduce((b,_e)=>b+(paramRe.test(_e)?dynamicSegmentValue:_e===""?emptySegmentValue:staticSegmentValue),h)}function compareIndexes(o,e){return o.length===e.length&&o.slice(0,-1).every((h,b)=>h===e[b])?o[o.length-1]-e[e.length-1]:0}function matchRouteBranch(o,e){let{routesMeta:s}=o,h={},b="/",_e=[];for(let rt=0;rt<s.length;++rt){let at=s[rt],st=rt===s.length-1,ot=b==="/"?e:e.slice(b.length)||"/",nt=matchPath({path:at.relativePath,caseSensitive:at.caseSensitive,end:st},ot);if(!nt)return null;Object.assign(h,nt.params);let et=at.route;_e.push({params:h,pathname:joinPaths([b,nt.pathname]),pathnameBase:normalizePathname(joinPaths([b,nt.pathnameBase])),route:et}),nt.pathnameBase!=="/"&&(b=joinPaths([b,nt.pathnameBase]))}return _e}function matchPath(o,e){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[s,h]=compilePath(o.path,o.caseSensitive,o.end),b=e.match(s);if(!b)return null;let _e=b[0],rt=_e.replace(/(.)\/+$/,"$1"),at=b.slice(1);return{params:h.reduce((ot,nt,et)=>{let{paramName:d,isOptional:_}=nt;if(d==="*"){let lt=at[et]||"";rt=_e.slice(0,_e.length-lt.length).replace(/(.)\/+$/,"$1")}const tt=at[et];return _&&!tt?ot[d]=void 0:ot[d]=safelyDecodeURIComponent(tt||"",d),ot},{}),pathname:_e,pathnameBase:rt,pattern:o}}function compilePath(o,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),warning(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let h=[],b="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(rt,at,st)=>(h.push({paramName:at,isOptional:st!=null}),st?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(h.push({paramName:"*"}),b+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?b+="\\/*$":o!==""&&o!=="/"&&(b+="(?:(?=\\/|$))"),[new RegExp(b,e?void 0:"i"),h]}function safelyDecodeURI(o){try{return decodeURI(o)}catch(e){return warning(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),o}}function safelyDecodeURIComponent(o,e){try{return decodeURIComponent(o)}catch(s){return warning(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+o+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+s+").")),o}}function stripBasename(o,e){if(e==="/")return o;if(!o.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,h=o.charAt(s);return h&&h!=="/"?null:o.slice(s)||"/"}function resolvePath(o,e){e===void 0&&(e="/");let{pathname:s,search:h="",hash:b=""}=typeof o=="string"?parsePath(o):o;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,e):e,search:normalizeSearch(h),hash:normalizeHash(b)}}function resolvePathname(o,e){let s=e.replace(/\/+$/,"").split("/");return o.split("/").forEach(b=>{b===".."?s.length>1&&s.pop():b!=="."&&s.push(b)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(o,e,s,h){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(h)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(o){return o.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(o,e){let s=getPathContributingMatches(o);return e?s.map((h,b)=>b===o.length-1?h.pathname:h.pathnameBase):s.map(h=>h.pathnameBase)}function resolveTo(o,e,s,h){h===void 0&&(h=!1);let b;typeof o=="string"?b=parsePath(o):(b=_extends$3({},o),invariant(!b.pathname||!b.pathname.includes("?"),getInvalidPathError("?","pathname","search",b)),invariant(!b.pathname||!b.pathname.includes("#"),getInvalidPathError("#","pathname","hash",b)),invariant(!b.search||!b.search.includes("#"),getInvalidPathError("#","search","hash",b)));let _e=o===""||b.pathname==="",rt=_e?"/":b.pathname,at;if(rt==null)at=s;else if(h){let et=e.length===0?[]:e[e.length-1].replace(/^\//,"").split("/");if(rt.startsWith("..")){let d=rt.split("/");for(;d[0]==="..";)d.shift(),et.pop();b.pathname=d.join("/")}at="/"+et.join("/")}else{let et=e.length-1;if(rt.startsWith("..")){let d=rt.split("/");for(;d[0]==="..";)d.shift(),et-=1;b.pathname=d.join("/")}at=et>=0?e[et]:"/"}let st=resolvePath(b,at),ot=rt&&rt!=="/"&&rt.endsWith("/"),nt=(_e||rt===".")&&s.endsWith("/");return!st.pathname.endsWith("/")&&(ot||nt)&&(st.pathname+="/"),st}const joinPaths=o=>o.join("/").replace(/\/\/+/g,"/"),normalizePathname=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,normalizeHash=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function isRouteErrorResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(o[h]=s[h])}return o},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(o){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(o)}function useNavigate(){let{isDataRoute:o}=reactExports.useContext(RouteContext);return o?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let o=reactExports.useContext(DataRouterContext),{basename:e,future:s,navigator:h}=reactExports.useContext(NavigationContext),{matches:b}=reactExports.useContext(RouteContext),{pathname:_e}=useLocation(),rt=JSON.stringify(getResolveToMatches(b,s.v7_relativeSplatPath)),at=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{at.current=!0}),reactExports.useCallback(function(ot,nt){if(nt===void 0&&(nt={}),!at.current)return;if(typeof ot=="number"){h.go(ot);return}let et=resolveTo(ot,JSON.parse(rt),_e,nt.relative==="path");o==null&&e!=="/"&&(et.pathname=et.pathname==="/"?e:joinPaths([e,et.pathname])),(nt.replace?h.replace:h.push)(et,nt.state,nt)},[e,h,rt,_e,o])}function useRoutes(o,e){return useRoutesImpl(o,e)}function useRoutesImpl(o,e,s,h){useInRouterContext()||invariant(!1);let{navigator:b}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),rt=_e[_e.length-1],at=rt?rt.params:{};rt&&rt.pathname;let st=rt?rt.pathnameBase:"/";rt&&rt.route;let ot=useLocation(),nt;if(e){var et;let ut=typeof e=="string"?parsePath(e):e;st==="/"||(et=ut.pathname)!=null&&et.startsWith(st)||invariant(!1),nt=ut}else nt=ot;let d=nt.pathname||"/",_=st==="/"?d:d.slice(st.length)||"/",tt=matchRoutes(o,{pathname:_}),lt=_renderMatches(tt&&tt.map(ut=>Object.assign({},ut,{params:Object.assign({},at,ut.params),pathname:joinPaths([st,b.encodeLocation?b.encodeLocation(ut.pathname).pathname:ut.pathname]),pathnameBase:ut.pathnameBase==="/"?st:joinPaths([st,b.encodeLocation?b.encodeLocation(ut.pathnameBase).pathname:ut.pathnameBase])})),_e,s,h);return e&&lt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},nt),navigationType:Action.Pop}},lt):lt}function DefaultErrorComponent(){let o=useRouteError(),e=isRouteErrorResponse(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),s=o instanceof Error?o.stack:null,b={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},_e=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),s?reactExports.createElement("pre",{style:b},s):null,_e)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(o){let{routeContext:e,match:s,children:h}=o,b=reactExports.useContext(DataRouterContext);return b&&b.static&&b.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(b.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:e},h)}function _renderMatches(o,e,s,h){var b;if(e===void 0&&(e=[]),s===void 0&&(s=null),h===void 0&&(h=null),o==null){var _e;if((_e=s)!=null&&_e.errors)o=s.matches;else return null}let rt=o,at=(b=s)==null?void 0:b.errors;if(at!=null){let nt=rt.findIndex(et=>et.route.id&&(at==null?void 0:at[et.route.id]));nt>=0||invariant(!1),rt=rt.slice(0,Math.min(rt.length,nt+1))}let st=!1,ot=-1;if(s&&h&&h.v7_partialHydration)for(let nt=0;nt<rt.length;nt++){let et=rt[nt];if((et.route.HydrateFallback||et.route.hydrateFallbackElement)&&(ot=nt),et.route.loader&&et.route.id&&s.loaderData[et.route.id]===void 0&&(!s.errors||s.errors[et.route.id]===void 0)){st=!0,ot>=0?rt=rt.slice(0,ot+1):rt=[rt[0]];break}}return rt.reduceRight((nt,et,d)=>{let _,tt=!1,lt=null,ut=null;s&&(_=at&&et.route.id?at[et.route.id]:void 0,lt=et.route.errorElement||defaultErrorElement,st&&(ot<0&&d===0?(warningOnce("route-fallback",!1),tt=!0,ut=null):ot===d&&(tt=!0,ut=et.route.hydrateFallbackElement||null)));let ct=e.concat(rt.slice(0,d+1)),ft=()=>{let dt;return _?dt=lt:tt?dt=ut:et.route.Component?dt=reactExports.createElement(et.route.Component,null):et.route.element?dt=et.route.element:dt=nt,reactExports.createElement(RenderedRoute,{match:et,routeContext:{outlet:nt,matches:ct,isDataRoute:s!=null},children:dt})};return s&&(et.route.ErrorBoundary||et.route.errorElement||d===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:lt,error:_,children:ft(),routeContext:{outlet:null,matches:ct,isDataRoute:!0}}):ft()},null)}var DataRouterHook$1=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(DataRouterHook$1||{}),DataRouterStateHook$1=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(DataRouterStateHook$1||{});function useDataRouterContext(o){let e=reactExports.useContext(DataRouterContext);return e||invariant(!1),e}function useDataRouterState(o){let e=reactExports.useContext(DataRouterStateContext);return e||invariant(!1),e}function useRouteContext(o){let e=reactExports.useContext(RouteContext);return e||invariant(!1),e}function useCurrentRouteId(o){let e=useRouteContext(),s=e.matches[e.matches.length-1];return s.route.id||invariant(!1),s.route.id}function useRouteError(){var o;let e=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),h=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return e!==void 0?e:(o=s.errors)==null?void 0:o[h]}function useNavigateStable(){let{router:o}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(function(b,_e){_e===void 0&&(_e={}),s.current&&(typeof b=="number"?o.navigate(b):o.navigate(b,_extends$2({fromRouteId:e},_e)))},[o,e])}const alreadyWarned={};function warningOnce(o,e,s){!e&&!alreadyWarned[o]&&(alreadyWarned[o]=!0)}function Route(o){invariant(!1)}function Router(o){let{basename:e="/",children:s=null,location:h,navigationType:b=Action.Pop,navigator:_e,static:rt=!1,future:at}=o;useInRouterContext()&&invariant(!1);let st=e.replace(/^\/*/,"/"),ot=reactExports.useMemo(()=>({basename:st,navigator:_e,static:rt,future:_extends$2({v7_relativeSplatPath:!1},at)}),[st,at,_e,rt]);typeof h=="string"&&(h=parsePath(h));let{pathname:nt="/",search:et="",hash:d="",state:_=null,key:tt="default"}=h,lt=reactExports.useMemo(()=>{let ut=stripBasename(nt,st);return ut==null?null:{location:{pathname:ut,search:et,hash:d,state:_,key:tt},navigationType:b}},[st,nt,et,d,_,tt,b]);return lt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ot},reactExports.createElement(LocationContext.Provider,{children:s,value:lt}))}function Routes(o){let{children:e,location:s}=o;return useRoutes(createRoutesFromChildren(e),s)}new Promise(()=>{});function createRoutesFromChildren(o,e){e===void 0&&(e=[]);let s=[];return reactExports.Children.forEach(o,(h,b)=>{if(!reactExports.isValidElement(h))return;let _e=[...e,b];if(h.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(h.props.children,_e));return}h.type!==Route&&invariant(!1),!h.props.index||!h.props.children||invariant(!1);let rt={id:h.props.id||_e.join("-"),caseSensitive:h.props.caseSensitive,element:h.props.element,Component:h.props.Component,index:h.props.index,path:h.props.path,loader:h.props.loader,action:h.props.action,errorElement:h.props.errorElement,ErrorBoundary:h.props.ErrorBoundary,hasErrorBoundary:h.props.ErrorBoundary!=null||h.props.errorElement!=null,shouldRevalidate:h.props.shouldRevalidate,handle:h.props.handle,lazy:h.props.lazy};h.props.children&&(rt.children=createRoutesFromChildren(h.props.children,_e)),s.push(rt)}),s}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(o){let{basename:e,children:s,future:h,window:b}=o,_e=reactExports.useRef();_e.current==null&&(_e.current=createBrowserHistory({window:b,v5Compat:!0}));let rt=_e.current,[at,st]=reactExports.useState({action:rt.action,location:rt.location}),{v7_startTransition:ot}=h||{},nt=reactExports.useCallback(et=>{ot&&startTransitionImpl?startTransitionImpl(()=>st(et)):st(et)},[st,ot]);return reactExports.useLayoutEffect(()=>rt.listen(nt),[rt,nt]),reactExports.createElement(Router,{basename:e,children:s,location:at.location,navigationType:at.action,navigator:rt,future:h})}var DataRouterHook;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const mainContainer="_mainContainer_67o7k_1",secondContainer="_secondContainer_67o7k_9",searchContainer="_searchContainer_67o7k_19",fontMapContainer="_fontMapContainer_67o7k_29",carouselContainer="_carouselContainer_67o7k_39",styles={mainContainer,secondContainer,searchContainer,fontMapContainer,carouselContainer};var onnx_min={exports:{}};(function(module,exports){(function(o,e){module.exports=e()})(window,function(){return function(o){var e={};function s(h){if(e[h])return e[h].exports;var b=e[h]={i:h,l:!1,exports:{}};return o[h].call(b.exports,b,b.exports,s),b.l=!0,b.exports}return s.m=o,s.c=e,s.d=function(h,b,_e){s.o(h,b)||Object.defineProperty(h,b,{enumerable:!0,get:_e})},s.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},s.t=function(h,b){if(1&b&&(h=s(h)),8&b||4&b&&typeof h=="object"&&h&&h.__esModule)return h;var _e=Object.create(null);if(s.r(_e),Object.defineProperty(_e,"default",{enumerable:!0,value:h}),2&b&&typeof h!="string")for(var rt in h)s.d(_e,rt,(function(at){return h[at]}).bind(null,rt));return _e},s.n=function(h){var b=h&&h.__esModule?function(){return h.default}:function(){return h};return s.d(b,"a",b),b},s.o=function(h,b){return Object.prototype.hasOwnProperty.call(h,b)},s.p="",s(s.s=26)}([function(o,e,s){var h=this&&this.__read||function(dt,ht){var gt=typeof Symbol=="function"&&dt[Symbol.iterator];if(!gt)return dt;var yt,vt,mt=gt.call(dt),bt=[];try{for(;(ht===void 0||ht-- >0)&&!(yt=mt.next()).done;)bt.push(yt.value)}catch($t){vt={error:$t}}finally{try{yt&&!yt.done&&(gt=mt.return)&&gt.call(mt)}finally{if(vt)throw vt.error}}return bt},b=this&&this.__values||function(dt){var ht=typeof Symbol=="function"&&Symbol.iterator,gt=ht&&dt[ht],yt=0;if(gt)return gt.call(dt);if(dt&&typeof dt.length=="number")return{next:function(){return dt&&yt>=dt.length&&(dt=void 0),{value:dt&&dt[yt++],done:!dt}}};throw new TypeError(ht?"Object is not iterable.":"Symbol.iterator is not defined.")},_e=this&&this.__importDefault||function(dt){return dt&&dt.__esModule?dt:{default:dt}};Object.defineProperty(e,"__esModule",{value:!0}),e.PoolConvUtil=e.ReduceUtil=e.SplitUtil=e.MathUtil=e.ShapeUtil=e.LongUtil=e.ProtoUtil=e.GemmUtil=e.arrayCopyHelper=e.BroadcastUtil=e.MatMulUtil=e.checkInputsShape=void 0;var rt=_e(s(13)),at=s(9),st=s(1);e.checkInputsShape=function(dt){for(var ht=[],gt=1;gt<arguments.length;gt++)ht[gt-1]=arguments[gt];if(!dt||dt.length!==ht.length)return!1;for(var yt=0;yt<dt.length;yt++)if(!dt[yt].dims||dt[yt].dims.length!==ht[yt])return!1;return!0};var ot=function(){function dt(){}return dt.preprocessInputShapes=function(ht,gt){return[ht.length===1?[1,ht[0]]:ht,gt.length===1?[gt[0],1]:gt]},dt.postprocessOutputShape=function(ht,gt,yt){gt===1&&ht.splice(ht.length-2,1),yt===1&&ht.pop()},dt.calcMatMulShape=function(ht,gt){return ht[1]!==gt[0]?void 0:[ht[0],gt[1]]},dt}();e.MatMulUtil=ot;var nt=function(){function dt(){}return dt.calcShape=function(ht,gt,yt){var vt;yt===void 0&&(yt=!1);var mt=ht.length,bt=gt.length;if(mt===0)return gt;if(bt===0)return ht;var $t=Math.max(ht.length,gt.length),St=new Array($t);if(yt){if(mt<2||bt<2)return;var Pt=ot.calcMatMulShape([ht[mt-2],ht[mt-1]],[gt[bt-2],gt[bt-1]]);if(Pt===void 0)return;vt=h(Pt,2),St[$t-2]=vt[0],St[$t-1]=vt[1]}for(var _t=yt?3:1;_t<=$t;_t++){var wt=mt-_t<0?1:ht[mt-_t],xt=bt-_t<0?1:gt[bt-_t];if(wt!==xt&&wt>1&&xt>1)return;St[$t-_t]=Math.max(wt,xt)}return St},dt.index=function(ht,gt){var yt=new Array(gt.length);return dt.fillIndex(ht,gt,yt),yt},dt.fillIndex=function(ht,gt,yt){for(var vt=ht.length-gt.length,mt=0;mt<gt.length;mt++)yt[mt]=ht[vt+mt]%gt[mt]},dt.calc=function(ht,gt,yt,vt,mt){var bt=dt.calcShape(ht.dims,gt.dims);if(bt){if(vt&&!tt.areEqual(bt,ht.dims))return;var $t=tt.size(bt),St=vt?ht:new st.Tensor(bt,mt||ht.type);if(bt.length===0)St.set([],yt(ht.get([]),gt.get([])));else{var Pt=new Array(bt.length),_t=new Array(ht.dims.length),wt=new Array(gt.dims.length),xt=0,Tt=0,It=!1,Ct=!1;ht.dims.length===0&&(xt=ht.get([]),It=!0),gt.dims.length===0&&(Tt=gt.get([]),Ct=!0);for(var Rt=void 0,Ut=0;Ut<$t;Ut++){Rt=Ut;for(var kt=bt.length-1;kt>=0;kt--)Pt[kt]=Rt%bt[kt],Rt=Math.floor(Rt/bt[kt]);It||(dt.fillIndex(Pt,ht.dims,_t),xt=ht.get(_t)),Ct||(dt.fillIndex(Pt,gt.dims,wt),Tt=gt.get(wt)),St.set(Pt,yt(xt,Tt))}}return St}},dt.isValidBroadcast=function(ht,gt){var yt=ht.length,vt=gt.length;if(yt>vt)return!1;for(var mt=1;mt<=yt;mt++)if(ht[yt-mt]!==1&&ht[yt-mt]!==gt[vt-mt])return!1;return!0},dt}();e.BroadcastUtil=nt,e.arrayCopyHelper=function(dt,ht,gt,yt,vt){if(yt<0||yt>=ht.length)throw new Error("sourceIndex out of bounds");if(gt<0||gt>=dt.length)throw new Error("targetIndex out of bounds");if(yt+vt>ht.length)throw new Error("source indices to be copied are outside bounds");if(gt+vt>dt.length)throw new Error("target array is too small to hold result");for(var mt=0;mt<vt;mt++)dt[gt+mt]=ht[yt+mt]};var et=function(){function dt(){}return dt.getShapeOfGemmResult=function(ht,gt,yt,vt,mt){if(ht.length!==2||yt.length!==2)throw new Error("shape need to be of size 2");var bt,$t,St;gt?(bt=ht[1],$t=ht[0]):(bt=ht[0],$t=ht[1]);var Pt=-1;if(vt?(St=yt[0],Pt=1):(St=yt[1],Pt=0),yt[Pt]!==$t)throw new Error("dimension mismatch");if(bt<=0||St<=0||$t<=0)throw new Error("invalid shape specified");if(mt&&!nt.isValidBroadcast(mt,[bt,St]))throw new Error("gemm: invalid bias shape for broadcast");return[bt,St,$t]},dt}();e.GemmUtil=et;var d=function(){function dt(){}return dt.tensorDataTypeFromProto=function(ht){switch(ht){case at.onnx.TensorProto.DataType.INT8:return"int8";case at.onnx.TensorProto.DataType.UINT8:return"uint8";case at.onnx.TensorProto.DataType.BOOL:return"bool";case at.onnx.TensorProto.DataType.INT16:return"int16";case at.onnx.TensorProto.DataType.UINT16:return"uint16";case at.onnx.TensorProto.DataType.INT32:return"int32";case at.onnx.TensorProto.DataType.UINT32:return"uint32";case at.onnx.TensorProto.DataType.FLOAT:return"float32";case at.onnx.TensorProto.DataType.DOUBLE:return"float64";case at.onnx.TensorProto.DataType.STRING:return"string";case at.onnx.TensorProto.DataType.INT64:return"int32";case at.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error("unsupported data type: "+at.onnx.TensorProto.DataType[ht])}},dt.tensorDimsFromProto=function(ht){return ht.map(function(gt){return rt.default.isLong(gt)?gt.toNumber():gt})},dt.tensorValueTypeFromProto=function(ht){return{tensorType:dt.tensorDataTypeFromProto(ht.elemType),shape:{dims:dt.tensorDimsFromProto(ht.shape.dim.map(function(gt){return gt.dimValue}))}}},dt}();e.ProtoUtil=d;var _=function(){function dt(){}return dt.longToNumber=function(ht){return rt.default.isLong(ht)?ht.toNumber():ht},dt}();e.LongUtil=_;var tt=function(){function dt(){}return dt.size=function(ht){return dt.getSizeFromDimensionRange(ht,0,ht.length)},dt.sizeFromDimension=function(ht,gt){if(gt<0||gt>ht.length)throw new Error("invalid dimension of "+gt+" for sizeFromDimension as Tensor has "+ht.length+" dimensions.");return dt.getSizeFromDimensionRange(ht,gt,ht.length)},dt.sizeToDimension=function(ht,gt){if(gt<0||gt>ht.length)throw new Error("invalid dimension of "+gt+" for sizeToDimension as Tensor has "+ht.length+" dimensions.");return dt.getSizeFromDimensionRange(ht,0,gt)},dt.getSizeFromDimensionRange=function(ht,gt,yt){for(var vt=1,mt=gt;mt<yt;mt++){if(ht[mt]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");vt*=ht[mt]}return vt},dt.computeStrides=function(ht){var gt=ht.length;if(gt===0)return[];if(gt===1)return[1];var yt=new Array(gt);yt[gt-1]=1,yt[gt-2]=ht[gt-1];for(var vt=gt-3;vt>=0;--vt)yt[vt]=yt[vt+1]*ht[vt+1];return yt},dt.transpose=function(ht){return ht.slice().reverse()},dt.indicesToOffset=function(ht,gt,yt){yt===void 0&&(yt=ht.length);for(var vt=0,mt=0;mt<yt;++mt)vt+=gt[mt]*ht[mt];return vt},dt.offsetToIndices=function(ht,gt){var yt=gt.length;if(yt===0)return[];if(yt===1)return[ht*gt[0]];for(var vt=new Array(gt.length),mt=0;mt<vt.length-1;++mt)vt[mt]=Math.floor(ht/gt[mt]),ht-=vt[mt]*gt[mt];return vt[vt.length-1]=ht,vt},dt.normalizeAxis=function(ht,gt){if(ht<-gt&&ht>=gt)throw new Error("unsupported axis for this operation.");return ht<0?ht+gt:ht},dt.normalizeAxes=function(ht,gt){var yt=this;return ht.map(function(vt){return yt.normalizeAxis(vt,gt)})},dt.incrementIndex=function(ht,gt,yt){if(gt.length===0||ht.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(yt===void 0)yt=gt.length;else if(yt<=0||yt>gt.length)throw new Error("Incorrect axis to increment on");for(var vt=yt-1;vt>=0&&(ht[vt]++,!(ht[vt]<gt[vt]));--vt)ht[vt]=0},dt.calculateReshapedDims=function(ht,gt){if(gt.length===0){if(ht.length===0||dt.size(ht)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}for(var yt=gt.length,vt=new Array(yt),mt=-1,bt=1,$t=0;$t<yt;$t++){if(gt[$t]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(gt[$t]===-1){if(mt!==-1)throw new Error("at most one dimension in shape hints can be -1");mt=$t}else{if(gt[$t]===0){if($t>=ht.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");vt[$t]=ht[$t]}else vt[$t]=gt[$t];bt*=vt[$t]}}var St=dt.size(ht);if(mt!==-1){if(St%bt!=0)throw new Error("the input tensor cannot be reshaped to the requested shape. Input shape: ["+ht+"] Output shape: ["+gt+"]");vt[mt]=St/bt}else if(bt!==St)throw new Error("reshapedDims and originalDims don't have matching sizes");return vt},dt.sortBasedOnPerm=function(ht,gt){return gt?gt.map(function(yt){return ht[yt]}):ht.slice().reverse()},dt.padShape=function(ht,gt){var yt=ht.length;return ht.map(function(vt,mt){return vt+gt[mt]+gt[mt+yt]})},dt.areEqual=function(ht,gt){return ht.length===gt.length&&ht.every(function(yt,vt){return yt===gt[vt]})},dt.validateDimsAndCalcSize=function(ht){var gt,yt;if(ht.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");var vt=1;try{for(var mt=b(ht),bt=mt.next();!bt.done;bt=mt.next()){var $t=bt.value;if(!Number.isInteger($t))throw new TypeError("Invalid shape: "+$t+" is not an integer");if($t<0||$t>2147483647)throw new TypeError("Invalid shape: length "+$t+" is not allowed");vt*=$t}}catch(St){gt={error:St}}finally{try{bt&&!bt.done&&(yt=mt.return)&&yt.call(mt)}finally{if(gt)throw gt.error}}return vt},dt.flattenShape=function(ht,gt){gt<0&&(gt+=ht.length);var yt=ht.reduce(function(mt,bt){return mt*bt},1),vt=ht.slice(gt).reduce(function(mt,bt){return mt*bt},1);return[yt/vt,vt]},dt.squeezeShape=function(ht,gt){var yt=new Array;gt=dt.normalizeAxes(gt,ht.length);for(var vt=0;vt<ht.length;vt++){var mt=gt.indexOf(vt)>=0;if(mt&&ht[vt]!==1)throw new Error("squeeze an axis of size different than 1");(gt.length===0&&ht[vt]>1||gt.length>0&&!mt)&&yt.push(ht[vt])}return yt},dt.unsqueezeShape=function(ht,gt){var yt=new Array(ht.length+gt.length);yt.fill(0);for(var vt=0;vt<gt.length;vt++){var mt=dt.normalizeAxis(gt[vt],ht.length);if(mt>=yt.length)throw new Error("'axes' has an out of range axis");if(yt[mt]!==0)throw new Error("'axes' has a duplicate axis");yt[mt]=1}var bt=0;for(vt=0;vt<yt.length;vt++)yt[vt]===0&&(yt[vt]=ht[bt++]);if(bt!==ht.length)throw new Error("the unsqueezed dimension could not be established");return yt},dt}();e.ShapeUtil=tt;var lt=function(){function dt(){}return dt.sqr=function(ht,gt,yt,vt,mt){if(vt<0||vt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=ht.length)throw new Error("targetIndex out of bounds");if(vt+mt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+mt>ht.length)throw new Error("target array is too small to hold result");for(var bt=0;bt<mt;bt++)ht[yt+bt]+=Math.pow(gt[vt+bt],2)},dt.axpy=function(ht,gt,yt,vt,mt,bt){if(vt<0||vt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=ht.length)throw new Error("targetIndex out of bounds");if(vt+mt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+mt>ht.length)throw new Error("target array is too small to hold result");for(var $t=0;$t<mt;$t++)ht[yt+$t]+=bt*gt[vt+$t]},dt.powx=function(ht,gt,yt,vt,mt,bt){if(vt<0||vt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=ht.length)throw new Error("targetIndex out of bounds");if(vt+mt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+mt>ht.length)throw new Error("target array is too small to hold result");for(var $t=0;$t<mt;$t++)ht[yt+$t]=Math.pow(gt[vt+$t],bt)},dt.mul=function(ht,gt,yt,vt,mt){if(vt<0||vt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=ht.length)throw new Error("targetIndex out of bounds");if(vt+mt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+mt>ht.length)throw new Error("target array is too small to hold result");for(var bt=0;bt<mt;bt++)ht[yt+bt]=gt[vt+bt]*ht[yt+bt]},dt}();e.MathUtil=lt;var ut=function(){function dt(){}return dt.splitShape=function(ht,gt,yt,vt){if(yt.length===0){if(!vt)throw new Error("need to know number of outputs when the 'split' attribute is not specified");dt.determineSplit(ht[gt],vt,yt)}for(var mt=[],bt=[0],$t=0;$t<yt.length;++$t){$t!==0&&bt.push(bt[$t-1]+yt[$t-1]);var St=ht.slice();St[gt]=yt[$t],mt.push(St)}return[mt,bt]},dt.determineSplit=function(ht,gt,yt){if(ht%gt!=0)throw new Error("cannot split tensor to equal sized parts");for(var vt=0;vt<gt;++vt)yt.push(ht/gt)},dt}();e.SplitUtil=ut;var ct=function(){function dt(){}return dt.calcReduce=function(ht,gt,yt,vt,mt){var bt=ht.dims.slice(0);gt.length===0&&bt.forEach(function(Ct,Rt){return gt.push(Rt)});for(var $t=dt.calcReduceShape(bt,gt,!0),St=tt.size($t),Pt=new st.Tensor($t,ht.type),_t=tt.computeStrides($t),wt=tt.computeStrides(bt),xt=new Array(bt.length),Tt=0;Tt<St;Tt++){var It=tt.offsetToIndices(Tt,_t);nt.fillIndex(It,bt,xt),Pt.set(It,dt.calcReduceByAxis(ht.numberData,gt,bt,0,tt.indicesToOffset(xt,wt),vt,mt))}return yt?Pt:new st.Tensor(dt.calcReduceShape(bt,gt,yt),Pt.type,void 0,void 0,Pt.data,Pt.dataId)},dt.calcReduceByAxis=function(ht,gt,yt,vt,mt,bt,$t){var St=0;if(vt>=gt.length)return bt(ht[mt]);for(var Pt=gt[vt],_t=Pt>=yt.length?1:tt.size(yt.slice(Pt+1)),wt=0;wt<yt[Pt];wt++)St=wt===0?dt.calcReduceByAxis(ht,gt,yt,vt+1,mt,bt,$t):$t(St,dt.calcReduceByAxis(ht,gt,yt,vt+1,mt,bt,$t)),mt+=_t;return St},dt.calcReduceShape=function(ht,gt,yt){for(var vt=ht.slice(),mt=0;mt<gt.length;mt++)vt[gt[mt]]=yt?1:0;return vt.filter(function(bt){return bt!==0})},dt}();e.ReduceUtil=ct;var ft=function(){function dt(){}return dt.adjustPoolAttributes=function(ht,gt,yt,vt,mt){if(!ht&&yt.length!==gt.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(ht)for(var bt=0;bt<gt.length-2;bt++)bt>=yt.length?yt.push(gt[bt+2]):yt[bt]=gt[bt+2];for(bt=0;bt<yt.length;bt++)if(bt<vt.length){if(vt[bt]<0)throw new Error("strides should be greater than or equal to 1")}else vt.push(1);for(bt=0;bt<2*yt.length;bt++)if(bt<mt.length){if(mt[bt]<0)throw new Error("pad should be greater than or equal to 1")}else mt.push(0);for(bt=0;bt<yt.length;bt++){if(yt[bt]<=0)throw new Error("kernel shapes need to be greater than 0");if(mt[bt]>=yt[bt]||mt[bt+yt.length]>=yt[bt])throw new Error("pads should be smaller than kernel")}},dt.adjustPadsBasedOnAutoPad=function(ht,gt,yt,vt,mt,bt){if(bt){if(mt.length!==2*(ht.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(gt.length!==ht.length-2)throw new Error("length of strides should be the length of data dimensions");if(vt.length!==ht.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(var $t=0;$t<ht.length-2;$t++)dt.adjustPadAndReturnShape(ht[$t+2],gt[$t],yt[$t],vt[$t],mt,$t,$t+ht.length-2,bt)}},dt.computePoolOutputShape=function(ht,gt,yt,vt,mt,bt){if(gt.length<=0)throw new Error("input shape must be of size greater than 0");var $t=[gt[0],gt[1]],St=new Array(vt.length).fill(1);return dt.computeShapeHelper(ht,gt,$t,yt,St,vt,mt,bt),$t},dt.computeConvOutputShape=function(ht,gt,yt,vt,mt,bt,$t){if(ht.length<=0||gt.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");var St=[ht[0],gt[0]];return dt.computeShapeHelper(!1,ht,St,yt,vt,mt,bt,$t),St},dt.computeShapeHelper=function(ht,gt,yt,vt,mt,bt,$t,St){if(ht)for(var Pt=0;Pt<gt.length-2;Pt++)yt.push(1);else for(Pt=0;Pt<gt.length-2;Pt++)yt.push(dt.adjustPadAndReturnShape(gt[Pt+2],vt[Pt],mt[Pt],bt[Pt],$t,Pt,Pt+gt.length-2,St))},dt.adjustPadAndReturnShape=function(ht,gt,yt,vt,mt,bt,$t,St){var Pt=yt*(vt-1)+1;if(!St||St==="NOTSET")return Math.floor((ht+mt[bt]+mt[$t]-Pt)/gt+1);switch(St){case"VALID":return mt[bt]=0,mt[$t]=0,Math.floor((ht-Pt)/gt+1);case"SAME_LOWER":case"SAME_UPPER":if(yt!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");var _t=((ht+gt-1)/gt-1)*gt+vt-ht;return mt[bt]=Math.floor(St==="SAME_LOWER"?(_t+1)/2:_t/2),mt[$t]=_t-mt[bt],Math.floor((ht+_t-vt)/gt+1);default:throw new Error("Unsupported AutoPad type")}},dt}();e.PoolConvUtil=ft},function(o,e,s){(function(h){var b=this&&this.__awaiter||function(tt,lt,ut,ct){return new(ut||(ut=Promise))(function(ft,dt){function ht(vt){try{yt(ct.next(vt))}catch(mt){dt(mt)}}function gt(vt){try{yt(ct.throw(vt))}catch(mt){dt(mt)}}function yt(vt){var mt;vt.done?ft(vt.value):(mt=vt.value,mt instanceof ut?mt:new ut(function(bt){bt(mt)})).then(ht,gt)}yt((ct=ct.apply(tt,lt||[])).next())})},_e=this&&this.__generator||function(tt,lt){var ut,ct,ft,dt,ht={label:0,sent:function(){if(1&ft[0])throw ft[1];return ft[1]},trys:[],ops:[]};return dt={next:gt(0),throw:gt(1),return:gt(2)},typeof Symbol=="function"&&(dt[Symbol.iterator]=function(){return this}),dt;function gt(yt){return function(vt){return function(mt){if(ut)throw new TypeError("Generator is already executing.");for(;ht;)try{if(ut=1,ct&&(ft=2&mt[0]?ct.return:mt[0]?ct.throw||((ft=ct.return)&&ft.call(ct),0):ct.next)&&!(ft=ft.call(ct,mt[1])).done)return ft;switch(ct=0,ft&&(mt=[2&mt[0],ft.value]),mt[0]){case 0:case 1:ft=mt;break;case 4:return ht.label++,{value:mt[1],done:!1};case 5:ht.label++,ct=mt[1],mt=[0];continue;case 7:mt=ht.ops.pop(),ht.trys.pop();continue;default:if(ft=ht.trys,!((ft=ft.length>0&&ft[ft.length-1])||mt[0]!==6&&mt[0]!==2)){ht=0;continue}if(mt[0]===3&&(!ft||mt[1]>ft[0]&&mt[1]<ft[3])){ht.label=mt[1];break}if(mt[0]===6&&ht.label<ft[1]){ht.label=ft[1],ft=mt;break}if(ft&&ht.label<ft[2]){ht.label=ft[2],ht.ops.push(mt);break}ft[2]&&ht.ops.pop(),ht.trys.pop();continue}mt=lt.call(tt,ht)}catch(bt){mt=[6,bt],ct=0}finally{ut=ft=0}if(5&mt[0])throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}([yt,vt])}}},rt=this&&this.__importDefault||function(tt){return tt&&tt.__esModule?tt:{default:tt}};Object.defineProperty(e,"__esModule",{value:!0}),e.Tensor=void 0;var at=rt(s(13)),st=s(9),ot=s(0),nt=function(){function tt(lt,ut,ct,ft,dt,ht){ht===void 0&&(ht={}),this.dims=lt,this.type=ut,this.dataProvider=ct,this.asyncDataProvider=ft,this.cache=dt,this.dataId=ht,this.size=ot.ShapeUtil.validateDimsAndCalcSize(lt);var gt=this.size,yt=ct===void 0&&ft===void 0&&dt===void 0;if(dt!==void 0&&dt.length!==gt)throw new RangeError("Input dims doesn't match data length.");if(ut==="string"){if(!(dt===void 0||Array.isArray(dt)&&dt.every(function(bt){return typeof bt=="string"})))throw new TypeError("cache should be a string array");yt&&(dt=new Array(gt))}else{if(dt!==void 0){var vt=et(ut);if(!(dt instanceof vt))throw new TypeError("cache should be type "+vt.name)}if(yt){var mt=new ArrayBuffer(gt*function(bt){switch(bt){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error("cannot calculate sizeof() on type "+bt)}}(ut));this.cache=function(bt,$t){return new(et($t))(bt)}(mt,ut)}}}return Object.defineProperty(tt.prototype,"data",{get:function(){if(this.cache===void 0){var lt=this.dataProvider(this.dataId);if(lt.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=lt}return this.cache},enumerable:!1,configurable:!0}),Object.defineProperty(tt.prototype,"stringData",{get:function(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(tt.prototype,"integerData",{get:function(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}},enumerable:!1,configurable:!0}),Object.defineProperty(tt.prototype,"floatData",{get:function(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}},enumerable:!1,configurable:!0}),Object.defineProperty(tt.prototype,"numberData",{get:function(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")},enumerable:!1,configurable:!0}),tt.prototype.get=function(lt){return this.data[ot.ShapeUtil.indicesToOffset(lt,this.strides)]},tt.prototype.set=function(lt,ut){this.data[ot.ShapeUtil.indicesToOffset(lt,this.strides)]=ut},tt.prototype.getData=function(){return b(this,void 0,void 0,function(){var lt;return _e(this,function(ut){switch(ut.label){case 0:return this.cache!==void 0?[3,2]:(lt=this,[4,this.asyncDataProvider(this.dataId)]);case 1:lt.cache=ut.sent(),ut.label=2;case 2:return[2,this.cache]}})})},Object.defineProperty(tt.prototype,"strides",{get:function(){return this._strides||(this._strides=ot.ShapeUtil.computeStrides(this.dims)),this._strides},enumerable:!1,configurable:!0}),tt.fromProto=function(lt){if(!lt)throw new Error("cannot construct Value from an empty tensor");var ut=ot.ProtoUtil.tensorDataTypeFromProto(lt.dataType),ct=new tt(ot.ProtoUtil.tensorDimsFromProto(lt.dims),ut);if(ut==="string")lt.stringData.forEach(function(St,Pt){var _t=h.from(St.buffer,St.byteOffset,St.byteLength);ct.data[Pt]=_t.toString()});else if(lt.rawData&&typeof lt.rawData.byteLength=="number"&&lt.rawData.byteLength>0){var ft=ct.data,dt=new DataView(lt.rawData.buffer,lt.rawData.byteOffset,lt.rawData.byteLength),ht=function(St){switch(St){case st.onnx.TensorProto.DataType.UINT8:case st.onnx.TensorProto.DataType.INT8:case st.onnx.TensorProto.DataType.BOOL:return 1;case st.onnx.TensorProto.DataType.UINT16:case st.onnx.TensorProto.DataType.INT16:return 2;case st.onnx.TensorProto.DataType.FLOAT:case st.onnx.TensorProto.DataType.INT32:case st.onnx.TensorProto.DataType.UINT32:return 4;case st.onnx.TensorProto.DataType.INT64:case st.onnx.TensorProto.DataType.DOUBLE:case st.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error("cannot calculate sizeof() on type "+st.onnx.TensorProto.DataType[St])}}(lt.dataType),gt=lt.rawData.byteLength/ht;if(lt.rawData.byteLength%ht!=0)throw new Error("invalid buffer length");if(ft.length!==gt)throw new Error("buffer length mismatch");for(var yt=0;yt<gt;yt++){var vt=_(dt,lt.dataType,yt*ht);ft[yt]=vt}}else{var mt=void 0;switch(lt.dataType){case st.onnx.TensorProto.DataType.FLOAT:mt=lt.floatData;break;case st.onnx.TensorProto.DataType.INT32:case st.onnx.TensorProto.DataType.INT16:case st.onnx.TensorProto.DataType.UINT16:case st.onnx.TensorProto.DataType.INT8:case st.onnx.TensorProto.DataType.UINT8:case st.onnx.TensorProto.DataType.BOOL:mt=lt.int32Data;break;case st.onnx.TensorProto.DataType.INT64:mt=lt.int64Data;break;case st.onnx.TensorProto.DataType.DOUBLE:mt=lt.doubleData;break;case st.onnx.TensorProto.DataType.UINT32:case st.onnx.TensorProto.DataType.UINT64:mt=lt.uint64Data;break;default:throw new Error("unspecific error")}if(mt==null)throw new Error("failed to populate data from a tensorproto value");var bt=ct.data;if(bt.length!==mt.length)throw new Error("array length mismatch");for(yt=0;yt<mt.length;yt++){var $t=mt[yt];at.default.isLong($t)?bt[yt]=d($t,lt.dataType):bt[yt]=$t}}return ct},tt.fromData=function(lt,ut,ct){return new tt(ut,ct,void 0,void 0,lt)},tt}();function et(tt){switch(tt){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function d(tt,lt){if(lt===st.onnx.TensorProto.DataType.INT64){if(tt.greaterThanOrEqual(2147483648)||tt.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(lt!==st.onnx.TensorProto.DataType.UINT32&&lt!==st.onnx.TensorProto.DataType.UINT64)throw new TypeError("not a LONG type: "+st.onnx.TensorProto.DataType[lt]);if(tt.greaterThanOrEqual(4294967296)||tt.lessThan(0))throw new TypeError("uint64 is not supported")}return tt.toNumber()}function _(tt,lt,ut){switch(lt){case st.onnx.TensorProto.DataType.BOOL:case st.onnx.TensorProto.DataType.UINT8:return tt.getUint8(ut);case st.onnx.TensorProto.DataType.INT8:return tt.getInt8(ut);case st.onnx.TensorProto.DataType.UINT16:return tt.getUint16(ut,!0);case st.onnx.TensorProto.DataType.INT16:return tt.getInt16(ut,!0);case st.onnx.TensorProto.DataType.FLOAT:return tt.getFloat32(ut,!0);case st.onnx.TensorProto.DataType.INT32:return tt.getInt32(ut,!0);case st.onnx.TensorProto.DataType.UINT32:return tt.getUint32(ut,!0);case st.onnx.TensorProto.DataType.INT64:return d(at.default.fromBits(tt.getUint32(ut,!0),tt.getUint32(ut+4,!0),!1),lt);case st.onnx.TensorProto.DataType.DOUBLE:return tt.getFloat64(ut,!0);case st.onnx.TensorProto.DataType.UINT64:return d(at.default.fromBits(tt.getUint32(ut,!0),tt.getUint32(ut+4,!0),!0),lt);default:throw new Error("cannot read from DataView for type "+st.onnx.TensorProto.DataType[lt])}}e.Tensor=nt}).call(this,s(12).Buffer)},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultFragShaderMain=e.getFragShaderPreamble=e.getVertexShaderSource=e.getGlsl=void 0;var h={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},b={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function _e(rt){return rt===1?h:b}e.getGlsl=_e,e.getVertexShaderSource=function(rt){var at=_e(rt);return at.version+`
      precision highp float;
      `+at.attribute+` vec3 position;
      `+at.attribute+` vec2 textureCoord;

      `+at.varyingVertex+` vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},e.getFragShaderPreamble=function(rt){var at=_e(rt);return at.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+at.varyingFrag+` vec2 TexCoords;
    `+at.outputDeclaration+`

    `},e.getDefaultFragShaderMain=function(rt,at){return`
  void main() {
    int indices[`+at+`];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    `+_e(rt).output+` = result;
  }
  `}},function(o,e,s){var h,b;Object.defineProperty(e,"__esModule",{value:!0}),e.now=e.Profiler=e.Logger=void 0;var _e=function(){function ut(){}return ut.prototype.log=function(ct,ft,dt){},ut}(),rt=function(){function ut(){}return ut.prototype.log=function(ct,ft,dt){console.log(this.color(ct)+" "+(dt?"\x1B[35m"+dt+"\x1B[0m ":"")+ft)},ut.prototype.color=function(ct){switch(ct){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";default:throw new Error("unsupported severity: "+ct)}},ut}(),at={verbose:1e3,info:2e3,warning:4e3,error:5e3},st=((h={}).none=new _e,h.console=new rt,h),ot={provider:"console",minimalSeverity:"info",logDateTime:!0,logSourceLocation:!1},nt=((b={})[""]=ot,b);function et(ut,ct,ft,dt){if(ct===void 0)return ht=ut,{verbose:et.verbose.bind(null,ht),info:et.info.bind(null,ht),warning:et.warning.bind(null,ht),error:et.error.bind(null,ht)};if(ft===void 0)d(ut,ct);else if(typeof ft=="number"&&dt===void 0)d(ut,ct);else if(typeof ft=="string"&&dt===void 0)d(ut,ft,1,ct);else{if(typeof ft!="string"||typeof dt!="number")throw new TypeError("input is valid");d(ut,ft,dt,ct)}var ht}function d(ut,ct,ft,dt){var ht=nt[dt||""]||nt[""];at[ut]<at[ht.minimalSeverity]||(ht.logDateTime&&(ct=new Date().toISOString()+"|"+ct),ht.logSourceLocation,st[ht.provider].log(ut,ct,dt))}(function(ut){function ct(dt){nt={},ft("",dt||{})}function ft(dt,ht){if(dt==="*")ct(ht);else{var gt=nt[dt]||ot;nt[dt]={provider:ht.provider||gt.provider,minimalSeverity:ht.minimalSeverity||gt.minimalSeverity,logDateTime:ht.logDateTime===void 0?gt.logDateTime:ht.logDateTime,logSourceLocation:ht.logSourceLocation===void 0?gt.logSourceLocation:ht.logSourceLocation}}}ut.verbose=function(dt,ht){ut("verbose",dt,ht)},ut.info=function(dt,ht){ut("info",dt,ht)},ut.warning=function(dt,ht){ut("warning",dt,ht)},ut.error=function(dt,ht){ut("error",dt,ht)},ut.reset=ct,ut.set=ft})(et||(et={})),e.Logger=et;var _=function(){function ut(ct,ft,dt,ht){this.category=ct,this.name=ft,this.startTime=dt,this.endCallback=ht}return ut.prototype.end=function(){this.endCallback(this)},ut}(),tt=function(ut,ct,ft,dt){this.category=ut,this.name=ct,this.startTime=ft,this.endTime=dt},lt=function(){function ut(ct,ft,dt){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=ct===void 0?1e4:ct,this._flushBatchSize=ft===void 0?10:ft,this._flushIntervalInMilliseconds=dt===void 0?5e3:dt}return ut.create=function(ct){return ct===void 0?new this:new this(ct.maxNumberEvents,ct.flushBatchSize,ct.flushIntervalInMilliseconds)},ut.prototype.start=function(){this._started=!0,this._timingEvents=[],this._flushTime=e.now(),this._flushPointer=0},ut.prototype.stop=function(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])},ut.prototype.event=function(ct,ft,dt){var ht=this._started?this.begin(ct,ft):void 0,gt=!1;try{var yt=dt();return yt&&typeof yt.then=="function"?(gt=!0,new Promise(function(vt,mt){yt.then(function(bt){vt(bt),ht&&ht.end()},function(bt){mt(bt),ht&&ht.end()})})):yt}finally{!gt&&ht&&ht.end()}},ut.prototype.begin=function(ct,ft){var dt=this;if(!this._started)throw new Error("profiler is not started yet");var ht=e.now();return this.flush(ht),new _(ct,ft,ht,function(gt){return dt.end(gt)})},ut.prototype.end=function(ct){if(this._timingEvents.length<this._maxNumberEvents){var ft=e.now();this._timingEvents.push(new tt(ct.category,ct.name,ct.startTime,ft)),this.flush(ft)}},ut.prototype.logOneEvent=function(ct){e.Logger.verbose("Profiler."+ct.category,(ct.endTime-ct.startTime).toFixed(2)+"ms on event '"+ct.name+"' at "+ct.endTime.toFixed(2))},ut.prototype.flush=function(ct){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||ct-this._flushTime>=this._flushIntervalInMilliseconds){for(var ft=this._flushPointer;this._flushPointer<ft+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=e.now()}},Object.defineProperty(ut.prototype,"started",{get:function(){return this._started},enumerable:!1,configurable:!0}),ut}();e.Profiler=lt,e.now=typeof performance<"u"&&performance.now?function(){return performance.now()}:Date.now},function(o,e,s){var h,b=this&&this.__extends||(h=function(ut,ct){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,dt){ft.__proto__=dt}||function(ft,dt){for(var ht in dt)dt.hasOwnProperty(ht)&&(ft[ht]=dt[ht])})(ut,ct)},function(ut,ct){function ft(){this.constructor=ut}h(ut,ct),ut.prototype=ct===null?Object.create(ct):(ft.prototype=ct.prototype,new ft)}),_e=this&&this.__createBinding||(Object.create?function(ut,ct,ft,dt){dt===void 0&&(dt=ft),Object.defineProperty(ut,dt,{enumerable:!0,get:function(){return ct[ft]}})}:function(ut,ct,ft,dt){dt===void 0&&(dt=ft),ut[dt]=ct[ft]}),rt=this&&this.__setModuleDefault||(Object.create?function(ut,ct){Object.defineProperty(ut,"default",{enumerable:!0,value:ct})}:function(ut,ct){ut.default=ct}),at=this&&this.__importStar||function(ut){if(ut&&ut.__esModule)return ut;var ct={};if(ut!=null)for(var ft in ut)ft!=="default"&&Object.hasOwnProperty.call(ut,ft)&&_e(ct,ut,ft);return rt(ct,ut),ct};Object.defineProperty(e,"__esModule",{value:!0}),e.WasmBinding=e.init=void 0;var st,ot,nt,et=s(3),d=at(s(103)),_=!1,tt=!1;e.init=function(ut,ct){if(_)return Promise.resolve();if(tt)throw new Error("multiple calls to 'init()' detected.");return tt=!0,new Promise(function(ft,dt){var ht,gt=function(){ht!==void 0&&(clearTimeout(ht),ht=void 0)},yt=function(){gt(),ft(),tt=!1,_=!0},vt=d.init(),mt=new Promise(function(Pt,_t){ht=setTimeout(function(){_t("Wasm init promise failed to be resolved within set timeout")},ct)});ut>0?(et.Logger.verbose("WebAssembly-Workers","User has requested "+ut+" Workers."),function(){return typeof window<"u"&&window.Worker!==void 0}()?(et.Logger.verbose("WebAssembly-Workers","Environment supports usage of Workers. Will spawn "+ut+" Workers"),ot=ut):(et.Logger.error("WebAssembly-Workers","Environment does not support usage of Workers. Will not spawn workers."),ot=0)):(et.Logger.verbose("WebAssembly-Workers","User has disabled usage of Workers. Will not spawn workers."),ot=0);var bt=new Array(ot);st=new Array(ot),nt=new Array(ot);for(var $t=function(Pt){var _t=new Promise(function(wt,xt){var Tt=s(105).default();st[Pt]=Tt,nt[Pt]=[],Tt.onerror=function(It){et.Logger.error("WebAssembly-Workers","worker-"+Pt+" ERR: "+It),_||xt()},Tt.onmessage=function(It){if(!(It&&It.data&&It.data.type))throw new Error("missing message type from worker");if(It.data.type==="init-success")wt();else{if(It.data.type!=="ccall")throw new Error("unknown message type from worker: "+It.data.type);var Ct=It.data.perfData;nt[Pt].shift()(It.data.buffer,Ct)}}});bt[Pt]=_t},St=0;St<ot;St++)$t(St);Promise.race([vt,mt]).then(function(){Promise.all(bt).then(yt,function(Pt){et.Logger.warning("WebAssembly-Workers","Unable to get all requested workers initialized. Will use Wasm backend with 0 workers. ERR: "+Pt),ot=0,yt()})},function(Pt){gt(),dt(Pt),tt=!1})})};var lt=function(ut){function ct(){return ut!==null&&ut.apply(this,arguments)||this}return b(ct,ut),ct.getInstance=function(){return ct.instance||(ct.instance=new ct),ct.instance},Object.defineProperty(ct,"workerNumber",{get:function(){return ot},enumerable:!1,configurable:!0}),ct.prototype.ccallRemote=function(ft,dt){for(var ht=[],gt=2;gt<arguments.length;gt++)ht[gt-2]=arguments[gt];if(!_)throw new Error("wasm not initialized. please ensure 'init()' is called.");if(ft<0||ft>=ot)throw new Error("invalid worker ID "+ft+". should be in range [0, "+ot+")");var yt=[],vt=ct.calculateOffsets(yt,ht),mt=new ArrayBuffer(vt);ct.ccallSerialize(new Uint8Array(mt),yt,ht);var bt=d.now();return st[ft].postMessage({type:"ccall",func:dt,buffer:mt},[mt]),new Promise(function($t,St){nt[ft].push(function(Pt,_t){_t.startTimeWorker=_t.startTime,_t.endTimeWorker=_t.endTime,_t.startTime=bt,_t.endTime=d.now(),ct.ccallDeserialize(new Uint8Array(Pt),yt,ht),$t(_t)})})},ct}(d.WasmBinding);e.WasmBinding=lt},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.TopologicalSortGlslRoutines=e.GlslLibRoutineNode=e.GlslLibRoutine=e.GlslLib=e.GlslContext=e.FunctionType=void 0,function(st){st[st.ValueBased=0]="ValueBased",st[st.Positional=1]="Positional"}(e.FunctionType||(e.FunctionType={}));var h=function(st,ot){this.glContext=st,this.programInfo=ot};e.GlslContext=h;var b=function(st){this.context=st};e.GlslLib=b;var _e=function(st,ot){this.routineBody=st,this.dependencies=ot};e.GlslLibRoutine=_e;var rt=function(){function st(ot,nt,et){this.name=ot,this.dependencies=et||[],nt&&(this.routineBody=nt)}return st.prototype.addDependency=function(ot){ot&&this.dependencies.push(ot)},st}();e.GlslLibRoutineNode=rt;var at=function(){function st(){}return st.returnOrderedNodes=function(ot){if(!ot||ot.length===0)return[];if(ot.length===1)return ot;var nt=new Set,et=new Set,d=new Array;return this.createOrderedNodes(ot,nt,et,d),d},st.createOrderedNodes=function(ot,nt,et,d){for(var _=0;_<ot.length;++_)this.dfsTraverse(ot[_],nt,et,d)},st.dfsTraverse=function(ot,nt,et,d){if(ot&&!et.has(ot.name)){if(nt.has(ot.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");nt.add(ot.name);var _=ot.dependencies;if(_&&_.length>0)for(var tt=0;tt<_.length;++tt)this.dfsTraverse(_[tt],nt,et,d);d.push(ot),et.add(ot.name),nt.delete(ot.name)}},st}();e.TopologicalSortGlslRoutines=at},function(o,e,s){(function(h){var b=e;function _e(at,st,ot){for(var nt=Object.keys(st),et=0;et<nt.length;++et)at[nt[et]]!==void 0&&ot||(at[nt[et]]=st[nt[et]]);return at}function rt(at){function st(ot,nt){if(!(this instanceof st))return new st(ot,nt);Object.defineProperty(this,"message",{get:function(){return ot}}),Error.captureStackTrace?Error.captureStackTrace(this,st):Object.defineProperty(this,"stack",{value:new Error().stack||""}),nt&&_e(this,nt)}return(st.prototype=Object.create(Error.prototype)).constructor=st,Object.defineProperty(st.prototype,"name",{get:function(){return at}}),st.prototype.toString=function(){return this.name+": "+this.message},st}b.asPromise=s(64),b.base64=s(65),b.EventEmitter=s(66),b.float=s(67),b.inquire=s(68),b.utf8=s(69),b.pool=s(70),b.LongBits=s(71),b.global=typeof window<"u"&&window||h!==void 0&&h||typeof self<"u"&&self||this,b.emptyArray=Object.freeze?Object.freeze([]):[],b.emptyObject=Object.freeze?Object.freeze({}):{},b.isNode=!!(b.global.process&&b.global.process.versions&&b.global.process.versions.node),b.isInteger=Number.isInteger||function(at){return typeof at=="number"&&isFinite(at)&&Math.floor(at)===at},b.isString=function(at){return typeof at=="string"||at instanceof String},b.isObject=function(at){return at&&typeof at=="object"},b.isset=b.isSet=function(at,st){var ot=at[st];return!(ot==null||!at.hasOwnProperty(st))&&(typeof ot!="object"||(Array.isArray(ot)?ot.length:Object.keys(ot).length)>0)},b.Buffer=function(){try{var at=b.inquire("buffer").Buffer;return at.prototype.utf8Write?at:null}catch{return null}}(),b._Buffer_from=null,b._Buffer_allocUnsafe=null,b.newBuffer=function(at){return typeof at=="number"?b.Buffer?b._Buffer_allocUnsafe(at):new b.Array(at):b.Buffer?b._Buffer_from(at):typeof Uint8Array>"u"?at:new Uint8Array(at)},b.Array=typeof Uint8Array<"u"?Uint8Array:Array,b.Long=b.global.dcodeIO&&b.global.dcodeIO.Long||b.global.Long||b.inquire("long"),b.key2Re=/^true|false|0|1$/,b.key32Re=/^-?(?:0|[1-9][0-9]*)$/,b.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,b.longToHash=function(at){return at?b.LongBits.from(at).toHash():b.LongBits.zeroHash},b.longFromHash=function(at,st){var ot=b.LongBits.fromHash(at);return b.Long?b.Long.fromBits(ot.lo,ot.hi,st):ot.toNumber(!!st)},b.merge=_e,b.lcFirst=function(at){return at.charAt(0).toLowerCase()+at.substring(1)},b.newError=rt,b.ProtocolError=rt("ProtocolError"),b.oneOfGetter=function(at){for(var st={},ot=0;ot<at.length;++ot)st[at[ot]]=1;return function(){for(var nt=Object.keys(this),et=nt.length-1;et>-1;--et)if(st[nt[et]]===1&&this[nt[et]]!==void 0&&this[nt[et]]!==null)return nt[et]}},b.oneOfSetter=function(at){return function(st){for(var ot=0;ot<at.length;++ot)at[ot]!==st&&delete this[at[ot]]}},b.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},b._configure=function(){var at=b.Buffer;at?(b._Buffer_from=at.from!==Uint8Array.from&&at.from||function(st,ot){return new at(st,ot)},b._Buffer_allocUnsafe=at.allocUnsafe||function(st){return new at(st)}):b._Buffer_from=b._Buffer_allocUnsafe=null}}).call(this,s(8))},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.FLOAT_TYPES=e.INT_TYPES=e.NUMBER_TYPES=void 0,e.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],e.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],e.FLOAT_TYPES=["float32","float64"]},function(o,e){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}o.exports=s},function(o,e,s){var h=s(62),b=h.Reader,_e=h.Writer,rt=h.util,at=h.roots.default||(h.roots.default={});at.onnx=function(){var st,ot,nt={};return nt.Version=(st={},(ot=Object.create(st))[st[0]="_START_VERSION"]=0,ot[st[1]="IR_VERSION_2017_10_10"]=1,ot[st[2]="IR_VERSION_2017_10_30"]=2,ot[st[3]="IR_VERSION_2017_11_3"]=3,ot[st[4]="IR_VERSION_2019_1_22"]=4,ot[st[5]="IR_VERSION"]=5,ot),nt.AttributeProto=function(){function et(d){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.name="",et.prototype.refAttrName="",et.prototype.docString="",et.prototype.type=0,et.prototype.f=0,et.prototype.i=rt.Long?rt.Long.fromBits(0,0,!1):0,et.prototype.s=rt.newBuffer([]),et.prototype.t=null,et.prototype.g=null,et.prototype.floats=rt.emptyArray,et.prototype.ints=rt.emptyArray,et.prototype.strings=rt.emptyArray,et.prototype.tensors=rt.emptyArray,et.prototype.graphs=rt.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=_e.create()),d.name!=null&&d.hasOwnProperty("name")&&_.uint32(10).string(d.name),d.f!=null&&d.hasOwnProperty("f")&&_.uint32(21).float(d.f),d.i!=null&&d.hasOwnProperty("i")&&_.uint32(24).int64(d.i),d.s!=null&&d.hasOwnProperty("s")&&_.uint32(34).bytes(d.s),d.t!=null&&d.hasOwnProperty("t")&&at.onnx.TensorProto.encode(d.t,_.uint32(42).fork()).ldelim(),d.g!=null&&d.hasOwnProperty("g")&&at.onnx.GraphProto.encode(d.g,_.uint32(50).fork()).ldelim(),d.floats!=null&&d.floats.length){_.uint32(58).fork();for(var tt=0;tt<d.floats.length;++tt)_.float(d.floats[tt]);_.ldelim()}if(d.ints!=null&&d.ints.length){for(_.uint32(66).fork(),tt=0;tt<d.ints.length;++tt)_.int64(d.ints[tt]);_.ldelim()}if(d.strings!=null&&d.strings.length)for(tt=0;tt<d.strings.length;++tt)_.uint32(74).bytes(d.strings[tt]);if(d.tensors!=null&&d.tensors.length)for(tt=0;tt<d.tensors.length;++tt)at.onnx.TensorProto.encode(d.tensors[tt],_.uint32(82).fork()).ldelim();if(d.graphs!=null&&d.graphs.length)for(tt=0;tt<d.graphs.length;++tt)at.onnx.GraphProto.encode(d.graphs[tt],_.uint32(90).fork()).ldelim();return d.docString!=null&&d.hasOwnProperty("docString")&&_.uint32(106).string(d.docString),d.type!=null&&d.hasOwnProperty("type")&&_.uint32(160).int32(d.type),d.refAttrName!=null&&d.hasOwnProperty("refAttrName")&&_.uint32(170).string(d.refAttrName),_},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof b||(d=b.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new at.onnx.AttributeProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.name=d.string();break;case 21:lt.refAttrName=d.string();break;case 13:lt.docString=d.string();break;case 20:lt.type=d.int32();break;case 2:lt.f=d.float();break;case 3:lt.i=d.int64();break;case 4:lt.s=d.bytes();break;case 5:lt.t=at.onnx.TensorProto.decode(d,d.uint32());break;case 6:lt.g=at.onnx.GraphProto.decode(d,d.uint32());break;case 7:if(lt.floats&&lt.floats.length||(lt.floats=[]),(7&ut)==2)for(var ct=d.uint32()+d.pos;d.pos<ct;)lt.floats.push(d.float());else lt.floats.push(d.float());break;case 8:if(lt.ints&&lt.ints.length||(lt.ints=[]),(7&ut)==2)for(ct=d.uint32()+d.pos;d.pos<ct;)lt.ints.push(d.int64());else lt.ints.push(d.int64());break;case 9:lt.strings&&lt.strings.length||(lt.strings=[]),lt.strings.push(d.bytes());break;case 10:lt.tensors&&lt.tensors.length||(lt.tensors=[]),lt.tensors.push(at.onnx.TensorProto.decode(d,d.uint32()));break;case 11:lt.graphs&&lt.graphs.length||(lt.graphs=[]),lt.graphs.push(at.onnx.GraphProto.decode(d,d.uint32()));break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof b||(d=new b(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!rt.isString(d.name))return"name: string expected";if(d.refAttrName!=null&&d.hasOwnProperty("refAttrName")&&!rt.isString(d.refAttrName))return"refAttrName: string expected";if(d.docString!=null&&d.hasOwnProperty("docString")&&!rt.isString(d.docString))return"docString: string expected";if(d.type!=null&&d.hasOwnProperty("type"))switch(d.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(d.f!=null&&d.hasOwnProperty("f")&&typeof d.f!="number")return"f: number expected";if(d.i!=null&&d.hasOwnProperty("i")&&!(rt.isInteger(d.i)||d.i&&rt.isInteger(d.i.low)&&rt.isInteger(d.i.high)))return"i: integer|Long expected";if(d.s!=null&&d.hasOwnProperty("s")&&!(d.s&&typeof d.s.length=="number"||rt.isString(d.s)))return"s: buffer expected";if(d.t!=null&&d.hasOwnProperty("t")&&(tt=at.onnx.TensorProto.verify(d.t)))return"t."+tt;if(d.g!=null&&d.hasOwnProperty("g")&&(tt=at.onnx.GraphProto.verify(d.g)))return"g."+tt;if(d.floats!=null&&d.hasOwnProperty("floats")){if(!Array.isArray(d.floats))return"floats: array expected";for(var _=0;_<d.floats.length;++_)if(typeof d.floats[_]!="number")return"floats: number[] expected"}if(d.ints!=null&&d.hasOwnProperty("ints")){if(!Array.isArray(d.ints))return"ints: array expected";for(_=0;_<d.ints.length;++_)if(!(rt.isInteger(d.ints[_])||d.ints[_]&&rt.isInteger(d.ints[_].low)&&rt.isInteger(d.ints[_].high)))return"ints: integer|Long[] expected"}if(d.strings!=null&&d.hasOwnProperty("strings")){if(!Array.isArray(d.strings))return"strings: array expected";for(_=0;_<d.strings.length;++_)if(!(d.strings[_]&&typeof d.strings[_].length=="number"||rt.isString(d.strings[_])))return"strings: buffer[] expected"}if(d.tensors!=null&&d.hasOwnProperty("tensors")){if(!Array.isArray(d.tensors))return"tensors: array expected";for(_=0;_<d.tensors.length;++_)if(tt=at.onnx.TensorProto.verify(d.tensors[_]))return"tensors."+tt}if(d.graphs!=null&&d.hasOwnProperty("graphs")){if(!Array.isArray(d.graphs))return"graphs: array expected";for(_=0;_<d.graphs.length;++_){var tt;if(tt=at.onnx.GraphProto.verify(d.graphs[_]))return"graphs."+tt}}return null},et.fromObject=function(d){if(d instanceof at.onnx.AttributeProto)return d;var _=new at.onnx.AttributeProto;switch(d.name!=null&&(_.name=String(d.name)),d.refAttrName!=null&&(_.refAttrName=String(d.refAttrName)),d.docString!=null&&(_.docString=String(d.docString)),d.type){case"UNDEFINED":case 0:_.type=0;break;case"FLOAT":case 1:_.type=1;break;case"INT":case 2:_.type=2;break;case"STRING":case 3:_.type=3;break;case"TENSOR":case 4:_.type=4;break;case"GRAPH":case 5:_.type=5;break;case"FLOATS":case 6:_.type=6;break;case"INTS":case 7:_.type=7;break;case"STRINGS":case 8:_.type=8;break;case"TENSORS":case 9:_.type=9;break;case"GRAPHS":case 10:_.type=10}if(d.f!=null&&(_.f=Number(d.f)),d.i!=null&&(rt.Long?(_.i=rt.Long.fromValue(d.i)).unsigned=!1:typeof d.i=="string"?_.i=parseInt(d.i,10):typeof d.i=="number"?_.i=d.i:typeof d.i=="object"&&(_.i=new rt.LongBits(d.i.low>>>0,d.i.high>>>0).toNumber())),d.s!=null&&(typeof d.s=="string"?rt.base64.decode(d.s,_.s=rt.newBuffer(rt.base64.length(d.s)),0):d.s.length&&(_.s=d.s)),d.t!=null){if(typeof d.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");_.t=at.onnx.TensorProto.fromObject(d.t)}if(d.g!=null){if(typeof d.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");_.g=at.onnx.GraphProto.fromObject(d.g)}if(d.floats){if(!Array.isArray(d.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");_.floats=[];for(var tt=0;tt<d.floats.length;++tt)_.floats[tt]=Number(d.floats[tt])}if(d.ints){if(!Array.isArray(d.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(_.ints=[],tt=0;tt<d.ints.length;++tt)rt.Long?(_.ints[tt]=rt.Long.fromValue(d.ints[tt])).unsigned=!1:typeof d.ints[tt]=="string"?_.ints[tt]=parseInt(d.ints[tt],10):typeof d.ints[tt]=="number"?_.ints[tt]=d.ints[tt]:typeof d.ints[tt]=="object"&&(_.ints[tt]=new rt.LongBits(d.ints[tt].low>>>0,d.ints[tt].high>>>0).toNumber())}if(d.strings){if(!Array.isArray(d.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(_.strings=[],tt=0;tt<d.strings.length;++tt)typeof d.strings[tt]=="string"?rt.base64.decode(d.strings[tt],_.strings[tt]=rt.newBuffer(rt.base64.length(d.strings[tt])),0):d.strings[tt].length&&(_.strings[tt]=d.strings[tt])}if(d.tensors){if(!Array.isArray(d.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(_.tensors=[],tt=0;tt<d.tensors.length;++tt){if(typeof d.tensors[tt]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");_.tensors[tt]=at.onnx.TensorProto.fromObject(d.tensors[tt])}}if(d.graphs){if(!Array.isArray(d.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(_.graphs=[],tt=0;tt<d.graphs.length;++tt){if(typeof d.graphs[tt]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");_.graphs[tt]=at.onnx.GraphProto.fromObject(d.graphs[tt])}}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.floats=[],tt.ints=[],tt.strings=[],tt.tensors=[],tt.graphs=[]),_.defaults){if(tt.name="",tt.f=0,rt.Long){var lt=new rt.Long(0,0,!1);tt.i=_.longs===String?lt.toString():_.longs===Number?lt.toNumber():lt}else tt.i=_.longs===String?"0":0;_.bytes===String?tt.s="":(tt.s=[],_.bytes!==Array&&(tt.s=rt.newBuffer(tt.s))),tt.t=null,tt.g=null,tt.docString="",tt.type=_.enums===String?"UNDEFINED":0,tt.refAttrName=""}if(d.name!=null&&d.hasOwnProperty("name")&&(tt.name=d.name),d.f!=null&&d.hasOwnProperty("f")&&(tt.f=_.json&&!isFinite(d.f)?String(d.f):d.f),d.i!=null&&d.hasOwnProperty("i")&&(typeof d.i=="number"?tt.i=_.longs===String?String(d.i):d.i:tt.i=_.longs===String?rt.Long.prototype.toString.call(d.i):_.longs===Number?new rt.LongBits(d.i.low>>>0,d.i.high>>>0).toNumber():d.i),d.s!=null&&d.hasOwnProperty("s")&&(tt.s=_.bytes===String?rt.base64.encode(d.s,0,d.s.length):_.bytes===Array?Array.prototype.slice.call(d.s):d.s),d.t!=null&&d.hasOwnProperty("t")&&(tt.t=at.onnx.TensorProto.toObject(d.t,_)),d.g!=null&&d.hasOwnProperty("g")&&(tt.g=at.onnx.GraphProto.toObject(d.g,_)),d.floats&&d.floats.length){tt.floats=[];for(var ut=0;ut<d.floats.length;++ut)tt.floats[ut]=_.json&&!isFinite(d.floats[ut])?String(d.floats[ut]):d.floats[ut]}if(d.ints&&d.ints.length)for(tt.ints=[],ut=0;ut<d.ints.length;++ut)typeof d.ints[ut]=="number"?tt.ints[ut]=_.longs===String?String(d.ints[ut]):d.ints[ut]:tt.ints[ut]=_.longs===String?rt.Long.prototype.toString.call(d.ints[ut]):_.longs===Number?new rt.LongBits(d.ints[ut].low>>>0,d.ints[ut].high>>>0).toNumber():d.ints[ut];if(d.strings&&d.strings.length)for(tt.strings=[],ut=0;ut<d.strings.length;++ut)tt.strings[ut]=_.bytes===String?rt.base64.encode(d.strings[ut],0,d.strings[ut].length):_.bytes===Array?Array.prototype.slice.call(d.strings[ut]):d.strings[ut];if(d.tensors&&d.tensors.length)for(tt.tensors=[],ut=0;ut<d.tensors.length;++ut)tt.tensors[ut]=at.onnx.TensorProto.toObject(d.tensors[ut],_);if(d.graphs&&d.graphs.length)for(tt.graphs=[],ut=0;ut<d.graphs.length;++ut)tt.graphs[ut]=at.onnx.GraphProto.toObject(d.graphs[ut],_);return d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),d.type!=null&&d.hasOwnProperty("type")&&(tt.type=_.enums===String?at.onnx.AttributeProto.AttributeType[d.type]:d.type),d.refAttrName!=null&&d.hasOwnProperty("refAttrName")&&(tt.refAttrName=d.refAttrName),tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},et.AttributeType=function(){var d={},_=Object.create(d);return _[d[0]="UNDEFINED"]=0,_[d[1]="FLOAT"]=1,_[d[2]="INT"]=2,_[d[3]="STRING"]=3,_[d[4]="TENSOR"]=4,_[d[5]="GRAPH"]=5,_[d[6]="FLOATS"]=6,_[d[7]="INTS"]=7,_[d[8]="STRINGS"]=8,_[d[9]="TENSORS"]=9,_[d[10]="GRAPHS"]=10,_}(),et}(),nt.ValueInfoProto=function(){function et(d){if(d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.name="",et.prototype.type=null,et.prototype.docString="",et.create=function(d){return new et(d)},et.encode=function(d,_){return _||(_=_e.create()),d.name!=null&&d.hasOwnProperty("name")&&_.uint32(10).string(d.name),d.type!=null&&d.hasOwnProperty("type")&&at.onnx.TypeProto.encode(d.type,_.uint32(18).fork()).ldelim(),d.docString!=null&&d.hasOwnProperty("docString")&&_.uint32(26).string(d.docString),_},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof b||(d=b.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new at.onnx.ValueInfoProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.name=d.string();break;case 2:lt.type=at.onnx.TypeProto.decode(d,d.uint32());break;case 3:lt.docString=d.string();break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof b||(d=new b(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!rt.isString(d.name))return"name: string expected";if(d.type!=null&&d.hasOwnProperty("type")){var _=at.onnx.TypeProto.verify(d.type);if(_)return"type."+_}return d.docString!=null&&d.hasOwnProperty("docString")&&!rt.isString(d.docString)?"docString: string expected":null},et.fromObject=function(d){if(d instanceof at.onnx.ValueInfoProto)return d;var _=new at.onnx.ValueInfoProto;if(d.name!=null&&(_.name=String(d.name)),d.type!=null){if(typeof d.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");_.type=at.onnx.TypeProto.fromObject(d.type)}return d.docString!=null&&(_.docString=String(d.docString)),_},et.toObject=function(d,_){_||(_={});var tt={};return _.defaults&&(tt.name="",tt.type=null,tt.docString=""),d.name!=null&&d.hasOwnProperty("name")&&(tt.name=d.name),d.type!=null&&d.hasOwnProperty("type")&&(tt.type=at.onnx.TypeProto.toObject(d.type,_)),d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},et}(),nt.NodeProto=function(){function et(d){if(this.input=[],this.output=[],this.attribute=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.input=rt.emptyArray,et.prototype.output=rt.emptyArray,et.prototype.name="",et.prototype.opType="",et.prototype.domain="",et.prototype.attribute=rt.emptyArray,et.prototype.docString="",et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=_e.create()),d.input!=null&&d.input.length)for(var tt=0;tt<d.input.length;++tt)_.uint32(10).string(d.input[tt]);if(d.output!=null&&d.output.length)for(tt=0;tt<d.output.length;++tt)_.uint32(18).string(d.output[tt]);if(d.name!=null&&d.hasOwnProperty("name")&&_.uint32(26).string(d.name),d.opType!=null&&d.hasOwnProperty("opType")&&_.uint32(34).string(d.opType),d.attribute!=null&&d.attribute.length)for(tt=0;tt<d.attribute.length;++tt)at.onnx.AttributeProto.encode(d.attribute[tt],_.uint32(42).fork()).ldelim();return d.docString!=null&&d.hasOwnProperty("docString")&&_.uint32(50).string(d.docString),d.domain!=null&&d.hasOwnProperty("domain")&&_.uint32(58).string(d.domain),_},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof b||(d=b.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new at.onnx.NodeProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.input&&lt.input.length||(lt.input=[]),lt.input.push(d.string());break;case 2:lt.output&&lt.output.length||(lt.output=[]),lt.output.push(d.string());break;case 3:lt.name=d.string();break;case 4:lt.opType=d.string();break;case 7:lt.domain=d.string();break;case 5:lt.attribute&&lt.attribute.length||(lt.attribute=[]),lt.attribute.push(at.onnx.AttributeProto.decode(d,d.uint32()));break;case 6:lt.docString=d.string();break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof b||(d=new b(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.input!=null&&d.hasOwnProperty("input")){if(!Array.isArray(d.input))return"input: array expected";for(var _=0;_<d.input.length;++_)if(!rt.isString(d.input[_]))return"input: string[] expected"}if(d.output!=null&&d.hasOwnProperty("output")){if(!Array.isArray(d.output))return"output: array expected";for(_=0;_<d.output.length;++_)if(!rt.isString(d.output[_]))return"output: string[] expected"}if(d.name!=null&&d.hasOwnProperty("name")&&!rt.isString(d.name))return"name: string expected";if(d.opType!=null&&d.hasOwnProperty("opType")&&!rt.isString(d.opType))return"opType: string expected";if(d.domain!=null&&d.hasOwnProperty("domain")&&!rt.isString(d.domain))return"domain: string expected";if(d.attribute!=null&&d.hasOwnProperty("attribute")){if(!Array.isArray(d.attribute))return"attribute: array expected";for(_=0;_<d.attribute.length;++_){var tt=at.onnx.AttributeProto.verify(d.attribute[_]);if(tt)return"attribute."+tt}}return d.docString!=null&&d.hasOwnProperty("docString")&&!rt.isString(d.docString)?"docString: string expected":null},et.fromObject=function(d){if(d instanceof at.onnx.NodeProto)return d;var _=new at.onnx.NodeProto;if(d.input){if(!Array.isArray(d.input))throw TypeError(".onnx.NodeProto.input: array expected");_.input=[];for(var tt=0;tt<d.input.length;++tt)_.input[tt]=String(d.input[tt])}if(d.output){if(!Array.isArray(d.output))throw TypeError(".onnx.NodeProto.output: array expected");for(_.output=[],tt=0;tt<d.output.length;++tt)_.output[tt]=String(d.output[tt])}if(d.name!=null&&(_.name=String(d.name)),d.opType!=null&&(_.opType=String(d.opType)),d.domain!=null&&(_.domain=String(d.domain)),d.attribute){if(!Array.isArray(d.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(_.attribute=[],tt=0;tt<d.attribute.length;++tt){if(typeof d.attribute[tt]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");_.attribute[tt]=at.onnx.AttributeProto.fromObject(d.attribute[tt])}}return d.docString!=null&&(_.docString=String(d.docString)),_},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.input=[],tt.output=[],tt.attribute=[]),_.defaults&&(tt.name="",tt.opType="",tt.docString="",tt.domain=""),d.input&&d.input.length){tt.input=[];for(var lt=0;lt<d.input.length;++lt)tt.input[lt]=d.input[lt]}if(d.output&&d.output.length)for(tt.output=[],lt=0;lt<d.output.length;++lt)tt.output[lt]=d.output[lt];if(d.name!=null&&d.hasOwnProperty("name")&&(tt.name=d.name),d.opType!=null&&d.hasOwnProperty("opType")&&(tt.opType=d.opType),d.attribute&&d.attribute.length)for(tt.attribute=[],lt=0;lt<d.attribute.length;++lt)tt.attribute[lt]=at.onnx.AttributeProto.toObject(d.attribute[lt],_);return d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),d.domain!=null&&d.hasOwnProperty("domain")&&(tt.domain=d.domain),tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},et}(),nt.ModelProto=function(){function et(d){if(this.opsetImport=[],this.metadataProps=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.irVersion=rt.Long?rt.Long.fromBits(0,0,!1):0,et.prototype.opsetImport=rt.emptyArray,et.prototype.producerName="",et.prototype.producerVersion="",et.prototype.domain="",et.prototype.modelVersion=rt.Long?rt.Long.fromBits(0,0,!1):0,et.prototype.docString="",et.prototype.graph=null,et.prototype.metadataProps=rt.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=_e.create()),d.irVersion!=null&&d.hasOwnProperty("irVersion")&&_.uint32(8).int64(d.irVersion),d.producerName!=null&&d.hasOwnProperty("producerName")&&_.uint32(18).string(d.producerName),d.producerVersion!=null&&d.hasOwnProperty("producerVersion")&&_.uint32(26).string(d.producerVersion),d.domain!=null&&d.hasOwnProperty("domain")&&_.uint32(34).string(d.domain),d.modelVersion!=null&&d.hasOwnProperty("modelVersion")&&_.uint32(40).int64(d.modelVersion),d.docString!=null&&d.hasOwnProperty("docString")&&_.uint32(50).string(d.docString),d.graph!=null&&d.hasOwnProperty("graph")&&at.onnx.GraphProto.encode(d.graph,_.uint32(58).fork()).ldelim(),d.opsetImport!=null&&d.opsetImport.length)for(var tt=0;tt<d.opsetImport.length;++tt)at.onnx.OperatorSetIdProto.encode(d.opsetImport[tt],_.uint32(66).fork()).ldelim();if(d.metadataProps!=null&&d.metadataProps.length)for(tt=0;tt<d.metadataProps.length;++tt)at.onnx.StringStringEntryProto.encode(d.metadataProps[tt],_.uint32(114).fork()).ldelim();return _},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof b||(d=b.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new at.onnx.ModelProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.irVersion=d.int64();break;case 8:lt.opsetImport&&lt.opsetImport.length||(lt.opsetImport=[]),lt.opsetImport.push(at.onnx.OperatorSetIdProto.decode(d,d.uint32()));break;case 2:lt.producerName=d.string();break;case 3:lt.producerVersion=d.string();break;case 4:lt.domain=d.string();break;case 5:lt.modelVersion=d.int64();break;case 6:lt.docString=d.string();break;case 7:lt.graph=at.onnx.GraphProto.decode(d,d.uint32());break;case 14:lt.metadataProps&&lt.metadataProps.length||(lt.metadataProps=[]),lt.metadataProps.push(at.onnx.StringStringEntryProto.decode(d,d.uint32()));break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof b||(d=new b(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.irVersion!=null&&d.hasOwnProperty("irVersion")&&!(rt.isInteger(d.irVersion)||d.irVersion&&rt.isInteger(d.irVersion.low)&&rt.isInteger(d.irVersion.high)))return"irVersion: integer|Long expected";if(d.opsetImport!=null&&d.hasOwnProperty("opsetImport")){if(!Array.isArray(d.opsetImport))return"opsetImport: array expected";for(var _=0;_<d.opsetImport.length;++_)if(tt=at.onnx.OperatorSetIdProto.verify(d.opsetImport[_]))return"opsetImport."+tt}if(d.producerName!=null&&d.hasOwnProperty("producerName")&&!rt.isString(d.producerName))return"producerName: string expected";if(d.producerVersion!=null&&d.hasOwnProperty("producerVersion")&&!rt.isString(d.producerVersion))return"producerVersion: string expected";if(d.domain!=null&&d.hasOwnProperty("domain")&&!rt.isString(d.domain))return"domain: string expected";if(d.modelVersion!=null&&d.hasOwnProperty("modelVersion")&&!(rt.isInteger(d.modelVersion)||d.modelVersion&&rt.isInteger(d.modelVersion.low)&&rt.isInteger(d.modelVersion.high)))return"modelVersion: integer|Long expected";if(d.docString!=null&&d.hasOwnProperty("docString")&&!rt.isString(d.docString))return"docString: string expected";if(d.graph!=null&&d.hasOwnProperty("graph")&&(tt=at.onnx.GraphProto.verify(d.graph)))return"graph."+tt;if(d.metadataProps!=null&&d.hasOwnProperty("metadataProps")){if(!Array.isArray(d.metadataProps))return"metadataProps: array expected";for(_=0;_<d.metadataProps.length;++_){var tt;if(tt=at.onnx.StringStringEntryProto.verify(d.metadataProps[_]))return"metadataProps."+tt}}return null},et.fromObject=function(d){if(d instanceof at.onnx.ModelProto)return d;var _=new at.onnx.ModelProto;if(d.irVersion!=null&&(rt.Long?(_.irVersion=rt.Long.fromValue(d.irVersion)).unsigned=!1:typeof d.irVersion=="string"?_.irVersion=parseInt(d.irVersion,10):typeof d.irVersion=="number"?_.irVersion=d.irVersion:typeof d.irVersion=="object"&&(_.irVersion=new rt.LongBits(d.irVersion.low>>>0,d.irVersion.high>>>0).toNumber())),d.opsetImport){if(!Array.isArray(d.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");_.opsetImport=[];for(var tt=0;tt<d.opsetImport.length;++tt){if(typeof d.opsetImport[tt]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");_.opsetImport[tt]=at.onnx.OperatorSetIdProto.fromObject(d.opsetImport[tt])}}if(d.producerName!=null&&(_.producerName=String(d.producerName)),d.producerVersion!=null&&(_.producerVersion=String(d.producerVersion)),d.domain!=null&&(_.domain=String(d.domain)),d.modelVersion!=null&&(rt.Long?(_.modelVersion=rt.Long.fromValue(d.modelVersion)).unsigned=!1:typeof d.modelVersion=="string"?_.modelVersion=parseInt(d.modelVersion,10):typeof d.modelVersion=="number"?_.modelVersion=d.modelVersion:typeof d.modelVersion=="object"&&(_.modelVersion=new rt.LongBits(d.modelVersion.low>>>0,d.modelVersion.high>>>0).toNumber())),d.docString!=null&&(_.docString=String(d.docString)),d.graph!=null){if(typeof d.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");_.graph=at.onnx.GraphProto.fromObject(d.graph)}if(d.metadataProps){if(!Array.isArray(d.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(_.metadataProps=[],tt=0;tt<d.metadataProps.length;++tt){if(typeof d.metadataProps[tt]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");_.metadataProps[tt]=at.onnx.StringStringEntryProto.fromObject(d.metadataProps[tt])}}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.opsetImport=[],tt.metadataProps=[]),_.defaults){if(rt.Long){var lt=new rt.Long(0,0,!1);tt.irVersion=_.longs===String?lt.toString():_.longs===Number?lt.toNumber():lt}else tt.irVersion=_.longs===String?"0":0;tt.producerName="",tt.producerVersion="",tt.domain="",rt.Long?(lt=new rt.Long(0,0,!1),tt.modelVersion=_.longs===String?lt.toString():_.longs===Number?lt.toNumber():lt):tt.modelVersion=_.longs===String?"0":0,tt.docString="",tt.graph=null}if(d.irVersion!=null&&d.hasOwnProperty("irVersion")&&(typeof d.irVersion=="number"?tt.irVersion=_.longs===String?String(d.irVersion):d.irVersion:tt.irVersion=_.longs===String?rt.Long.prototype.toString.call(d.irVersion):_.longs===Number?new rt.LongBits(d.irVersion.low>>>0,d.irVersion.high>>>0).toNumber():d.irVersion),d.producerName!=null&&d.hasOwnProperty("producerName")&&(tt.producerName=d.producerName),d.producerVersion!=null&&d.hasOwnProperty("producerVersion")&&(tt.producerVersion=d.producerVersion),d.domain!=null&&d.hasOwnProperty("domain")&&(tt.domain=d.domain),d.modelVersion!=null&&d.hasOwnProperty("modelVersion")&&(typeof d.modelVersion=="number"?tt.modelVersion=_.longs===String?String(d.modelVersion):d.modelVersion:tt.modelVersion=_.longs===String?rt.Long.prototype.toString.call(d.modelVersion):_.longs===Number?new rt.LongBits(d.modelVersion.low>>>0,d.modelVersion.high>>>0).toNumber():d.modelVersion),d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),d.graph!=null&&d.hasOwnProperty("graph")&&(tt.graph=at.onnx.GraphProto.toObject(d.graph,_)),d.opsetImport&&d.opsetImport.length){tt.opsetImport=[];for(var ut=0;ut<d.opsetImport.length;++ut)tt.opsetImport[ut]=at.onnx.OperatorSetIdProto.toObject(d.opsetImport[ut],_)}if(d.metadataProps&&d.metadataProps.length)for(tt.metadataProps=[],ut=0;ut<d.metadataProps.length;++ut)tt.metadataProps[ut]=at.onnx.StringStringEntryProto.toObject(d.metadataProps[ut],_);return tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},et}(),nt.StringStringEntryProto=function(){function et(d){if(d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.key="",et.prototype.value="",et.create=function(d){return new et(d)},et.encode=function(d,_){return _||(_=_e.create()),d.key!=null&&d.hasOwnProperty("key")&&_.uint32(10).string(d.key),d.value!=null&&d.hasOwnProperty("value")&&_.uint32(18).string(d.value),_},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof b||(d=b.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new at.onnx.StringStringEntryProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.key=d.string();break;case 2:lt.value=d.string();break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof b||(d=new b(d)),this.decode(d,d.uint32())},et.verify=function(d){return typeof d!="object"||d===null?"object expected":d.key!=null&&d.hasOwnProperty("key")&&!rt.isString(d.key)?"key: string expected":d.value!=null&&d.hasOwnProperty("value")&&!rt.isString(d.value)?"value: string expected":null},et.fromObject=function(d){if(d instanceof at.onnx.StringStringEntryProto)return d;var _=new at.onnx.StringStringEntryProto;return d.key!=null&&(_.key=String(d.key)),d.value!=null&&(_.value=String(d.value)),_},et.toObject=function(d,_){_||(_={});var tt={};return _.defaults&&(tt.key="",tt.value=""),d.key!=null&&d.hasOwnProperty("key")&&(tt.key=d.key),d.value!=null&&d.hasOwnProperty("value")&&(tt.value=d.value),tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},et}(),nt.TensorAnnotation=function(){function et(d){if(this.quantParameterTensorNames=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.tensorName="",et.prototype.quantParameterTensorNames=rt.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=_e.create()),d.tensorName!=null&&d.hasOwnProperty("tensorName")&&_.uint32(10).string(d.tensorName),d.quantParameterTensorNames!=null&&d.quantParameterTensorNames.length)for(var tt=0;tt<d.quantParameterTensorNames.length;++tt)at.onnx.StringStringEntryProto.encode(d.quantParameterTensorNames[tt],_.uint32(18).fork()).ldelim();return _},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof b||(d=b.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new at.onnx.TensorAnnotation;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.tensorName=d.string();break;case 2:lt.quantParameterTensorNames&&lt.quantParameterTensorNames.length||(lt.quantParameterTensorNames=[]),lt.quantParameterTensorNames.push(at.onnx.StringStringEntryProto.decode(d,d.uint32()));break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof b||(d=new b(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.tensorName!=null&&d.hasOwnProperty("tensorName")&&!rt.isString(d.tensorName))return"tensorName: string expected";if(d.quantParameterTensorNames!=null&&d.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(d.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var _=0;_<d.quantParameterTensorNames.length;++_){var tt=at.onnx.StringStringEntryProto.verify(d.quantParameterTensorNames[_]);if(tt)return"quantParameterTensorNames."+tt}}return null},et.fromObject=function(d){if(d instanceof at.onnx.TensorAnnotation)return d;var _=new at.onnx.TensorAnnotation;if(d.tensorName!=null&&(_.tensorName=String(d.tensorName)),d.quantParameterTensorNames){if(!Array.isArray(d.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");_.quantParameterTensorNames=[];for(var tt=0;tt<d.quantParameterTensorNames.length;++tt){if(typeof d.quantParameterTensorNames[tt]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");_.quantParameterTensorNames[tt]=at.onnx.StringStringEntryProto.fromObject(d.quantParameterTensorNames[tt])}}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.quantParameterTensorNames=[]),_.defaults&&(tt.tensorName=""),d.tensorName!=null&&d.hasOwnProperty("tensorName")&&(tt.tensorName=d.tensorName),d.quantParameterTensorNames&&d.quantParameterTensorNames.length){tt.quantParameterTensorNames=[];for(var lt=0;lt<d.quantParameterTensorNames.length;++lt)tt.quantParameterTensorNames[lt]=at.onnx.StringStringEntryProto.toObject(d.quantParameterTensorNames[lt],_)}return tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},et}(),nt.GraphProto=function(){function et(d){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.node=rt.emptyArray,et.prototype.name="",et.prototype.initializer=rt.emptyArray,et.prototype.docString="",et.prototype.input=rt.emptyArray,et.prototype.output=rt.emptyArray,et.prototype.valueInfo=rt.emptyArray,et.prototype.quantizationAnnotation=rt.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=_e.create()),d.node!=null&&d.node.length)for(var tt=0;tt<d.node.length;++tt)at.onnx.NodeProto.encode(d.node[tt],_.uint32(10).fork()).ldelim();if(d.name!=null&&d.hasOwnProperty("name")&&_.uint32(18).string(d.name),d.initializer!=null&&d.initializer.length)for(tt=0;tt<d.initializer.length;++tt)at.onnx.TensorProto.encode(d.initializer[tt],_.uint32(42).fork()).ldelim();if(d.docString!=null&&d.hasOwnProperty("docString")&&_.uint32(82).string(d.docString),d.input!=null&&d.input.length)for(tt=0;tt<d.input.length;++tt)at.onnx.ValueInfoProto.encode(d.input[tt],_.uint32(90).fork()).ldelim();if(d.output!=null&&d.output.length)for(tt=0;tt<d.output.length;++tt)at.onnx.ValueInfoProto.encode(d.output[tt],_.uint32(98).fork()).ldelim();if(d.valueInfo!=null&&d.valueInfo.length)for(tt=0;tt<d.valueInfo.length;++tt)at.onnx.ValueInfoProto.encode(d.valueInfo[tt],_.uint32(106).fork()).ldelim();if(d.quantizationAnnotation!=null&&d.quantizationAnnotation.length)for(tt=0;tt<d.quantizationAnnotation.length;++tt)at.onnx.TensorAnnotation.encode(d.quantizationAnnotation[tt],_.uint32(114).fork()).ldelim();return _},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof b||(d=b.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new at.onnx.GraphProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.node&&lt.node.length||(lt.node=[]),lt.node.push(at.onnx.NodeProto.decode(d,d.uint32()));break;case 2:lt.name=d.string();break;case 5:lt.initializer&&lt.initializer.length||(lt.initializer=[]),lt.initializer.push(at.onnx.TensorProto.decode(d,d.uint32()));break;case 10:lt.docString=d.string();break;case 11:lt.input&&lt.input.length||(lt.input=[]),lt.input.push(at.onnx.ValueInfoProto.decode(d,d.uint32()));break;case 12:lt.output&&lt.output.length||(lt.output=[]),lt.output.push(at.onnx.ValueInfoProto.decode(d,d.uint32()));break;case 13:lt.valueInfo&&lt.valueInfo.length||(lt.valueInfo=[]),lt.valueInfo.push(at.onnx.ValueInfoProto.decode(d,d.uint32()));break;case 14:lt.quantizationAnnotation&&lt.quantizationAnnotation.length||(lt.quantizationAnnotation=[]),lt.quantizationAnnotation.push(at.onnx.TensorAnnotation.decode(d,d.uint32()));break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof b||(d=new b(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.node!=null&&d.hasOwnProperty("node")){if(!Array.isArray(d.node))return"node: array expected";for(var _=0;_<d.node.length;++_)if(tt=at.onnx.NodeProto.verify(d.node[_]))return"node."+tt}if(d.name!=null&&d.hasOwnProperty("name")&&!rt.isString(d.name))return"name: string expected";if(d.initializer!=null&&d.hasOwnProperty("initializer")){if(!Array.isArray(d.initializer))return"initializer: array expected";for(_=0;_<d.initializer.length;++_)if(tt=at.onnx.TensorProto.verify(d.initializer[_]))return"initializer."+tt}if(d.docString!=null&&d.hasOwnProperty("docString")&&!rt.isString(d.docString))return"docString: string expected";if(d.input!=null&&d.hasOwnProperty("input")){if(!Array.isArray(d.input))return"input: array expected";for(_=0;_<d.input.length;++_)if(tt=at.onnx.ValueInfoProto.verify(d.input[_]))return"input."+tt}if(d.output!=null&&d.hasOwnProperty("output")){if(!Array.isArray(d.output))return"output: array expected";for(_=0;_<d.output.length;++_)if(tt=at.onnx.ValueInfoProto.verify(d.output[_]))return"output."+tt}if(d.valueInfo!=null&&d.hasOwnProperty("valueInfo")){if(!Array.isArray(d.valueInfo))return"valueInfo: array expected";for(_=0;_<d.valueInfo.length;++_)if(tt=at.onnx.ValueInfoProto.verify(d.valueInfo[_]))return"valueInfo."+tt}if(d.quantizationAnnotation!=null&&d.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(d.quantizationAnnotation))return"quantizationAnnotation: array expected";for(_=0;_<d.quantizationAnnotation.length;++_){var tt;if(tt=at.onnx.TensorAnnotation.verify(d.quantizationAnnotation[_]))return"quantizationAnnotation."+tt}}return null},et.fromObject=function(d){if(d instanceof at.onnx.GraphProto)return d;var _=new at.onnx.GraphProto;if(d.node){if(!Array.isArray(d.node))throw TypeError(".onnx.GraphProto.node: array expected");_.node=[];for(var tt=0;tt<d.node.length;++tt){if(typeof d.node[tt]!="object")throw TypeError(".onnx.GraphProto.node: object expected");_.node[tt]=at.onnx.NodeProto.fromObject(d.node[tt])}}if(d.name!=null&&(_.name=String(d.name)),d.initializer){if(!Array.isArray(d.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(_.initializer=[],tt=0;tt<d.initializer.length;++tt){if(typeof d.initializer[tt]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");_.initializer[tt]=at.onnx.TensorProto.fromObject(d.initializer[tt])}}if(d.docString!=null&&(_.docString=String(d.docString)),d.input){if(!Array.isArray(d.input))throw TypeError(".onnx.GraphProto.input: array expected");for(_.input=[],tt=0;tt<d.input.length;++tt){if(typeof d.input[tt]!="object")throw TypeError(".onnx.GraphProto.input: object expected");_.input[tt]=at.onnx.ValueInfoProto.fromObject(d.input[tt])}}if(d.output){if(!Array.isArray(d.output))throw TypeError(".onnx.GraphProto.output: array expected");for(_.output=[],tt=0;tt<d.output.length;++tt){if(typeof d.output[tt]!="object")throw TypeError(".onnx.GraphProto.output: object expected");_.output[tt]=at.onnx.ValueInfoProto.fromObject(d.output[tt])}}if(d.valueInfo){if(!Array.isArray(d.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(_.valueInfo=[],tt=0;tt<d.valueInfo.length;++tt){if(typeof d.valueInfo[tt]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");_.valueInfo[tt]=at.onnx.ValueInfoProto.fromObject(d.valueInfo[tt])}}if(d.quantizationAnnotation){if(!Array.isArray(d.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(_.quantizationAnnotation=[],tt=0;tt<d.quantizationAnnotation.length;++tt){if(typeof d.quantizationAnnotation[tt]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");_.quantizationAnnotation[tt]=at.onnx.TensorAnnotation.fromObject(d.quantizationAnnotation[tt])}}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.node=[],tt.initializer=[],tt.input=[],tt.output=[],tt.valueInfo=[],tt.quantizationAnnotation=[]),_.defaults&&(tt.name="",tt.docString=""),d.node&&d.node.length){tt.node=[];for(var lt=0;lt<d.node.length;++lt)tt.node[lt]=at.onnx.NodeProto.toObject(d.node[lt],_)}if(d.name!=null&&d.hasOwnProperty("name")&&(tt.name=d.name),d.initializer&&d.initializer.length)for(tt.initializer=[],lt=0;lt<d.initializer.length;++lt)tt.initializer[lt]=at.onnx.TensorProto.toObject(d.initializer[lt],_);if(d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),d.input&&d.input.length)for(tt.input=[],lt=0;lt<d.input.length;++lt)tt.input[lt]=at.onnx.ValueInfoProto.toObject(d.input[lt],_);if(d.output&&d.output.length)for(tt.output=[],lt=0;lt<d.output.length;++lt)tt.output[lt]=at.onnx.ValueInfoProto.toObject(d.output[lt],_);if(d.valueInfo&&d.valueInfo.length)for(tt.valueInfo=[],lt=0;lt<d.valueInfo.length;++lt)tt.valueInfo[lt]=at.onnx.ValueInfoProto.toObject(d.valueInfo[lt],_);if(d.quantizationAnnotation&&d.quantizationAnnotation.length)for(tt.quantizationAnnotation=[],lt=0;lt<d.quantizationAnnotation.length;++lt)tt.quantizationAnnotation[lt]=at.onnx.TensorAnnotation.toObject(d.quantizationAnnotation[lt],_);return tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},et}(),nt.TensorProto=function(){function et(d){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.dims=rt.emptyArray,et.prototype.dataType=0,et.prototype.segment=null,et.prototype.floatData=rt.emptyArray,et.prototype.int32Data=rt.emptyArray,et.prototype.stringData=rt.emptyArray,et.prototype.int64Data=rt.emptyArray,et.prototype.name="",et.prototype.docString="",et.prototype.rawData=rt.newBuffer([]),et.prototype.externalData=rt.emptyArray,et.prototype.dataLocation=0,et.prototype.doubleData=rt.emptyArray,et.prototype.uint64Data=rt.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=_e.create()),d.dims!=null&&d.dims.length){_.uint32(10).fork();for(var tt=0;tt<d.dims.length;++tt)_.int64(d.dims[tt]);_.ldelim()}if(d.dataType!=null&&d.hasOwnProperty("dataType")&&_.uint32(16).int32(d.dataType),d.segment!=null&&d.hasOwnProperty("segment")&&at.onnx.TensorProto.Segment.encode(d.segment,_.uint32(26).fork()).ldelim(),d.floatData!=null&&d.floatData.length){for(_.uint32(34).fork(),tt=0;tt<d.floatData.length;++tt)_.float(d.floatData[tt]);_.ldelim()}if(d.int32Data!=null&&d.int32Data.length){for(_.uint32(42).fork(),tt=0;tt<d.int32Data.length;++tt)_.int32(d.int32Data[tt]);_.ldelim()}if(d.stringData!=null&&d.stringData.length)for(tt=0;tt<d.stringData.length;++tt)_.uint32(50).bytes(d.stringData[tt]);if(d.int64Data!=null&&d.int64Data.length){for(_.uint32(58).fork(),tt=0;tt<d.int64Data.length;++tt)_.int64(d.int64Data[tt]);_.ldelim()}if(d.name!=null&&d.hasOwnProperty("name")&&_.uint32(66).string(d.name),d.rawData!=null&&d.hasOwnProperty("rawData")&&_.uint32(74).bytes(d.rawData),d.doubleData!=null&&d.doubleData.length){for(_.uint32(82).fork(),tt=0;tt<d.doubleData.length;++tt)_.double(d.doubleData[tt]);_.ldelim()}if(d.uint64Data!=null&&d.uint64Data.length){for(_.uint32(90).fork(),tt=0;tt<d.uint64Data.length;++tt)_.uint64(d.uint64Data[tt]);_.ldelim()}if(d.docString!=null&&d.hasOwnProperty("docString")&&_.uint32(98).string(d.docString),d.externalData!=null&&d.externalData.length)for(tt=0;tt<d.externalData.length;++tt)at.onnx.StringStringEntryProto.encode(d.externalData[tt],_.uint32(106).fork()).ldelim();return d.dataLocation!=null&&d.hasOwnProperty("dataLocation")&&_.uint32(112).int32(d.dataLocation),_},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof b||(d=b.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new at.onnx.TensorProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:if(lt.dims&&lt.dims.length||(lt.dims=[]),(7&ut)==2)for(var ct=d.uint32()+d.pos;d.pos<ct;)lt.dims.push(d.int64());else lt.dims.push(d.int64());break;case 2:lt.dataType=d.int32();break;case 3:lt.segment=at.onnx.TensorProto.Segment.decode(d,d.uint32());break;case 4:if(lt.floatData&&lt.floatData.length||(lt.floatData=[]),(7&ut)==2)for(ct=d.uint32()+d.pos;d.pos<ct;)lt.floatData.push(d.float());else lt.floatData.push(d.float());break;case 5:if(lt.int32Data&&lt.int32Data.length||(lt.int32Data=[]),(7&ut)==2)for(ct=d.uint32()+d.pos;d.pos<ct;)lt.int32Data.push(d.int32());else lt.int32Data.push(d.int32());break;case 6:lt.stringData&&lt.stringData.length||(lt.stringData=[]),lt.stringData.push(d.bytes());break;case 7:if(lt.int64Data&&lt.int64Data.length||(lt.int64Data=[]),(7&ut)==2)for(ct=d.uint32()+d.pos;d.pos<ct;)lt.int64Data.push(d.int64());else lt.int64Data.push(d.int64());break;case 8:lt.name=d.string();break;case 12:lt.docString=d.string();break;case 9:lt.rawData=d.bytes();break;case 13:lt.externalData&&lt.externalData.length||(lt.externalData=[]),lt.externalData.push(at.onnx.StringStringEntryProto.decode(d,d.uint32()));break;case 14:lt.dataLocation=d.int32();break;case 10:if(lt.doubleData&&lt.doubleData.length||(lt.doubleData=[]),(7&ut)==2)for(ct=d.uint32()+d.pos;d.pos<ct;)lt.doubleData.push(d.double());else lt.doubleData.push(d.double());break;case 11:if(lt.uint64Data&&lt.uint64Data.length||(lt.uint64Data=[]),(7&ut)==2)for(ct=d.uint32()+d.pos;d.pos<ct;)lt.uint64Data.push(d.uint64());else lt.uint64Data.push(d.uint64());break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof b||(d=new b(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.dims!=null&&d.hasOwnProperty("dims")){if(!Array.isArray(d.dims))return"dims: array expected";for(var _=0;_<d.dims.length;++_)if(!(rt.isInteger(d.dims[_])||d.dims[_]&&rt.isInteger(d.dims[_].low)&&rt.isInteger(d.dims[_].high)))return"dims: integer|Long[] expected"}if(d.dataType!=null&&d.hasOwnProperty("dataType")&&!rt.isInteger(d.dataType))return"dataType: integer expected";if(d.segment!=null&&d.hasOwnProperty("segment")&&(tt=at.onnx.TensorProto.Segment.verify(d.segment)))return"segment."+tt;if(d.floatData!=null&&d.hasOwnProperty("floatData")){if(!Array.isArray(d.floatData))return"floatData: array expected";for(_=0;_<d.floatData.length;++_)if(typeof d.floatData[_]!="number")return"floatData: number[] expected"}if(d.int32Data!=null&&d.hasOwnProperty("int32Data")){if(!Array.isArray(d.int32Data))return"int32Data: array expected";for(_=0;_<d.int32Data.length;++_)if(!rt.isInteger(d.int32Data[_]))return"int32Data: integer[] expected"}if(d.stringData!=null&&d.hasOwnProperty("stringData")){if(!Array.isArray(d.stringData))return"stringData: array expected";for(_=0;_<d.stringData.length;++_)if(!(d.stringData[_]&&typeof d.stringData[_].length=="number"||rt.isString(d.stringData[_])))return"stringData: buffer[] expected"}if(d.int64Data!=null&&d.hasOwnProperty("int64Data")){if(!Array.isArray(d.int64Data))return"int64Data: array expected";for(_=0;_<d.int64Data.length;++_)if(!(rt.isInteger(d.int64Data[_])||d.int64Data[_]&&rt.isInteger(d.int64Data[_].low)&&rt.isInteger(d.int64Data[_].high)))return"int64Data: integer|Long[] expected"}if(d.name!=null&&d.hasOwnProperty("name")&&!rt.isString(d.name))return"name: string expected";if(d.docString!=null&&d.hasOwnProperty("docString")&&!rt.isString(d.docString))return"docString: string expected";if(d.rawData!=null&&d.hasOwnProperty("rawData")&&!(d.rawData&&typeof d.rawData.length=="number"||rt.isString(d.rawData)))return"rawData: buffer expected";if(d.externalData!=null&&d.hasOwnProperty("externalData")){if(!Array.isArray(d.externalData))return"externalData: array expected";for(_=0;_<d.externalData.length;++_){var tt;if(tt=at.onnx.StringStringEntryProto.verify(d.externalData[_]))return"externalData."+tt}}if(d.dataLocation!=null&&d.hasOwnProperty("dataLocation"))switch(d.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(d.doubleData!=null&&d.hasOwnProperty("doubleData")){if(!Array.isArray(d.doubleData))return"doubleData: array expected";for(_=0;_<d.doubleData.length;++_)if(typeof d.doubleData[_]!="number")return"doubleData: number[] expected"}if(d.uint64Data!=null&&d.hasOwnProperty("uint64Data")){if(!Array.isArray(d.uint64Data))return"uint64Data: array expected";for(_=0;_<d.uint64Data.length;++_)if(!(rt.isInteger(d.uint64Data[_])||d.uint64Data[_]&&rt.isInteger(d.uint64Data[_].low)&&rt.isInteger(d.uint64Data[_].high)))return"uint64Data: integer|Long[] expected"}return null},et.fromObject=function(d){if(d instanceof at.onnx.TensorProto)return d;var _=new at.onnx.TensorProto;if(d.dims){if(!Array.isArray(d.dims))throw TypeError(".onnx.TensorProto.dims: array expected");_.dims=[];for(var tt=0;tt<d.dims.length;++tt)rt.Long?(_.dims[tt]=rt.Long.fromValue(d.dims[tt])).unsigned=!1:typeof d.dims[tt]=="string"?_.dims[tt]=parseInt(d.dims[tt],10):typeof d.dims[tt]=="number"?_.dims[tt]=d.dims[tt]:typeof d.dims[tt]=="object"&&(_.dims[tt]=new rt.LongBits(d.dims[tt].low>>>0,d.dims[tt].high>>>0).toNumber())}if(d.dataType!=null&&(_.dataType=0|d.dataType),d.segment!=null){if(typeof d.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");_.segment=at.onnx.TensorProto.Segment.fromObject(d.segment)}if(d.floatData){if(!Array.isArray(d.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(_.floatData=[],tt=0;tt<d.floatData.length;++tt)_.floatData[tt]=Number(d.floatData[tt])}if(d.int32Data){if(!Array.isArray(d.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(_.int32Data=[],tt=0;tt<d.int32Data.length;++tt)_.int32Data[tt]=0|d.int32Data[tt]}if(d.stringData){if(!Array.isArray(d.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(_.stringData=[],tt=0;tt<d.stringData.length;++tt)typeof d.stringData[tt]=="string"?rt.base64.decode(d.stringData[tt],_.stringData[tt]=rt.newBuffer(rt.base64.length(d.stringData[tt])),0):d.stringData[tt].length&&(_.stringData[tt]=d.stringData[tt])}if(d.int64Data){if(!Array.isArray(d.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(_.int64Data=[],tt=0;tt<d.int64Data.length;++tt)rt.Long?(_.int64Data[tt]=rt.Long.fromValue(d.int64Data[tt])).unsigned=!1:typeof d.int64Data[tt]=="string"?_.int64Data[tt]=parseInt(d.int64Data[tt],10):typeof d.int64Data[tt]=="number"?_.int64Data[tt]=d.int64Data[tt]:typeof d.int64Data[tt]=="object"&&(_.int64Data[tt]=new rt.LongBits(d.int64Data[tt].low>>>0,d.int64Data[tt].high>>>0).toNumber())}if(d.name!=null&&(_.name=String(d.name)),d.docString!=null&&(_.docString=String(d.docString)),d.rawData!=null&&(typeof d.rawData=="string"?rt.base64.decode(d.rawData,_.rawData=rt.newBuffer(rt.base64.length(d.rawData)),0):d.rawData.length&&(_.rawData=d.rawData)),d.externalData){if(!Array.isArray(d.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(_.externalData=[],tt=0;tt<d.externalData.length;++tt){if(typeof d.externalData[tt]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");_.externalData[tt]=at.onnx.StringStringEntryProto.fromObject(d.externalData[tt])}}switch(d.dataLocation){case"DEFAULT":case 0:_.dataLocation=0;break;case"EXTERNAL":case 1:_.dataLocation=1}if(d.doubleData){if(!Array.isArray(d.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(_.doubleData=[],tt=0;tt<d.doubleData.length;++tt)_.doubleData[tt]=Number(d.doubleData[tt])}if(d.uint64Data){if(!Array.isArray(d.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(_.uint64Data=[],tt=0;tt<d.uint64Data.length;++tt)rt.Long?(_.uint64Data[tt]=rt.Long.fromValue(d.uint64Data[tt])).unsigned=!0:typeof d.uint64Data[tt]=="string"?_.uint64Data[tt]=parseInt(d.uint64Data[tt],10):typeof d.uint64Data[tt]=="number"?_.uint64Data[tt]=d.uint64Data[tt]:typeof d.uint64Data[tt]=="object"&&(_.uint64Data[tt]=new rt.LongBits(d.uint64Data[tt].low>>>0,d.uint64Data[tt].high>>>0).toNumber(!0))}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.dims=[],tt.floatData=[],tt.int32Data=[],tt.stringData=[],tt.int64Data=[],tt.doubleData=[],tt.uint64Data=[],tt.externalData=[]),_.defaults&&(tt.dataType=0,tt.segment=null,tt.name="",_.bytes===String?tt.rawData="":(tt.rawData=[],_.bytes!==Array&&(tt.rawData=rt.newBuffer(tt.rawData))),tt.docString="",tt.dataLocation=_.enums===String?"DEFAULT":0),d.dims&&d.dims.length){tt.dims=[];for(var lt=0;lt<d.dims.length;++lt)typeof d.dims[lt]=="number"?tt.dims[lt]=_.longs===String?String(d.dims[lt]):d.dims[lt]:tt.dims[lt]=_.longs===String?rt.Long.prototype.toString.call(d.dims[lt]):_.longs===Number?new rt.LongBits(d.dims[lt].low>>>0,d.dims[lt].high>>>0).toNumber():d.dims[lt]}if(d.dataType!=null&&d.hasOwnProperty("dataType")&&(tt.dataType=d.dataType),d.segment!=null&&d.hasOwnProperty("segment")&&(tt.segment=at.onnx.TensorProto.Segment.toObject(d.segment,_)),d.floatData&&d.floatData.length)for(tt.floatData=[],lt=0;lt<d.floatData.length;++lt)tt.floatData[lt]=_.json&&!isFinite(d.floatData[lt])?String(d.floatData[lt]):d.floatData[lt];if(d.int32Data&&d.int32Data.length)for(tt.int32Data=[],lt=0;lt<d.int32Data.length;++lt)tt.int32Data[lt]=d.int32Data[lt];if(d.stringData&&d.stringData.length)for(tt.stringData=[],lt=0;lt<d.stringData.length;++lt)tt.stringData[lt]=_.bytes===String?rt.base64.encode(d.stringData[lt],0,d.stringData[lt].length):_.bytes===Array?Array.prototype.slice.call(d.stringData[lt]):d.stringData[lt];if(d.int64Data&&d.int64Data.length)for(tt.int64Data=[],lt=0;lt<d.int64Data.length;++lt)typeof d.int64Data[lt]=="number"?tt.int64Data[lt]=_.longs===String?String(d.int64Data[lt]):d.int64Data[lt]:tt.int64Data[lt]=_.longs===String?rt.Long.prototype.toString.call(d.int64Data[lt]):_.longs===Number?new rt.LongBits(d.int64Data[lt].low>>>0,d.int64Data[lt].high>>>0).toNumber():d.int64Data[lt];if(d.name!=null&&d.hasOwnProperty("name")&&(tt.name=d.name),d.rawData!=null&&d.hasOwnProperty("rawData")&&(tt.rawData=_.bytes===String?rt.base64.encode(d.rawData,0,d.rawData.length):_.bytes===Array?Array.prototype.slice.call(d.rawData):d.rawData),d.doubleData&&d.doubleData.length)for(tt.doubleData=[],lt=0;lt<d.doubleData.length;++lt)tt.doubleData[lt]=_.json&&!isFinite(d.doubleData[lt])?String(d.doubleData[lt]):d.doubleData[lt];if(d.uint64Data&&d.uint64Data.length)for(tt.uint64Data=[],lt=0;lt<d.uint64Data.length;++lt)typeof d.uint64Data[lt]=="number"?tt.uint64Data[lt]=_.longs===String?String(d.uint64Data[lt]):d.uint64Data[lt]:tt.uint64Data[lt]=_.longs===String?rt.Long.prototype.toString.call(d.uint64Data[lt]):_.longs===Number?new rt.LongBits(d.uint64Data[lt].low>>>0,d.uint64Data[lt].high>>>0).toNumber(!0):d.uint64Data[lt];if(d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),d.externalData&&d.externalData.length)for(tt.externalData=[],lt=0;lt<d.externalData.length;++lt)tt.externalData[lt]=at.onnx.StringStringEntryProto.toObject(d.externalData[lt],_);return d.dataLocation!=null&&d.hasOwnProperty("dataLocation")&&(tt.dataLocation=_.enums===String?at.onnx.TensorProto.DataLocation[d.dataLocation]:d.dataLocation),tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},et.DataType=function(){var d={},_=Object.create(d);return _[d[0]="UNDEFINED"]=0,_[d[1]="FLOAT"]=1,_[d[2]="UINT8"]=2,_[d[3]="INT8"]=3,_[d[4]="UINT16"]=4,_[d[5]="INT16"]=5,_[d[6]="INT32"]=6,_[d[7]="INT64"]=7,_[d[8]="STRING"]=8,_[d[9]="BOOL"]=9,_[d[10]="FLOAT16"]=10,_[d[11]="DOUBLE"]=11,_[d[12]="UINT32"]=12,_[d[13]="UINT64"]=13,_[d[14]="COMPLEX64"]=14,_[d[15]="COMPLEX128"]=15,_[d[16]="BFLOAT16"]=16,_}(),et.Segment=function(){function d(_){if(_)for(var tt=Object.keys(_),lt=0;lt<tt.length;++lt)_[tt[lt]]!=null&&(this[tt[lt]]=_[tt[lt]])}return d.prototype.begin=rt.Long?rt.Long.fromBits(0,0,!1):0,d.prototype.end=rt.Long?rt.Long.fromBits(0,0,!1):0,d.create=function(_){return new d(_)},d.encode=function(_,tt){return tt||(tt=_e.create()),_.begin!=null&&_.hasOwnProperty("begin")&&tt.uint32(8).int64(_.begin),_.end!=null&&_.hasOwnProperty("end")&&tt.uint32(16).int64(_.end),tt},d.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},d.decode=function(_,tt){_ instanceof b||(_=b.create(_));for(var lt=tt===void 0?_.len:_.pos+tt,ut=new at.onnx.TensorProto.Segment;_.pos<lt;){var ct=_.uint32();switch(ct>>>3){case 1:ut.begin=_.int64();break;case 2:ut.end=_.int64();break;default:_.skipType(7&ct)}}return ut},d.decodeDelimited=function(_){return _ instanceof b||(_=new b(_)),this.decode(_,_.uint32())},d.verify=function(_){return typeof _!="object"||_===null?"object expected":_.begin!=null&&_.hasOwnProperty("begin")&&!(rt.isInteger(_.begin)||_.begin&&rt.isInteger(_.begin.low)&&rt.isInteger(_.begin.high))?"begin: integer|Long expected":_.end!=null&&_.hasOwnProperty("end")&&!(rt.isInteger(_.end)||_.end&&rt.isInteger(_.end.low)&&rt.isInteger(_.end.high))?"end: integer|Long expected":null},d.fromObject=function(_){if(_ instanceof at.onnx.TensorProto.Segment)return _;var tt=new at.onnx.TensorProto.Segment;return _.begin!=null&&(rt.Long?(tt.begin=rt.Long.fromValue(_.begin)).unsigned=!1:typeof _.begin=="string"?tt.begin=parseInt(_.begin,10):typeof _.begin=="number"?tt.begin=_.begin:typeof _.begin=="object"&&(tt.begin=new rt.LongBits(_.begin.low>>>0,_.begin.high>>>0).toNumber())),_.end!=null&&(rt.Long?(tt.end=rt.Long.fromValue(_.end)).unsigned=!1:typeof _.end=="string"?tt.end=parseInt(_.end,10):typeof _.end=="number"?tt.end=_.end:typeof _.end=="object"&&(tt.end=new rt.LongBits(_.end.low>>>0,_.end.high>>>0).toNumber())),tt},d.toObject=function(_,tt){tt||(tt={});var lt={};if(tt.defaults){if(rt.Long){var ut=new rt.Long(0,0,!1);lt.begin=tt.longs===String?ut.toString():tt.longs===Number?ut.toNumber():ut}else lt.begin=tt.longs===String?"0":0;rt.Long?(ut=new rt.Long(0,0,!1),lt.end=tt.longs===String?ut.toString():tt.longs===Number?ut.toNumber():ut):lt.end=tt.longs===String?"0":0}return _.begin!=null&&_.hasOwnProperty("begin")&&(typeof _.begin=="number"?lt.begin=tt.longs===String?String(_.begin):_.begin:lt.begin=tt.longs===String?rt.Long.prototype.toString.call(_.begin):tt.longs===Number?new rt.LongBits(_.begin.low>>>0,_.begin.high>>>0).toNumber():_.begin),_.end!=null&&_.hasOwnProperty("end")&&(typeof _.end=="number"?lt.end=tt.longs===String?String(_.end):_.end:lt.end=tt.longs===String?rt.Long.prototype.toString.call(_.end):tt.longs===Number?new rt.LongBits(_.end.low>>>0,_.end.high>>>0).toNumber():_.end),lt},d.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},d}(),et.DataLocation=function(){var d={},_=Object.create(d);return _[d[0]="DEFAULT"]=0,_[d[1]="EXTERNAL"]=1,_}(),et}(),nt.TensorShapeProto=function(){function et(d){if(this.dim=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.dim=rt.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=_e.create()),d.dim!=null&&d.dim.length)for(var tt=0;tt<d.dim.length;++tt)at.onnx.TensorShapeProto.Dimension.encode(d.dim[tt],_.uint32(10).fork()).ldelim();return _},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof b||(d=b.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new at.onnx.TensorShapeProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.dim&&lt.dim.length||(lt.dim=[]),lt.dim.push(at.onnx.TensorShapeProto.Dimension.decode(d,d.uint32()));break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof b||(d=new b(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.dim!=null&&d.hasOwnProperty("dim")){if(!Array.isArray(d.dim))return"dim: array expected";for(var _=0;_<d.dim.length;++_){var tt=at.onnx.TensorShapeProto.Dimension.verify(d.dim[_]);if(tt)return"dim."+tt}}return null},et.fromObject=function(d){if(d instanceof at.onnx.TensorShapeProto)return d;var _=new at.onnx.TensorShapeProto;if(d.dim){if(!Array.isArray(d.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");_.dim=[];for(var tt=0;tt<d.dim.length;++tt){if(typeof d.dim[tt]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");_.dim[tt]=at.onnx.TensorShapeProto.Dimension.fromObject(d.dim[tt])}}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.dim=[]),d.dim&&d.dim.length){tt.dim=[];for(var lt=0;lt<d.dim.length;++lt)tt.dim[lt]=at.onnx.TensorShapeProto.Dimension.toObject(d.dim[lt],_)}return tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},et.Dimension=function(){function d(tt){if(tt)for(var lt=Object.keys(tt),ut=0;ut<lt.length;++ut)tt[lt[ut]]!=null&&(this[lt[ut]]=tt[lt[ut]])}var _;return d.prototype.dimValue=rt.Long?rt.Long.fromBits(0,0,!1):0,d.prototype.dimParam="",d.prototype.denotation="",Object.defineProperty(d.prototype,"value",{get:rt.oneOfGetter(_=["dimValue","dimParam"]),set:rt.oneOfSetter(_)}),d.create=function(tt){return new d(tt)},d.encode=function(tt,lt){return lt||(lt=_e.create()),tt.dimValue!=null&&tt.hasOwnProperty("dimValue")&&lt.uint32(8).int64(tt.dimValue),tt.dimParam!=null&&tt.hasOwnProperty("dimParam")&&lt.uint32(18).string(tt.dimParam),tt.denotation!=null&&tt.hasOwnProperty("denotation")&&lt.uint32(26).string(tt.denotation),lt},d.encodeDelimited=function(tt,lt){return this.encode(tt,lt).ldelim()},d.decode=function(tt,lt){tt instanceof b||(tt=b.create(tt));for(var ut=lt===void 0?tt.len:tt.pos+lt,ct=new at.onnx.TensorShapeProto.Dimension;tt.pos<ut;){var ft=tt.uint32();switch(ft>>>3){case 1:ct.dimValue=tt.int64();break;case 2:ct.dimParam=tt.string();break;case 3:ct.denotation=tt.string();break;default:tt.skipType(7&ft)}}return ct},d.decodeDelimited=function(tt){return tt instanceof b||(tt=new b(tt)),this.decode(tt,tt.uint32())},d.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";var lt={};if(tt.dimValue!=null&&tt.hasOwnProperty("dimValue")&&(lt.value=1,!(rt.isInteger(tt.dimValue)||tt.dimValue&&rt.isInteger(tt.dimValue.low)&&rt.isInteger(tt.dimValue.high))))return"dimValue: integer|Long expected";if(tt.dimParam!=null&&tt.hasOwnProperty("dimParam")){if(lt.value===1)return"value: multiple values";if(lt.value=1,!rt.isString(tt.dimParam))return"dimParam: string expected"}return tt.denotation!=null&&tt.hasOwnProperty("denotation")&&!rt.isString(tt.denotation)?"denotation: string expected":null},d.fromObject=function(tt){if(tt instanceof at.onnx.TensorShapeProto.Dimension)return tt;var lt=new at.onnx.TensorShapeProto.Dimension;return tt.dimValue!=null&&(rt.Long?(lt.dimValue=rt.Long.fromValue(tt.dimValue)).unsigned=!1:typeof tt.dimValue=="string"?lt.dimValue=parseInt(tt.dimValue,10):typeof tt.dimValue=="number"?lt.dimValue=tt.dimValue:typeof tt.dimValue=="object"&&(lt.dimValue=new rt.LongBits(tt.dimValue.low>>>0,tt.dimValue.high>>>0).toNumber())),tt.dimParam!=null&&(lt.dimParam=String(tt.dimParam)),tt.denotation!=null&&(lt.denotation=String(tt.denotation)),lt},d.toObject=function(tt,lt){lt||(lt={});var ut={};return lt.defaults&&(ut.denotation=""),tt.dimValue!=null&&tt.hasOwnProperty("dimValue")&&(typeof tt.dimValue=="number"?ut.dimValue=lt.longs===String?String(tt.dimValue):tt.dimValue:ut.dimValue=lt.longs===String?rt.Long.prototype.toString.call(tt.dimValue):lt.longs===Number?new rt.LongBits(tt.dimValue.low>>>0,tt.dimValue.high>>>0).toNumber():tt.dimValue,lt.oneofs&&(ut.value="dimValue")),tt.dimParam!=null&&tt.hasOwnProperty("dimParam")&&(ut.dimParam=tt.dimParam,lt.oneofs&&(ut.value="dimParam")),tt.denotation!=null&&tt.hasOwnProperty("denotation")&&(ut.denotation=tt.denotation),ut},d.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},d}(),et}(),nt.TypeProto=function(){function et(_){if(_)for(var tt=Object.keys(_),lt=0;lt<tt.length;++lt)_[tt[lt]]!=null&&(this[tt[lt]]=_[tt[lt]])}var d;return et.prototype.tensorType=null,et.prototype.denotation="",Object.defineProperty(et.prototype,"value",{get:rt.oneOfGetter(d=["tensorType"]),set:rt.oneOfSetter(d)}),et.create=function(_){return new et(_)},et.encode=function(_,tt){return tt||(tt=_e.create()),_.tensorType!=null&&_.hasOwnProperty("tensorType")&&at.onnx.TypeProto.Tensor.encode(_.tensorType,tt.uint32(10).fork()).ldelim(),_.denotation!=null&&_.hasOwnProperty("denotation")&&tt.uint32(50).string(_.denotation),tt},et.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},et.decode=function(_,tt){_ instanceof b||(_=b.create(_));for(var lt=tt===void 0?_.len:_.pos+tt,ut=new at.onnx.TypeProto;_.pos<lt;){var ct=_.uint32();switch(ct>>>3){case 1:ut.tensorType=at.onnx.TypeProto.Tensor.decode(_,_.uint32());break;case 6:ut.denotation=_.string();break;default:_.skipType(7&ct)}}return ut},et.decodeDelimited=function(_){return _ instanceof b||(_=new b(_)),this.decode(_,_.uint32())},et.verify=function(_){if(typeof _!="object"||_===null)return"object expected";if(_.tensorType!=null&&_.hasOwnProperty("tensorType")){var tt=at.onnx.TypeProto.Tensor.verify(_.tensorType);if(tt)return"tensorType."+tt}return _.denotation!=null&&_.hasOwnProperty("denotation")&&!rt.isString(_.denotation)?"denotation: string expected":null},et.fromObject=function(_){if(_ instanceof at.onnx.TypeProto)return _;var tt=new at.onnx.TypeProto;if(_.tensorType!=null){if(typeof _.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");tt.tensorType=at.onnx.TypeProto.Tensor.fromObject(_.tensorType)}return _.denotation!=null&&(tt.denotation=String(_.denotation)),tt},et.toObject=function(_,tt){tt||(tt={});var lt={};return tt.defaults&&(lt.denotation=""),_.tensorType!=null&&_.hasOwnProperty("tensorType")&&(lt.tensorType=at.onnx.TypeProto.Tensor.toObject(_.tensorType,tt),tt.oneofs&&(lt.value="tensorType")),_.denotation!=null&&_.hasOwnProperty("denotation")&&(lt.denotation=_.denotation),lt},et.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},et.Tensor=function(){function _(tt){if(tt)for(var lt=Object.keys(tt),ut=0;ut<lt.length;++ut)tt[lt[ut]]!=null&&(this[lt[ut]]=tt[lt[ut]])}return _.prototype.elemType=0,_.prototype.shape=null,_.create=function(tt){return new _(tt)},_.encode=function(tt,lt){return lt||(lt=_e.create()),tt.elemType!=null&&tt.hasOwnProperty("elemType")&&lt.uint32(8).int32(tt.elemType),tt.shape!=null&&tt.hasOwnProperty("shape")&&at.onnx.TensorShapeProto.encode(tt.shape,lt.uint32(18).fork()).ldelim(),lt},_.encodeDelimited=function(tt,lt){return this.encode(tt,lt).ldelim()},_.decode=function(tt,lt){tt instanceof b||(tt=b.create(tt));for(var ut=lt===void 0?tt.len:tt.pos+lt,ct=new at.onnx.TypeProto.Tensor;tt.pos<ut;){var ft=tt.uint32();switch(ft>>>3){case 1:ct.elemType=tt.int32();break;case 2:ct.shape=at.onnx.TensorShapeProto.decode(tt,tt.uint32());break;default:tt.skipType(7&ft)}}return ct},_.decodeDelimited=function(tt){return tt instanceof b||(tt=new b(tt)),this.decode(tt,tt.uint32())},_.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.elemType!=null&&tt.hasOwnProperty("elemType")&&!rt.isInteger(tt.elemType))return"elemType: integer expected";if(tt.shape!=null&&tt.hasOwnProperty("shape")){var lt=at.onnx.TensorShapeProto.verify(tt.shape);if(lt)return"shape."+lt}return null},_.fromObject=function(tt){if(tt instanceof at.onnx.TypeProto.Tensor)return tt;var lt=new at.onnx.TypeProto.Tensor;if(tt.elemType!=null&&(lt.elemType=0|tt.elemType),tt.shape!=null){if(typeof tt.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");lt.shape=at.onnx.TensorShapeProto.fromObject(tt.shape)}return lt},_.toObject=function(tt,lt){lt||(lt={});var ut={};return lt.defaults&&(ut.elemType=0,ut.shape=null),tt.elemType!=null&&tt.hasOwnProperty("elemType")&&(ut.elemType=tt.elemType),tt.shape!=null&&tt.hasOwnProperty("shape")&&(ut.shape=at.onnx.TensorShapeProto.toObject(tt.shape,lt)),ut},_.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},_}(),et}(),nt.OperatorSetIdProto=function(){function et(d){if(d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.domain="",et.prototype.version=rt.Long?rt.Long.fromBits(0,0,!1):0,et.create=function(d){return new et(d)},et.encode=function(d,_){return _||(_=_e.create()),d.domain!=null&&d.hasOwnProperty("domain")&&_.uint32(10).string(d.domain),d.version!=null&&d.hasOwnProperty("version")&&_.uint32(16).int64(d.version),_},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof b||(d=b.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new at.onnx.OperatorSetIdProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.domain=d.string();break;case 2:lt.version=d.int64();break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof b||(d=new b(d)),this.decode(d,d.uint32())},et.verify=function(d){return typeof d!="object"||d===null?"object expected":d.domain!=null&&d.hasOwnProperty("domain")&&!rt.isString(d.domain)?"domain: string expected":d.version!=null&&d.hasOwnProperty("version")&&!(rt.isInteger(d.version)||d.version&&rt.isInteger(d.version.low)&&rt.isInteger(d.version.high))?"version: integer|Long expected":null},et.fromObject=function(d){if(d instanceof at.onnx.OperatorSetIdProto)return d;var _=new at.onnx.OperatorSetIdProto;return d.domain!=null&&(_.domain=String(d.domain)),d.version!=null&&(rt.Long?(_.version=rt.Long.fromValue(d.version)).unsigned=!1:typeof d.version=="string"?_.version=parseInt(d.version,10):typeof d.version=="number"?_.version=d.version:typeof d.version=="object"&&(_.version=new rt.LongBits(d.version.low>>>0,d.version.high>>>0).toNumber())),_},et.toObject=function(d,_){_||(_={});var tt={};if(_.defaults)if(tt.domain="",rt.Long){var lt=new rt.Long(0,0,!1);tt.version=_.longs===String?lt.toString():_.longs===Number?lt.toNumber():lt}else tt.version=_.longs===String?"0":0;return d.domain!=null&&d.hasOwnProperty("domain")&&(tt.domain=d.domain),d.version!=null&&d.hasOwnProperty("version")&&(typeof d.version=="number"?tt.version=_.longs===String?String(d.version):d.version:tt.version=_.longs===String?rt.Long.prototype.toString.call(d.version):_.longs===Number?new rt.LongBits(d.version.low>>>0,d.version.high>>>0).toNumber():d.version),tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},et}(),nt}(),o.exports=at},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.reshape=e.WebGLReshape=void 0;var _e=s(37),rt=s(0),at=s(50),st=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.run=function(d,_){var tt=rt.ShapeUtil.calculateReshapedDims(_[0].dims,_[1].integerData);return[ot(d,_[0],tt)]},et}(_e.Reshape);function ot(nt,et,d){var _=nt.getOrCreateTextureData(et),tt=d;_.channels===4&&(tt=at.getPackedShape(d));var lt={channels:_.channels,height:_.height,width:_.width,shape:tt.length!==0?tt:[1],strides:rt.ShapeUtil.computeStrides(tt),unpackedShape:d};return nt.createSharedTextureData(lt,et.type,_.texture,et.dataId).tensor}e.WebGLReshape=st,e.reshape=ot},function(o,e,s){var h=this&&this.__values||function(_e){var rt=typeof Symbol=="function"&&Symbol.iterator,at=rt&&_e[rt],st=0;if(at)return at.call(_e);if(_e&&typeof _e.length=="number")return{next:function(){return _e&&st>=_e.length&&(_e=void 0),{value:_e&&_e[st++],done:!_e}}};throw new TypeError(rt?"Object is not iterable.":"Symbol.iterator is not defined.")};function b(_e,rt){if(rt.endsWith("+")){var at=Number.parseInt(rt.substring(0,rt.length-1),10);return!isNaN(at)&&at<=_e}if(rt.split("-").length===2){var st=rt.split("-"),ot=(at=Number.parseInt(st[0],10),Number.parseInt(st[1],10));return!isNaN(at)&&!isNaN(ot)&&at<=_e&&_e<=ot}return Number.parseInt(rt,10)===_e}Object.defineProperty(e,"__esModule",{value:!0}),e.resolveOperator=void 0,e.resolveOperator=function(_e,rt,at){var st,ot,nt,et;try{for(var d=h(at),_=d.next();!_.done;_=d.next()){var tt=_.value,lt=tt[0],ut=tt[1],ct=tt[2],ft=tt[3];if(_e.opType===lt)try{for(var dt=(nt=void 0,h(rt)),ht=dt.next();!ht.done;ht=dt.next()){var gt=ht.value;if((gt.domain===ut||gt.domain==="ai.onnx"&&ut==="")&&b(gt.version,ct))return ft(_e)}}catch(yt){nt={error:yt}}finally{try{ht&&!ht.done&&(et=dt.return)&&et.call(dt)}finally{if(nt)throw nt.error}}}}catch(yt){st={error:yt}}finally{try{_&&!_.done&&(ot=d.return)&&ot.call(d)}finally{if(st)throw st.error}}throw new TypeError("cannot resolve operator '"+_e.opType+"' with opsets: "+rt.map(function(yt){return(yt.domain||"ai.onnx")+" v"+yt.version}).join(", "))}},function(o,e,s){(function(h){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var b=s(59),_e=s(60),rt=s(61);function at(){return ot.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function st(Et,Ot){if(at()<Ot)throw new RangeError("Invalid typed array length");return ot.TYPED_ARRAY_SUPPORT?(Et=new Uint8Array(Ot)).__proto__=ot.prototype:(Et===null&&(Et=new ot(Ot)),Et.length=Ot),Et}function ot(Et,Ot,At){if(!(ot.TYPED_ARRAY_SUPPORT||this instanceof ot))return new ot(Et,Ot,At);if(typeof Et=="number"){if(typeof Ot=="string")throw new Error("If encoding is specified then the first argument must be a string");return d(this,Et)}return nt(this,Et,Ot,At)}function nt(Et,Ot,At,Nt){if(typeof Ot=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&Ot instanceof ArrayBuffer?function(Mt,Lt,Wt,Xt){if(Lt.byteLength,Wt<0||Lt.byteLength<Wt)throw new RangeError("'offset' is out of bounds");if(Lt.byteLength<Wt+(Xt||0))throw new RangeError("'length' is out of bounds");return Lt=Wt===void 0&&Xt===void 0?new Uint8Array(Lt):Xt===void 0?new Uint8Array(Lt,Wt):new Uint8Array(Lt,Wt,Xt),ot.TYPED_ARRAY_SUPPORT?(Mt=Lt).__proto__=ot.prototype:Mt=_(Mt,Lt),Mt}(Et,Ot,At,Nt):typeof Ot=="string"?function(Mt,Lt,Wt){if(typeof Wt=="string"&&Wt!==""||(Wt="utf8"),!ot.isEncoding(Wt))throw new TypeError('"encoding" must be a valid string encoding');var Xt=0|lt(Lt,Wt),ar=(Mt=st(Mt,Xt)).write(Lt,Wt);return ar!==Xt&&(Mt=Mt.slice(0,ar)),Mt}(Et,Ot,At):function(Mt,Lt){if(ot.isBuffer(Lt)){var Wt=0|tt(Lt.length);return(Mt=st(Mt,Wt)).length===0||Lt.copy(Mt,0,0,Wt),Mt}if(Lt){if(typeof ArrayBuffer<"u"&&Lt.buffer instanceof ArrayBuffer||"length"in Lt)return typeof Lt.length!="number"||(Xt=Lt.length)!=Xt?st(Mt,0):_(Mt,Lt);if(Lt.type==="Buffer"&&rt(Lt.data))return _(Mt,Lt.data)}var Xt;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Et,Ot)}function et(Et){if(typeof Et!="number")throw new TypeError('"size" argument must be a number');if(Et<0)throw new RangeError('"size" argument must not be negative')}function d(Et,Ot){if(et(Ot),Et=st(Et,Ot<0?0:0|tt(Ot)),!ot.TYPED_ARRAY_SUPPORT)for(var At=0;At<Ot;++At)Et[At]=0;return Et}function _(Et,Ot){var At=Ot.length<0?0:0|tt(Ot.length);Et=st(Et,At);for(var Nt=0;Nt<At;Nt+=1)Et[Nt]=255&Ot[Nt];return Et}function tt(Et){if(Et>=at())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+at().toString(16)+" bytes");return 0|Et}function lt(Et,Ot){if(ot.isBuffer(Et))return Et.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Et)||Et instanceof ArrayBuffer))return Et.byteLength;typeof Et!="string"&&(Et=""+Et);var At=Et.length;if(At===0)return 0;for(var Nt=!1;;)switch(Ot){case"ascii":case"latin1":case"binary":return At;case"utf8":case"utf-8":case void 0:return Yt(Et).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*At;case"hex":return At>>>1;case"base64":return er(Et).length;default:if(Nt)return Yt(Et).length;Ot=(""+Ot).toLowerCase(),Nt=!0}}function ut(Et,Ot,At){var Nt=!1;if((Ot===void 0||Ot<0)&&(Ot=0),Ot>this.length||((At===void 0||At>this.length)&&(At=this.length),At<=0)||(At>>>=0)<=(Ot>>>=0))return"";for(Et||(Et="utf8");;)switch(Et){case"hex":return wt(this,Ot,At);case"utf8":case"utf-8":return St(this,Ot,At);case"ascii":return Pt(this,Ot,At);case"latin1":case"binary":return _t(this,Ot,At);case"base64":return $t(this,Ot,At);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xt(this,Ot,At);default:if(Nt)throw new TypeError("Unknown encoding: "+Et);Et=(Et+"").toLowerCase(),Nt=!0}}function ct(Et,Ot,At){var Nt=Et[Ot];Et[Ot]=Et[At],Et[At]=Nt}function ft(Et,Ot,At,Nt,Mt){if(Et.length===0)return-1;if(typeof At=="string"?(Nt=At,At=0):At>2147483647?At=2147483647:At<-2147483648&&(At=-2147483648),At=+At,isNaN(At)&&(At=Mt?0:Et.length-1),At<0&&(At=Et.length+At),At>=Et.length){if(Mt)return-1;At=Et.length-1}else if(At<0){if(!Mt)return-1;At=0}if(typeof Ot=="string"&&(Ot=ot.from(Ot,Nt)),ot.isBuffer(Ot))return Ot.length===0?-1:dt(Et,Ot,At,Nt,Mt);if(typeof Ot=="number")return Ot&=255,ot.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Mt?Uint8Array.prototype.indexOf.call(Et,Ot,At):Uint8Array.prototype.lastIndexOf.call(Et,Ot,At):dt(Et,[Ot],At,Nt,Mt);throw new TypeError("val must be string, number or Buffer")}function dt(Et,Ot,At,Nt,Mt){var Lt,Wt=1,Xt=Et.length,ar=Ot.length;if(Nt!==void 0&&((Nt=String(Nt).toLowerCase())==="ucs2"||Nt==="ucs-2"||Nt==="utf16le"||Nt==="utf-16le")){if(Et.length<2||Ot.length<2)return-1;Wt=2,Xt/=2,ar/=2,At/=2}function Ht(Pr,$r){return Wt===1?Pr[$r]:Pr.readUInt16BE($r*Wt)}if(Mt){var sr=-1;for(Lt=At;Lt<Xt;Lt++)if(Ht(Et,Lt)===Ht(Ot,sr===-1?0:Lt-sr)){if(sr===-1&&(sr=Lt),Lt-sr+1===ar)return sr*Wt}else sr!==-1&&(Lt-=Lt-sr),sr=-1}else for(At+ar>Xt&&(At=Xt-ar),Lt=At;Lt>=0;Lt--){for(var dr=!0,ir=0;ir<ar;ir++)if(Ht(Et,Lt+ir)!==Ht(Ot,ir)){dr=!1;break}if(dr)return Lt}return-1}function ht(Et,Ot,At,Nt){At=Number(At)||0;var Mt=Et.length-At;Nt?(Nt=Number(Nt))>Mt&&(Nt=Mt):Nt=Mt;var Lt=Ot.length;if(Lt%2!=0)throw new TypeError("Invalid hex string");Nt>Lt/2&&(Nt=Lt/2);for(var Wt=0;Wt<Nt;++Wt){var Xt=parseInt(Ot.substr(2*Wt,2),16);if(isNaN(Xt))return Wt;Et[At+Wt]=Xt}return Wt}function gt(Et,Ot,At,Nt){return nr(Yt(Ot,Et.length-At),Et,At,Nt)}function yt(Et,Ot,At,Nt){return nr(function(Mt){for(var Lt=[],Wt=0;Wt<Mt.length;++Wt)Lt.push(255&Mt.charCodeAt(Wt));return Lt}(Ot),Et,At,Nt)}function vt(Et,Ot,At,Nt){return yt(Et,Ot,At,Nt)}function mt(Et,Ot,At,Nt){return nr(er(Ot),Et,At,Nt)}function bt(Et,Ot,At,Nt){return nr(function(Mt,Lt){for(var Wt,Xt,ar,Ht=[],sr=0;sr<Mt.length&&!((Lt-=2)<0);++sr)Wt=Mt.charCodeAt(sr),Xt=Wt>>8,ar=Wt%256,Ht.push(ar),Ht.push(Xt);return Ht}(Ot,Et.length-At),Et,At,Nt)}function $t(Et,Ot,At){return Ot===0&&At===Et.length?b.fromByteArray(Et):b.fromByteArray(Et.slice(Ot,At))}function St(Et,Ot,At){At=Math.min(Et.length,At);for(var Nt=[],Mt=Ot;Mt<At;){var Lt,Wt,Xt,ar,Ht=Et[Mt],sr=null,dr=Ht>239?4:Ht>223?3:Ht>191?2:1;if(Mt+dr<=At)switch(dr){case 1:Ht<128&&(sr=Ht);break;case 2:(192&(Lt=Et[Mt+1]))==128&&(ar=(31&Ht)<<6|63&Lt)>127&&(sr=ar);break;case 3:Lt=Et[Mt+1],Wt=Et[Mt+2],(192&Lt)==128&&(192&Wt)==128&&(ar=(15&Ht)<<12|(63&Lt)<<6|63&Wt)>2047&&(ar<55296||ar>57343)&&(sr=ar);break;case 4:Lt=Et[Mt+1],Wt=Et[Mt+2],Xt=Et[Mt+3],(192&Lt)==128&&(192&Wt)==128&&(192&Xt)==128&&(ar=(15&Ht)<<18|(63&Lt)<<12|(63&Wt)<<6|63&Xt)>65535&&ar<1114112&&(sr=ar)}sr===null?(sr=65533,dr=1):sr>65535&&(sr-=65536,Nt.push(sr>>>10&1023|55296),sr=56320|1023&sr),Nt.push(sr),Mt+=dr}return function(ir){var Pr=ir.length;if(Pr<=4096)return String.fromCharCode.apply(String,ir);for(var $r="",wr=0;wr<Pr;)$r+=String.fromCharCode.apply(String,ir.slice(wr,wr+=4096));return $r}(Nt)}e.Buffer=ot,e.SlowBuffer=function(Et){return+Et!=Et&&(Et=0),ot.alloc(+Et)},e.INSPECT_MAX_BYTES=50,ot.TYPED_ARRAY_SUPPORT=h.TYPED_ARRAY_SUPPORT!==void 0?h.TYPED_ARRAY_SUPPORT:function(){try{var Et=new Uint8Array(1);return Et.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Et.foo()===42&&typeof Et.subarray=="function"&&Et.subarray(1,1).byteLength===0}catch{return!1}}(),e.kMaxLength=at(),ot.poolSize=8192,ot._augment=function(Et){return Et.__proto__=ot.prototype,Et},ot.from=function(Et,Ot,At){return nt(null,Et,Ot,At)},ot.TYPED_ARRAY_SUPPORT&&(ot.prototype.__proto__=Uint8Array.prototype,ot.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&ot[Symbol.species]===ot&&Object.defineProperty(ot,Symbol.species,{value:null,configurable:!0})),ot.alloc=function(Et,Ot,At){return function(Nt,Mt,Lt,Wt){return et(Mt),Mt<=0?st(Nt,Mt):Lt!==void 0?typeof Wt=="string"?st(Nt,Mt).fill(Lt,Wt):st(Nt,Mt).fill(Lt):st(Nt,Mt)}(null,Et,Ot,At)},ot.allocUnsafe=function(Et){return d(null,Et)},ot.allocUnsafeSlow=function(Et){return d(null,Et)},ot.isBuffer=function(Et){return!(Et==null||!Et._isBuffer)},ot.compare=function(Et,Ot){if(!ot.isBuffer(Et)||!ot.isBuffer(Ot))throw new TypeError("Arguments must be Buffers");if(Et===Ot)return 0;for(var At=Et.length,Nt=Ot.length,Mt=0,Lt=Math.min(At,Nt);Mt<Lt;++Mt)if(Et[Mt]!==Ot[Mt]){At=Et[Mt],Nt=Ot[Mt];break}return At<Nt?-1:Nt<At?1:0},ot.isEncoding=function(Et){switch(String(Et).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ot.concat=function(Et,Ot){if(!rt(Et))throw new TypeError('"list" argument must be an Array of Buffers');if(Et.length===0)return ot.alloc(0);var At;if(Ot===void 0)for(Ot=0,At=0;At<Et.length;++At)Ot+=Et[At].length;var Nt=ot.allocUnsafe(Ot),Mt=0;for(At=0;At<Et.length;++At){var Lt=Et[At];if(!ot.isBuffer(Lt))throw new TypeError('"list" argument must be an Array of Buffers');Lt.copy(Nt,Mt),Mt+=Lt.length}return Nt},ot.byteLength=lt,ot.prototype._isBuffer=!0,ot.prototype.swap16=function(){var Et=this.length;if(Et%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ot=0;Ot<Et;Ot+=2)ct(this,Ot,Ot+1);return this},ot.prototype.swap32=function(){var Et=this.length;if(Et%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ot=0;Ot<Et;Ot+=4)ct(this,Ot,Ot+3),ct(this,Ot+1,Ot+2);return this},ot.prototype.swap64=function(){var Et=this.length;if(Et%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ot=0;Ot<Et;Ot+=8)ct(this,Ot,Ot+7),ct(this,Ot+1,Ot+6),ct(this,Ot+2,Ot+5),ct(this,Ot+3,Ot+4);return this},ot.prototype.toString=function(){var Et=0|this.length;return Et===0?"":arguments.length===0?St(this,0,Et):ut.apply(this,arguments)},ot.prototype.equals=function(Et){if(!ot.isBuffer(Et))throw new TypeError("Argument must be a Buffer");return this===Et||ot.compare(this,Et)===0},ot.prototype.inspect=function(){var Et="",Ot=e.INSPECT_MAX_BYTES;return this.length>0&&(Et=this.toString("hex",0,Ot).match(/.{2}/g).join(" "),this.length>Ot&&(Et+=" ... ")),"<Buffer "+Et+">"},ot.prototype.compare=function(Et,Ot,At,Nt,Mt){if(!ot.isBuffer(Et))throw new TypeError("Argument must be a Buffer");if(Ot===void 0&&(Ot=0),At===void 0&&(At=Et?Et.length:0),Nt===void 0&&(Nt=0),Mt===void 0&&(Mt=this.length),Ot<0||At>Et.length||Nt<0||Mt>this.length)throw new RangeError("out of range index");if(Nt>=Mt&&Ot>=At)return 0;if(Nt>=Mt)return-1;if(Ot>=At)return 1;if(this===Et)return 0;for(var Lt=(Mt>>>=0)-(Nt>>>=0),Wt=(At>>>=0)-(Ot>>>=0),Xt=Math.min(Lt,Wt),ar=this.slice(Nt,Mt),Ht=Et.slice(Ot,At),sr=0;sr<Xt;++sr)if(ar[sr]!==Ht[sr]){Lt=ar[sr],Wt=Ht[sr];break}return Lt<Wt?-1:Wt<Lt?1:0},ot.prototype.includes=function(Et,Ot,At){return this.indexOf(Et,Ot,At)!==-1},ot.prototype.indexOf=function(Et,Ot,At){return ft(this,Et,Ot,At,!0)},ot.prototype.lastIndexOf=function(Et,Ot,At){return ft(this,Et,Ot,At,!1)},ot.prototype.write=function(Et,Ot,At,Nt){if(Ot===void 0)Nt="utf8",At=this.length,Ot=0;else if(At===void 0&&typeof Ot=="string")Nt=Ot,At=this.length,Ot=0;else{if(!isFinite(Ot))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Ot|=0,isFinite(At)?(At|=0,Nt===void 0&&(Nt="utf8")):(Nt=At,At=void 0)}var Mt=this.length-Ot;if((At===void 0||At>Mt)&&(At=Mt),Et.length>0&&(At<0||Ot<0)||Ot>this.length)throw new RangeError("Attempt to write outside buffer bounds");Nt||(Nt="utf8");for(var Lt=!1;;)switch(Nt){case"hex":return ht(this,Et,Ot,At);case"utf8":case"utf-8":return gt(this,Et,Ot,At);case"ascii":return yt(this,Et,Ot,At);case"latin1":case"binary":return vt(this,Et,Ot,At);case"base64":return mt(this,Et,Ot,At);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bt(this,Et,Ot,At);default:if(Lt)throw new TypeError("Unknown encoding: "+Nt);Nt=(""+Nt).toLowerCase(),Lt=!0}},ot.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Pt(Et,Ot,At){var Nt="";At=Math.min(Et.length,At);for(var Mt=Ot;Mt<At;++Mt)Nt+=String.fromCharCode(127&Et[Mt]);return Nt}function _t(Et,Ot,At){var Nt="";At=Math.min(Et.length,At);for(var Mt=Ot;Mt<At;++Mt)Nt+=String.fromCharCode(Et[Mt]);return Nt}function wt(Et,Ot,At){var Nt=Et.length;(!Ot||Ot<0)&&(Ot=0),(!At||At<0||At>Nt)&&(At=Nt);for(var Mt="",Lt=Ot;Lt<At;++Lt)Mt+=Gt(Et[Lt]);return Mt}function xt(Et,Ot,At){for(var Nt=Et.slice(Ot,At),Mt="",Lt=0;Lt<Nt.length;Lt+=2)Mt+=String.fromCharCode(Nt[Lt]+256*Nt[Lt+1]);return Mt}function Tt(Et,Ot,At){if(Et%1!=0||Et<0)throw new RangeError("offset is not uint");if(Et+Ot>At)throw new RangeError("Trying to access beyond buffer length")}function It(Et,Ot,At,Nt,Mt,Lt){if(!ot.isBuffer(Et))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ot>Mt||Ot<Lt)throw new RangeError('"value" argument is out of bounds');if(At+Nt>Et.length)throw new RangeError("Index out of range")}function Ct(Et,Ot,At,Nt){Ot<0&&(Ot=65535+Ot+1);for(var Mt=0,Lt=Math.min(Et.length-At,2);Mt<Lt;++Mt)Et[At+Mt]=(Ot&255<<8*(Nt?Mt:1-Mt))>>>8*(Nt?Mt:1-Mt)}function Rt(Et,Ot,At,Nt){Ot<0&&(Ot=4294967295+Ot+1);for(var Mt=0,Lt=Math.min(Et.length-At,4);Mt<Lt;++Mt)Et[At+Mt]=Ot>>>8*(Nt?Mt:3-Mt)&255}function Ut(Et,Ot,At,Nt,Mt,Lt){if(At+Nt>Et.length)throw new RangeError("Index out of range");if(At<0)throw new RangeError("Index out of range")}function kt(Et,Ot,At,Nt,Mt){return Mt||Ut(Et,0,At,4),_e.write(Et,Ot,At,Nt,23,4),At+4}function jt(Et,Ot,At,Nt,Mt){return Mt||Ut(Et,0,At,8),_e.write(Et,Ot,At,Nt,52,8),At+8}ot.prototype.slice=function(Et,Ot){var At,Nt=this.length;if((Et=~~Et)<0?(Et+=Nt)<0&&(Et=0):Et>Nt&&(Et=Nt),(Ot=Ot===void 0?Nt:~~Ot)<0?(Ot+=Nt)<0&&(Ot=0):Ot>Nt&&(Ot=Nt),Ot<Et&&(Ot=Et),ot.TYPED_ARRAY_SUPPORT)(At=this.subarray(Et,Ot)).__proto__=ot.prototype;else{var Mt=Ot-Et;At=new ot(Mt,void 0);for(var Lt=0;Lt<Mt;++Lt)At[Lt]=this[Lt+Et]}return At},ot.prototype.readUIntLE=function(Et,Ot,At){Et|=0,Ot|=0,At||Tt(Et,Ot,this.length);for(var Nt=this[Et],Mt=1,Lt=0;++Lt<Ot&&(Mt*=256);)Nt+=this[Et+Lt]*Mt;return Nt},ot.prototype.readUIntBE=function(Et,Ot,At){Et|=0,Ot|=0,At||Tt(Et,Ot,this.length);for(var Nt=this[Et+--Ot],Mt=1;Ot>0&&(Mt*=256);)Nt+=this[Et+--Ot]*Mt;return Nt},ot.prototype.readUInt8=function(Et,Ot){return Ot||Tt(Et,1,this.length),this[Et]},ot.prototype.readUInt16LE=function(Et,Ot){return Ot||Tt(Et,2,this.length),this[Et]|this[Et+1]<<8},ot.prototype.readUInt16BE=function(Et,Ot){return Ot||Tt(Et,2,this.length),this[Et]<<8|this[Et+1]},ot.prototype.readUInt32LE=function(Et,Ot){return Ot||Tt(Et,4,this.length),(this[Et]|this[Et+1]<<8|this[Et+2]<<16)+16777216*this[Et+3]},ot.prototype.readUInt32BE=function(Et,Ot){return Ot||Tt(Et,4,this.length),16777216*this[Et]+(this[Et+1]<<16|this[Et+2]<<8|this[Et+3])},ot.prototype.readIntLE=function(Et,Ot,At){Et|=0,Ot|=0,At||Tt(Et,Ot,this.length);for(var Nt=this[Et],Mt=1,Lt=0;++Lt<Ot&&(Mt*=256);)Nt+=this[Et+Lt]*Mt;return Nt>=(Mt*=128)&&(Nt-=Math.pow(2,8*Ot)),Nt},ot.prototype.readIntBE=function(Et,Ot,At){Et|=0,Ot|=0,At||Tt(Et,Ot,this.length);for(var Nt=Ot,Mt=1,Lt=this[Et+--Nt];Nt>0&&(Mt*=256);)Lt+=this[Et+--Nt]*Mt;return Lt>=(Mt*=128)&&(Lt-=Math.pow(2,8*Ot)),Lt},ot.prototype.readInt8=function(Et,Ot){return Ot||Tt(Et,1,this.length),128&this[Et]?-1*(255-this[Et]+1):this[Et]},ot.prototype.readInt16LE=function(Et,Ot){Ot||Tt(Et,2,this.length);var At=this[Et]|this[Et+1]<<8;return 32768&At?4294901760|At:At},ot.prototype.readInt16BE=function(Et,Ot){Ot||Tt(Et,2,this.length);var At=this[Et+1]|this[Et]<<8;return 32768&At?4294901760|At:At},ot.prototype.readInt32LE=function(Et,Ot){return Ot||Tt(Et,4,this.length),this[Et]|this[Et+1]<<8|this[Et+2]<<16|this[Et+3]<<24},ot.prototype.readInt32BE=function(Et,Ot){return Ot||Tt(Et,4,this.length),this[Et]<<24|this[Et+1]<<16|this[Et+2]<<8|this[Et+3]},ot.prototype.readFloatLE=function(Et,Ot){return Ot||Tt(Et,4,this.length),_e.read(this,Et,!0,23,4)},ot.prototype.readFloatBE=function(Et,Ot){return Ot||Tt(Et,4,this.length),_e.read(this,Et,!1,23,4)},ot.prototype.readDoubleLE=function(Et,Ot){return Ot||Tt(Et,8,this.length),_e.read(this,Et,!0,52,8)},ot.prototype.readDoubleBE=function(Et,Ot){return Ot||Tt(Et,8,this.length),_e.read(this,Et,!1,52,8)},ot.prototype.writeUIntLE=function(Et,Ot,At,Nt){Et=+Et,Ot|=0,At|=0,Nt||It(this,Et,Ot,At,Math.pow(2,8*At)-1,0);var Mt=1,Lt=0;for(this[Ot]=255&Et;++Lt<At&&(Mt*=256);)this[Ot+Lt]=Et/Mt&255;return Ot+At},ot.prototype.writeUIntBE=function(Et,Ot,At,Nt){Et=+Et,Ot|=0,At|=0,Nt||It(this,Et,Ot,At,Math.pow(2,8*At)-1,0);var Mt=At-1,Lt=1;for(this[Ot+Mt]=255&Et;--Mt>=0&&(Lt*=256);)this[Ot+Mt]=Et/Lt&255;return Ot+At},ot.prototype.writeUInt8=function(Et,Ot,At){return Et=+Et,Ot|=0,At||It(this,Et,Ot,1,255,0),ot.TYPED_ARRAY_SUPPORT||(Et=Math.floor(Et)),this[Ot]=255&Et,Ot+1},ot.prototype.writeUInt16LE=function(Et,Ot,At){return Et=+Et,Ot|=0,At||It(this,Et,Ot,2,65535,0),ot.TYPED_ARRAY_SUPPORT?(this[Ot]=255&Et,this[Ot+1]=Et>>>8):Ct(this,Et,Ot,!0),Ot+2},ot.prototype.writeUInt16BE=function(Et,Ot,At){return Et=+Et,Ot|=0,At||It(this,Et,Ot,2,65535,0),ot.TYPED_ARRAY_SUPPORT?(this[Ot]=Et>>>8,this[Ot+1]=255&Et):Ct(this,Et,Ot,!1),Ot+2},ot.prototype.writeUInt32LE=function(Et,Ot,At){return Et=+Et,Ot|=0,At||It(this,Et,Ot,4,4294967295,0),ot.TYPED_ARRAY_SUPPORT?(this[Ot+3]=Et>>>24,this[Ot+2]=Et>>>16,this[Ot+1]=Et>>>8,this[Ot]=255&Et):Rt(this,Et,Ot,!0),Ot+4},ot.prototype.writeUInt32BE=function(Et,Ot,At){return Et=+Et,Ot|=0,At||It(this,Et,Ot,4,4294967295,0),ot.TYPED_ARRAY_SUPPORT?(this[Ot]=Et>>>24,this[Ot+1]=Et>>>16,this[Ot+2]=Et>>>8,this[Ot+3]=255&Et):Rt(this,Et,Ot,!1),Ot+4},ot.prototype.writeIntLE=function(Et,Ot,At,Nt){if(Et=+Et,Ot|=0,!Nt){var Mt=Math.pow(2,8*At-1);It(this,Et,Ot,At,Mt-1,-Mt)}var Lt=0,Wt=1,Xt=0;for(this[Ot]=255&Et;++Lt<At&&(Wt*=256);)Et<0&&Xt===0&&this[Ot+Lt-1]!==0&&(Xt=1),this[Ot+Lt]=(Et/Wt>>0)-Xt&255;return Ot+At},ot.prototype.writeIntBE=function(Et,Ot,At,Nt){if(Et=+Et,Ot|=0,!Nt){var Mt=Math.pow(2,8*At-1);It(this,Et,Ot,At,Mt-1,-Mt)}var Lt=At-1,Wt=1,Xt=0;for(this[Ot+Lt]=255&Et;--Lt>=0&&(Wt*=256);)Et<0&&Xt===0&&this[Ot+Lt+1]!==0&&(Xt=1),this[Ot+Lt]=(Et/Wt>>0)-Xt&255;return Ot+At},ot.prototype.writeInt8=function(Et,Ot,At){return Et=+Et,Ot|=0,At||It(this,Et,Ot,1,127,-128),ot.TYPED_ARRAY_SUPPORT||(Et=Math.floor(Et)),Et<0&&(Et=255+Et+1),this[Ot]=255&Et,Ot+1},ot.prototype.writeInt16LE=function(Et,Ot,At){return Et=+Et,Ot|=0,At||It(this,Et,Ot,2,32767,-32768),ot.TYPED_ARRAY_SUPPORT?(this[Ot]=255&Et,this[Ot+1]=Et>>>8):Ct(this,Et,Ot,!0),Ot+2},ot.prototype.writeInt16BE=function(Et,Ot,At){return Et=+Et,Ot|=0,At||It(this,Et,Ot,2,32767,-32768),ot.TYPED_ARRAY_SUPPORT?(this[Ot]=Et>>>8,this[Ot+1]=255&Et):Ct(this,Et,Ot,!1),Ot+2},ot.prototype.writeInt32LE=function(Et,Ot,At){return Et=+Et,Ot|=0,At||It(this,Et,Ot,4,2147483647,-2147483648),ot.TYPED_ARRAY_SUPPORT?(this[Ot]=255&Et,this[Ot+1]=Et>>>8,this[Ot+2]=Et>>>16,this[Ot+3]=Et>>>24):Rt(this,Et,Ot,!0),Ot+4},ot.prototype.writeInt32BE=function(Et,Ot,At){return Et=+Et,Ot|=0,At||It(this,Et,Ot,4,2147483647,-2147483648),Et<0&&(Et=4294967295+Et+1),ot.TYPED_ARRAY_SUPPORT?(this[Ot]=Et>>>24,this[Ot+1]=Et>>>16,this[Ot+2]=Et>>>8,this[Ot+3]=255&Et):Rt(this,Et,Ot,!1),Ot+4},ot.prototype.writeFloatLE=function(Et,Ot,At){return kt(this,Et,Ot,!0,At)},ot.prototype.writeFloatBE=function(Et,Ot,At){return kt(this,Et,Ot,!1,At)},ot.prototype.writeDoubleLE=function(Et,Ot,At){return jt(this,Et,Ot,!0,At)},ot.prototype.writeDoubleBE=function(Et,Ot,At){return jt(this,Et,Ot,!1,At)},ot.prototype.copy=function(Et,Ot,At,Nt){if(At||(At=0),Nt||Nt===0||(Nt=this.length),Ot>=Et.length&&(Ot=Et.length),Ot||(Ot=0),Nt>0&&Nt<At&&(Nt=At),Nt===At||Et.length===0||this.length===0)return 0;if(Ot<0)throw new RangeError("targetStart out of bounds");if(At<0||At>=this.length)throw new RangeError("sourceStart out of bounds");if(Nt<0)throw new RangeError("sourceEnd out of bounds");Nt>this.length&&(Nt=this.length),Et.length-Ot<Nt-At&&(Nt=Et.length-Ot+At);var Mt,Lt=Nt-At;if(this===Et&&At<Ot&&Ot<Nt)for(Mt=Lt-1;Mt>=0;--Mt)Et[Mt+Ot]=this[Mt+At];else if(Lt<1e3||!ot.TYPED_ARRAY_SUPPORT)for(Mt=0;Mt<Lt;++Mt)Et[Mt+Ot]=this[Mt+At];else Uint8Array.prototype.set.call(Et,this.subarray(At,At+Lt),Ot);return Lt},ot.prototype.fill=function(Et,Ot,At,Nt){if(typeof Et=="string"){if(typeof Ot=="string"?(Nt=Ot,Ot=0,At=this.length):typeof At=="string"&&(Nt=At,At=this.length),Et.length===1){var Mt=Et.charCodeAt(0);Mt<256&&(Et=Mt)}if(Nt!==void 0&&typeof Nt!="string")throw new TypeError("encoding must be a string");if(typeof Nt=="string"&&!ot.isEncoding(Nt))throw new TypeError("Unknown encoding: "+Nt)}else typeof Et=="number"&&(Et&=255);if(Ot<0||this.length<Ot||this.length<At)throw new RangeError("Out of range index");if(At<=Ot)return this;var Lt;if(Ot>>>=0,At=At===void 0?this.length:At>>>0,Et||(Et=0),typeof Et=="number")for(Lt=Ot;Lt<At;++Lt)this[Lt]=Et;else{var Wt=ot.isBuffer(Et)?Et:Yt(new ot(Et,Nt).toString()),Xt=Wt.length;for(Lt=0;Lt<At-Ot;++Lt)this[Lt+Ot]=Wt[Lt%Xt]}return this};var Vt=/[^+\/0-9A-Za-z-_]/g;function Gt(Et){return Et<16?"0"+Et.toString(16):Et.toString(16)}function Yt(Et,Ot){var At;Ot=Ot||1/0;for(var Nt=Et.length,Mt=null,Lt=[],Wt=0;Wt<Nt;++Wt){if((At=Et.charCodeAt(Wt))>55295&&At<57344){if(!Mt){if(At>56319){(Ot-=3)>-1&&Lt.push(239,191,189);continue}if(Wt+1===Nt){(Ot-=3)>-1&&Lt.push(239,191,189);continue}Mt=At;continue}if(At<56320){(Ot-=3)>-1&&Lt.push(239,191,189),Mt=At;continue}At=65536+(Mt-55296<<10|At-56320)}else Mt&&(Ot-=3)>-1&&Lt.push(239,191,189);if(Mt=null,At<128){if((Ot-=1)<0)break;Lt.push(At)}else if(At<2048){if((Ot-=2)<0)break;Lt.push(At>>6|192,63&At|128)}else if(At<65536){if((Ot-=3)<0)break;Lt.push(At>>12|224,At>>6&63|128,63&At|128)}else{if(!(At<1114112))throw new Error("Invalid code point");if((Ot-=4)<0)break;Lt.push(At>>18|240,At>>12&63|128,At>>6&63|128,63&At|128)}}return Lt}function er(Et){return b.toByteArray(function(Ot){if((Ot=function(At){return At.trim?At.trim():At.replace(/^\s+|\s+$/g,"")}(Ot).replace(Vt,"")).length<2)return"";for(;Ot.length%4!=0;)Ot+="=";return Ot}(Et))}function nr(Et,Ot,At,Nt){for(var Mt=0;Mt<Nt&&!(Mt+At>=Ot.length||Mt>=Et.length);++Mt)Ot[Mt+At]=Et[Mt];return Mt}}).call(this,s(8))},function(o,e){o.exports=h;var s=null;try{s=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function h($t,St,Pt){this.low=0|$t,this.high=0|St,this.unsigned=!!Pt}function b($t){return($t&&$t.__isLong__)===!0}h.prototype.__isLong__,Object.defineProperty(h.prototype,"__isLong__",{value:!0}),h.isLong=b;var _e={},rt={};function at($t,St){var Pt,_t,wt;return St?(wt=0<=($t>>>=0)&&$t<256)&&(_t=rt[$t])?_t:(Pt=ot($t,(0|$t)<0?-1:0,!0),wt&&(rt[$t]=Pt),Pt):(wt=-128<=($t|=0)&&$t<128)&&(_t=_e[$t])?_t:(Pt=ot($t,$t<0?-1:0,!1),wt&&(_e[$t]=Pt),Pt)}function st($t,St){if(isNaN($t))return St?ft:ct;if(St){if($t<0)return ft;if($t>=tt)return vt}else{if($t<=-lt)return mt;if($t+1>=lt)return yt}return $t<0?st(-$t,St).neg():ot($t%_|0,$t/_|0,St)}function ot($t,St,Pt){return new h($t,St,Pt)}h.fromInt=at,h.fromNumber=st,h.fromBits=ot;var nt=Math.pow;function et($t,St,Pt){if($t.length===0)throw Error("empty string");if($t==="NaN"||$t==="Infinity"||$t==="+Infinity"||$t==="-Infinity")return ct;if(typeof St=="number"?(Pt=St,St=!1):St=!!St,(Pt=Pt||10)<2||36<Pt)throw RangeError("radix");var _t;if((_t=$t.indexOf("-"))>0)throw Error("interior hyphen");if(_t===0)return et($t.substring(1),St,Pt).neg();for(var wt=st(nt(Pt,8)),xt=ct,Tt=0;Tt<$t.length;Tt+=8){var It=Math.min(8,$t.length-Tt),Ct=parseInt($t.substring(Tt,Tt+It),Pt);if(It<8){var Rt=st(nt(Pt,It));xt=xt.mul(Rt).add(st(Ct))}else xt=(xt=xt.mul(wt)).add(st(Ct))}return xt.unsigned=St,xt}function d($t,St){return typeof $t=="number"?st($t,St):typeof $t=="string"?et($t,St):ot($t.low,$t.high,typeof St=="boolean"?St:$t.unsigned)}h.fromString=et,h.fromValue=d;var _=4294967296,tt=_*_,lt=tt/2,ut=at(1<<24),ct=at(0);h.ZERO=ct;var ft=at(0,!0);h.UZERO=ft;var dt=at(1);h.ONE=dt;var ht=at(1,!0);h.UONE=ht;var gt=at(-1);h.NEG_ONE=gt;var yt=ot(-1,2147483647,!1);h.MAX_VALUE=yt;var vt=ot(-1,-1,!0);h.MAX_UNSIGNED_VALUE=vt;var mt=ot(0,-2147483648,!1);h.MIN_VALUE=mt;var bt=h.prototype;bt.toInt=function(){return this.unsigned?this.low>>>0:this.low},bt.toNumber=function(){return this.unsigned?(this.high>>>0)*_+(this.low>>>0):this.high*_+(this.low>>>0)},bt.toString=function($t){if(($t=$t||10)<2||36<$t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(mt)){var St=st($t),Pt=this.div(St),_t=Pt.mul(St).sub(this);return Pt.toString($t)+_t.toInt().toString($t)}return"-"+this.neg().toString($t)}for(var wt=st(nt($t,6),this.unsigned),xt=this,Tt="";;){var It=xt.div(wt),Ct=(xt.sub(It.mul(wt)).toInt()>>>0).toString($t);if((xt=It).isZero())return Ct+Tt;for(;Ct.length<6;)Ct="0"+Ct;Tt=""+Ct+Tt}},bt.getHighBits=function(){return this.high},bt.getHighBitsUnsigned=function(){return this.high>>>0},bt.getLowBits=function(){return this.low},bt.getLowBitsUnsigned=function(){return this.low>>>0},bt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(mt)?64:this.neg().getNumBitsAbs();for(var $t=this.high!=0?this.high:this.low,St=31;St>0&&!($t&1<<St);St--);return this.high!=0?St+33:St+1},bt.isZero=function(){return this.high===0&&this.low===0},bt.eqz=bt.isZero,bt.isNegative=function(){return!this.unsigned&&this.high<0},bt.isPositive=function(){return this.unsigned||this.high>=0},bt.isOdd=function(){return(1&this.low)==1},bt.isEven=function(){return(1&this.low)==0},bt.equals=function($t){return b($t)||($t=d($t)),(this.unsigned===$t.unsigned||this.high>>>31!=1||$t.high>>>31!=1)&&this.high===$t.high&&this.low===$t.low},bt.eq=bt.equals,bt.notEquals=function($t){return!this.eq($t)},bt.neq=bt.notEquals,bt.ne=bt.notEquals,bt.lessThan=function($t){return this.comp($t)<0},bt.lt=bt.lessThan,bt.lessThanOrEqual=function($t){return this.comp($t)<=0},bt.lte=bt.lessThanOrEqual,bt.le=bt.lessThanOrEqual,bt.greaterThan=function($t){return this.comp($t)>0},bt.gt=bt.greaterThan,bt.greaterThanOrEqual=function($t){return this.comp($t)>=0},bt.gte=bt.greaterThanOrEqual,bt.ge=bt.greaterThanOrEqual,bt.compare=function($t){if(b($t)||($t=d($t)),this.eq($t))return 0;var St=this.isNegative(),Pt=$t.isNegative();return St&&!Pt?-1:!St&&Pt?1:this.unsigned?$t.high>>>0>this.high>>>0||$t.high===this.high&&$t.low>>>0>this.low>>>0?-1:1:this.sub($t).isNegative()?-1:1},bt.comp=bt.compare,bt.negate=function(){return!this.unsigned&&this.eq(mt)?mt:this.not().add(dt)},bt.neg=bt.negate,bt.add=function($t){b($t)||($t=d($t));var St=this.high>>>16,Pt=65535&this.high,_t=this.low>>>16,wt=65535&this.low,xt=$t.high>>>16,Tt=65535&$t.high,It=$t.low>>>16,Ct=0,Rt=0,Ut=0,kt=0;return Ut+=(kt+=wt+(65535&$t.low))>>>16,Rt+=(Ut+=_t+It)>>>16,Ct+=(Rt+=Pt+Tt)>>>16,Ct+=St+xt,ot((Ut&=65535)<<16|(kt&=65535),(Ct&=65535)<<16|(Rt&=65535),this.unsigned)},bt.subtract=function($t){return b($t)||($t=d($t)),this.add($t.neg())},bt.sub=bt.subtract,bt.multiply=function($t){if(this.isZero())return ct;if(b($t)||($t=d($t)),s)return ot(s.mul(this.low,this.high,$t.low,$t.high),s.get_high(),this.unsigned);if($t.isZero())return ct;if(this.eq(mt))return $t.isOdd()?mt:ct;if($t.eq(mt))return this.isOdd()?mt:ct;if(this.isNegative())return $t.isNegative()?this.neg().mul($t.neg()):this.neg().mul($t).neg();if($t.isNegative())return this.mul($t.neg()).neg();if(this.lt(ut)&&$t.lt(ut))return st(this.toNumber()*$t.toNumber(),this.unsigned);var St=this.high>>>16,Pt=65535&this.high,_t=this.low>>>16,wt=65535&this.low,xt=$t.high>>>16,Tt=65535&$t.high,It=$t.low>>>16,Ct=65535&$t.low,Rt=0,Ut=0,kt=0,jt=0;return kt+=(jt+=wt*Ct)>>>16,Ut+=(kt+=_t*Ct)>>>16,kt&=65535,Ut+=(kt+=wt*It)>>>16,Rt+=(Ut+=Pt*Ct)>>>16,Ut&=65535,Rt+=(Ut+=_t*It)>>>16,Ut&=65535,Rt+=(Ut+=wt*Tt)>>>16,Rt+=St*Ct+Pt*It+_t*Tt+wt*xt,ot((kt&=65535)<<16|(jt&=65535),(Rt&=65535)<<16|(Ut&=65535),this.unsigned)},bt.mul=bt.multiply,bt.divide=function($t){if(b($t)||($t=d($t)),$t.isZero())throw Error("division by zero");var St,Pt,_t;if(s)return this.unsigned||this.high!==-2147483648||$t.low!==-1||$t.high!==-1?ot((this.unsigned?s.div_u:s.div_s)(this.low,this.high,$t.low,$t.high),s.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ft:ct;if(this.unsigned){if($t.unsigned||($t=$t.toUnsigned()),$t.gt(this))return ft;if($t.gt(this.shru(1)))return ht;_t=ft}else{if(this.eq(mt))return $t.eq(dt)||$t.eq(gt)?mt:$t.eq(mt)?dt:(St=this.shr(1).div($t).shl(1)).eq(ct)?$t.isNegative()?dt:gt:(Pt=this.sub($t.mul(St)),_t=St.add(Pt.div($t)));if($t.eq(mt))return this.unsigned?ft:ct;if(this.isNegative())return $t.isNegative()?this.neg().div($t.neg()):this.neg().div($t).neg();if($t.isNegative())return this.div($t.neg()).neg();_t=ct}for(Pt=this;Pt.gte($t);){St=Math.max(1,Math.floor(Pt.toNumber()/$t.toNumber()));for(var wt=Math.ceil(Math.log(St)/Math.LN2),xt=wt<=48?1:nt(2,wt-48),Tt=st(St),It=Tt.mul($t);It.isNegative()||It.gt(Pt);)It=(Tt=st(St-=xt,this.unsigned)).mul($t);Tt.isZero()&&(Tt=dt),_t=_t.add(Tt),Pt=Pt.sub(It)}return _t},bt.div=bt.divide,bt.modulo=function($t){return b($t)||($t=d($t)),s?ot((this.unsigned?s.rem_u:s.rem_s)(this.low,this.high,$t.low,$t.high),s.get_high(),this.unsigned):this.sub(this.div($t).mul($t))},bt.mod=bt.modulo,bt.rem=bt.modulo,bt.not=function(){return ot(~this.low,~this.high,this.unsigned)},bt.and=function($t){return b($t)||($t=d($t)),ot(this.low&$t.low,this.high&$t.high,this.unsigned)},bt.or=function($t){return b($t)||($t=d($t)),ot(this.low|$t.low,this.high|$t.high,this.unsigned)},bt.xor=function($t){return b($t)||($t=d($t)),ot(this.low^$t.low,this.high^$t.high,this.unsigned)},bt.shiftLeft=function($t){return b($t)&&($t=$t.toInt()),($t&=63)==0?this:$t<32?ot(this.low<<$t,this.high<<$t|this.low>>>32-$t,this.unsigned):ot(0,this.low<<$t-32,this.unsigned)},bt.shl=bt.shiftLeft,bt.shiftRight=function($t){return b($t)&&($t=$t.toInt()),($t&=63)==0?this:$t<32?ot(this.low>>>$t|this.high<<32-$t,this.high>>$t,this.unsigned):ot(this.high>>$t-32,this.high>=0?0:-1,this.unsigned)},bt.shr=bt.shiftRight,bt.shiftRightUnsigned=function($t){if(b($t)&&($t=$t.toInt()),($t&=63)===0)return this;var St=this.high;return $t<32?ot(this.low>>>$t|St<<32-$t,St>>>$t,this.unsigned):ot($t===32?St:St>>>$t-32,0,this.unsigned)},bt.shru=bt.shiftRightUnsigned,bt.shr_u=bt.shiftRightUnsigned,bt.toSigned=function(){return this.unsigned?ot(this.low,this.high,!1):this},bt.toUnsigned=function(){return this.unsigned?this:ot(this.low,this.high,!0)},bt.toBytes=function($t){return $t?this.toBytesLE():this.toBytesBE()},bt.toBytesLE=function(){var $t=this.high,St=this.low;return[255&St,St>>>8&255,St>>>16&255,St>>>24,255&$t,$t>>>8&255,$t>>>16&255,$t>>>24]},bt.toBytesBE=function(){var $t=this.high,St=this.low;return[$t>>>24,$t>>>16&255,$t>>>8&255,255&$t,St>>>24,St>>>16&255,St>>>8&255,255&St]},h.fromBytes=function($t,St,Pt){return Pt?h.fromBytesLE($t,St):h.fromBytesBE($t,St)},h.fromBytesLE=function($t,St){return new h($t[0]|$t[1]<<8|$t[2]<<16|$t[3]<<24,$t[4]|$t[5]<<8|$t[6]<<16|$t[7]<<24,St)},h.fromBytesBE=function($t,St){return new h($t[4]<<24|$t[5]<<16|$t[6]<<8|$t[7],$t[0]<<24|$t[1]<<16|$t[2]<<8|$t[3],St)}},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.BatchNormalization=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.epsilon=_e.getFloat("epsilon",1e-5),this.momentum=_e.getFloat("momentum",.9),this.spatial=_e.getInt("spatial",1)},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==5)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){var rt=_e[0],at=_e[1],st=_e[2],ot=_e[3],nt=_e[4];return!(rt.dims.length<3||at.dims.length!==1||st.dims.length!==1||ot.dims.length!==1||nt.dims.length!==1)&&at.dims[0]===rt.dims[1]&&st.dims[0]===rt.dims[1]&&ot.dims[0]===rt.dims[1]&&nt.dims[0]===rt.dims[1]&&!(rt.type!=="float32"&&rt.type!=="float64"||at.type!=="float32"&&at.type!=="float64"||st.type!=="float32"&&st.type!=="float64"||ot.type!=="float32"&&ot.type!=="float64"||nt.type!=="float32"&&nt.type!=="float64")},b}();e.BatchNormalization=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryOp=void 0;var h=function(){function b(_e,rt,at){this.typeConstraint=_e,this.opType=rt,this.resultType=at}return b.prototype.initialize=function(_e){},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==2)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return this.typeConstraint.indexOf(_e[0].type)!==-1&&_e[0].type===_e[1].type},b}();e.BinaryOp=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Conv=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.autoPad=_e.getString("auto_pad","NOTSET"),this.dilations=_e.getInts("dilations",[1,1]),this.group=_e.getInt("group",1),this.kernelShape=_e.getInts("kernel_shape",[]),this.pads=_e.getInts("pads",[0,0,0,0]),this.strides=_e.getInts("strides",[1,1])},b.prototype.checkInputs=function(_e){if(!_e||_e.length!==2&&_e.length!==3||_e[0].dims.length!==4||_e[1].dims.length!==4||_e[0].dims[1]!==_e[1].dims[1]*this.group||_e.length===3&&(_e[2].dims.length!==1||_e[1].dims[0]!==_e[2].dims[0]))return!1;var rt=_e[0].dims.length-2;return this.dilations.length===rt&&this.strides.length===rt&&this.pads.length===2*rt&&(this.kernelShape.length===0||this.kernelShape.length===_e[1].dims.length-2)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type==="float32"&&_e[1].type==="float32"&&(_e.length!==3||_e[2].type==="float32")},b}();e.Conv=h},function(o,e,s){var h,b=this&&this.__extends||(h=function(d,_){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,lt){tt.__proto__=lt}||function(tt,lt){for(var ut in lt)lt.hasOwnProperty(ut)&&(tt[ut]=lt[ut])})(d,_)},function(d,_){function tt(){this.constructor=d}h(d,_),d.prototype=_===null?Object.create(_):(tt.prototype=_.prototype,new tt)}),_e=this&&this.__read||function(d,_){var tt=typeof Symbol=="function"&&d[Symbol.iterator];if(!tt)return d;var lt,ut,ct=tt.call(d),ft=[];try{for(;(_===void 0||_-- >0)&&!(lt=ct.next()).done;)ft.push(lt.value)}catch(dt){ut={error:dt}}finally{try{lt&&!lt.done&&(tt=ct.return)&&tt.call(ct)}finally{if(ut)throw ut.error}}return ft};Object.defineProperty(e,"__esModule",{value:!0}),e.matMul2d=e.matMul=e.CpuMatMul=void 0;var rt=s(18),at=s(1),st=s(0),ot=function(d){function _(){return d!==null&&d.apply(this,arguments)||this}return b(_,d),_.prototype.run=function(tt,lt){return[nt(lt[0],lt[1])]},_}(rt.MatMul);function nt(d,_){var tt=_e(st.MatMulUtil.preprocessInputShapes(d.dims,_.dims),2),lt=tt[0],ut=tt[1],ct=[lt[lt.length-2],ut[ut.length-1]],ft=st.BroadcastUtil.calcShape(lt,ut,!0);if(!ft)throw new Error("input dimensions do not match the requirement");for(var dt=st.ShapeUtil.size(ft)/(ct[0]*ct[1]),ht=new at.Tensor(ft,d.type==="float64"||_.type==="float64"?"float64":"float32"),gt=0,yt=new Array(ft.length),vt=new Array(d.dims.length),mt=new Array(_.dims.length),bt=0;bt<dt;bt++){yt[ft.length-2]=0,yt[ft.length-1]=0;for(var $t=bt,St=ft.length-3;St>=0;St--)yt[St]=$t%ft[St],$t=Math.floor($t/ft[St]);st.BroadcastUtil.fillIndex(yt,d.dims,vt),st.BroadcastUtil.fillIndex(yt,_.dims,mt);var Pt=vt.length<=2?0:st.ShapeUtil.indicesToOffset(vt,d.strides,ft.length-2),_t=mt.length<=2?0:st.ShapeUtil.indicesToOffset(mt,_.strides,ft.length-2);et(d.floatData.subarray(Pt),_.floatData.subarray(_t),ht.floatData.subarray(gt),!1,!1,1,0,ct[0],ct[1],lt[lt.length-1]),gt+=ct[0]*ct[1]}return ht}function et(d,_,tt,lt,ut,ct,ft,dt,ht,gt){return lt&&ut?function(yt,vt,mt,bt,$t,St,Pt,_t){for(var wt=0,xt=0,Tt=0,It=0;It<St;It++){for(var Ct=0;Ct<Pt;Ct++){for(var Rt=0,Ut=0;Ut<_t;Ut++)Rt+=yt[wt]*vt[xt],wt+=St,xt+=1;wt-=St*_t,xt-=_t,mt[Tt]=bt*Rt+$t*mt[Tt],Tt++,xt+=_t}xt-=Pt*_t,wt++}}(d,_,tt,ct,ft,dt,ht,gt):lt?function(yt,vt,mt,bt,$t,St,Pt,_t){for(var wt=0,xt=0,Tt=0,It=0;It<St;It++){for(var Ct=0;Ct<Pt;Ct++){for(var Rt=0,Ut=0;Ut<_t;Ut++)Rt+=yt[wt]*vt[xt],wt+=St,xt+=Pt;wt-=St*_t,xt-=Pt*_t,mt[Tt]=bt*Rt+$t*mt[Tt],Tt++,xt++}xt-=Pt,wt++}}(d,_,tt,ct,ft,dt,ht,gt):ut?function(yt,vt,mt,bt,$t,St,Pt,_t){for(var wt=0,xt=0,Tt=0,It=0;It<St;It++){for(var Ct=0;Ct<Pt;Ct++){for(var Rt=0,Ut=0;Ut<_t;Ut++)Rt+=yt[wt]*vt[xt],wt+=1,xt+=1;wt-=_t,xt-=_t,mt[Tt]=bt*Rt+$t*mt[Tt],Tt++,xt+=_t}xt-=Pt*_t,wt+=_t}}(d,_,tt,ct,ft,dt,ht,gt):function(yt,vt,mt,bt,$t,St,Pt,_t){for(var wt=0,xt=0,Tt=0,It=0;It<St;It++){for(var Ct=0;Ct<Pt;Ct++){for(var Rt=0,Ut=0;Ut<_t;Ut++)Rt+=yt[wt]*vt[xt],wt+=1,xt+=Pt;wt-=_t,xt-=Pt*_t,mt[Tt]=bt*Rt+$t*mt[Tt],Tt++,xt++}xt-=Pt,wt+=_t}}(d,_,tt,ct,ft,dt,ht,gt)}e.CpuMatMul=ot,e.matMul=nt,e.matMul2d=et},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.MatMul=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==2)&&_e[0].dims[_e[0].dims.length-1]===_e[1].dims[_e[1].dims.length-2]&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return(_e[0].type==="float32"||_e[0].type==="float64")&&(_e[1].type==="float32"||_e[1].type==="float64")&&_e[0].type===_e[1].type},b}();e.MatMul=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Gemm=void 0;var h=function(){function b(_e){this.isOptionalC=_e}return b.prototype.initialize=function(_e){this.transA=_e.getInt("transA",0)!==0,this.transB=_e.getInt("transB",0)!==0,this.alpha=_e.getFloat("alpha",1),this.beta=_e.getFloat("beta",1)},b.prototype.checkInputs=function(_e){return!!_e&&(!this.isOptionalC||!(_e.length<2||_e.length>3))&&!(!this.isOptionalC&&_e.length!==3)&&(_e.length!==3||_e[2].dims.length===1||_e[2].dims.length===2)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return!(_e[0].type!=="float32"&&_e[0].type!=="float64"||_e[1].type!=="float32"&&_e[1].type!=="float64"||_e.length===3&&_e[2].type!=="float32"&&_e[2].type!=="float64")&&_e[0].type===_e[1].type&&(_e.length!==3||_e[0].type===_e[2].type)},b}();e.Gemm=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.InstanceNormalization=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.epsilon=_e.getFloat("epsilon",1e-5)},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==3)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){var rt=_e[0],at=_e[1],st=_e[2];return!(rt.dims.length<3||at.dims.length!==1||st.dims.length!==1)&&at.dims[0]===rt.dims[1]&&st.dims[0]===rt.dims[1]&&!(rt.type!=="float32"&&rt.type!=="float64"||at.type!=="float32"&&at.type!=="float64"||st.type!=="float32"&&st.type!=="float64")},b}();e.InstanceNormalization=h},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMaxPool=e.MaxPool=e.GlobalAveragePool=e.AveragePool=void 0;var _e=function(){function nt(){}return nt.prototype.checkInputs=function(et){return!(!et||et.length!==1)&&this.checkInputTypes(et)},nt.prototype.checkInputTypes=function(et){return et[0].type==="float32"||et[0].type==="float64"},nt}(),rt=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.initialize=function(d){if(this.autoPad=d.getString("auto_pad","NOTSET"),this.kernelShape=d.getInts("kernel_shape"),this.strides=d.getInts("strides",[]),this.pads=d.getInts("pads",[]),this.countIncludePad=d.getInt("count_include_pad",0)!==0,this.ceilMode=d.getInt("ceil_mode",0),this.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool")},et}(_e);e.AveragePool=rt;var at=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.initialize=function(d){this.countIncludePad=d.getInt("count_include_pad",0)!==0},et}(_e);e.GlobalAveragePool=at;var st=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.initialize=function(d){if(this.autoPad=d.getString("auto_pad","NOTSET"),this.kernelShape=d.getInts("kernel_shape"),this.strides=d.getInts("strides",[]),this.pads=d.getInts("pads",[]),this.ceilMode=d.getInt("ceil_mode",0),this.storageOrder=d.getInt("storage_order",0),this.storageOrder!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(this.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool")},et}(_e);e.MaxPool=st;var ot=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.initialize=function(d){},et}(_e);e.GlobalMaxPool=ot},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Softmax=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.axis=_e.getInt("axis",1)},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type==="float32"||_e[0].type==="float64"},b}();e.Softmax=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Sum=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){},b.prototype.checkInputs=function(_e){if(!_e||_e.length===0)return!1;for(var rt=_e[0].dims.length,at=1;at<_e.length;at++){if(rt!==_e[at].dims.length)return!1;for(var st=0;st<rt;st++)if(_e[0].dims[st]!==_e[at].dims[st])return!1}return this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){if(_e[0].type!=="float32"&&_e[0].type!=="float64")return!1;for(var rt=1;rt<_e.length;rt++)if(_e[0].type!==_e[rt].type)return!1;return!0},b}();e.Sum=h},function(o,e){var s,h,b=o.exports={};function _e(){throw new Error("setTimeout has not been defined")}function rt(){throw new Error("clearTimeout has not been defined")}function at(ut){if(s===setTimeout)return setTimeout(ut,0);if((s===_e||!s)&&setTimeout)return s=setTimeout,setTimeout(ut,0);try{return s(ut,0)}catch{try{return s.call(null,ut,0)}catch{return s.call(this,ut,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:_e}catch{s=_e}try{h=typeof clearTimeout=="function"?clearTimeout:rt}catch{h=rt}})();var st,ot=[],nt=!1,et=-1;function d(){nt&&st&&(nt=!1,st.length?ot=st.concat(ot):et=-1,ot.length&&_())}function _(){if(!nt){var ut=at(d);nt=!0;for(var ct=ot.length;ct;){for(st=ot,ot=[];++et<ct;)st&&st[et].run();et=-1,ct=ot.length}st=null,nt=!1,function(ft){if(h===clearTimeout)return clearTimeout(ft);if((h===rt||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(ft);try{h(ft)}catch{try{return h.call(null,ft)}catch{return h.call(this,ft)}}}(ut)}}function tt(ut,ct){this.fun=ut,this.array=ct}function lt(){}b.nextTick=function(ut){var ct=new Array(arguments.length-1);if(arguments.length>1)for(var ft=1;ft<arguments.length;ft++)ct[ft-1]=arguments[ft];ot.push(new tt(ut,ct)),ot.length!==1||nt||at(_)},tt.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.browser=!0,b.env={},b.argv=[],b.version="",b.versions={},b.on=lt,b.addListener=lt,b.once=lt,b.off=lt,b.removeListener=lt,b.removeAllListeners=lt,b.emit=lt,b.prependListener=lt,b.prependOnceListener=lt,b.listeners=function(ut){return[]},b.binding=function(ut){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(ut){throw new Error("process.chdir is not supported")},b.umask=function(){return 0}},function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(ot,nt,et,d){d===void 0&&(d=et),Object.defineProperty(ot,d,{enumerable:!0,get:function(){return nt[et]}})}:function(ot,nt,et,d){d===void 0&&(d=et),ot[d]=nt[et]}),b=this&&this.__setModuleDefault||(Object.create?function(ot,nt){Object.defineProperty(ot,"default",{enumerable:!0,value:nt})}:function(ot,nt){ot.default=nt}),_e=this&&this.__importStar||function(ot){if(ot&&ot.__esModule)return ot;var nt={};if(ot!=null)for(var et in ot)et!=="default"&&Object.hasOwnProperty.call(ot,et)&&h(nt,ot,et);return b(nt,ot),nt};Object.defineProperty(e,"__esModule",{value:!0}),e.env=void 0;var rt=_e(s(46)),at=_e(s(26)),st=function(){this.onnx=at,this.backend=at.backend,this.platform=rt,this.debug=!1};e.env=new st},function(o,e,s){(function(h){var b=this&&this.__createBinding||(Object.create?function(st,ot,nt,et){et===void 0&&(et=nt),Object.defineProperty(st,et,{enumerable:!0,get:function(){return ot[nt]}})}:function(st,ot,nt,et){et===void 0&&(et=nt),st[et]=ot[nt]}),_e=this&&this.__setModuleDefault||(Object.create?function(st,ot){Object.defineProperty(st,"default",{enumerable:!0,value:ot})}:function(st,ot){st.default=ot}),rt=(this&&this.__importStar||function(st){if(st&&st.__esModule)return st;var ot={};if(st!=null)for(var nt in st)nt!=="default"&&Object.hasOwnProperty.call(st,nt)&&b(ot,st,nt);return _e(ot,st),ot})(s(53)),at=rt;(typeof window<"u"?window:h).onnx=at,o.exports=rt}).call(this,s(8))},function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(Ct,Rt,Ut,kt){kt===void 0&&(kt=Ut),Object.defineProperty(Ct,kt,{enumerable:!0,get:function(){return Rt[Ut]}})}:function(Ct,Rt,Ut,kt){kt===void 0&&(kt=Ut),Ct[kt]=Rt[Ut]}),b=this&&this.__setModuleDefault||(Object.create?function(Ct,Rt){Object.defineProperty(Ct,"default",{enumerable:!0,value:Rt})}:function(Ct,Rt){Ct.default=Rt}),_e=this&&this.__importStar||function(Ct){if(Ct&&Ct.__esModule)return Ct;var Rt={};if(Ct!=null)for(var Ut in Ct)Ut!=="default"&&Object.hasOwnProperty.call(Ct,Ut)&&h(Rt,Ct,Ut);return b(Rt,Ct),Rt};Object.defineProperty(e,"__esModule",{value:!0}),e.CPU_OP_RESOLVE_RULES=void 0;var rt=s(7),at=s(57),st=s(77),ot=s(78),nt=s(79),et=s(80),d=s(81),_=s(82),tt=s(83),lt=s(84),ut=s(85),ct=s(86),ft=s(87),dt=s(17),ht=s(89),gt=s(90),yt=_e(s(91)),vt=s(92),mt=s(93),bt=s(94),$t=s(95),St=s(96),Pt=s(97),_t=s(98),wt=_e(s(42)),xt=s(42),Tt=s(99),It=s(100);e.CPU_OP_RESOLVE_RULES=[["Abs","","6+",function(){return new xt.CpuUnaryOp(rt.NUMBER_TYPES,wt.abs)}],["Acos","","7+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.acos)}],["Acosh","","9+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.acosh)}],["Add","","7+",function(){return new ot.CpuBinaryOp(rt.NUMBER_TYPES,function(Ct,Rt){return Ct+Rt})}],["And","","7+",function(){return new ot.CpuBinaryOp(["bool"],function(Ct,Rt){return Ct&&Rt})}],["ArgMax","","1-11",function(){return new at.CpuArgMax}],["Asin","","7+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.asin)}],["Asinh","","9+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.asinh)}],["Atan","","7+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.atan)}],["Atanh","","9+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.atanh)}],["AveragePool","","7-10",function(){return new gt.CpuAveragePool}],["BatchNormalization","","7+",function(){return new st.CpuBatchNormalization}],["Ceil","","6+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.ceil)}],["Clip","","6-10",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.clip,wt.clipInitializer)}],["Concat","","4+",function(){return new nt.CpuConcat}],["Conv","","1+",function(){return new et.CpuConv}],["Cos","","7+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.cos)}],["Cosh","","9+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.cosh)}],["Div","","7+",function(){return new ot.CpuBinaryOp(rt.NUMBER_TYPES,function(Ct,Rt){return Ct/Rt})}],["Dropout","","7+",function(){return new d.CpuDropout}],["Elu","","6+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.elu,wt.eluInitializer)}],["Exp","","6+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.exp)}],["Flatten","","1+",function(){return new _.CpuFlatten}],["Floor","","6+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.floor)}],["Gather","","1+",function(){return new tt.CpuGather}],["Gemm","","7-10",function(){return new lt.CpuGemm(!1)}],["Gemm","","11+",function(){return new lt.CpuGemm(!0)}],["GlobalAveragePool","","1+",function(){return new gt.CpuGlobalAveragePool}],["GlobalMaxPool","","1+",function(){return new gt.CpuGlobalMaxPool}],["ImageScaler","","1+",function(){return new ut.CpuImageScaler}],["InstanceNormalization","","6+",function(){return new ct.CpuInstanceNormalization}],["IsNaN","","9+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.isNan,void 0,"bool")}],["LeakyRelu","","6+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.leakyRelu,wt.leakyReluInitializer)}],["Log","","6+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.log)}],["LRN","","1+",function(){return new ft.CpuLrn}],["MatMul","","1+",function(){return new dt.CpuMatMul}],["MaxPool","","1-9",function(){return new gt.CpuMaxPool}],["Mul","","7+",function(){return new ot.CpuBinaryOp(rt.NUMBER_TYPES,function(Ct,Rt){return Ct*Rt})}],["Neg","","6+",function(){return new xt.CpuUnaryOp(rt.NUMBER_TYPES,wt.neg)}],["Not","","1+",function(){return new xt.CpuUnaryOp(["bool"],wt.not,void 0,"bool")}],["Or","","7+",function(){return new ot.CpuBinaryOp(["bool"],function(Ct,Rt){return Ct||Rt})}],["PRelu","","7+",function(){return new ot.CpuBinaryOp(rt.NUMBER_TYPES,function(Ct,Rt){return Ct>=0?Ct:Ct*Rt})}],["Pad","","2-10",function(){return new ht.CpuPad}],["Reciprocal","","6+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.reciprocal)}],["ReduceLogSum","","1+",function(){return new yt.CpuReduceLogSum}],["ReduceMax","","1+",function(){return new yt.CpuReduceMax}],["ReduceMean","","1+",function(){return new yt.CpuReduceMean}],["ReduceMin","","1+",function(){return new yt.CpuReduceMin}],["ReduceProd","","1+",function(){return new yt.CpuReduceProd}],["ReduceSum","","1+",function(){return new yt.CpuReduceSum}],["ReduceSumSquare","","1+",function(){return new yt.CpuReduceSumSquare}],["Relu","","6+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.relu)}],["Reshape","","5+",function(){return new vt.CpuReshape}],["Sigmoid","","6+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.sigmoid)}],["Sign","","9+",function(){return new xt.CpuUnaryOp(rt.NUMBER_TYPES,wt.sign)}],["Sin","","7+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.sin)}],["Sinh","","9+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.sinh)}],["Slice","","10+",function(){return new mt.CpuSliceV10}],["Slice","","1-9",function(){return new mt.CpuSlice}],["Softmax","","1+",function(){return new bt.CpuSoftmax}],["Sqrt","","6+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.sqrt)}],["Squeeze","","1+",function(){return new $t.CpuSqueeze}],["Sub","","7+",function(){return new ot.CpuBinaryOp(rt.NUMBER_TYPES,function(Ct,Rt){return Ct-Rt})}],["Sum","","6+",function(){return new St.CpuSum}],["Tan","","7+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.tan)}],["Tanh","","6+",function(){return new xt.CpuUnaryOp(rt.FLOAT_TYPES,wt.tanh)}],["Tile","","6+",function(){return new Pt.CpuTile}],["Transpose","","1+",function(){return new _t.CpuTranspose}],["Unsqueeze","","1+",function(){return new Tt.CpuUnsqueeze}],["Upsample","","7-8",function(){return new It.CpuUpsample}],["Xor","","7+",function(){return new ot.CpuBinaryOp(["bool"],function(Ct,Rt){return Ct^Rt})}]]},function(o,e,s){o.exports=et;var h,b=s(6),_e=b.LongBits,rt=b.base64,at=b.utf8;function st(ft,dt,ht){this.fn=ft,this.len=dt,this.next=void 0,this.val=ht}function ot(){}function nt(ft){this.head=ft.head,this.tail=ft.tail,this.len=ft.len,this.next=ft.states}function et(){this.len=0,this.head=new st(ot,0,0),this.tail=this.head,this.states=null}var d=function(){return b.Buffer?function(){return(et.create=function(){return new h})()}:function(){return new et}};function _(ft,dt,ht){dt[ht]=255&ft}function tt(ft,dt){this.len=ft,this.next=void 0,this.val=dt}function lt(ft,dt,ht){for(;ft.hi;)dt[ht++]=127&ft.lo|128,ft.lo=(ft.lo>>>7|ft.hi<<25)>>>0,ft.hi>>>=7;for(;ft.lo>127;)dt[ht++]=127&ft.lo|128,ft.lo=ft.lo>>>7;dt[ht++]=ft.lo}function ut(ft,dt,ht){dt[ht]=255&ft,dt[ht+1]=ft>>>8&255,dt[ht+2]=ft>>>16&255,dt[ht+3]=ft>>>24}et.create=d(),et.alloc=function(ft){return new b.Array(ft)},b.Array!==Array&&(et.alloc=b.pool(et.alloc,b.Array.prototype.subarray)),et.prototype._push=function(ft,dt,ht){return this.tail=this.tail.next=new st(ft,dt,ht),this.len+=dt,this},tt.prototype=Object.create(st.prototype),tt.prototype.fn=function(ft,dt,ht){for(;ft>127;)dt[ht++]=127&ft|128,ft>>>=7;dt[ht]=ft},et.prototype.uint32=function(ft){return this.len+=(this.tail=this.tail.next=new tt((ft>>>=0)<128?1:ft<16384?2:ft<2097152?3:ft<268435456?4:5,ft)).len,this},et.prototype.int32=function(ft){return ft<0?this._push(lt,10,_e.fromNumber(ft)):this.uint32(ft)},et.prototype.sint32=function(ft){return this.uint32((ft<<1^ft>>31)>>>0)},et.prototype.uint64=function(ft){var dt=_e.from(ft);return this._push(lt,dt.length(),dt)},et.prototype.int64=et.prototype.uint64,et.prototype.sint64=function(ft){var dt=_e.from(ft).zzEncode();return this._push(lt,dt.length(),dt)},et.prototype.bool=function(ft){return this._push(_,1,ft?1:0)},et.prototype.fixed32=function(ft){return this._push(ut,4,ft>>>0)},et.prototype.sfixed32=et.prototype.fixed32,et.prototype.fixed64=function(ft){var dt=_e.from(ft);return this._push(ut,4,dt.lo)._push(ut,4,dt.hi)},et.prototype.sfixed64=et.prototype.fixed64,et.prototype.float=function(ft){return this._push(b.float.writeFloatLE,4,ft)},et.prototype.double=function(ft){return this._push(b.float.writeDoubleLE,8,ft)};var ct=b.Array.prototype.set?function(ft,dt,ht){dt.set(ft,ht)}:function(ft,dt,ht){for(var gt=0;gt<ft.length;++gt)dt[ht+gt]=ft[gt]};et.prototype.bytes=function(ft){var dt=ft.length>>>0;if(!dt)return this._push(_,1,0);if(b.isString(ft)){var ht=et.alloc(dt=rt.length(ft));rt.decode(ft,ht,0),ft=ht}return this.uint32(dt)._push(ct,dt,ft)},et.prototype.string=function(ft){var dt=at.length(ft);return dt?this.uint32(dt)._push(at.write,dt,ft):this._push(_,1,0)},et.prototype.fork=function(){return this.states=new nt(this),this.head=this.tail=new st(ot,0,0),this.len=0,this},et.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new st(ot,0,0),this.len=0),this},et.prototype.ldelim=function(){var ft=this.head,dt=this.tail,ht=this.len;return this.reset().uint32(ht),ht&&(this.tail.next=ft.next,this.tail=dt,this.len+=ht),this},et.prototype.finish=function(){for(var ft=this.head.next,dt=this.constructor.alloc(this.len),ht=0;ft;)ft.fn(ft.val,dt,ht),ht+=ft.len,ft=ft.next;return dt},et._configure=function(ft){h=ft,et.create=d(),h._configure()}},function(o,e,s){o.exports=st;var h,b=s(6),_e=b.LongBits,rt=b.utf8;function at(lt,ut){return RangeError("index out of range: "+lt.pos+" + "+(ut||1)+" > "+lt.len)}function st(lt){this.buf=lt,this.pos=0,this.len=lt.length}var ot,nt=typeof Uint8Array<"u"?function(lt){if(lt instanceof Uint8Array||Array.isArray(lt))return new st(lt);throw Error("illegal buffer")}:function(lt){if(Array.isArray(lt))return new st(lt);throw Error("illegal buffer")},et=function(){return b.Buffer?function(lt){return(st.create=function(ut){return b.Buffer.isBuffer(ut)?new h(ut):nt(ut)})(lt)}:nt};function d(){var lt=new _e(0,0),ut=0;if(!(this.len-this.pos>4)){for(;ut<3;++ut){if(this.pos>=this.len)throw at(this);if(lt.lo=(lt.lo|(127&this.buf[this.pos])<<7*ut)>>>0,this.buf[this.pos++]<128)return lt}return lt.lo=(lt.lo|(127&this.buf[this.pos++])<<7*ut)>>>0,lt}for(;ut<4;++ut)if(lt.lo=(lt.lo|(127&this.buf[this.pos])<<7*ut)>>>0,this.buf[this.pos++]<128)return lt;if(lt.lo=(lt.lo|(127&this.buf[this.pos])<<28)>>>0,lt.hi=(lt.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return lt;if(ut=0,this.len-this.pos>4){for(;ut<5;++ut)if(lt.hi=(lt.hi|(127&this.buf[this.pos])<<7*ut+3)>>>0,this.buf[this.pos++]<128)return lt}else for(;ut<5;++ut){if(this.pos>=this.len)throw at(this);if(lt.hi=(lt.hi|(127&this.buf[this.pos])<<7*ut+3)>>>0,this.buf[this.pos++]<128)return lt}throw Error("invalid varint encoding")}function _(lt,ut){return(lt[ut-4]|lt[ut-3]<<8|lt[ut-2]<<16|lt[ut-1]<<24)>>>0}function tt(){if(this.pos+8>this.len)throw at(this,8);return new _e(_(this.buf,this.pos+=4),_(this.buf,this.pos+=4))}st.create=et(),st.prototype._slice=b.Array.prototype.subarray||b.Array.prototype.slice,st.prototype.uint32=(ot=4294967295,function(){if(ot=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(ot=(ot|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(ot=(ot|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(ot=(ot|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(ot=(ot|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return ot;if((this.pos+=5)>this.len)throw this.pos=this.len,at(this,10);return ot}),st.prototype.int32=function(){return 0|this.uint32()},st.prototype.sint32=function(){var lt=this.uint32();return lt>>>1^-(1&lt)|0},st.prototype.bool=function(){return this.uint32()!==0},st.prototype.fixed32=function(){if(this.pos+4>this.len)throw at(this,4);return _(this.buf,this.pos+=4)},st.prototype.sfixed32=function(){if(this.pos+4>this.len)throw at(this,4);return 0|_(this.buf,this.pos+=4)},st.prototype.float=function(){if(this.pos+4>this.len)throw at(this,4);var lt=b.float.readFloatLE(this.buf,this.pos);return this.pos+=4,lt},st.prototype.double=function(){if(this.pos+8>this.len)throw at(this,4);var lt=b.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,lt},st.prototype.bytes=function(){var lt=this.uint32(),ut=this.pos,ct=this.pos+lt;if(ct>this.len)throw at(this,lt);return this.pos+=lt,Array.isArray(this.buf)?this.buf.slice(ut,ct):ut===ct?new this.buf.constructor(0):this._slice.call(this.buf,ut,ct)},st.prototype.string=function(){var lt=this.bytes();return rt.read(lt,0,lt.length)},st.prototype.skip=function(lt){if(typeof lt=="number"){if(this.pos+lt>this.len)throw at(this,lt);this.pos+=lt}else do if(this.pos>=this.len)throw at(this);while(128&this.buf[this.pos++]);return this},st.prototype.skipType=function(lt){switch(lt){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(lt=7&this.uint32())!=4;)this.skipType(lt);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+lt+" at offset "+this.pos)}return this},st._configure=function(lt){h=lt,st.create=et(),h._configure();var ut=b.Long?"toLong":"toNumber";b.merge(st.prototype,{int64:function(){return d.call(this)[ut](!1)},uint64:function(){return d.call(this)[ut](!0)},sint64:function(){return d.call(this).zzDecode()[ut](!1)},fixed64:function(){return tt.call(this)[ut](!0)},sfixed64:function(){return tt.call(this)[ut](!1)}})}},function(o,e,s){var h=this&&this.__values||function(_e){var rt=typeof Symbol=="function"&&Symbol.iterator,at=rt&&_e[rt],st=0;if(at)return at.call(_e);if(_e&&typeof _e.length=="number")return{next:function(){return _e&&st>=_e.length&&(_e=void 0),{value:_e&&_e[st++],done:!_e}}};throw new TypeError(rt?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Concat=void 0;var b=function(){function _e(){}return _e.prototype.initialize=function(rt){this.axis=rt.getInt("axis")},_e.prototype.checkInputs=function(rt){return!(!rt||rt.length<1)&&this.checkInputTypes(rt)},_e.prototype.checkInputTypes=function(rt){var at,st,ot=rt[0].type,nt=rt[0].dims.length;if(ot==="string")return!1;try{for(var et=h(rt),d=et.next();!d.done;d=et.next()){var _=d.value;if(_.type!==ot||_.dims.length!==nt)return!1}}catch(tt){at={error:tt}}finally{try{d&&!d.done&&(st=et.return)&&st.call(et)}finally{if(at)throw at.error}}return!0},_e}();e.Concat=b},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Dropout=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.ratio=_e.getFloat("ratio",.5),this.testMode=!0},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type==="float32"||_e[0].type==="float64"},b}();e.Dropout=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Flatten=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.axis=_e.getInt("axis",1)},b.prototype.checkInputs=function(_e){if(!_e||_e.length!==1)return!1;var rt=_e[0].dims.length;return rt!==0&&!(this.axis<-rt||this.axis>rt)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type!=="string"},b}();e.Flatten=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Gather=void 0;var h=s(7),b=function(){function _e(){}return _e.prototype.initialize=function(rt){this.axis=rt.getInt("axis",0)},_e.prototype.checkInputs=function(rt){if(!rt||rt.length!==2)return!1;var at=rt[0].dims.length;return!(at<1)&&!(this.axis<-at||this.axis>at-1)&&this.checkInputTypes(rt)},_e.prototype.checkInputTypes=function(rt){return h.NUMBER_TYPES.indexOf(rt[0].type)!==-1&&(rt[1].type==="int32"||rt[1].type==="int16")},_e}();e.Gather=b},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.ImageScaler=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.scale=_e.getFloat("scale"),this.bias=_e.getFloats("bias")},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&_e[0].dims.length===4&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type==="float32"||_e[0].type==="float64"},b}();e.ImageScaler=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Pad=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.mode=_e.getString("mode","constant"),this.value=_e.getFloat("value",0),this.pads=_e.getInts("pads")},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type==="float32"||_e[0].type==="float64"},b}();e.Pad=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.ReduceBase=void 0;var h=s(7),b=function(){function _e(){}return _e.prototype.initialize=function(rt){this.axes=rt.getInts("axes",[]),this.keepDims=rt.getInt("keepdims",1)===1},_e.prototype.checkInputs=function(rt){return!(!rt||rt.length!==1)&&this.checkInputTypes(rt)},_e.prototype.checkInputTypes=function(rt){return h.NUMBER_TYPES.indexOf(rt[0].type)!==-1},_e}();e.ReduceBase=b},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Reshape=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==2||_e[1].dims.length!==1)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return(_e[0].type==="float32"||_e[0].type==="float64")&&_e[1].type==="int32"},b}();e.Reshape=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.SliceV10=e.Slice=void 0;var h=function(){function _e(){}return _e.prototype.initialize=function(rt){this.starts=rt.getInts("starts"),this.ends=rt.getInts("ends"),this.axes=rt.getInts("axes",[])},_e.prototype.checkInputs=function(rt){return!(!rt||rt.length!==1)&&this.checkInputTypes(rt)},_e.prototype.checkInputTypes=function(rt){return rt[0].type==="float32"||rt[0].type==="float64"},_e}();e.Slice=h;var b=function(){function _e(){}return _e.prototype.initialize=function(rt){},_e.prototype.checkInputs=function(rt){return!(!rt||rt.length<3||rt.length>5)&&this.checkInputTypes(rt)},_e.prototype.checkInputTypes=function(rt){return rt[1].type==="int32"&&rt[1].dims.length===1&&rt[2].type==="int32"&&rt[2].dims.length===1&&(!(rt.length>=4)||rt[3].type==="int32"&&rt[3].dims.length===1)&&(!(rt.length>=5)||rt[4].type==="int32"&&rt[4].dims.length===1)},_e}();e.SliceV10=b},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Squeeze=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.axes=_e.getInts("axes")},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type!=="string"},b}();e.Squeeze=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Tile=void 0;var h=s(7),b=function(){function _e(){}return _e.prototype.initialize=function(rt){},_e.prototype.checkInputs=function(rt){return!(!rt||rt.length!==2)&&rt[1].dims.length===1&&rt[1].dims[0]===rt[0].dims.length&&this.checkInputTypes(rt)},_e.prototype.checkInputTypes=function(rt){return h.NUMBER_TYPES.indexOf(rt[0].type)!==-1&&(rt[1].type==="int32"||rt[1].type==="int16")},_e}();e.Tile=b},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Transpose=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.perm=_e.getInts("perm",[])},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type==="float32"||_e[0].type==="float64"},b}();e.Transpose=h},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)});Object.defineProperty(e,"__esModule",{value:!0}),e.tanh=e.tan=e.sqrt=e.sinh=e.sin=e.sign=e.sigmoid=e.relu=e.reciprocal=e.not=e.neg=e.log=e.leakyRelu=e.leakyReluInitializer=e.isNan=e.floor=e.exp=e.elu=e.eluInitializer=e.cosh=e.cos=e.clip=e.clipInitializer=e.ceil=e.atanh=e.atan=e.asinh=e.asin=e.acosh=e.acos=e.abs=e.unaryOp=e.CpuUnaryOp=void 0;var _e=s(43),rt=s(1),at=function(ot){function nt(et,d,_,tt){var lt=ot.call(this,et,tt)||this;return lt.func=d,lt.attributesInitializer=_,lt}return b(nt,ot),nt.prototype.initialize=function(et){this.attributesInitializer&&(this.attributes=this.attributesInitializer(et))},nt.prototype.run=function(et,d){return[st(d[0],this.func,this.attributes,this.resultType)]},nt}(_e.UnaryOp);function st(ot,nt,et,d){var _=new rt.Tensor(ot.dims,d||ot.type);return nt(ot.data,_.data,et),_}e.CpuUnaryOp=at,e.unaryOp=st,e.abs=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.abs(ot[et])},e.acos=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.acos(ot[et])},e.acosh=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.acosh(ot[et])},e.asin=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.asin(ot[et])},e.asinh=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.asinh(ot[et])},e.atan=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.atan(ot[et])},e.atanh=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.atanh(ot[et])},e.ceil=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.ceil(ot[et])},e.clipInitializer=function(ot){return{min:ot.getFloat("min",-34028234663852886e22),max:ot.getFloat("max",34028234663852886e22)}},e.clip=function(ot,nt,et){for(var d=et.min,_=et.max,tt=0;tt<ot.length;tt++){var lt=ot[tt];nt[tt]=lt<d?d:lt>_?_:lt}},e.cos=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.cos(ot[et])},e.cosh=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.cosh(ot[et])},e.eluInitializer=function(ot){return ot.getFloat("alpha",1)},e.elu=function(ot,nt,et){for(var d=et,_=0;_<ot.length;_++){var tt=ot[_];nt[_]=tt>=0?tt:d*(Math.exp(tt)-1)}},e.exp=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.exp(ot[et])},e.floor=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.floor(ot[et])},e.isNan=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Number.isNaN(ot[et])?1:0},e.leakyReluInitializer=function(ot){return ot.getFloat("alpha",.01)},e.leakyRelu=function(ot,nt,et){for(var d=et,_=0;_<ot.length;_++){var tt=ot[_];nt[_]=tt>=0?tt:d*tt}},e.log=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.log(ot[et])},e.neg=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=-ot[et]},e.not=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=ot[et]?0:1},e.reciprocal=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=1/ot[et]},e.relu=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.max(0,ot[et])},e.sigmoid=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=1/(1+Math.exp(-ot[et]))},e.sign=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=ot[et]>0?1:ot[et]<0?-1:0},e.sin=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.sin(ot[et])},e.sinh=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.sinh(ot[et])},e.sqrt=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.sqrt(ot[et])},e.tan=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.tan(ot[et])},e.tanh=function(ot,nt){for(var et=0;et<ot.length;et++)nt[et]=Math.tanh(ot[et])}},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.UnaryOp=void 0;var h=function(){function b(_e,rt){this.typeConstraint=_e,this.resultType=rt}return b.prototype.initialize=function(_e){},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return this.typeConstraint.indexOf(_e[0].type)!==-1},b}();e.UnaryOp=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Unsqueeze=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.axes=_e.getInts("axes")},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type!=="string"},b}();e.Unsqueeze=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Upsample=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){if(this.mode=_e.getString("mode","nearest"),this.scales=_e.getFloats("scales"),this.mode!=="nearest"&&this.mode!=="linear")throw new Error("unrecognized mode: "+this.mode);if(this.mode==="linear"&&this.scales.length!==2&&this.scales.length!==4)throw new Error("only support 2-D or 4-D upsampling for linear mode");this.roi=new Array(2*this.scales.length).fill(0)},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&_e[0].dims.length===this.scales.length&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type!=="string"},b}();e.Upsample=h},function(o,e,s){(function(h,b){var _e;/*!
 * Platform.js v1.3.6
 * Copyright 2014-2020 Benjamin Tan
 * Copyright 2011-2013 John-David Dalton
 * Available under MIT license
 */(function(){var rt={function:!0,object:!0},at=rt[typeof window]&&window||this,st=rt[typeof e]&&e,ot=rt[typeof h]&&h&&!h.nodeType&&h,nt=st&&ot&&typeof b=="object"&&b;!nt||nt.global!==nt&&nt.window!==nt&&nt.self!==nt||(at=nt);var et=Math.pow(2,53)-1,d=/\bOpera/,_=Object.prototype,tt=_.hasOwnProperty,lt=_.toString;function ut(mt){return(mt=String(mt)).charAt(0).toUpperCase()+mt.slice(1)}function ct(mt){return mt=yt(mt),/^(?:webOS|i(?:OS|P))/.test(mt)?mt:ut(mt)}function ft(mt,bt){for(var $t in mt)tt.call(mt,$t)&&bt(mt[$t],$t,mt)}function dt(mt){return mt==null?ut(mt):lt.call(mt).slice(8,-1)}function ht(mt){return String(mt).replace(/([ -])(?!$)/g,"$1?")}function gt(mt,bt){var $t=null;return function(St,Pt){var _t=-1,wt=St?St.length:0;if(typeof wt=="number"&&wt>-1&&wt<=et)for(;++_t<wt;)Pt(St[_t],_t,St);else ft(St,Pt)}(mt,function(St,Pt){$t=bt($t,St,Pt,mt)}),$t}function yt(mt){return String(mt).replace(/^ +| +$/g,"")}var vt=function mt(bt){var $t=at,St=bt&&typeof bt=="object"&&dt(bt)!="String";St&&($t=bt,bt=null);var Pt=$t.navigator||{},_t=Pt.userAgent||"";bt||(bt=_t);var wt,xt,Tt,It,Ct,Rt=St?!!Pt.likeChrome:/\bChrome\b/.test(bt)&&!/internal|\n/i.test(lt.toString()),Ut=St?"Object":"ScriptBridgingProxyObject",kt=St?"Object":"Environment",jt=St&&$t.java?"JavaPackage":dt($t.java),Vt=St?"Object":"RuntimeObject",Gt=/\bJava/.test(jt)&&$t.java,Yt=Gt&&dt($t.environment)==kt,er=Gt?"a":"",nr=Gt?"b":"",Et=$t.document||{},Ot=$t.operamini||$t.opera,At=d.test(At=St&&Ot?Ot["[[Class]]"]:dt(Ot))?At:Ot=null,Nt=bt,Mt=[],Lt=null,Wt=bt==_t,Xt=Wt&&Ot&&typeof Ot.version=="function"&&Ot.version(),ar=gt([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(xr,_r){return xr||RegExp("\\b"+(_r.pattern||ht(_r))+"\\b","i").exec(bt)&&(_r.label||_r)}),Ht=function(xr){return gt(xr,function(_r,br){return _r||RegExp("\\b"+(br.pattern||ht(br))+"\\b","i").exec(bt)&&(br.label||br)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),sr=Pr([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),dr=function(xr){return gt(xr,function(_r,br,kr){return _r||(br[sr]||br[/^[a-z]+(?: +[a-z]+\b)*/i.exec(sr)]||RegExp("\\b"+ht(kr)+"(?:\\b|\\w*\\d)","i").exec(bt))&&kr})}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),ir=function(xr){return gt(xr,function(_r,br){var kr=br.pattern||ht(br);return!_r&&(_r=RegExp("\\b"+kr+"(?:/[\\d.]+|[ \\w.]*)","i").exec(bt))&&(_r=function(Ar,Ur,zr){var Vr={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return Ur&&zr&&/^Win/i.test(Ar)&&!/^Windows Phone /i.test(Ar)&&(Vr=Vr[/[\d.]+$/.exec(Ar)])&&(Ar="Windows "+Vr),Ar=String(Ar),Ur&&zr&&(Ar=Ar.replace(RegExp(Ur,"i"),zr)),Ar=ct(Ar.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(_r,kr,br.label||br)),_r})}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function Pr(xr){return gt(xr,function(_r,br){var kr=br.pattern||ht(br);return!_r&&(_r=RegExp("\\b"+kr+" *\\d+[.\\w_]*","i").exec(bt)||RegExp("\\b"+kr+" *\\w+-[\\w]*","i").exec(bt)||RegExp("\\b"+kr+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(bt))&&((_r=String(br.label&&!RegExp(kr,"i").test(br.label)?br.label:_r).split("/"))[1]&&!/[\d.]+/.test(_r[0])&&(_r[0]+=" "+_r[1]),br=br.label||br,_r=ct(_r[0].replace(RegExp(kr,"i"),br).replace(RegExp("; *(?:"+br+"[_-])?","i")," ").replace(RegExp("("+br+")[-_.]?(\\w)","i"),"$1 $2"))),_r})}function $r(xr){return gt(xr,function(_r,br){return _r||(RegExp(br+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(bt)||0)[1]||null})}if(ar&&(ar=[ar]),/\bAndroid\b/.test(ir)&&!sr&&(wt=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(bt))&&(sr=yt(wt[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),dr&&!sr?sr=Pr([dr]):dr&&sr&&(sr=sr.replace(RegExp("^("+ht(dr)+")[-_.\\s]","i"),dr+" ").replace(RegExp("^("+ht(dr)+")[-_.]?(\\w)","i"),dr+" $2")),(wt=/\bGoogle TV\b/.exec(sr))&&(sr=wt[0]),/\bSimulator\b/i.test(bt)&&(sr=(sr?sr+" ":"")+"Simulator"),Ht=="Opera Mini"&&/\bOPiOS\b/.test(bt)&&Mt.push("running in Turbo/Uncompressed mode"),Ht=="IE"&&/\blike iPhone OS\b/.test(bt)?(dr=(wt=mt(bt.replace(/like iPhone OS/,""))).manufacturer,sr=wt.product):/^iP/.test(sr)?(Ht||(Ht="Safari"),ir="iOS"+((wt=/ OS ([\d_]+)/i.exec(bt))?" "+wt[1].replace(/_/g,"."):"")):Ht=="Konqueror"&&/^Linux\b/i.test(ir)?ir="Kubuntu":dr&&dr!="Google"&&(/Chrome/.test(Ht)&&!/\bMobile Safari\b/i.test(bt)||/\bVita\b/.test(sr))||/\bAndroid\b/.test(ir)&&/^Chrome/.test(Ht)&&/\bVersion\//i.test(bt)?(Ht="Android Browser",ir=/\bAndroid\b/.test(ir)?ir:"Android"):Ht=="Silk"?(/\bMobi/i.test(bt)||(ir="Android",Mt.unshift("desktop mode")),/Accelerated *= *true/i.test(bt)&&Mt.unshift("accelerated")):Ht=="UC Browser"&&/\bUCWEB\b/.test(bt)?Mt.push("speed mode"):Ht=="PaleMoon"&&(wt=/\bFirefox\/([\d.]+)\b/.exec(bt))?Mt.push("identifying as Firefox "+wt[1]):Ht=="Firefox"&&(wt=/\b(Mobile|Tablet|TV)\b/i.exec(bt))?(ir||(ir="Firefox OS"),sr||(sr=wt[1])):!Ht||(wt=!/\bMinefield\b/i.test(bt)&&/\b(?:Firefox|Safari)\b/.exec(Ht))?(Ht&&!sr&&/[\/,]|^[^(]+?\)/.test(bt.slice(bt.indexOf(wt+"/")+8))&&(Ht=null),(wt=sr||dr||ir)&&(sr||dr||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(ir))&&(Ht=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(ir)?ir:wt)+" Browser")):Ht=="Electron"&&(wt=(/\bChrome\/([\d.]+)\b/.exec(bt)||0)[1])&&Mt.push("Chromium "+wt),Xt||(Xt=$r(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",ht(Ht),"(?:Firefox|Minefield|NetFront)"])),(wt=(ar=="iCab"&&parseFloat(Xt)>3?"WebKit":/\bOpera\b/.test(Ht)&&(/\bOPR\b/.test(bt)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(bt)&&!/^(?:Trident|EdgeHTML)$/.test(ar)&&"WebKit"||!ar&&/\bMSIE\b/i.test(bt)&&(ir=="Mac OS"?"Tasman":"Trident")||ar=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(Ht)&&"NetFront")&&(ar=[wt]),Ht=="IE"&&(wt=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(bt)||0)[1])?(Ht+=" Mobile",ir="Windows Phone "+(/\+$/.test(wt)?wt:wt+".x"),Mt.unshift("desktop mode")):/\bWPDesktop\b/i.test(bt)?(Ht="IE Mobile",ir="Windows Phone 8.x",Mt.unshift("desktop mode"),Xt||(Xt=(/\brv:([\d.]+)/.exec(bt)||0)[1])):Ht!="IE"&&ar=="Trident"&&(wt=/\brv:([\d.]+)/.exec(bt))&&(Ht&&Mt.push("identifying as "+Ht+(Xt?" "+Xt:"")),Ht="IE",Xt=wt[1]),Wt){if(It="global",Ct=(Tt=$t)!=null?typeof Tt[It]:"number",/^(?:boolean|number|string|undefined)$/.test(Ct)||Ct=="object"&&!Tt[It])dt(wt=$t.runtime)==Ut?(Ht="Adobe AIR",ir=wt.flash.system.Capabilities.os):dt(wt=$t.phantom)==Vt?(Ht="PhantomJS",Xt=(wt=wt.version||null)&&wt.major+"."+wt.minor+"."+wt.patch):typeof Et.documentMode=="number"&&(wt=/\bTrident\/(\d+)/i.exec(bt))?(Xt=[Xt,Et.documentMode],(wt=+wt[1]+4)!=Xt[1]&&(Mt.push("IE "+Xt[1]+" mode"),ar&&(ar[1]=""),Xt[1]=wt),Xt=Ht=="IE"?String(Xt[1].toFixed(1)):Xt[0]):typeof Et.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(Ht)&&(Mt.push("masking as "+Ht+" "+Xt),Ht="IE",Xt="11.0",ar=["Trident"],ir="Windows");else if(Gt&&(Nt=(wt=Gt.lang.System).getProperty("os.arch"),ir=ir||wt.getProperty("os.name")+" "+wt.getProperty("os.version")),Yt){try{Xt=$t.require("ringo/engine").version.join("."),Ht="RingoJS"}catch{(wt=$t.system)&&wt.global.system==$t.system&&(Ht="Narwhal",ir||(ir=wt[0].os||null))}Ht||(Ht="Rhino")}else typeof $t.process=="object"&&!$t.process.browser&&(wt=$t.process)&&(typeof wt.versions=="object"&&(typeof wt.versions.electron=="string"?(Mt.push("Node "+wt.versions.node),Ht="Electron",Xt=wt.versions.electron):typeof wt.versions.nw=="string"&&(Mt.push("Chromium "+Xt,"Node "+wt.versions.node),Ht="NW.js",Xt=wt.versions.nw)),Ht||(Ht="Node.js",Nt=wt.arch,ir=wt.platform,Xt=(Xt=/[\d.]+/.exec(wt.version))?Xt[0]:null));ir=ir&&ct(ir)}if(Xt&&(wt=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(Xt)||/(?:alpha|beta)(?: ?\d)?/i.exec(bt+";"+(Wt&&Pt.appMinorVersion))||/\bMinefield\b/i.test(bt)&&"a")&&(Lt=/b/i.test(wt)?"beta":"alpha",Xt=Xt.replace(RegExp(wt+"\\+?$"),"")+(Lt=="beta"?nr:er)+(/\d+\+?/.exec(wt)||"")),Ht=="Fennec"||Ht=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(ir))Ht="Firefox Mobile";else if(Ht=="Maxthon"&&Xt)Xt=Xt.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(sr))sr=="Xbox 360"&&(ir=null),sr=="Xbox 360"&&/\bIEMobile\b/.test(bt)&&Mt.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(Ht)&&(!Ht||sr||/Browser|Mobi/.test(Ht))||ir!="Windows CE"&&!/Mobi/i.test(bt))if(Ht=="IE"&&Wt)try{$t.external===null&&Mt.unshift("platform preview")}catch{Mt.unshift("embedded")}else(/\bBlackBerry\b/.test(sr)||/\bBB10\b/.test(bt))&&(wt=(RegExp(sr.replace(/ +/g," *")+"/([.\\d]+)","i").exec(bt)||0)[1]||Xt)?(ir=((wt=[wt,/BB10/.test(bt)])[1]?(sr=null,dr="BlackBerry"):"Device Software")+" "+wt[0],Xt=null):this!=ft&&sr!="Wii"&&(Wt&&Ot||/Opera/.test(Ht)&&/\b(?:MSIE|Firefox)\b/i.test(bt)||Ht=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(ir)||Ht=="IE"&&(ir&&!/^Win/.test(ir)&&Xt>5.5||/\bWindows XP\b/.test(ir)&&Xt>8||Xt==8&&!/\bTrident\b/.test(bt)))&&!d.test(wt=mt.call(ft,bt.replace(d,"")+";"))&&wt.name&&(wt="ing as "+wt.name+((wt=wt.version)?" "+wt:""),d.test(Ht)?(/\bIE\b/.test(wt)&&ir=="Mac OS"&&(ir=null),wt="identify"+wt):(wt="mask"+wt,Ht=At?ct(At.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(wt)&&(ir=null),Wt||(Xt=null)),ar=["Presto"],Mt.push(wt));else Ht+=" Mobile";(wt=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(bt)||0)[1])&&(wt=[parseFloat(wt.replace(/\.(\d)$/,".0$1")),wt],Ht=="Safari"&&wt[1].slice(-1)=="+"?(Ht="WebKit Nightly",Lt="alpha",Xt=wt[1].slice(0,-1)):Xt!=wt[1]&&Xt!=(wt[2]=(/\bSafari\/([\d.]+\+?)/i.exec(bt)||0)[1])||(Xt=null),wt[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(bt)||0)[1],wt[0]==537.36&&wt[2]==537.36&&parseFloat(wt[1])>=28&&ar=="WebKit"&&(ar=["Blink"]),Wt&&(Rt||wt[1])?(ar&&(ar[1]="like Chrome"),wt=wt[1]||((wt=wt[0])<530?1:wt<532?2:wt<532.05?3:wt<533?4:wt<534.03?5:wt<534.07?6:wt<534.1?7:wt<534.13?8:wt<534.16?9:wt<534.24?10:wt<534.3?11:wt<535.01?12:wt<535.02?"13+":wt<535.07?15:wt<535.11?16:wt<535.19?17:wt<536.05?18:wt<536.1?19:wt<537.01?20:wt<537.11?"21+":wt<537.13?23:wt<537.18?24:wt<537.24?25:wt<537.36?26:ar!="Blink"?"27":"28")):(ar&&(ar[1]="like Safari"),wt=(wt=wt[0])<400?1:wt<500?2:wt<526?3:wt<533?4:wt<534?"4+":wt<535?5:wt<537?6:wt<538?7:wt<601?8:wt<602?9:wt<604?10:wt<606?11:wt<608?12:"12"),ar&&(ar[1]+=" "+(wt+=typeof wt=="number"?".x":/[.+]/.test(wt)?"":"+")),Ht=="Safari"&&(!Xt||parseInt(Xt)>45)?Xt=wt:Ht=="Chrome"&&/\bHeadlessChrome/i.test(bt)&&Mt.unshift("headless")),Ht=="Opera"&&(wt=/\bzbov|zvav$/.exec(ir))?(Ht+=" ",Mt.unshift("desktop mode"),wt=="zvav"?(Ht+="Mini",Xt=null):Ht+="Mobile",ir=ir.replace(RegExp(" *"+wt+"$"),"")):Ht=="Safari"&&/\bChrome\b/.exec(ar&&ar[1])?(Mt.unshift("desktop mode"),Ht="Chrome Mobile",Xt=null,/\bOS X\b/.test(ir)?(dr="Apple",ir="iOS 4.3+"):ir=null):/\bSRWare Iron\b/.test(Ht)&&!Xt&&(Xt=$r("Chrome")),Xt&&Xt.indexOf(wt=/[\d.]+$/.exec(ir))==0&&bt.indexOf("/"+wt+"-")>-1&&(ir=yt(ir.replace(wt,""))),ir&&ir.indexOf(Ht)!=-1&&!RegExp(Ht+" OS").test(ir)&&(ir=ir.replace(RegExp(" *"+ht(Ht)+" *"),"")),ar&&!/\b(?:Avant|Nook)\b/.test(Ht)&&(/Browser|Lunascape|Maxthon/.test(Ht)||Ht!="Safari"&&/^iOS/.test(ir)&&/\bSafari\b/.test(ar[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(Ht)&&ar[1])&&(wt=ar[ar.length-1])&&Mt.push(wt),Mt.length&&(Mt=["("+Mt.join("; ")+")"]),dr&&sr&&sr.indexOf(dr)<0&&Mt.push("on "+dr),sr&&Mt.push((/^on /.test(Mt[Mt.length-1])?"":"on ")+sr),ir&&(wt=/ ([\d.+]+)$/.exec(ir),xt=wt&&ir.charAt(ir.length-wt[0].length-1)=="/",ir={architecture:32,family:wt&&!xt?ir.replace(wt[0],""):ir,version:wt?wt[1]:null,toString:function(){var xr=this.version;return this.family+(xr&&!xt?" "+xr:"")+(this.architecture==64?" 64-bit":"")}}),(wt=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(Nt))&&!/\bi686\b/i.test(Nt)?(ir&&(ir.architecture=64,ir.family=ir.family.replace(RegExp(" *"+wt),"")),Ht&&(/\bWOW64\b/i.test(bt)||Wt&&/\w(?:86|32)$/.test(Pt.cpuClass||Pt.platform)&&!/\bWin64; x64\b/i.test(bt))&&Mt.unshift("32-bit")):ir&&/^OS X/.test(ir.family)&&Ht=="Chrome"&&parseFloat(Xt)>=39&&(ir.architecture=64),bt||(bt=null);var wr={};return wr.description=bt,wr.layout=ar&&ar[0],wr.manufacturer=dr,wr.name=Ht,wr.prerelease=Lt,wr.product=sr,wr.ua=bt,wr.version=Ht&&Xt,wr.os=ir||{architecture:null,family:null,version:null,toString:function(){return"null"}},wr.parse=mt,wr.toString=function(){return this.description||""},wr.version&&Mt.unshift(Xt),wr.name&&Mt.unshift(Ht),ir&&Ht&&(ir!=String(ir).split(" ")[0]||ir!=Ht.split(" ")[0]&&!sr)&&Mt.push(sr?"("+ir+")":"on "+ir),Mt.length&&(wr.description=Mt.join(" ")),wr}();at.platform=vt,(_e=(function(){return vt}).call(e,s,e,h))===void 0||(h.exports=_e)}).call(this)}).call(this,s(102)(o),s(8))},function(o,e,s){(function(h){function b(at,st){for(var ot=0,nt=at.length-1;nt>=0;nt--){var et=at[nt];et==="."?at.splice(nt,1):et===".."?(at.splice(nt,1),ot++):ot&&(at.splice(nt,1),ot--)}if(st)for(;ot--;ot)at.unshift("..");return at}function _e(at,st){if(at.filter)return at.filter(st);for(var ot=[],nt=0;nt<at.length;nt++)st(at[nt],nt,at)&&ot.push(at[nt]);return ot}e.resolve=function(){for(var at="",st=!1,ot=arguments.length-1;ot>=-1&&!st;ot--){var nt=ot>=0?arguments[ot]:h.cwd();if(typeof nt!="string")throw new TypeError("Arguments to path.resolve must be strings");nt&&(at=nt+"/"+at,st=nt.charAt(0)==="/")}return(st?"/":"")+(at=b(_e(at.split("/"),function(et){return!!et}),!st).join("/"))||"."},e.normalize=function(at){var st=e.isAbsolute(at),ot=rt(at,-1)==="/";return(at=b(_e(at.split("/"),function(nt){return!!nt}),!st).join("/"))||st||(at="."),at&&ot&&(at+="/"),(st?"/":"")+at},e.isAbsolute=function(at){return at.charAt(0)==="/"},e.join=function(){var at=Array.prototype.slice.call(arguments,0);return e.normalize(_e(at,function(st,ot){if(typeof st!="string")throw new TypeError("Arguments to path.join must be strings");return st}).join("/"))},e.relative=function(at,st){function ot(ut){for(var ct=0;ct<ut.length&&ut[ct]==="";ct++);for(var ft=ut.length-1;ft>=0&&ut[ft]==="";ft--);return ct>ft?[]:ut.slice(ct,ft-ct+1)}at=e.resolve(at).substr(1),st=e.resolve(st).substr(1);for(var nt=ot(at.split("/")),et=ot(st.split("/")),d=Math.min(nt.length,et.length),_=d,tt=0;tt<d;tt++)if(nt[tt]!==et[tt]){_=tt;break}var lt=[];for(tt=_;tt<nt.length;tt++)lt.push("..");return(lt=lt.concat(et.slice(_))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(at){if(typeof at!="string"&&(at+=""),at.length===0)return".";for(var st=at.charCodeAt(0),ot=st===47,nt=-1,et=!0,d=at.length-1;d>=1;--d)if((st=at.charCodeAt(d))===47){if(!et){nt=d;break}}else et=!1;return nt===-1?ot?"/":".":ot&&nt===1?"/":at.slice(0,nt)},e.basename=function(at,st){var ot=function(nt){typeof nt!="string"&&(nt+="");var et,d=0,_=-1,tt=!0;for(et=nt.length-1;et>=0;--et)if(nt.charCodeAt(et)===47){if(!tt){d=et+1;break}}else _===-1&&(tt=!1,_=et+1);return _===-1?"":nt.slice(d,_)}(at);return st&&ot.substr(-1*st.length)===st&&(ot=ot.substr(0,ot.length-st.length)),ot},e.extname=function(at){typeof at!="string"&&(at+="");for(var st=-1,ot=0,nt=-1,et=!0,d=0,_=at.length-1;_>=0;--_){var tt=at.charCodeAt(_);if(tt!==47)nt===-1&&(et=!1,nt=_+1),tt===46?st===-1?st=_:d!==1&&(d=1):st!==-1&&(d=-1);else if(!et){ot=_+1;break}}return st===-1||nt===-1||d===0||d===1&&st===nt-1&&st===ot+1?"":at.slice(st,nt)};var rt="ab".substr(-1)==="b"?function(at,st,ot){return at.substr(st,ot)}:function(at,st,ot){return st<0&&(st=at.length+st),at.substr(st,ot)}}).call(this,s(24))},function(o,e){},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Clip=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.min=_e.getFloat("min",-34028234663852886e22),this.max=_e.getFloat("max",34028234663852886e22)},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type==="float32"||_e[0].type==="float64"},b}();e.Clip=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.getPackedShape=void 0,e.getPackedShape=function(h){var b=h.length;return h.slice(0,b-1).concat(h[b-1]/4)}},function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(et,d,_,tt){tt===void 0&&(tt=_),Object.defineProperty(et,tt,{enumerable:!0,get:function(){return d[_]}})}:function(et,d,_,tt){tt===void 0&&(tt=_),et[tt]=d[_]}),b=this&&this.__setModuleDefault||(Object.create?function(et,d){Object.defineProperty(et,"default",{enumerable:!0,value:d})}:function(et,d){et.default=d}),_e=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var d={};if(et!=null)for(var _ in et)_!=="default"&&Object.hasOwnProperty.call(et,_)&&h(d,et,_);return b(d,et),d},rt=this&&this.__read||function(et,d){var _=typeof Symbol=="function"&&et[Symbol.iterator];if(!_)return et;var tt,lt,ut=_.call(et),ct=[];try{for(;(d===void 0||d-- >0)&&!(tt=ut.next()).done;)ct.push(tt.value)}catch(ft){lt={error:ft}}finally{try{tt&&!tt.done&&(_=ut.return)&&_.call(ut)}finally{if(lt)throw lt.error}}return ct},at=this&&this.__spread||function(){for(var et=[],d=0;d<arguments.length;d++)et=et.concat(rt(arguments[d]));return et};Object.defineProperty(e,"__esModule",{value:!0}),e.Tensor=void 0;var st=s(1),ot=_e(s(52)),nt=function(){function et(d,_,tt){var lt=tt||[d.length];if(d.length===0)throw new RangeError("Tensor data should contain at least one element.");Array.isArray(d)&&_!=="string"?_==="float32"?this.data=Float32Array.from(d):_==="bool"?this.data=new Uint8Array(d):_==="int32"&&(this.data=Int32Array.from(d)):this.data=d,this.dims=lt,this.type=_,this.internalTensor=new st.Tensor(this.dims,this.type,void 0,void 0,this.data),this.size=this.internalTensor.size}return et.prototype.get=function(d){for(var _=this,tt=[],lt=1;lt<arguments.length;lt++)tt[lt-1]=arguments[lt];var ut=[];if(typeof d=="number")ut=at([d],tt);else{if(!d)throw new Error("Input index array is undefined. ");ut=d}if(ot.validateIndices(ut),ut.length!==this.dims.length)throw new RangeError("Input index array dims don't match the tensor dims.");ut.forEach(function(ft,dt){if(ft>=_.dims[dt])throw new RangeError("Input index array dims don't match the tensor dims.")});var ct=this.internalTensor.get(ut);return this.type==="bool"?ct===1:ct},et.prototype.set=function(d,_){for(var tt=this,lt=[],ut=2;ut<arguments.length;ut++)lt[ut-2]=arguments[ut];ot.matchElementType(this.type,d);var ct=[];if(typeof _=="number")ct=at([_],lt);else{if(!_)throw new Error("Input index array is undefined.");ct=_}if(ot.validateIndices(ct),ct.length!==this.dims.length)throw new RangeError("Input index array dims don't match the tensor dims.");ct.forEach(function(ft,dt){if(ft>=tt.dims[dt])throw new RangeError("Input index array dims don't match the tensor dims.")}),typeof d=="boolean"?this.internalTensor.set(ct,d?1:0):this.internalTensor.set(ct,d)},et}();e.Tensor=nt},function(o,e,s){var h=this&&this.__values||function(rt){var at=typeof Symbol=="function"&&Symbol.iterator,st=at&&rt[at],ot=0;if(st)return st.call(rt);if(rt&&typeof rt.length=="number")return{next:function(){return rt&&ot>=rt.length&&(rt=void 0),{value:rt&&rt[ot++],done:!rt}}};throw new TypeError(at?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.validateIndices=e.matchElementType=e.toInternalTensor=e.fromInternalTensor=void 0;var b=s(1),_e=s(51);e.fromInternalTensor=function(rt){switch(rt.type){case"bool":return new _e.Tensor(new Uint8Array(rt.integerData),"bool",rt.dims);case"float32":return new _e.Tensor(rt.floatData,"float32",rt.dims);case"float64":return new _e.Tensor(new Float32Array(rt.floatData),"float32",rt.dims);case"string":return new _e.Tensor(rt.stringData,"string",rt.dims);case"int8":return new _e.Tensor(new Int32Array(rt.integerData),"int32",rt.dims);case"int32":return new _e.Tensor(rt.integerData,"int32",rt.dims);default:throw new TypeError("Tensor type is not supported. ")}},e.toInternalTensor=function(rt){return new b.Tensor(rt.dims,rt.type,void 0,void 0,rt.data)},e.matchElementType=function(rt,at){switch(typeof at){case"string":if(rt!=="string")throw new TypeError("The new element type doesn't match the tensor data type.");break;case"number":if(rt!=="float32"&&rt!=="int32")throw new TypeError("The new element type doesn't match the tensor data type.");if(rt==="float32"&&Number.isInteger(at))throw new TypeError("The new element type doesn't match the tensor data type.");if(rt==="int32"&&!Number.isInteger(at))throw new TypeError("The new element type doesn't match the tensor data type.");break;case"boolean":if(rt!=="bool")throw new TypeError("The new element type doesn't match the tensor data type.");break;default:throw new TypeError("The new element type is not supported.")}},e.validateIndices=function(rt){var at,st;if(rt.length<0||rt.length>6)throw new RangeError("Only rank 0 to 6 is supported for tensor shape.");try{for(var ot=h(rt),nt=ot.next();!nt.done;nt=ot.next()){var et=nt.value;if(!Number.isInteger(et))throw new TypeError("Invalid index: "+et+" is not an integer");if(et<0||et>2147483647)throw new TypeError("Invalid index: length "+et+" is not allowed")}}catch(d){at={error:d}}finally{try{nt&&!nt.done&&(st=ot.return)&&st.call(ot)}finally{if(at)throw at.error}}}},function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(ot,nt,et,d){d===void 0&&(d=et),Object.defineProperty(ot,d,{enumerable:!0,get:function(){return nt[et]}})}:function(ot,nt,et,d){d===void 0&&(d=et),ot[d]=nt[et]}),b=this&&this.__exportStar||function(ot,nt){for(var et in ot)et==="default"||nt.hasOwnProperty(et)||h(nt,ot,et)};Object.defineProperty(e,"__esModule",{value:!0}),e.ENV=e.backend=void 0;var _e=s(54),rt=s(101),at=s(119),st=s(168);b(s(169),e),b(s(170),e),b(s(171),e),b(s(172),e),e.backend={cpu:new _e.CpuBackend,wasm:new rt.WasmBackend,webgl:new at.WebGLBackend},e.ENV=st.envImpl},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.CpuBackend=void 0;var h=s(55),b=function(){function _e(){}return _e.prototype.initialize=function(){return!0},_e.prototype.createSessionHandler=function(rt){return new h.CpuSessionHandler(this,rt)},_e.prototype.dispose=function(){},_e}();e.CpuBackend=b},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.CpuSessionHandler=void 0;var h=s(11),b=s(56),_e=s(27),rt=function(){function at(st,ot){this.backend=st,this.context=ot}return at.prototype.createInferenceHandler=function(){return new b.CpuInferenceHandler(this,this.context.profiler)},at.prototype.dispose=function(){},at.prototype.resolve=function(st,ot){var nt=h.resolveOperator(st,ot,_e.CPU_OP_RESOLVE_RULES);return nt.initialize(st.attributes),nt},at}();e.CpuSessionHandler=rt},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.CpuInferenceHandler=void 0;var h=function(){function b(_e,rt){this.session=_e,this.profiler=rt}return b.prototype.dispose=function(){},b}();e.CpuInferenceHandler=h},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.argMax=e.CpuArgMax=void 0;var _e=s(58),rt=s(1),at=s(0),st=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.run=function(d,_){return[ot(_[0],this.axis,this.keepDims)]},et}(_e.ArgMax);function ot(nt,et,d){var _=nt.dims?nt.dims.length:1;et=at.ShapeUtil.normalizeAxis(et,_);for(var tt=at.ReduceUtil.calcReduceShape(nt.dims,[et],!0),lt=nt.data,ut=new Int32Array(at.ShapeUtil.size(tt)),ct=at.ShapeUtil.sizeFromDimension(nt.dims,et+1),ft=at.ShapeUtil.computeStrides(tt),dt=at.ShapeUtil.computeStrides(nt.dims),ht=new Array(nt.dims.length),gt=0;gt<ut.length;gt++){var yt=at.ShapeUtil.offsetToIndices(gt,ft);at.BroadcastUtil.fillIndex(yt,nt.dims,ht);for(var vt=at.ShapeUtil.indicesToOffset(ht,dt),mt=nt.data[vt],bt=0,$t=0;$t<nt.dims[et];++$t){var St=lt[vt+$t*ct];St>mt&&(mt=St,bt=$t)}ut[gt]=bt}return new rt.Tensor(d?tt:at.ReduceUtil.calcReduceShape(nt.dims,[et],d),"int32",void 0,void 0,ut)}e.CpuArgMax=st,e.argMax=ot},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.ArgMax=void 0;var h=s(7),b=function(){function _e(){}return _e.prototype.initialize=function(rt){this.axis=rt.getInt("axis",0),this.keepDims=rt.getInt("keepdims",1)===1},_e.prototype.checkInputs=function(rt){return!(!rt||rt.length!==1)&&this.checkInputTypes(rt)},_e.prototype.checkInputTypes=function(rt){return h.NUMBER_TYPES.indexOf(rt[0].type)!==-1},_e}();e.ArgMax=b},function(o,e,s){e.byteLength=function(et){var d=ot(et),_=d[0],tt=d[1];return 3*(_+tt)/4-tt},e.toByteArray=function(et){var d,_,tt=ot(et),lt=tt[0],ut=tt[1],ct=new _e(function(ht,gt,yt){return 3*(gt+yt)/4-yt}(0,lt,ut)),ft=0,dt=ut>0?lt-4:lt;for(_=0;_<dt;_+=4)d=b[et.charCodeAt(_)]<<18|b[et.charCodeAt(_+1)]<<12|b[et.charCodeAt(_+2)]<<6|b[et.charCodeAt(_+3)],ct[ft++]=d>>16&255,ct[ft++]=d>>8&255,ct[ft++]=255&d;return ut===2&&(d=b[et.charCodeAt(_)]<<2|b[et.charCodeAt(_+1)]>>4,ct[ft++]=255&d),ut===1&&(d=b[et.charCodeAt(_)]<<10|b[et.charCodeAt(_+1)]<<4|b[et.charCodeAt(_+2)]>>2,ct[ft++]=d>>8&255,ct[ft++]=255&d),ct},e.fromByteArray=function(et){for(var d,_=et.length,tt=_%3,lt=[],ut=0,ct=_-tt;ut<ct;ut+=16383)lt.push(nt(et,ut,ut+16383>ct?ct:ut+16383));return tt===1?(d=et[_-1],lt.push(h[d>>2]+h[d<<4&63]+"==")):tt===2&&(d=(et[_-2]<<8)+et[_-1],lt.push(h[d>>10]+h[d>>4&63]+h[d<<2&63]+"=")),lt.join("")};for(var h=[],b=[],_e=typeof Uint8Array<"u"?Uint8Array:Array,rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",at=0,st=rt.length;at<st;++at)h[at]=rt[at],b[rt.charCodeAt(at)]=at;function ot(et){var d=et.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=et.indexOf("=");return _===-1&&(_=d),[_,_===d?0:4-_%4]}function nt(et,d,_){for(var tt,lt,ut=[],ct=d;ct<_;ct+=3)tt=(et[ct]<<16&16711680)+(et[ct+1]<<8&65280)+(255&et[ct+2]),ut.push(h[(lt=tt)>>18&63]+h[lt>>12&63]+h[lt>>6&63]+h[63&lt]);return ut.join("")}b[45]=62,b[95]=63},function(o,e){e.read=function(s,h,b,_e,rt){var at,st,ot=8*rt-_e-1,nt=(1<<ot)-1,et=nt>>1,d=-7,_=b?rt-1:0,tt=b?-1:1,lt=s[h+_];for(_+=tt,at=lt&(1<<-d)-1,lt>>=-d,d+=ot;d>0;at=256*at+s[h+_],_+=tt,d-=8);for(st=at&(1<<-d)-1,at>>=-d,d+=_e;d>0;st=256*st+s[h+_],_+=tt,d-=8);if(at===0)at=1-et;else{if(at===nt)return st?NaN:1/0*(lt?-1:1);st+=Math.pow(2,_e),at-=et}return(lt?-1:1)*st*Math.pow(2,at-_e)},e.write=function(s,h,b,_e,rt,at){var st,ot,nt,et=8*at-rt-1,d=(1<<et)-1,_=d>>1,tt=rt===23?Math.pow(2,-24)-Math.pow(2,-77):0,lt=_e?0:at-1,ut=_e?1:-1,ct=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(ot=isNaN(h)?1:0,st=d):(st=Math.floor(Math.log(h)/Math.LN2),h*(nt=Math.pow(2,-st))<1&&(st--,nt*=2),(h+=st+_>=1?tt/nt:tt*Math.pow(2,1-_))*nt>=2&&(st++,nt/=2),st+_>=d?(ot=0,st=d):st+_>=1?(ot=(h*nt-1)*Math.pow(2,rt),st+=_):(ot=h*Math.pow(2,_-1)*Math.pow(2,rt),st=0));rt>=8;s[b+lt]=255&ot,lt+=ut,ot/=256,rt-=8);for(st=st<<rt|ot,et+=rt;et>0;s[b+lt]=255&st,lt+=ut,st/=256,et-=8);s[b+lt-ut]|=128*ct}},function(o,e){var s={}.toString;o.exports=Array.isArray||function(h){return s.call(h)=="[object Array]"}},function(o,e,s){o.exports=s(63)},function(o,e,s){var h=e;function b(){h.util._configure(),h.Writer._configure(h.BufferWriter),h.Reader._configure(h.BufferReader)}h.build="minimal",h.Writer=s(28),h.BufferWriter=s(72),h.Reader=s(29),h.BufferReader=s(73),h.util=s(6),h.rpc=s(74),h.roots=s(76),h.configure=b,b()},function(o,e,s){o.exports=function(h,b){for(var _e=new Array(arguments.length-1),rt=0,at=2,st=!0;at<arguments.length;)_e[rt++]=arguments[at++];return new Promise(function(ot,nt){_e[rt]=function(et){if(st)if(st=!1,et)nt(et);else{for(var d=new Array(arguments.length-1),_=0;_<d.length;)d[_++]=arguments[_];ot.apply(null,d)}};try{h.apply(b||null,_e)}catch(et){st&&(st=!1,nt(et))}})}},function(o,e,s){var h=e;h.length=function(at){var st=at.length;if(!st)return 0;for(var ot=0;--st%4>1&&at.charAt(st)==="=";)++ot;return Math.ceil(3*at.length)/4-ot};for(var b=new Array(64),_e=new Array(123),rt=0;rt<64;)_e[b[rt]=rt<26?rt+65:rt<52?rt+71:rt<62?rt-4:rt-59|43]=rt++;h.encode=function(at,st,ot){for(var nt,et=null,d=[],_=0,tt=0;st<ot;){var lt=at[st++];switch(tt){case 0:d[_++]=b[lt>>2],nt=(3&lt)<<4,tt=1;break;case 1:d[_++]=b[nt|lt>>4],nt=(15&lt)<<2,tt=2;break;case 2:d[_++]=b[nt|lt>>6],d[_++]=b[63&lt],tt=0}_>8191&&((et||(et=[])).push(String.fromCharCode.apply(String,d)),_=0)}return tt&&(d[_++]=b[nt],d[_++]=61,tt===1&&(d[_++]=61)),et?(_&&et.push(String.fromCharCode.apply(String,d.slice(0,_))),et.join("")):String.fromCharCode.apply(String,d.slice(0,_))},h.decode=function(at,st,ot){for(var nt,et=ot,d=0,_=0;_<at.length;){var tt=at.charCodeAt(_++);if(tt===61&&d>1)break;if((tt=_e[tt])===void 0)throw Error("invalid encoding");switch(d){case 0:nt=tt,d=1;break;case 1:st[ot++]=nt<<2|(48&tt)>>4,nt=tt,d=2;break;case 2:st[ot++]=(15&nt)<<4|(60&tt)>>2,nt=tt,d=3;break;case 3:st[ot++]=(3&nt)<<6|tt,d=0}}if(d===1)throw Error("invalid encoding");return ot-et},h.test=function(at){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(at)}},function(o,e,s){function h(){this._listeners={}}o.exports=h,h.prototype.on=function(b,_e,rt){return(this._listeners[b]||(this._listeners[b]=[])).push({fn:_e,ctx:rt||this}),this},h.prototype.off=function(b,_e){if(b===void 0)this._listeners={};else if(_e===void 0)this._listeners[b]=[];else for(var rt=this._listeners[b],at=0;at<rt.length;)rt[at].fn===_e?rt.splice(at,1):++at;return this},h.prototype.emit=function(b){var _e=this._listeners[b];if(_e){for(var rt=[],at=1;at<arguments.length;)rt.push(arguments[at++]);for(at=0;at<_e.length;)_e[at].fn.apply(_e[at++].ctx,rt)}return this}},function(o,e,s){function h(st){return typeof Float32Array<"u"?function(){var ot=new Float32Array([-0]),nt=new Uint8Array(ot.buffer),et=nt[3]===128;function d(ut,ct,ft){ot[0]=ut,ct[ft]=nt[0],ct[ft+1]=nt[1],ct[ft+2]=nt[2],ct[ft+3]=nt[3]}function _(ut,ct,ft){ot[0]=ut,ct[ft]=nt[3],ct[ft+1]=nt[2],ct[ft+2]=nt[1],ct[ft+3]=nt[0]}function tt(ut,ct){return nt[0]=ut[ct],nt[1]=ut[ct+1],nt[2]=ut[ct+2],nt[3]=ut[ct+3],ot[0]}function lt(ut,ct){return nt[3]=ut[ct],nt[2]=ut[ct+1],nt[1]=ut[ct+2],nt[0]=ut[ct+3],ot[0]}st.writeFloatLE=et?d:_,st.writeFloatBE=et?_:d,st.readFloatLE=et?tt:lt,st.readFloatBE=et?lt:tt}():function(){function ot(et,d,_,tt){var lt=d<0?1:0;if(lt&&(d=-d),d===0)et(1/d>0?0:2147483648,_,tt);else if(isNaN(d))et(2143289344,_,tt);else if(d>34028234663852886e22)et((lt<<31|2139095040)>>>0,_,tt);else if(d<11754943508222875e-54)et((lt<<31|Math.round(d/1401298464324817e-60))>>>0,_,tt);else{var ut=Math.floor(Math.log(d)/Math.LN2);et((lt<<31|ut+127<<23|8388607&Math.round(d*Math.pow(2,-ut)*8388608))>>>0,_,tt)}}function nt(et,d,_){var tt=et(d,_),lt=2*(tt>>31)+1,ut=tt>>>23&255,ct=8388607&tt;return ut===255?ct?NaN:lt*(1/0):ut===0?1401298464324817e-60*lt*ct:lt*Math.pow(2,ut-150)*(ct+8388608)}st.writeFloatLE=ot.bind(null,b),st.writeFloatBE=ot.bind(null,_e),st.readFloatLE=nt.bind(null,rt),st.readFloatBE=nt.bind(null,at)}(),typeof Float64Array<"u"?function(){var ot=new Float64Array([-0]),nt=new Uint8Array(ot.buffer),et=nt[7]===128;function d(ut,ct,ft){ot[0]=ut,ct[ft]=nt[0],ct[ft+1]=nt[1],ct[ft+2]=nt[2],ct[ft+3]=nt[3],ct[ft+4]=nt[4],ct[ft+5]=nt[5],ct[ft+6]=nt[6],ct[ft+7]=nt[7]}function _(ut,ct,ft){ot[0]=ut,ct[ft]=nt[7],ct[ft+1]=nt[6],ct[ft+2]=nt[5],ct[ft+3]=nt[4],ct[ft+4]=nt[3],ct[ft+5]=nt[2],ct[ft+6]=nt[1],ct[ft+7]=nt[0]}function tt(ut,ct){return nt[0]=ut[ct],nt[1]=ut[ct+1],nt[2]=ut[ct+2],nt[3]=ut[ct+3],nt[4]=ut[ct+4],nt[5]=ut[ct+5],nt[6]=ut[ct+6],nt[7]=ut[ct+7],ot[0]}function lt(ut,ct){return nt[7]=ut[ct],nt[6]=ut[ct+1],nt[5]=ut[ct+2],nt[4]=ut[ct+3],nt[3]=ut[ct+4],nt[2]=ut[ct+5],nt[1]=ut[ct+6],nt[0]=ut[ct+7],ot[0]}st.writeDoubleLE=et?d:_,st.writeDoubleBE=et?_:d,st.readDoubleLE=et?tt:lt,st.readDoubleBE=et?lt:tt}():function(){function ot(et,d,_,tt,lt,ut){var ct=tt<0?1:0;if(ct&&(tt=-tt),tt===0)et(0,lt,ut+d),et(1/tt>0?0:2147483648,lt,ut+_);else if(isNaN(tt))et(0,lt,ut+d),et(2146959360,lt,ut+_);else if(tt>17976931348623157e292)et(0,lt,ut+d),et((ct<<31|2146435072)>>>0,lt,ut+_);else{var ft;if(tt<22250738585072014e-324)et((ft=tt/5e-324)>>>0,lt,ut+d),et((ct<<31|ft/4294967296)>>>0,lt,ut+_);else{var dt=Math.floor(Math.log(tt)/Math.LN2);dt===1024&&(dt=1023),et(4503599627370496*(ft=tt*Math.pow(2,-dt))>>>0,lt,ut+d),et((ct<<31|dt+1023<<20|1048576*ft&1048575)>>>0,lt,ut+_)}}}function nt(et,d,_,tt,lt){var ut=et(tt,lt+d),ct=et(tt,lt+_),ft=2*(ct>>31)+1,dt=ct>>>20&2047,ht=4294967296*(1048575&ct)+ut;return dt===2047?ht?NaN:ft*(1/0):dt===0?5e-324*ft*ht:ft*Math.pow(2,dt-1075)*(ht+4503599627370496)}st.writeDoubleLE=ot.bind(null,b,0,4),st.writeDoubleBE=ot.bind(null,_e,4,0),st.readDoubleLE=nt.bind(null,rt,0,4),st.readDoubleBE=nt.bind(null,at,4,0)}(),st}function b(st,ot,nt){ot[nt]=255&st,ot[nt+1]=st>>>8&255,ot[nt+2]=st>>>16&255,ot[nt+3]=st>>>24}function _e(st,ot,nt){ot[nt]=st>>>24,ot[nt+1]=st>>>16&255,ot[nt+2]=st>>>8&255,ot[nt+3]=255&st}function rt(st,ot){return(st[ot]|st[ot+1]<<8|st[ot+2]<<16|st[ot+3]<<24)>>>0}function at(st,ot){return(st[ot]<<24|st[ot+1]<<16|st[ot+2]<<8|st[ot+3])>>>0}o.exports=h(h)},function(module,exports,__webpack_require__){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}module.exports=inquire},function(o,e,s){var h=e;h.length=function(b){for(var _e=0,rt=0,at=0;at<b.length;++at)(rt=b.charCodeAt(at))<128?_e+=1:rt<2048?_e+=2:(64512&rt)==55296&&(64512&b.charCodeAt(at+1))==56320?(++at,_e+=4):_e+=3;return _e},h.read=function(b,_e,rt){if(rt-_e<1)return"";for(var at,st=null,ot=[],nt=0;_e<rt;)(at=b[_e++])<128?ot[nt++]=at:at>191&&at<224?ot[nt++]=(31&at)<<6|63&b[_e++]:at>239&&at<365?(at=((7&at)<<18|(63&b[_e++])<<12|(63&b[_e++])<<6|63&b[_e++])-65536,ot[nt++]=55296+(at>>10),ot[nt++]=56320+(1023&at)):ot[nt++]=(15&at)<<12|(63&b[_e++])<<6|63&b[_e++],nt>8191&&((st||(st=[])).push(String.fromCharCode.apply(String,ot)),nt=0);return st?(nt&&st.push(String.fromCharCode.apply(String,ot.slice(0,nt))),st.join("")):String.fromCharCode.apply(String,ot.slice(0,nt))},h.write=function(b,_e,rt){for(var at,st,ot=rt,nt=0;nt<b.length;++nt)(at=b.charCodeAt(nt))<128?_e[rt++]=at:at<2048?(_e[rt++]=at>>6|192,_e[rt++]=63&at|128):(64512&at)==55296&&(64512&(st=b.charCodeAt(nt+1)))==56320?(at=65536+((1023&at)<<10)+(1023&st),++nt,_e[rt++]=at>>18|240,_e[rt++]=at>>12&63|128,_e[rt++]=at>>6&63|128,_e[rt++]=63&at|128):(_e[rt++]=at>>12|224,_e[rt++]=at>>6&63|128,_e[rt++]=63&at|128);return rt-ot}},function(o,e,s){o.exports=function(h,b,_e){var rt=_e||8192,at=rt>>>1,st=null,ot=rt;return function(nt){if(nt<1||nt>at)return h(nt);ot+nt>rt&&(st=h(rt),ot=0);var et=b.call(st,ot,ot+=nt);return 7&ot&&(ot=1+(7|ot)),et}}},function(o,e,s){o.exports=b;var h=s(6);function b(st,ot){this.lo=st>>>0,this.hi=ot>>>0}var _e=b.zero=new b(0,0);_e.toNumber=function(){return 0},_e.zzEncode=_e.zzDecode=function(){return this},_e.length=function(){return 1};var rt=b.zeroHash="\0\0\0\0\0\0\0\0";b.fromNumber=function(st){if(st===0)return _e;var ot=st<0;ot&&(st=-st);var nt=st>>>0,et=(st-nt)/4294967296>>>0;return ot&&(et=~et>>>0,nt=~nt>>>0,++nt>4294967295&&(nt=0,++et>4294967295&&(et=0))),new b(nt,et)},b.from=function(st){if(typeof st=="number")return b.fromNumber(st);if(h.isString(st)){if(!h.Long)return b.fromNumber(parseInt(st,10));st=h.Long.fromString(st)}return st.low||st.high?new b(st.low>>>0,st.high>>>0):_e},b.prototype.toNumber=function(st){if(!st&&this.hi>>>31){var ot=1+~this.lo>>>0,nt=~this.hi>>>0;return ot||(nt=nt+1>>>0),-(ot+4294967296*nt)}return this.lo+4294967296*this.hi},b.prototype.toLong=function(st){return h.Long?new h.Long(0|this.lo,0|this.hi,!!st):{low:0|this.lo,high:0|this.hi,unsigned:!!st}};var at=String.prototype.charCodeAt;b.fromHash=function(st){return st===rt?_e:new b((at.call(st,0)|at.call(st,1)<<8|at.call(st,2)<<16|at.call(st,3)<<24)>>>0,(at.call(st,4)|at.call(st,5)<<8|at.call(st,6)<<16|at.call(st,7)<<24)>>>0)},b.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},b.prototype.zzEncode=function(){var st=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^st)>>>0,this.lo=(this.lo<<1^st)>>>0,this},b.prototype.zzDecode=function(){var st=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^st)>>>0,this.hi=(this.hi>>>1^st)>>>0,this},b.prototype.length=function(){var st=this.lo,ot=(this.lo>>>28|this.hi<<4)>>>0,nt=this.hi>>>24;return nt===0?ot===0?st<16384?st<128?1:2:st<2097152?3:4:ot<16384?ot<128?5:6:ot<2097152?7:8:nt<128?9:10}},function(o,e,s){o.exports=_e;var h=s(28);(_e.prototype=Object.create(h.prototype)).constructor=_e;var b=s(6);function _e(){h.call(this)}function rt(at,st,ot){at.length<40?b.utf8.write(at,st,ot):st.utf8Write?st.utf8Write(at,ot):st.write(at,ot)}_e._configure=function(){_e.alloc=b._Buffer_allocUnsafe,_e.writeBytesBuffer=b.Buffer&&b.Buffer.prototype instanceof Uint8Array&&b.Buffer.prototype.set.name==="set"?function(at,st,ot){st.set(at,ot)}:function(at,st,ot){if(at.copy)at.copy(st,ot,0,at.length);else for(var nt=0;nt<at.length;)st[ot++]=at[nt++]}},_e.prototype.bytes=function(at){b.isString(at)&&(at=b._Buffer_from(at,"base64"));var st=at.length>>>0;return this.uint32(st),st&&this._push(_e.writeBytesBuffer,st,at),this},_e.prototype.string=function(at){var st=b.Buffer.byteLength(at);return this.uint32(st),st&&this._push(rt,st,at),this},_e._configure()},function(o,e,s){o.exports=_e;var h=s(29);(_e.prototype=Object.create(h.prototype)).constructor=_e;var b=s(6);function _e(rt){h.call(this,rt)}_e._configure=function(){b.Buffer&&(_e.prototype._slice=b.Buffer.prototype.slice)},_e.prototype.string=function(){var rt=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+rt,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+rt,this.len))},_e._configure()},function(o,e,s){e.Service=s(75)},function(o,e,s){o.exports=b;var h=s(6);function b(_e,rt,at){if(typeof _e!="function")throw TypeError("rpcImpl must be a function");h.EventEmitter.call(this),this.rpcImpl=_e,this.requestDelimited=!!rt,this.responseDelimited=!!at}(b.prototype=Object.create(h.EventEmitter.prototype)).constructor=b,b.prototype.rpcCall=function _e(rt,at,st,ot,nt){if(!ot)throw TypeError("request must be specified");var et=this;if(!nt)return h.asPromise(_e,et,rt,at,st,ot);if(et.rpcImpl)try{return et.rpcImpl(rt,at[et.requestDelimited?"encodeDelimited":"encode"](ot).finish(),function(d,_){if(d)return et.emit("error",d,rt),nt(d);if(_!==null){if(!(_ instanceof st))try{_=st[et.responseDelimited?"decodeDelimited":"decode"](_)}catch(tt){return et.emit("error",tt,rt),nt(tt)}return et.emit("data",_,rt),nt(null,_)}et.end(!0)})}catch(d){return et.emit("error",d,rt),void setTimeout(function(){nt(d)},0)}else setTimeout(function(){nt(Error("already ended"))},0)},b.prototype.end=function(_e){return this.rpcImpl&&(_e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(o,e,s){o.exports={}},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)});Object.defineProperty(e,"__esModule",{value:!0}),e.batchNormalization=e.CpuBatchNormalization=void 0;var _e=s(14),rt=s(1),at=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){return[st(d[0],d[1],d[2],d[3],d[4],this.epsilon,this.momentum,this.spatial)]},nt}(_e.BatchNormalization);function st(ot,nt,et,d,_,tt,lt,ut){for(var ct=ot.dims,ft=ct[0],dt=ct[1],ht=1,gt=2;gt<ct.length;gt++)ht*=ct[gt];for(var yt=new rt.Tensor(ot.dims,ot.type),vt=ot.floatData,mt=yt.floatData,bt=nt.numberData,$t=et.numberData,St=d.numberData,Pt=_.numberData,_t=0;_t<ft*dt;_t++){var wt=_t*ht;for(gt=0;gt<ht;gt++)mt[wt+gt]=bt[_t%dt]*((vt[wt+gt]-St[_t%dt])/Math.sqrt(Pt[_t%dt]+tt))+$t[_t%dt]}return yt}e.CpuBatchNormalization=at,e.batchNormalization=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)});Object.defineProperty(e,"__esModule",{value:!0}),e.CpuBinaryOp=void 0;var _e=s(15),rt=s(0),at=function(st){function ot(nt,et,d,_){var tt=st.call(this,nt,d,_)||this;return tt.opLambda=et,tt}return b(ot,st),ot.prototype.initialize=function(nt){if(!this.opType&&!this.opLambda)throw new Error("Both opType and opLambda cannot be missing for a binary op");if(!this.opLambda)throw this.opType,new Error("Binary op could not be initialized. Missing op lambda.")},ot.prototype.run=function(nt,et){return[function(d,_,tt,lt,ut){var ct=rt.BroadcastUtil.calc(d,_,tt,lt,ut);if(!ct)throw new Error("not broadcastable");return ct}(et[0],et[1],this.opLambda,!1,this.resultType)]},ot}(_e.BinaryOp);e.CpuBinaryOp=at},function(o,e,s){var h,b=this&&this.__extends||(h=function(_,tt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,ut){lt.__proto__=ut}||function(lt,ut){for(var ct in ut)ut.hasOwnProperty(ct)&&(lt[ct]=ut[ct])})(_,tt)},function(_,tt){function lt(){this.constructor=_}h(_,tt),_.prototype=tt===null?Object.create(tt):(lt.prototype=tt.prototype,new lt)}),_e=this&&this.__createBinding||(Object.create?function(_,tt,lt,ut){ut===void 0&&(ut=lt),Object.defineProperty(_,ut,{enumerable:!0,get:function(){return tt[lt]}})}:function(_,tt,lt,ut){ut===void 0&&(ut=lt),_[ut]=tt[lt]}),rt=this&&this.__setModuleDefault||(Object.create?function(_,tt){Object.defineProperty(_,"default",{enumerable:!0,value:tt})}:function(_,tt){_.default=tt}),at=this&&this.__importStar||function(_){if(_&&_.__esModule)return _;var tt={};if(_!=null)for(var lt in _)lt!=="default"&&Object.hasOwnProperty.call(_,lt)&&_e(tt,_,lt);return rt(tt,_),tt};Object.defineProperty(e,"__esModule",{value:!0}),e.concat=e.CpuConcat=void 0;var st=s(30),ot=s(1),nt=at(s(0)),et=function(_){function tt(){return _!==null&&_.apply(this,arguments)||this}return b(tt,_),tt.prototype.run=function(lt,ut){return[d(ut,this.axis)]},tt}(st.Concat);function d(_,tt){var lt=_[0],ut=lt.dims;if(tt>=ut.length||tt<-1*ut.length)throw new Error("axis specified for concat doesn't match input dimensionality");tt<0&&(tt=ut.length+tt);for(var ct=ut[tt],ft=new Array(ut.length),dt=1;dt<_.length;dt++)for(var ht=(St=_[dt]).dims,gt=0;gt<ut.length;gt++){if(gt===tt)ct+=ht[gt];else if(ut[gt]!==ht[gt])throw new Error("non concat dimensions must match");ft[gt]=ht[gt]}ft[tt]=ct;var yt=new ot.Tensor(ft,lt.type),vt=yt.numberData,mt=1;for(dt=ft.length-1;dt>=tt;dt--)mt*=ft[dt];for(var bt=0,$t=0;$t<_.length;$t++){var St,Pt=1;for(dt=(St=_[$t]).dims.length-1;dt>=tt;dt--)Pt*=St.dims[dt];for(var _t=St.numberData,wt=nt.ShapeUtil.size(St.dims),xt=bt,Tt=(dt=0,0);dt<wt;dt++)vt[xt+dt]=_t[dt],++Tt===Pt&&(xt+=mt-Pt,Tt=0);bt+=Pt}return yt}e.CpuConcat=et,e.concat=d},function(o,e,s){var h,b=this&&this.__extends||(h=function(d,_){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,lt){tt.__proto__=lt}||function(tt,lt){for(var ut in lt)lt.hasOwnProperty(ut)&&(tt[ut]=lt[ut])})(d,_)},function(d,_){function tt(){this.constructor=d}h(d,_),d.prototype=_===null?Object.create(_):(tt.prototype=_.prototype,new tt)});Object.defineProperty(e,"__esModule",{value:!0}),e.conv2d=e.CpuConv=void 0;var _e=s(16),rt=s(1),at=s(0),st=s(17),ot=function(d){function _(){return d!==null&&d.apply(this,arguments)||this}return b(_,d),_.prototype.run=function(tt,lt){var ut=lt[0],ct=lt[1],ft=lt.length===3?lt[2]:void 0;if(this.kernelShape.length===0)for(var dt=lt[1].dims,ht=2;ht<dt.length;++ht)this.kernelShape.push(dt[ht]);var gt=at.PoolConvUtil.computeConvOutputShape(ut.dims,ct.dims,this.strides,this.dilations,this.kernelShape,this.pads,this.autoPad),yt=new rt.Tensor(gt,ut.type);return nt(yt,ut,ct,ft,this.dilations,this.group,this.pads,this.strides),[yt]},_}(_e.Conv);function nt(d,_,tt,lt,ut,ct,ft,dt){for(var ht=_.dims[0],gt=_.dims[1],yt=_.dims[2],vt=_.dims[3],mt=tt.dims[0],bt=tt.dims[1],$t=tt.dims[2],St=tt.dims[3],Pt=mt*bt*$t*St,_t=[$t,St],wt=d.dims[0],xt=d.dims[1],Tt=d.dims[2],It=d.dims[3],Ct=Tt*It,Rt=gt/ct*(yt*vt),Ut=wt*xt*Tt*It/wt/ct,kt=Pt/ct,jt=gt/ct*(_t[0]*_t[1]),Vt=new Float32Array(jt*Ct),Gt=0;Gt<ht;++Gt){for(var Yt=0,er=0,nr=0;nr<ct;++nr)et(_.floatData.subarray(Yt+nr*Rt),Vt,gt/ct,yt,vt,_t[0],_t[1],ut[0],ut[1],ft[0],ft[1],ft[2],ft[3],dt[0],dt[1]),st.matMul2d(tt.floatData.subarray(nr*kt),Vt,d.floatData.subarray(er+nr*Ut),!1,!1,1,0,mt/ct,Ct,jt);Yt+=Rt*ct,er+=Ut*ct}if(lt)for(var Et=lt.floatData,Ot=d.floatData,At=d.dims[0],Nt=d.dims[1],Mt=d.dims[2]*d.dims[3],Lt=Nt*Mt,Wt=0;Wt<At;++Wt)for(var Xt=0;Xt<Nt;++Xt)for(var ar=Wt*Lt+Xt*Mt,Ht=0;Ht<Mt;++Ht)Ot[ar+Ht]+=Et[Xt]}function et(d,_,tt,lt,ut,ct,ft,dt,ht,gt,yt,vt,mt,bt,$t){var St=1+~~((lt+vt+gt-(dt*(ct-1)+1))/bt),Pt=1+~~((ut+yt+mt-(ht*(ft-1)+1))/$t);if(dt!==1||ht!==1||yt!==0||mt!==0||gt!==0||vt!==0)for(var _t=1+~~((lt+gt+vt-(dt*(ct-1)+1))/bt),wt=1+~~((ut+yt+mt-(ht*(ft-1)+1))/$t),xt=tt*ct*ft,Tt=0;Tt<xt;++Tt)for(var It=Tt%ft,Ct=~~(Tt/ft)%ct,Rt=~~(Tt/(ct*ft)),Ut=0;Ut<_t;++Ut)for(var kt=0;kt<wt;++kt){var jt=Ut*bt-gt+Ct*dt,Vt=kt*$t-yt+It*ht;_[(Tt*_t+Ut)*wt+kt]=jt>=0&&jt<lt&&Vt>=0&&Vt<ut?d[(Rt*lt+jt)*ut+Vt]:0}else for(var Gt=0;Gt<tt*ct*ft;Gt++)for(var Yt=~~(Gt/(ct*ft)),er=Gt%(ct*ft),nr=~~(er/ft),Et=er%ft,Ot=Yt*(ct*ft*St*Pt)+nr*(ft*St*Pt)+Et*(St*Pt),At=Yt*(lt*ut),Nt=0;Nt<St;Nt++){var Mt=Nt*bt+nr,Lt=Et;if($t===1)_.set(d.subarray(At+Mt*ut+Lt,At+Mt*ut+Lt+Pt),Ot+Nt*Pt);else for(var Wt=0;Wt<Pt;Wt++)_[Ot+(Nt*Pt+Wt)]=d[At+(Mt*ut+Lt+Wt*$t)]}}e.CpuConv=ot,e.conv2d=nt},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)});Object.defineProperty(e,"__esModule",{value:!0}),e.dropout=e.CpuDropout=void 0;var _e=s(31),rt=s(1),at=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){return[st(d[0],this.ratio,this.testMode)]},nt}(_e.Dropout);function st(ot,nt,et){if(!et)throw new Error("only test mode is supported");var d=new rt.Tensor(ot.dims,ot.type),_=ot.floatData;return d.numberData.set(_),d}e.CpuDropout=at,e.dropout=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.flatten=e.CpuFlatten=void 0;var _e=s(32),rt=s(1),at=s(0),st=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.run=function(d,_){return[ot(_[0],this.axis)]},et}(_e.Flatten);function ot(nt,et){var d=at.ShapeUtil.flattenShape(nt.dims,et),_=new rt.Tensor(d,nt.type),tt=nt.numberData;return _.numberData.set(tt),_}e.CpuFlatten=st,e.flatten=ot},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.gather=e.CpuGather=void 0;var _e=s(33),rt=s(1),at=s(0),st=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.run=function(d,_){return[ot(_[0],_[1],this.axis)]},et}(_e.Gather);function ot(nt,et,d){d=at.ShapeUtil.normalizeAxis(d,nt.dims.length);var _=nt.dims.slice(),tt=_.slice(),lt=et.data;tt[d]=lt.length;for(var ut=at.ShapeUtil.computeStrides(_),ct=at.ShapeUtil.computeStrides(tt),ft=new rt.Tensor(tt,nt.type).numberData,dt=nt.data,ht=0;ht<ft.length;++ht){var gt=at.ShapeUtil.offsetToIndices(ht,ct),yt=gt.slice(),vt=lt[gt[d]];yt[d]=vt<0?vt+_[d]:vt;var mt=at.ShapeUtil.indicesToOffset(yt,ut);ft[ht]=dt[mt]}var bt=_.slice(0,d).concat(et.dims).concat(_.slice(d+1));return new rt.Tensor(bt,nt.type,void 0,void 0,ft)}e.CpuGather=st,e.gather=ot},function(o,e,s){var h,b=this&&this.__extends||(h=function(lt,ut){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,ft){ct.__proto__=ft}||function(ct,ft){for(var dt in ft)ft.hasOwnProperty(dt)&&(ct[dt]=ft[dt])})(lt,ut)},function(lt,ut){function ct(){this.constructor=lt}h(lt,ut),lt.prototype=ut===null?Object.create(ut):(ct.prototype=ut.prototype,new ct)}),_e=this&&this.__createBinding||(Object.create?function(lt,ut,ct,ft){ft===void 0&&(ft=ct),Object.defineProperty(lt,ft,{enumerable:!0,get:function(){return ut[ct]}})}:function(lt,ut,ct,ft){ft===void 0&&(ft=ct),lt[ft]=ut[ct]}),rt=this&&this.__setModuleDefault||(Object.create?function(lt,ut){Object.defineProperty(lt,"default",{enumerable:!0,value:ut})}:function(lt,ut){lt.default=ut}),at=this&&this.__importStar||function(lt){if(lt&&lt.__esModule)return lt;var ut={};if(lt!=null)for(var ct in lt)ct!=="default"&&Object.hasOwnProperty.call(lt,ct)&&_e(ut,lt,ct);return rt(ut,lt),ut},st=this&&this.__read||function(lt,ut){var ct=typeof Symbol=="function"&&lt[Symbol.iterator];if(!ct)return lt;var ft,dt,ht=ct.call(lt),gt=[];try{for(;(ut===void 0||ut-- >0)&&!(ft=ht.next()).done;)gt.push(ft.value)}catch(yt){dt={error:yt}}finally{try{ft&&!ft.done&&(ct=ht.return)&&ct.call(ht)}finally{if(dt)throw dt.error}}return gt};Object.defineProperty(e,"__esModule",{value:!0}),e.gemm=e.CpuGemm=void 0;var ot=s(19),nt=s(1),et=at(s(0)),d=s(17),_=function(lt){function ut(){return lt!==null&&lt.apply(this,arguments)||this}return b(ut,lt),ut.prototype.run=function(ct,ft){return[tt(ft[0],ft[1],this.alpha,this.beta,this.transA,this.transB,ft.length===3?ft[2]:void 0)]},ut}(ot.Gemm);function tt(lt,ut,ct,ft,dt,ht,gt){var yt=st(et.GemmUtil.getShapeOfGemmResult(lt.dims,dt,ut.dims,ht,gt==null?void 0:gt.dims),3),vt=yt[0],mt=yt[1],bt=yt[2],$t=new nt.Tensor([vt,mt],lt.type);if(gt&&et.BroadcastUtil.calc($t,gt,function(St,Pt){return Pt},!0)!==$t)throw new Error("tensor C is not broadcastable to [M,N]");return d.matMul2d(lt.floatData,ut.floatData,$t.floatData,dt,ht,ct,ft,vt,mt,bt),$t}e.CpuGemm=_,e.gemm=tt},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)}),_e=this&&this.__read||function(nt,et){var d=typeof Symbol=="function"&&nt[Symbol.iterator];if(!d)return nt;var _,tt,lt=d.call(nt),ut=[];try{for(;(et===void 0||et-- >0)&&!(_=lt.next()).done;)ut.push(_.value)}catch(ct){tt={error:ct}}finally{try{_&&!_.done&&(d=lt.return)&&d.call(lt)}finally{if(tt)throw tt.error}}return ut};Object.defineProperty(e,"__esModule",{value:!0}),e.imageScaler=e.CpuImageScaler=void 0;var rt=s(34),at=s(1),st=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.run=function(d,_){return[ot(_[0],this.bias,this.scale)]},et}(rt.ImageScaler);function ot(nt,et,d){for(var _=_e(nt.dims,4),tt=_[0],lt=_[1],ut=_[2],ct=_[3],ft=new at.Tensor([tt,lt,ut,ct],nt.type),dt=nt.floatData,ht=ft.floatData,gt=0;gt<tt*lt;gt++)for(var yt=0;yt<ut*ct;yt++){var vt=gt*ut*ct+yt;ht[vt]=dt[vt]*d+et[gt%lt]}return ft}e.CpuImageScaler=st,e.imageScaler=ot},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)});Object.defineProperty(e,"__esModule",{value:!0}),e.instanceNormalization=e.CpuInstanceNormalization=void 0;var _e=s(20),rt=s(1),at=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){return[st(d[0],d[1],d[2],this.epsilon)]},nt}(_e.InstanceNormalization);function st(ot,nt,et,d){for(var _=ot.dims,tt=_[0],lt=_[1],ut=1,ct=2;ct<_.length;ct++)ut*=_[ct];for(var ft,dt,ht,gt,yt,vt,mt=new rt.Tensor(ot.dims,ot.type),bt=ot.floatData,$t=mt.floatData,St=nt.numberData,Pt=et.numberData,_t=0;_t<tt*lt;_t++){for(yt=(gt=_t*ut)+ut,vt=_t%lt,ft=0,ct=gt;ct<yt;++ct)ft+=bt[ct];for(dt=ft/ut,ft=0,ct=gt;ct<yt;++ct)ft+=Math.pow(bt[ct]-dt,2);for(ht=ft/ut,ct=gt;ct<yt;++ct)$t[ct]=St[vt]*((bt[ct]-dt)/Math.sqrt(ht+d))+Pt[vt]}return mt}e.CpuInstanceNormalization=at,e.instanceNormalization=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(_,tt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,ut){lt.__proto__=ut}||function(lt,ut){for(var ct in ut)ut.hasOwnProperty(ct)&&(lt[ct]=ut[ct])})(_,tt)},function(_,tt){function lt(){this.constructor=_}h(_,tt),_.prototype=tt===null?Object.create(tt):(lt.prototype=tt.prototype,new lt)}),_e=this&&this.__createBinding||(Object.create?function(_,tt,lt,ut){ut===void 0&&(ut=lt),Object.defineProperty(_,ut,{enumerable:!0,get:function(){return tt[lt]}})}:function(_,tt,lt,ut){ut===void 0&&(ut=lt),_[ut]=tt[lt]}),rt=this&&this.__setModuleDefault||(Object.create?function(_,tt){Object.defineProperty(_,"default",{enumerable:!0,value:tt})}:function(_,tt){_.default=tt}),at=this&&this.__importStar||function(_){if(_&&_.__esModule)return _;var tt={};if(_!=null)for(var lt in _)lt!=="default"&&Object.hasOwnProperty.call(_,lt)&&_e(tt,_,lt);return rt(tt,_),tt};Object.defineProperty(e,"__esModule",{value:!0}),e.lrn=e.CpuLrn=void 0;var st=s(88),ot=s(1),nt=at(s(0)),et=function(_){function tt(){return _!==null&&_.apply(this,arguments)||this}return b(tt,_),tt.prototype.run=function(lt,ut){return[d(ut[0],this.alpha,this.beta,this.bias,this.size)]},tt}(st.Lrn);function d(_,tt,lt,ut,ct){for(var ft=_.dims[0],dt=_.dims[1],ht=_.floatData,gt=1,yt=2;yt<_.dims.length;++yt)gt*=_.dims[yt];var vt=gt*dt,mt=new ot.Tensor(_.dims,_.type),bt=new Array(nt.ShapeUtil.size(_.dims));for(yt=0;yt<bt.length;++yt)bt[yt]=ut;for(var $t=new Float64Array((dt+ct-1)*gt),St=tt/ct,Pt=(ct-1)/2,_t=0;_t<ft;++_t){nt.MathUtil.sqr($t,ht,Pt*gt,vt*_t,vt);for(var wt=0;wt<ct;++wt)nt.MathUtil.axpy(bt,$t,vt*_t,wt*gt,gt,St);for(wt=1;wt<dt;++wt){var xt=_t*vt+wt*gt;nt.arrayCopyHelper(bt,bt,xt,xt-gt,gt),nt.MathUtil.axpy(bt,$t,xt,(wt+ct-1)*gt,gt,St),nt.MathUtil.axpy(bt,$t,xt,(wt-1)*gt,gt,-St)}}return nt.MathUtil.powx(bt,bt,0,0,nt.ShapeUtil.size(_.dims),-lt),nt.MathUtil.mul(bt,ht,0,0,nt.ShapeUtil.size(_.dims)),mt.floatData.set(bt),mt}e.CpuLrn=et,e.lrn=d},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Lrn=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.alpha=_e.getFloat("alpha",1e-4),this.beta=_e.getFloat("beta",.75),this.bias=_e.getFloat("bias",1),this.size=_e.getInt("size")},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&!(_e[0].dims.length<3)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type==="float32"||_e[0].type==="float64"},b}();e.Lrn=h},function(o,e,s){var h,b=this&&this.__extends||(h=function(tt,lt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ut,ct){ut.__proto__=ct}||function(ut,ct){for(var ft in ct)ct.hasOwnProperty(ft)&&(ut[ft]=ct[ft])})(tt,lt)},function(tt,lt){function ut(){this.constructor=tt}h(tt,lt),tt.prototype=lt===null?Object.create(lt):(ut.prototype=lt.prototype,new ut)}),_e=this&&this.__read||function(tt,lt){var ut=typeof Symbol=="function"&&tt[Symbol.iterator];if(!ut)return tt;var ct,ft,dt=ut.call(tt),ht=[];try{for(;(lt===void 0||lt-- >0)&&!(ct=dt.next()).done;)ht.push(ct.value)}catch(gt){ft={error:gt}}finally{try{ct&&!ct.done&&(ut=dt.return)&&ut.call(dt)}finally{if(ft)throw ft.error}}return ht},rt=this&&this.__spread||function(){for(var tt=[],lt=0;lt<arguments.length;lt++)tt=tt.concat(_e(arguments[lt]));return tt};Object.defineProperty(e,"__esModule",{value:!0}),e.pad=e.CpuPad=void 0;var at=s(35),st=s(1),ot=function(tt){function lt(){return tt!==null&&tt.apply(this,arguments)||this}return b(lt,tt),lt.prototype.run=function(ut,ct){return[nt(ct[0],this.mode,this.value,this.pads)]},lt}(at.Pad);function nt(tt,lt,ut,ct){var ft=tt.dims,dt=function(vt,mt){var bt=Array(vt.length);Object.assign(bt,vt);for(var $t=0;$t<vt.length;$t++)bt[$t]+=mt[$t]+mt[$t+bt.length];return bt}(ft,ct),ht=new st.Tensor(dt,tt.type);switch(lt){case"constant":for(var gt=0;gt<dt.reduce(function(vt,mt){return vt*mt},1);gt++){var yt=_(gt,dt);ht.set(yt,ut)}for(gt=0;gt<ft.reduce(function(vt,mt){return vt*mt},1);gt++)yt=_(gt,ft),ht.set(yt.map(function(vt,mt){return vt+ct[mt]}),tt.get(yt));break;case"reflect":for(gt=0;gt<dt.reduce(function(vt,mt){return vt*mt},1);gt++)yt=_(gt,dt),ht.set(yt,tt.get(yt.map(function(vt,mt){return et(vt,ct[mt],ft[mt])})));break;case"edge":for(gt=0;gt<dt.reduce(function(vt,mt){return vt*mt},1);gt++)yt=_(gt,dt),ht.set(yt,tt.get(yt.map(function(vt,mt){return d(vt,ct[mt],ft[mt])})));break;default:throw Error("Illegal pad mode.")}return ht}function et(tt,lt,ut){if(tt<lt){var ct=(lt-tt-1)%(ut-1);return Math.floor((lt-tt-1)/(ut-1))%2===1?ut-ct-2:ct+1}return tt<lt+ut?tt-lt:(ct=(tt-(lt+ut))%(ut-1),Math.floor((tt-(lt+ut))/(ut-1))%2===0?ut-ct-2:ct+1)}function d(tt,lt,ut){return tt<lt?0:tt<lt+ut?tt-lt:ut-1}function _(tt,lt){if(tt<0||lt.some(function(ct){return ct<0}))throw Error("Array index out of range");var ut=rt(lt);return ut.reverse(),ut.map(function(ct,ft,dt){return Math.floor(tt/function(ht){return ht.reduce(function(gt,yt){return gt*yt},1)}(dt.slice(0,ft)))%ct}).reverse()}e.CpuPad=ot,e.pad=nt},function(o,e,s){var h,b=this&&this.__extends||(h=function(ct,ft){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(dt,ht){dt.__proto__=ht}||function(dt,ht){for(var gt in ht)ht.hasOwnProperty(gt)&&(dt[gt]=ht[gt])})(ct,ft)},function(ct,ft){function dt(){this.constructor=ct}h(ct,ft),ct.prototype=ft===null?Object.create(ft):(dt.prototype=ft.prototype,new dt)});Object.defineProperty(e,"__esModule",{value:!0}),e.pool=e.globalMaxPool=e.maxPool=e.globalAveragePool=e.averagePool=e.CpuGlobalMaxPool=e.CpuMaxPool=e.CpuGlobalAveragePool=e.CpuAveragePool=void 0;var _e=s(21),rt=s(1),at=s(0),st=function(ct){function ft(){return ct!==null&&ct.apply(this,arguments)||this}return b(ft,ct),ft.prototype.run=function(dt,ht){return[d(ht[0],this.autoPad,this.countIncludePad,this.kernelShape,this.pads,this.strides)]},ft}(_e.AveragePool);e.CpuAveragePool=st;var ot=function(ct){function ft(){return ct!==null&&ct.apply(this,arguments)||this}return b(ft,ct),ft.prototype.run=function(dt,ht){return[_(ht[0])]},ft}(_e.GlobalAveragePool);e.CpuGlobalAveragePool=ot;var nt=function(ct){function ft(){return ct!==null&&ct.apply(this,arguments)||this}return b(ft,ct),ft.prototype.run=function(dt,ht){return[tt(ht[0],this.autoPad,this.kernelShape,this.pads,this.strides)]},ft}(_e.MaxPool);e.CpuMaxPool=nt;var et=function(ct){function ft(){return ct!==null&&ct.apply(this,arguments)||this}return b(ft,ct),ft.prototype.run=function(dt,ht){return[lt(ht[0])]},ft}(_e.GlobalMaxPool);function d(ct,ft,dt,ht,gt,yt){return ut(!1,ct,ft,dt,ht,gt,yt,0,function(vt,mt){return vt+mt},function(vt,mt){return vt/mt})}function _(ct){return ut(!0,ct,"NOTSET",!1,[],[],[],0,function(ft,dt){return ft+dt},function(ft,dt){return ft/dt})}function tt(ct,ft,dt,ht,gt){return ut(!1,ct,ft,!1,dt,ht,gt,Number.MIN_SAFE_INTEGER,function(yt,vt){return Math.max(yt,vt)},function(yt,vt){return yt})}function lt(ct){return ut(!0,ct,"NOTSET",!1,[],[],[],Number.MIN_SAFE_INTEGER,function(ft,dt){return Math.max(ft,dt)},function(ft,dt){return ft})}function ut(ct,ft,dt,ht,gt,yt,vt,mt,bt,$t){at.PoolConvUtil.adjustPoolAttributes(ct,ft.dims,gt,vt,yt);for(var St=at.PoolConvUtil.computePoolOutputShape(ct,ft.dims,vt,gt,yt,dt),Pt=at.ShapeUtil.size(gt),_t=at.ShapeUtil.computeStrides(gt),wt=_t.length,xt=St.length,Tt=at.ShapeUtil.size(St),It=new rt.Tensor(St,ft.type),Ct=at.ShapeUtil.computeStrides(St),Rt=0;Rt<Tt;Rt++){for(var Ut=at.ShapeUtil.offsetToIndices(Rt,Ct),kt=Ut.slice(0),jt=Ut.slice(0),Vt=0;Vt<wt;Vt++)kt[xt-wt+Vt]=Ut[xt-wt+Vt]*vt[Vt];var Gt=mt,Yt=0,er=!1;for(Vt=0;Vt<Pt;Vt++){var nr=at.ShapeUtil.offsetToIndices(Vt,_t);er=!1;for(var Et=xt-wt;Et<xt;Et++)if(jt[Et]=kt[Et]+nr[Et-xt+wt]-yt[Et-2],jt[Et]>=ft.dims[Et]||jt[Et]<0){Yt++,er=!0;break}Gt=er?Gt:bt(Gt,ft.get(jt))}Gt=$t(Gt,ht?Pt:Pt-Yt),It.set(Ut,Gt)}return It}e.CpuGlobalMaxPool=et,e.averagePool=d,e.globalAveragePool=_,e.maxPool=tt,e.globalMaxPool=lt,e.pool=ut},function(o,e,s){var h,b=this&&this.__extends||(h=function(gt,yt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vt,mt){vt.__proto__=mt}||function(vt,mt){for(var bt in mt)mt.hasOwnProperty(bt)&&(vt[bt]=mt[bt])})(gt,yt)},function(gt,yt){function vt(){this.constructor=gt}h(gt,yt),gt.prototype=yt===null?Object.create(yt):(vt.prototype=yt.prototype,new vt)});Object.defineProperty(e,"__esModule",{value:!0}),e.reduceProd=e.reduceMean=e.reduceMin=e.reduceMax=e.reduceLogSum=e.reduceSumSquare=e.reduceSum=e.CpuReduceProd=e.CpuReduceMean=e.CpuReduceMin=e.CpuReduceMax=e.CpuReduceLogSum=e.CpuReduceSumSquare=e.CpuReduceSum=void 0;var _e=s(36),rt=s(0),at=function(gt){function yt(){return gt!==null&&gt.apply(this,arguments)||this}return b(yt,gt),yt.prototype.run=function(vt,mt){return[tt(mt[0],rt.ShapeUtil.normalizeAxes(this.axes,mt[0].dims.length),this.keepDims)]},yt}(_e.ReduceBase);e.CpuReduceSum=at;var st=function(gt){function yt(){return gt!==null&&gt.apply(this,arguments)||this}return b(yt,gt),yt.prototype.run=function(vt,mt){return[lt(mt[0],rt.ShapeUtil.normalizeAxes(this.axes,mt[0].dims.length),this.keepDims)]},yt}(_e.ReduceBase);e.CpuReduceSumSquare=st;var ot=function(gt){function yt(){return gt!==null&&gt.apply(this,arguments)||this}return b(yt,gt),yt.prototype.run=function(vt,mt){return[ut(mt[0],rt.ShapeUtil.normalizeAxes(this.axes,mt[0].dims.length),this.keepDims)]},yt}(_e.ReduceBase);e.CpuReduceLogSum=ot;var nt=function(gt){function yt(){return gt!==null&&gt.apply(this,arguments)||this}return b(yt,gt),yt.prototype.run=function(vt,mt){return[ct(mt[0],rt.ShapeUtil.normalizeAxes(this.axes,mt[0].dims.length),this.keepDims)]},yt}(_e.ReduceBase);e.CpuReduceMax=nt;var et=function(gt){function yt(){return gt!==null&&gt.apply(this,arguments)||this}return b(yt,gt),yt.prototype.run=function(vt,mt){return[ft(mt[0],rt.ShapeUtil.normalizeAxes(this.axes,mt[0].dims.length),this.keepDims)]},yt}(_e.ReduceBase);e.CpuReduceMin=et;var d=function(gt){function yt(){return gt!==null&&gt.apply(this,arguments)||this}return b(yt,gt),yt.prototype.run=function(vt,mt){return[dt(mt[0],rt.ShapeUtil.normalizeAxes(this.axes,mt[0].dims.length),this.keepDims)]},yt}(_e.ReduceBase);e.CpuReduceMean=d;var _=function(gt){function yt(){return gt!==null&&gt.apply(this,arguments)||this}return b(yt,gt),yt.prototype.run=function(vt,mt){return[ht(mt[0],rt.ShapeUtil.normalizeAxes(this.axes,mt[0].dims.length),this.keepDims)]},yt}(_e.ReduceBase);function tt(gt,yt,vt){return rt.ReduceUtil.calcReduce(gt,yt,vt,function(mt){return mt},function(mt,bt){return mt+bt})}function lt(gt,yt,vt){return rt.ReduceUtil.calcReduce(gt,yt,vt,function(mt){return mt*mt},function(mt,bt){return mt+bt})}function ut(gt,yt,vt){for(var mt=rt.ReduceUtil.calcReduce(gt,yt,vt,function(St){return St},function(St,Pt){return St+Pt}),bt=mt.floatData.length,$t=0;$t<bt;$t++)mt.floatData[$t]=Math.log(mt.floatData[$t]);return mt}function ct(gt,yt,vt){return rt.ReduceUtil.calcReduce(gt,yt,vt,function(mt){return mt},function(mt,bt){return Math.max(mt,bt)})}function ft(gt,yt,vt){return rt.ReduceUtil.calcReduce(gt,yt,vt,function(mt){return mt},function(mt,bt){return Math.min(mt,bt)})}function dt(gt,yt,vt){for(var mt=rt.ReduceUtil.calcReduce(gt,yt,vt,function(_t){return _t},function(_t,wt){return _t+wt}),bt=rt.ReduceUtil.calcReduceShape(gt.dims,yt,vt),$t=rt.ShapeUtil.size(gt.dims)/rt.ShapeUtil.size(bt),St=mt.floatData.length,Pt=0;Pt<St;Pt++)mt.floatData[Pt]=mt.floatData[Pt]/$t;return mt}function ht(gt,yt,vt){return rt.ReduceUtil.calcReduce(gt,yt,vt,function(mt){return mt},function(mt,bt){return mt*bt})}e.CpuReduceProd=_,e.reduceSum=tt,e.reduceSumSquare=lt,e.reduceLogSum=ut,e.reduceMax=ct,e.reduceMin=ft,e.reduceMean=dt,e.reduceProd=ht},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.reshape=e.CpuReshape=void 0;var _e=s(37),rt=s(1),at=s(0),st=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.run=function(d,_){return[ot(_[0],_[1])]},et}(_e.Reshape);function ot(nt,et){var d=at.ShapeUtil.calculateReshapedDims(nt.dims,et.integerData),_=new rt.Tensor(d,nt.type);return _.floatData.set(nt.floatData),_}e.CpuReshape=st,e.reshape=ot},function(o,e,s){var h,b=this&&this.__extends||(h=function(et,d){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,tt){_.__proto__=tt}||function(_,tt){for(var lt in tt)tt.hasOwnProperty(lt)&&(_[lt]=tt[lt])})(et,d)},function(et,d){function _(){this.constructor=et}h(et,d),et.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)});Object.defineProperty(e,"__esModule",{value:!0}),e.slice=e.CpuSliceV10=e.CpuSlice=void 0;var _e=s(38),rt=s(1),at=s(0),st=function(et){function d(){return et!==null&&et.apply(this,arguments)||this}return b(d,et),d.prototype.run=function(_,tt){return[nt(tt[0],this.starts,this.ends,this.axes)]},d}(_e.Slice);e.CpuSlice=st;var ot=function(et){function d(){return et!==null&&et.apply(this,arguments)||this}return b(d,et),d.prototype.run=function(_,tt){if(tt.length>=5&&tt[4].integerData.some(function(ft){return ft!==1}))throw new Error("currently non-1 steps is not supported for Slice");var lt=Array.from(tt[1].integerData),ut=Array.from(tt[2].integerData),ct=tt.length>=4?Array.from(tt[3].integerData):[];return[nt(tt[0],lt,ut,ct)]},d}(_e.SliceV10);function nt(et,d,_,tt){tt.length===0&&(tt=et.dims.map(function(bt,$t){return $t})),tt=at.ShapeUtil.normalizeAxes(tt,et.dims.length),d=d.map(function(bt,$t){return bt>et.dims[tt[$t]]-1?et.dims[tt[$t]]:at.ShapeUtil.normalizeAxis(bt,et.dims[tt[$t]])}),_=_.map(function(bt,$t){return bt>et.dims[tt[$t]]-1?et.dims[tt[$t]]:at.ShapeUtil.normalizeAxis(bt,et.dims[tt[$t]])});var lt=[],ut=[];tt.forEach(function(bt,$t){lt[bt]=_[$t]-d[$t],ut[bt]=d[$t]});for(var ct=0;ct<et.dims.length;ct++)lt[ct]=lt[ct]||et.dims[ct],ut[ct]=ut[ct]||0;var ft=at.ShapeUtil.computeStrides(lt),dt=at.ShapeUtil.computeStrides(et.dims?et.dims:[et.data.length]),ht=et.data,gt=new rt.Tensor(lt,et.type),yt=gt.data;for(ct=0;ct<yt.length;++ct){var vt=at.ShapeUtil.offsetToIndices(ct,ft).map(function(bt,$t){return bt+ut[$t]}),mt=at.ShapeUtil.indicesToOffset(vt,dt);yt[ct]=ht[mt]}return gt}e.CpuSliceV10=ot,e.slice=nt},function(o,e,s){var h,b=this&&this.__extends||(h=function(_,tt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,ut){lt.__proto__=ut}||function(lt,ut){for(var ct in ut)ut.hasOwnProperty(ct)&&(lt[ct]=ut[ct])})(_,tt)},function(_,tt){function lt(){this.constructor=_}h(_,tt),_.prototype=tt===null?Object.create(tt):(lt.prototype=tt.prototype,new lt)}),_e=this&&this.__createBinding||(Object.create?function(_,tt,lt,ut){ut===void 0&&(ut=lt),Object.defineProperty(_,ut,{enumerable:!0,get:function(){return tt[lt]}})}:function(_,tt,lt,ut){ut===void 0&&(ut=lt),_[ut]=tt[lt]}),rt=this&&this.__setModuleDefault||(Object.create?function(_,tt){Object.defineProperty(_,"default",{enumerable:!0,value:tt})}:function(_,tt){_.default=tt}),at=this&&this.__importStar||function(_){if(_&&_.__esModule)return _;var tt={};if(_!=null)for(var lt in _)lt!=="default"&&Object.hasOwnProperty.call(_,lt)&&_e(tt,_,lt);return rt(tt,_),tt};Object.defineProperty(e,"__esModule",{value:!0}),e.softmax=e.CpuSoftmax=void 0;var st=s(22),ot=s(1),nt=at(s(0)),et=function(_){function tt(){return _!==null&&_.apply(this,arguments)||this}return b(tt,_),tt.prototype.run=function(lt,ut){return[d(ut[0],this.axis)]},tt}(st.Softmax);function d(_,tt){var lt=_.dims,ut=lt.length;tt=nt.ShapeUtil.normalizeAxis(tt,ut);for(var ct=nt.ShapeUtil.sizeToDimension(lt,tt),ft=nt.ShapeUtil.sizeFromDimension(lt,tt),dt=_.numberData,ht=new ot.Tensor(_.dims,_.type),gt=ht.numberData,yt=0;yt<ct;yt++){for(var vt=yt*ft,mt=Number.MIN_VALUE,bt=0;bt<ft;bt++)dt[vt+bt]>mt&&(mt=dt[vt+bt]);var $t=0;for(bt=0;bt<ft;bt++){var St=dt[vt+bt]-mt;gt[vt+bt]=Math.exp(St),$t+=Math.exp(St)}for(bt=0;bt<ft;bt++)$t===0?gt[vt+bt]=0:gt[vt+bt]/=$t}return ht}e.CpuSoftmax=et,e.softmax=d},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.squeeze=e.CpuSqueeze=void 0;var _e=s(39),rt=s(1),at=s(0),st=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.run=function(d,_){return[ot(_[0],this.axes)]},et}(_e.Squeeze);function ot(nt,et){var d=at.ShapeUtil.squeezeShape(nt.dims,et),_=new rt.Tensor(d,nt.type),tt=nt.numberData;return _.numberData.set(tt),_}e.CpuSqueeze=st,e.squeeze=ot},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)});Object.defineProperty(e,"__esModule",{value:!0}),e.sum=e.CpuSum=void 0;var _e=s(23),rt=s(1),at=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){return[st(d)]},nt}(_e.Sum);function st(ot){for(var nt=new rt.Tensor(ot[0].dims,ot[0].type),et=ot[0].floatData.length,d=nt.floatData,_=0;_<ot.length;_++)for(var tt=ot[_].floatData,lt=0;lt<et;++lt)d[lt]+=tt[lt];return nt}e.CpuSum=at,e.sum=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.tile=e.CpuTile=void 0;var _e=s(40),rt=s(1),at=s(0),st=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.run=function(d,_){return[ot(_[0],_[1])]},et}(_e.Tile);function ot(nt,et){for(var d=nt.dims?nt.dims:[nt.data.length],_=d.length,tt=new Array(_),lt=0;lt<_;lt++)tt[lt]=d[lt]*et.numberData[lt];var ut=at.ShapeUtil.computeStrides(d),ct=at.ShapeUtil.computeStrides(tt),ft=new rt.Tensor(tt,nt.type),dt=ft.numberData,ht=nt.data;for(lt=0;lt<dt.length;++lt){for(var gt=at.ShapeUtil.offsetToIndices(lt,ct),yt=new Array(_),vt=0;vt<_;++vt)yt[vt]=gt[vt]%nt.dims[vt];var mt=at.ShapeUtil.indicesToOffset(yt,ut);dt[lt]=ht[mt]}return ft}e.CpuTile=st,e.tile=ot},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.transpose=e.CpuTranspose=void 0;var _e=s(41),rt=s(1),at=s(0),st=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.run=function(d,_){return[ot(_[0],this.perm)]},et}(_e.Transpose);function ot(nt,et){var d=nt.dims,_=d.length,tt=new Array(_);if(et.length===_)tt=et;else for(var lt=0;lt<_;lt++)tt[lt]=_-lt-1;var ut=new Array(_),ct=new Array(_);for(lt=0;lt<_;lt++){var ft=tt[lt];ut[lt]=d[ft],ct[lt]=ft+1<_?at.ShapeUtil.sizeFromDimension(d,ft+1):1}var dt,ht,gt,yt=new rt.Tensor(ut,nt.type),vt=nt.floatData,mt=yt.floatData,bt=0,$t=1,St=1,Pt=!0;for(lt=_-1;lt>=0;--lt){var _t=tt[lt];Pt&&_t===lt?$t*=d[_t]:(Pt=!1,St*=d[_t],++bt)}return St===1?(dt=$t,ht=mt,gt=vt,at.arrayCopyHelper(ht,gt,0,0,dt)):$t===1?function(wt,xt,Tt,It,Ct,Rt){for(var Ut=new Array(wt).fill(0),kt=0,jt=0;jt<Tt;++jt){var Vt=at.ShapeUtil.indicesToOffset(Ut,It,wt);Ct[kt++]=Rt[Vt],at.ShapeUtil.incrementIndex(Ut,xt,wt)}}(bt,ut,St,ct,mt,vt):function(wt,xt,Tt,It,Ct,Rt,Ut){for(var kt=new Array(wt).fill(0),jt=0,Vt=0;Vt<Tt;++Vt){var Gt=at.ShapeUtil.indicesToOffset(kt,Ct,wt);at.arrayCopyHelper(Rt,Ut,jt,0+Gt,It),at.ShapeUtil.incrementIndex(kt,xt,wt),jt+=It}}(bt,ut,St,$t,ct,mt,vt),yt}e.CpuTranspose=st,e.transpose=ot},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.unsqueeze=e.CpuUnsqueeze=void 0;var _e=s(44),rt=s(1),at=s(0),st=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.run=function(d,_){return[ot(_[0],this.axes)]},et}(_e.Unsqueeze);function ot(nt,et){var d=at.ShapeUtil.unsqueezeShape(nt.dims,et),_=new rt.Tensor(d,nt.type),tt=nt.numberData;return _.numberData.set(tt),_}e.CpuUnsqueeze=st,e.unsqueeze=ot},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)});Object.defineProperty(e,"__esModule",{value:!0}),e.CpuUpsample=void 0;var _e=s(45),rt=s(1),at=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){var _=this,tt=d[0].dims,lt=tt.map(function(ct,ft){return Math.floor(ct*_.scales[ft])}),ut=new rt.Tensor(lt,d[0].type);return this.mode==="nearest"?function(ct,ft,dt,ht,gt){var yt=dt.length,vt=new Array(yt);vt.fill(0);var mt=new Array(yt);mt[yt-1]=1;for(var bt=yt-2;bt>=0;bt--)mt[bt]=mt[bt+1]*dt[bt+1];var $t=new Array(yt);$t.fill(0),$t[yt-1]=-1;for(var St=0,Pt=0;St<ft.length;St++){for(var _t=yt-1;_t>=0;_t--){if(++$t[_t]<ht[_t]){var wt=0,xt=st($t[_t],gt[_t]);wt=Math.floor(xt),(wt=Math.max(0,Math.min(wt,dt[_t]-1)))!==vt[_t]&&(Pt+=(wt-vt[_t])*mt[_t],vt[_t]=wt);break}$t[_t]=0,Pt+=(0-vt[_t])*mt[_t],vt[_t]=0}ft[St]=ct[Pt]}}(d[0].data,ut.data,tt,lt,this.scales):function(ct,ft,dt,ht,gt){var yt=dt.length===2,vt=yt?1:dt[0],mt=yt?1:dt[1],bt=yt?dt[0]:dt[2],$t=yt?dt[1]:dt[3],St=yt?ht[0]:ht[2],Pt=yt?ht[1]:ht[3];(function(_t,wt,xt,Tt,It,Ct,Rt,Ut,kt,jt){for(var Vt=[],Gt=[],Yt=new Array(Rt),er=new Array(Rt),nr=new Array(Ut),Et=new Array(Ut),Ot=new Array(Rt),At=new Array(Rt),Nt=new Array(Ut),Mt=new Array(Ut),Lt=0;Lt<Rt;++Lt){var Wt=st(Lt,kt);Vt.push(Wt),Wt=Math.max(0,Math.min(Wt,It-1));var Xt=Math.min(Math.floor(Wt),It-1),ar=Math.min(Xt+1,It-1);Xt===ar?(Ot[Lt]=.5,At[Lt]=.5):(Ot[Lt]=Math.abs(Wt-Xt),At[Lt]=Math.abs(Wt-ar)),Yt[Lt]=Ct*Xt,er[Lt]=Ct*ar}for(var Ht=0;Ht<Ut;++Ht){var sr=st(Ht,jt);Gt.push(sr),sr=Math.max(0,Math.min(sr,Ct-1)),nr[Ht]=Math.min(Math.floor(sr),Ct-1),Et[Ht]=Math.min(nr[Ht]+1,Ct-1),nr[Ht]===Et[Ht]?(Nt[Ht]=.5,Mt[Ht]=.5):(Nt[Ht]=Math.abs(sr-nr[Ht]),Mt[Ht]=Math.abs(sr-Et[Ht]))}for(var dr=0,ir=0,Pr=0;Pr<xt;++Pr)for(var $r=0;$r<Tt;++$r){for(Lt=0;Lt<Rt;++Lt)for(Ht=0;Ht<Ut;++Ht){var wr=_t[dr+Yt[Lt]+nr[Ht]],xr=_t[dr+Yt[Lt]+Et[Ht]],_r=_t[dr+er[Lt]+nr[Ht]],br=_t[dr+er[Lt]+Et[Ht]];wt[ir+Ut*Lt+Ht]=Mt[Ht]*At[Lt]*wr+Nt[Ht]*At[Lt]*xr+Mt[Ht]*Ot[Lt]*_r+Nt[Ht]*Ot[Lt]*br}dr+=It*Ct,ir+=Ut*Rt}})(ct,ft,vt,mt,bt,$t,St,Pt,yt?gt[0]:gt[2],yt?gt[1]:gt[3])}(d[0].data,ut.data,tt,lt,this.scales),[ut]},nt}(_e.Upsample);function st(ot,nt){return ot/nt}e.CpuUpsample=at},function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(_,tt,lt,ut){ut===void 0&&(ut=lt),Object.defineProperty(_,ut,{enumerable:!0,get:function(){return tt[lt]}})}:function(_,tt,lt,ut){ut===void 0&&(ut=lt),_[ut]=tt[lt]}),b=this&&this.__setModuleDefault||(Object.create?function(_,tt){Object.defineProperty(_,"default",{enumerable:!0,value:tt})}:function(_,tt){_.default=tt}),_e=this&&this.__importStar||function(_){if(_&&_.__esModule)return _;var tt={};if(_!=null)for(var lt in _)lt!=="default"&&Object.hasOwnProperty.call(_,lt)&&h(tt,_,lt);return b(tt,_),tt},rt=this&&this.__awaiter||function(_,tt,lt,ut){return new(lt||(lt=Promise))(function(ct,ft){function dt(yt){try{gt(ut.next(yt))}catch(vt){ft(vt)}}function ht(yt){try{gt(ut.throw(yt))}catch(vt){ft(vt)}}function gt(yt){var vt;yt.done?ct(yt.value):(vt=yt.value,vt instanceof lt?vt:new lt(function(mt){mt(vt)})).then(dt,ht)}gt((ut=ut.apply(_,tt||[])).next())})},at=this&&this.__generator||function(_,tt){var lt,ut,ct,ft,dt={label:0,sent:function(){if(1&ct[0])throw ct[1];return ct[1]},trys:[],ops:[]};return ft={next:ht(0),throw:ht(1),return:ht(2)},typeof Symbol=="function"&&(ft[Symbol.iterator]=function(){return this}),ft;function ht(gt){return function(yt){return function(vt){if(lt)throw new TypeError("Generator is already executing.");for(;dt;)try{if(lt=1,ut&&(ct=2&vt[0]?ut.return:vt[0]?ut.throw||((ct=ut.return)&&ct.call(ut),0):ut.next)&&!(ct=ct.call(ut,vt[1])).done)return ct;switch(ut=0,ct&&(vt=[2&vt[0],ct.value]),vt[0]){case 0:case 1:ct=vt;break;case 4:return dt.label++,{value:vt[1],done:!1};case 5:dt.label++,ut=vt[1],vt=[0];continue;case 7:vt=dt.ops.pop(),dt.trys.pop();continue;default:if(ct=dt.trys,!((ct=ct.length>0&&ct[ct.length-1])||vt[0]!==6&&vt[0]!==2)){dt=0;continue}if(vt[0]===3&&(!ct||vt[1]>ct[0]&&vt[1]<ct[3])){dt.label=vt[1];break}if(vt[0]===6&&dt.label<ct[1]){dt.label=ct[1],ct=vt;break}if(ct&&dt.label<ct[2]){dt.label=ct[2],dt.ops.push(vt);break}ct[2]&&dt.ops.pop(),dt.trys.pop();continue}vt=tt.call(_,dt)}catch(mt){vt=[6,mt],ut=0}finally{lt=ct=0}if(5&vt[0])throw vt[1];return{value:vt[0]?vt[1]:void 0,done:!0}}([gt,yt])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.WasmBackend=e.bindingInitPromise=void 0;var st=_e(s(46)),ot=s(3),nt=_e(s(4)),et=s(106),d=function(){function _(){this.cpuFallback=!0,this.worker=function(){if(typeof navigator<"u"&&navigator){if(typeof navigator.hardwareConcurrency=="number")return Math.max(Math.ceil(navigator.hardwareConcurrency/2)-1,0);if(st.name==="Safari"&&st.os&&(st.os.family==="iOS"||st.os.family==="OS X"))return 1}return 0}(),this.initTimeout=5e3}return _.prototype.initialize=function(){return rt(this,void 0,void 0,function(){return at(this,function(tt){switch(tt.label){case 0:return function(lt){if(!Number.isFinite(lt)||Number.isNaN(lt))throw new Error(lt+" is not valid number of workers");if(!Number.isInteger(lt))throw new Error(lt+" is not an integer and hence not valid number of workers")}(this.worker),[4,this.isWasmSupported()];case 1:return tt.sent()?[2,!0]:[2,!1]}})})},_.prototype.createSessionHandler=function(tt){return new et.WasmSessionHandler(this,tt,this.cpuFallback)},_.prototype.dispose=function(){},_.prototype.isWasmSupported=function(){return rt(this,void 0,void 0,function(){var tt;return at(this,function(lt){switch(lt.label){case 0:return lt.trys.push([0,2,,3]),[4,nt.init(this.worker,this.initTimeout)];case 1:return lt.sent(),[2,!0];case 2:return tt=lt.sent(),ot.Logger.warning("WebAssembly","Unable to initialize WebAssembly backend. "+tt),[2,!1];case 3:return[2]}})})},_}();e.WasmBackend=d},function(o,e){o.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(o,e,s){var h;Object.defineProperty(e,"__esModule",{value:!0}),e.now=e.WasmBinding=e.init=void 0;var b=!1,_e=!1;e.init=function(){if(b)return Promise.resolve();if(_e)throw new Error("multiple calls to 'init()' detected.");return _e=!0,new Promise(function(at,st){(h=s(104))(h).then(function(){at(),_e=!1,b=!0},function(ot){_e=!1,st(ot)})})};var rt=function(){function at(){this.ptr8=0,this.numBytesAllocated=0}return at.prototype.ccall=function(st){for(var ot=[],nt=1;nt<arguments.length;nt++)ot[nt-1]=arguments[nt];if(!b)throw new Error("wasm not initialized. please ensure 'init()' is called.");var et=e.now(),d=[],_=at.calculateOffsets(d,ot);_>this.numBytesAllocated&&this.expandMemory(_),at.ccallSerialize(h.HEAPU8.subarray(this.ptr8,this.ptr8+_),d,ot);var tt=e.now();this.func(st,this.ptr8);var lt=e.now();at.ccallDeserialize(h.HEAPU8.subarray(this.ptr8,this.ptr8+_),d,ot);var ut=e.now();return{startTime:et,endTime:ut,startTimeFunc:tt,endTimeFunc:lt}},at.prototype.ccallRaw=function(st,ot){if(!b)throw new Error("wasm not initialized. please ensure 'init()' is called.");var nt=e.now(),et=ot.byteLength;et>this.numBytesAllocated&&this.expandMemory(et),h.HEAPU8.subarray(this.ptr8,this.ptr8+et).set(ot);var d=e.now();this.func(st,this.ptr8);var _=e.now();return ot.set(h.HEAPU8.subarray(this.ptr8,this.ptr8+et)),{startTime:nt,endTime:e.now(),startTimeFunc:d,endTimeFunc:_}},at.prototype.func=function(st,ot){(0,h[st])(ot)},at.calculateOffsets=function(st,ot){for(var nt=4+4*ot.length,et=0;et<ot.length;et++){var d=ot[et],_=d[0],tt=d[1],lt=d[2],ut=0;switch(tt){case"bool":case"int32":case"float32":ut=4;break;case"float64":ut=8;break;case"boolptr":if(!_){st.push(0);continue}if(!Array.isArray(_)&&!ArrayBuffer.isView(_))throw new Error("boolptr requires boolean array or Uint8Array");ut=4*Math.ceil(_.length/4);break;case"int32ptr":case"float32ptr":if(!_){st.push(0);continue}if(Array.isArray(_)){if(lt==="inout"||lt==="out")throw new TypeError("inout/out parameters must be ArrayBufferView for ptr types.");ut=4*_.length}else{if(!ArrayBuffer.isView(_))throw new TypeError("unsupported data type in 'ccall()'");ut=_.byteLength}break;default:throw new Error("not supported parameter type: "+tt)}st.push(nt),nt+=ut}return nt},at.ccallSerialize=function(st,ot,nt){var et=new Int32Array(st.buffer,st.byteOffset),d=new Uint32Array(st.buffer,st.byteOffset),_=new Float32Array(st.buffer,st.byteOffset);d[0]=nt.length;for(var tt=0;tt<nt.length;tt++){var lt=nt[tt],ut=lt[0],ct=lt[1],ft=lt[2],dt=ot[tt],ht=dt>>2;if(d[tt+1]=dt,ft!=="out"&&dt!==0)switch(ct){case"bool":st[dt]=ut===!0?1:0;break;case"int32":et[ht]=ut;break;case"float32":_[ht]=ut;break;case"boolptr":var gt=ut;st.subarray(dt,dt+gt.length).set(ut);break;case"int32ptr":var yt=ut;et.subarray(ht,ht+yt.length).set(yt);break;case"float32ptr":var vt=ut;_.subarray(ht,ht+vt.length).set(vt);break;default:throw new Error("not supported parameter type: "+ct)}}},at.ccallDeserialize=function(st,ot,nt){for(var et=new Float32Array(st.buffer,st.byteOffset),d=new Uint8Array(st.buffer,st.byteOffset),_=0;_<nt.length;_++){var tt=nt[_],lt=tt[0],ut=tt[1],ct=tt[2],ft=ot[_],dt=ft>>2;if(ct==="out"||ct==="inout")switch(ut){case"float32ptr":var ht=lt;ht.set(et.subarray(dt,dt+ht.length));break;case"boolptr":var gt=lt;gt.set(d.subarray(ft,ft+gt.length));break;default:throw new Error("not supported parameter type: "+ut)}}},at.prototype.expandMemory=function(st){if(this.ptr8!==0&&h._free(this.ptr8),this.numBytesAllocated=2*st,this.ptr8=h._malloc(this.numBytesAllocated),this.ptr8===0)throw new Error("Unable to allocate requested amount of memory. Failing.")},at.prototype.dispose=function(){if(!b)throw new Error("wasm not initialized. please ensure 'init()' is called.");this.ptr8!==0&&h._free(this.ptr8)},at}();e.WasmBinding=rt,e.now=typeof performance<"u"&&performance.now?function(){return performance.now()}:Date.now},function(o,e,s){(function(h,b,_e){var rt,at=(rt=(rt=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||h,function(st){st=(st=st||{})!==void 0?st:{};var ot,nt={};for(ot in st)st.hasOwnProperty(ot)&&(nt[ot]=st[ot]);var et=!1,d=!1,_=!1,tt=!1;et=typeof window=="object",d=typeof importScripts=="function",_=typeof b=="object"&&typeof b.versions=="object"&&typeof b.versions.node=="string",tt=!et&&!_&&!d;var lt,ut,ct,ft,dt="";function ht(Qt){return st.locateFile?st.locateFile(Qt,dt):dt+Qt}_?(dt=d?s(47).dirname(dt)+"/":_e+"/",lt=function(Qt,ur){return ct||(ct=s(48)),ft||(ft=s(47)),Qt=ft.normalize(Qt),ct.readFileSync(Qt,ur?null:"utf8")},ut=function(Qt){var ur=lt(Qt,!0);return ur.buffer||(ur=new Uint8Array(ur)),St(ur.buffer),ur},b.argv.length>1&&b.argv[1].replace(/\\/g,"/"),b.argv.slice(2),b.on("uncaughtException",function(Qt){if(!(Qt instanceof Nr))throw Qt}),b.on("unhandledRejection",dr),st.inspect=function(){return"[Emscripten Module object]"}):tt?(typeof read<"u"&&(lt=function(Qt){return read(Qt)}),ut=function(Qt){var ur;return typeof readbuffer=="function"?new Uint8Array(readbuffer(Qt)):(St(typeof(ur=read(Qt,"binary"))=="object"),ur)},typeof scriptArgs<"u"&&scriptArgs,typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(et||d)&&(d?dt=self.location.href:document.currentScript&&(dt=document.currentScript.src),rt&&(dt=rt),dt=dt.indexOf("blob:")!==0?dt.substr(0,dt.lastIndexOf("/")+1):"",lt=function(Qt){var ur=new XMLHttpRequest;return ur.open("GET",Qt,!1),ur.send(null),ur.responseText},d&&(ut=function(Qt){var ur=new XMLHttpRequest;return ur.open("GET",Qt,!1),ur.responseType="arraybuffer",ur.send(null),new Uint8Array(ur.response)}));var gt=st.print||console.log.bind(console),yt=st.printErr||console.warn.bind(console);for(ot in nt)nt.hasOwnProperty(ot)&&(st[ot]=nt[ot]);nt=null,st.arguments&&st.arguments,st.thisProgram&&st.thisProgram,st.quit&&st.quit;var vt,mt;st.wasmBinary&&(vt=st.wasmBinary),st.noExitRuntime&&st.noExitRuntime,typeof WebAssembly!="object"&&yt("no native wasm support detected");var bt=new WebAssembly.Table({initial:31,maximum:31,element:"anyfunc"}),$t=!1;function St(Qt,ur){Qt||dr("Assertion failed: "+ur)}var Pt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function _t(Qt,ur,Tr){for(var Jt=ur+Tr,gr=ur;Qt[gr]&&!(gr>=Jt);)++gr;if(gr-ur>16&&Qt.subarray&&Pt)return Pt.decode(Qt.subarray(ur,gr));for(var mr="";ur<gr;){var Or=Qt[ur++];if(128&Or){var Fr=63&Qt[ur++];if((224&Or)!=192){var Wr=63&Qt[ur++];if((Or=(240&Or)==224?(15&Or)<<12|Fr<<6|Wr:(7&Or)<<18|Fr<<12|Wr<<6|63&Qt[ur++])<65536)mr+=String.fromCharCode(Or);else{var Zr=Or-65536;mr+=String.fromCharCode(55296|Zr>>10,56320|1023&Zr)}}else mr+=String.fromCharCode((31&Or)<<6|Fr)}else mr+=String.fromCharCode(Or)}return mr}function wt(Qt,ur){return Qt?_t(Tt,Qt,ur):""}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");var xt,Tt,It,Ct=65536;function Rt(Qt,ur){return Qt%ur>0&&(Qt+=ur-Qt%ur),Qt}function Ut(Qt){xt=Qt,st.HEAP8=new Int8Array(Qt),st.HEAP16=new Int16Array(Qt),st.HEAP32=It=new Int32Array(Qt),st.HEAPU8=Tt=new Uint8Array(Qt),st.HEAPU16=new Uint16Array(Qt),st.HEAPU32=new Uint32Array(Qt),st.HEAPF32=new Float32Array(Qt),st.HEAPF64=new Float64Array(Qt)}var kt=5248800,jt=5760,Vt=st.INITIAL_MEMORY||16777216;function Gt(Qt){for(;Qt.length>0;){var ur=Qt.shift();if(typeof ur!="function"){var Tr=ur.func;typeof Tr=="number"?ur.arg===void 0?st.dynCall_v(Tr):st.dynCall_vi(Tr,ur.arg):Tr(ur.arg===void 0?null:ur.arg)}else ur()}}(mt=st.wasmMemory?st.wasmMemory:new WebAssembly.Memory({initial:Vt/Ct}))&&(xt=mt.buffer),Vt=xt.byteLength,Ut(xt),It[jt>>2]=kt;var Yt=[],er=[],nr=[],Et=[];function Ot(){if(st.preRun)for(typeof st.preRun=="function"&&(st.preRun=[st.preRun]);st.preRun.length;)Lt(st.preRun.shift());Gt(Yt)}function At(){Gt(er)}function Nt(){Gt(nr)}function Mt(){if(st.postRun)for(typeof st.postRun=="function"&&(st.postRun=[st.postRun]);st.postRun.length;)Wt(st.postRun.shift());Gt(Et)}function Lt(Qt){Yt.unshift(Qt)}function Wt(Qt){Et.unshift(Qt)}var Xt=0,ar=null;function Ht(Qt){Xt++,st.monitorRunDependencies&&st.monitorRunDependencies(Xt)}function sr(Qt){if(Xt--,st.monitorRunDependencies&&st.monitorRunDependencies(Xt),Xt==0&&ar){var ur=ar;ar=null,ur()}}function dr(Qt){throw st.onAbort&&st.onAbort(Qt),gt(Qt+=""),yt(Qt),$t=!0,Qt="abort("+Qt+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(Qt)}st.preloadedImages={},st.preloadedAudios={};var ir="data:application/octet-stream;base64,";function Pr(Qt){return String.prototype.startsWith?Qt.startsWith(ir):Qt.indexOf(ir)===0}var $r="onnx-wasm.wasm";function wr(){try{if(vt)return new Uint8Array(vt);if(ut)return ut($r);throw"both async and sync fetching of the wasm failed"}catch(Qt){dr(Qt)}}function xr(){return vt||!et&&!d||typeof fetch!="function"?new Promise(function(Qt,ur){Qt(wr())}):fetch($r,{credentials:"same-origin"}).then(function(Qt){if(!Qt.ok)throw"failed to load wasm binary file at '"+$r+"'";return Qt.arrayBuffer()}).catch(function(){return wr()})}function _r(){var Qt={env:or,wasi_snapshot_preview1:or};function ur(gr,mr){var Or=gr.exports;st.asm=Or,sr()}function Tr(gr){ur(gr.instance)}function Jt(gr){return xr().then(function(mr){return WebAssembly.instantiate(mr,Qt)}).then(gr,function(mr){yt("failed to asynchronously prepare wasm: "+mr),dr(mr)})}if(Ht(),st.instantiateWasm)try{return st.instantiateWasm(Qt,ur)}catch(gr){return yt("Module.instantiateWasm callback failed with error: "+gr),!1}return function(){if(vt||typeof WebAssembly.instantiateStreaming!="function"||Pr($r)||typeof fetch!="function")return Jt(Tr);fetch($r,{credentials:"same-origin"}).then(function(gr){return WebAssembly.instantiateStreaming(gr,Qt).then(Tr,function(mr){yt("wasm streaming compile failed: "+mr),yt("falling back to ArrayBuffer instantiation"),Jt(Tr)})})}(),{}}function br(Qt,ur,Tr,Jt){dr("Assertion failed: "+wt(Qt)+", at: "+[ur?wt(ur):"unknown filename",Tr,Jt?wt(Jt):"unknown function"])}function kr(Qt){return Ir(Qt)}Pr($r)||($r=ht($r)),er.push({func:function(){vr()}});function Ar(){return Ar.uncaught_exceptions>0}function Ur(Qt,ur,Tr){throw"uncaught_exception"in Ar?Ar.uncaught_exceptions++:Ar.uncaught_exceptions=1,Qt}function zr(){dr()}function Vr(){return Tt.length}function Gr(){return 5760}function Kr(Qt,ur,Tr){Tt.copyWithin(Qt,ur,ur+Tr)}function Hr(Qt){try{return mt.grow(Qt-xt.byteLength+65535>>16),Ut(mt.buffer),1}catch{}}function yr(Qt){var ur=Vr();if(Qt>2147418112)return!1;for(var Tr=1;Tr<=4;Tr*=2){var Jt=ur*(1+.2/Tr);if(Jt=Math.min(Jt,Qt+100663296),Hr(Math.min(2147418112,Rt(Math.max(16777216,Qt,Jt),65536))))return!0}return!1}var Lr={mappings:{},buffers:[null,[],[]],printChar:function(Qt,ur){var Tr=Lr.buffers[Qt];ur===0||ur===10?((Qt===1?gt:yt)(_t(Tr,0)),Tr.length=0):Tr.push(ur)},varargs:void 0,get:function(){return Lr.varargs+=4,It[Lr.varargs-4>>2]},getStr:function(Qt){return wt(Qt)},get64:function(Qt,ur){return Qt}};function qr(Qt){return 0}function Bt(Qt,ur,Tr,Jt,gr){}function Kt(Qt,ur,Tr,Jt){for(var gr=0,mr=0;mr<Tr;mr++){for(var Or=It[ur+8*mr>>2],Fr=It[ur+(8*mr+4)>>2],Wr=0;Wr<Fr;Wr++)Lr.printChar(Qt,Tt[Or+Wr]);gr+=Fr}return It[Jt>>2]=gr,0}function Zt(Qt){}var or={__assert_fail:br,__cxa_allocate_exception:kr,__cxa_throw:Ur,abort:zr,emscripten_get_sbrk_ptr:Gr,emscripten_memcpy_big:Kr,emscripten_resize_heap:yr,fd_close:qr,fd_seek:Bt,fd_write:Kt,memory:mt,setTempRet0:Zt,table:bt},lr=_r();st.asm=lr;var pr,vr=st.___wasm_call_ctors=function(){return(vr=st.___wasm_call_ctors=st.asm.__wasm_call_ctors).apply(null,arguments)},Ir=(st._batch_normalization_f32=function(){return(st._batch_normalization_f32=st.asm.batch_normalization_f32).apply(null,arguments)},st._add_f32=function(){return(st._add_f32=st.asm.add_f32).apply(null,arguments)},st._sub_f32=function(){return(st._sub_f32=st.asm.sub_f32).apply(null,arguments)},st._mul_f32=function(){return(st._mul_f32=st.asm.mul_f32).apply(null,arguments)},st._div_f32=function(){return(st._div_f32=st.asm.div_f32).apply(null,arguments)},st._prelu_f32=function(){return(st._prelu_f32=st.asm.prelu_f32).apply(null,arguments)},st._xor_u8=function(){return(st._xor_u8=st.asm.xor_u8).apply(null,arguments)},st._or_u8=function(){return(st._or_u8=st.asm.or_u8).apply(null,arguments)},st._and_u8=function(){return(st._and_u8=st.asm.and_u8).apply(null,arguments)},st._clip_f32=function(){return(st._clip_f32=st.asm.clip_f32).apply(null,arguments)},st._conv_f32=function(){return(st._conv_f32=st.asm.conv_f32).apply(null,arguments)},st._gemm_f32=function(){return(st._gemm_f32=st.asm.gemm_f32).apply(null,arguments)},st._free=function(){return(st._free=st.asm.free).apply(null,arguments)},st._malloc=function(){return(Ir=st._malloc=st.asm.malloc).apply(null,arguments)});st._instance_normalization_f32=function(){return(st._instance_normalization_f32=st.asm.instance_normalization_f32).apply(null,arguments)},st._matmul_f32=function(){return(st._matmul_f32=st.asm.matmul_f32).apply(null,arguments)},st._average_pool_f32=function(){return(st._average_pool_f32=st.asm.average_pool_f32).apply(null,arguments)},st._max_pool_f32=function(){return(st._max_pool_f32=st.asm.max_pool_f32).apply(null,arguments)},st._softmax_f32=function(){return(st._softmax_f32=st.asm.softmax_f32).apply(null,arguments)},st._sum_f32=function(){return(st._sum_f32=st.asm.sum_f32).apply(null,arguments)},st.___errno_location=function(){return(st.___errno_location=st.asm.__errno_location).apply(null,arguments)},st._fflush=function(){return(st._fflush=st.asm.fflush).apply(null,arguments)};function Nr(Qt){this.name="ExitStatus",this.message="Program terminated with exit("+Qt+")",this.status=Qt}function Rr(Qt){function ur(){pr||(pr=!0,st.calledRun=!0,$t||(At(),Nt(),st.onRuntimeInitialized&&st.onRuntimeInitialized(),Mt()))}Xt>0||(Ot(),Xt>0||(st.setStatus?(st.setStatus("Running..."),setTimeout(function(){setTimeout(function(){st.setStatus("")},1),ur()},1)):ur()))}if(st._setThrew=function(){return(st._setThrew=st.asm.setThrew).apply(null,arguments)},st.stackSave=function(){return(st.stackSave=st.asm.stackSave).apply(null,arguments)},st.stackAlloc=function(){return(st.stackAlloc=st.asm.stackAlloc).apply(null,arguments)},st.stackRestore=function(){return(st.stackRestore=st.asm.stackRestore).apply(null,arguments)},st.__growWasmMemory=function(){return(st.__growWasmMemory=st.asm.__growWasmMemory).apply(null,arguments)},st.dynCall_ii=function(){return(st.dynCall_ii=st.asm.dynCall_ii).apply(null,arguments)},st.dynCall_iiii=function(){return(st.dynCall_iiii=st.asm.dynCall_iiii).apply(null,arguments)},st.dynCall_jiji=function(){return(st.dynCall_jiji=st.asm.dynCall_jiji).apply(null,arguments)},st.dynCall_iidiiii=function(){return(st.dynCall_iidiiii=st.asm.dynCall_iidiiii).apply(null,arguments)},st.dynCall_vii=function(){return(st.dynCall_vii=st.asm.dynCall_vii).apply(null,arguments)},st.dynCall_vi=function(){return(st.dynCall_vi=st.asm.dynCall_vi).apply(null,arguments)},st.dynCall_viiiiii=function(){return(st.dynCall_viiiiii=st.asm.dynCall_viiiiii).apply(null,arguments)},st.dynCall_viiiii=function(){return(st.dynCall_viiiii=st.asm.dynCall_viiiii).apply(null,arguments)},st.dynCall_viiii=function(){return(st.dynCall_viiii=st.asm.dynCall_viiii).apply(null,arguments)},st.asm=lr,st.then=function(Qt){if(pr)Qt(st);else{var ur=st.onRuntimeInitialized;st.onRuntimeInitialized=function(){ur&&ur(),Qt(st)}}return st},ar=function Qt(){pr||Rr(),pr||(ar=Qt)},st.run=Rr,st.preInit)for(typeof st.preInit=="function"&&(st.preInit=[st.preInit]);st.preInit.length>0;)st.preInit.pop()();return Rr(),st});o.exports=at}).call(this,"/index.js",s(24),"/")},function(o,e,s){s.r(e),e.default=function(){return new Worker(s.p+"onnx-worker.js")}},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.WasmSessionHandler=void 0;var h=s(11),b=s(27),_e=s(107),rt=s(108),at=function(){function st(ot,nt,et){this.backend=ot,this.context=nt,this.opResolveRules=et?rt.WASM_OP_RESOLVE_RULES.concat(b.CPU_OP_RESOLVE_RULES):rt.WASM_OP_RESOLVE_RULES}return st.prototype.createInferenceHandler=function(){return new _e.WasmInferenceHandler(this,this.context.profiler)},st.prototype.dispose=function(){},st.prototype.resolve=function(ot,nt){var et=h.resolveOperator(ot,nt,this.opResolveRules);return et.initialize(ot.attributes),et},st}();e.WasmSessionHandler=at},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.WasmInferenceHandler=void 0;var h=function(){function b(_e,rt){this.session=_e,this.profiler=rt}return b.prototype.dispose=function(){},b}();e.WasmInferenceHandler=h},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.WASM_OP_RESOLVE_RULES=void 0;var h=s(109),b=s(110),_e=s(111),rt=s(112),at=s(113),st=s(114),ot=s(115),nt=s(116),et=s(117),d=s(118);e.WASM_OP_RESOLVE_RULES=[["Add","","7+",function(){return new b.WasmBinaryOp(["float32"],"Add")}],["And","","7+",function(){return new b.WasmBinaryOp(["bool"],"And")}],["AveragePool","","7-10",function(){return new nt.WasmAveragePool}],["BatchNormalization","","7+",function(){return new h.WasmBatchNormalization}],["Clip","","6-10",function(){return new _e.WasmClip}],["Conv","","1+",function(){return new rt.WasmConv}],["Div","","7+",function(){return new b.WasmBinaryOp(["float32"],"Div")}],["Gemm","","7-10",function(){return new at.WasmGemm(!1)}],["Gemm","","11+",function(){return new at.WasmGemm(!0)}],["GlobalAveragePool","","1+",function(){return new nt.WasmGlobalAveragePool}],["GlobalMaxPool","","1+",function(){return new nt.WasmGlobalMaxPool}],["InstanceNormalization","","6+",function(){return new st.WasmInstanceNormalization}],["MatMul","","1+",function(){return new ot.WasmMatMul}],["MaxPool","","1-9",function(){return new nt.WasmMaxPool}],["Mul","","7+",function(){return new b.WasmBinaryOp(["float32"],"Mul")}],["Or","","7+",function(){return new b.WasmBinaryOp(["bool"],"Or")}],["PRelu","","7+",function(){return new b.WasmBinaryOp(["float32"],"PRelu")}],["Softmax","","1+",function(){return new et.WasmSoftmax}],["Sub","","7+",function(){return new b.WasmBinaryOp(["float32"],"Sub")}],["Sum","","6+",function(){return new d.WasmSum}],["Xor","","7+",function(){return new b.WasmBinaryOp(["bool"],"Xor")}]]},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)});Object.defineProperty(e,"__esModule",{value:!0}),e.WasmBatchNormalization=void 0;var _e=s(14),rt=s(1),at=s(4),st=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){for(var _=d[0],tt=d[1],lt=d[2],ut=d[3],ct=d[4],ft=1,dt=2;dt<_.dims.length;dt++)ft*=_.dims[dt];var ht=new rt.Tensor(_.dims,_.type);return at.WasmBinding.getInstance().ccall("_batch_normalization_f32",[_.floatData,"float32ptr"],[ht.floatData,"float32ptr","out"],[_.dims[0],"int32"],[_.dims[1],"int32"],[ft,"int32"],[tt.floatData,"float32ptr"],[lt.floatData,"float32ptr"],[ut.floatData,"float32ptr"],[ct.floatData,"float32ptr"],[this.epsilon,"float32"]),[ht]},nt.prototype.checkInputTypes=function(et){var d=et[0],_=et[1],tt=et[2],lt=et[3],ut=et[4];return!(d.dims.length<3||_.dims.length!==1||tt.dims.length!==1||lt.dims.length!==1||ut.dims.length!==1)&&_.dims[0]===d.dims[1]&&tt.dims[0]===d.dims[1]&&lt.dims[0]===d.dims[1]&&ut.dims[0]===d.dims[1]&&d.type==="float32"&&_.type==="float32"&&tt.type==="float32"&&lt.type==="float32"&&ut.type==="float32"},nt}(_e.BatchNormalization);e.WasmBatchNormalization=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.WasmBinaryOp=void 0;var _e=s(15),rt=s(1),at=s(0),st=s(4),ot=function(nt){function et(d,_,tt){return nt.call(this,d,_,tt)||this}return b(et,nt),et.prototype.run=function(d,_){var tt=at.BroadcastUtil.calcShape(_[0].dims,_[1].dims,!1);if(!tt)throw new Error("not broadcastable");var lt,ut="",ct="";switch(this.opType){case"Add":_[0].type==="float32"&&(ut="_add_f32",ct="float32InFloat32Out");break;case"Sub":_[0].type==="float32"&&(ut="_sub_f32",ct="float32InFloat32Out");break;case"Mul":_[0].type==="float32"&&(ut="_mul_f32",ct="float32InFloat32Out");break;case"Div":_[0].type==="float32"&&(ut="_div_f32",ct="float32InFloat32Out");break;case"PRelu":_[0].type==="float32"&&(ut="_prelu_f32",ct="float32InFloat32Out");break;case"Xor":ut="_xor_u8",ct="boolInBoolOut";break;case"Or":ut="_or_u8",ct="boolInBoolOut";break;case"And":ut="_and_u8",ct="boolInBoolOut";break;default:throw Error("unsupported binary op by the Wasm backend")}if(ct==="float32InFloat32Out")lt=new rt.Tensor(tt,"float32"),st.WasmBinding.getInstance().ccall(ut,[_[0].floatData,"float32ptr"],[_[0].dims.length,"int32"],[_[0].dims,"int32ptr"],[_[1].floatData,"float32ptr"],[_[1].dims.length,"int32"],[_[1].dims,"int32ptr"],[lt.floatData,"float32ptr","out"],[lt.floatData.length,"int32"],[tt.length,"int32"],[tt,"int32ptr"]);else{if(ct!=="boolInBoolOut")throw new Error("Unsupported binary op format. Probably unsupported data types.");lt=new rt.Tensor(tt,"bool"),st.WasmBinding.getInstance().ccall(ut,[_[0].integerData,"boolptr"],[_[0].dims.length,"int32"],[_[0].dims,"int32ptr"],[_[1].integerData,"boolptr"],[_[1].dims.length,"int32"],[_[1].dims,"int32ptr"],[lt.integerData,"boolptr","out"],[lt.integerData.length,"int32"],[tt.length,"int32"],[tt,"int32ptr"])}return[lt]},et}(_e.BinaryOp);e.WasmBinaryOp=ot},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)});Object.defineProperty(e,"__esModule",{value:!0}),e.WasmClip=void 0;var _e=s(49),rt=s(1),at=s(4),st=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){var _=new rt.Tensor(d[0].dims,d[0].type),tt=_.floatData.length;if(d[0].type!=="float32")throw new Error("Unsupported input type for Clip operator.");return at.WasmBinding.getInstance().ccall("_clip_f32",[d[0].floatData,"float32ptr"],[_.floatData,"float32ptr","out"],[tt,"int32"],[this.min,"float32"],[this.max,"float32"]),[_]},nt.prototype.checkInputTypes=function(et){return et[0].type==="float32"},nt}(_e.Clip);e.WasmClip=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(d,_){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,lt){tt.__proto__=lt}||function(tt,lt){for(var ut in lt)lt.hasOwnProperty(ut)&&(tt[ut]=lt[ut])})(d,_)},function(d,_){function tt(){this.constructor=d}h(d,_),d.prototype=_===null?Object.create(_):(tt.prototype=_.prototype,new tt)}),_e=this&&this.__awaiter||function(d,_,tt,lt){return new(tt||(tt=Promise))(function(ut,ct){function ft(gt){try{ht(lt.next(gt))}catch(yt){ct(yt)}}function dt(gt){try{ht(lt.throw(gt))}catch(yt){ct(yt)}}function ht(gt){var yt;gt.done?ut(gt.value):(yt=gt.value,yt instanceof tt?yt:new tt(function(vt){vt(yt)})).then(ft,dt)}ht((lt=lt.apply(d,_||[])).next())})},rt=this&&this.__generator||function(d,_){var tt,lt,ut,ct,ft={label:0,sent:function(){if(1&ut[0])throw ut[1];return ut[1]},trys:[],ops:[]};return ct={next:dt(0),throw:dt(1),return:dt(2)},typeof Symbol=="function"&&(ct[Symbol.iterator]=function(){return this}),ct;function dt(ht){return function(gt){return function(yt){if(tt)throw new TypeError("Generator is already executing.");for(;ft;)try{if(tt=1,lt&&(ut=2&yt[0]?lt.return:yt[0]?lt.throw||((ut=lt.return)&&ut.call(lt),0):lt.next)&&!(ut=ut.call(lt,yt[1])).done)return ut;switch(lt=0,ut&&(yt=[2&yt[0],ut.value]),yt[0]){case 0:case 1:ut=yt;break;case 4:return ft.label++,{value:yt[1],done:!1};case 5:ft.label++,lt=yt[1],yt=[0];continue;case 7:yt=ft.ops.pop(),ft.trys.pop();continue;default:if(ut=ft.trys,!((ut=ut.length>0&&ut[ut.length-1])||yt[0]!==6&&yt[0]!==2)){ft=0;continue}if(yt[0]===3&&(!ut||yt[1]>ut[0]&&yt[1]<ut[3])){ft.label=yt[1];break}if(yt[0]===6&&ft.label<ut[1]){ft.label=ut[1],ut=yt;break}if(ut&&ft.label<ut[2]){ft.label=ut[2],ft.ops.push(yt);break}ut[2]&&ft.ops.pop(),ft.trys.pop();continue}yt=_.call(d,ft)}catch(vt){yt=[6,vt],lt=0}finally{tt=ut=0}if(5&yt[0])throw yt[1];return{value:yt[0]?yt[1]:void 0,done:!0}}([ht,gt])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.WasmConv=void 0;var at=s(16),st=s(1),ot=s(0),nt=s(4),et=function(d){function _(){return d!==null&&d.apply(this,arguments)||this}return b(_,d),_.prototype.run=function(tt,lt){return _e(this,void 0,void 0,function(){var ut,ct,ft,dt,ht,gt,yt,vt,mt,bt,$t,St,Pt,_t,wt,xt,Tt,It;return rt(this,function(Ct){switch(Ct.label){case 0:if(ut=lt[0],ct=lt[1],ft=lt.length===3?lt[2]:void 0,this.kernelShape.length===0)for(dt=lt[1].dims,It=2;It<dt.length;++It)this.kernelShape.push(dt[It]);return ht=ot.PoolConvUtil.computeConvOutputShape(ut.dims,ct.dims,this.strides,this.dilations,this.kernelShape,this.pads,this.autoPad),gt=new st.Tensor(ht,ut.type),(yt=function(Rt,Ut,kt,jt){return Rt!==1||Ut!==1||kt===1||jt<=0?1:Math.min(kt,jt+1)}(ut.dims[0],this.group,ct.dims[0],nt.WasmBinding.workerNumber))!==1?[3,1]:(nt.WasmBinding.getInstance().ccall("_conv_f32",[ut.floatData,"float32ptr"],[ut.dims,"int32ptr"],[ct.floatData,"float32ptr"],[ct.dims,"int32ptr"],[gt.floatData,"float32ptr","out"],[gt.dims,"int32ptr"],[ft?ft.floatData:null,"float32ptr"],[this.dilations,"int32ptr"],[this.group,"int32"],[this.pads,"int32ptr"],[this.strides,"int32ptr"]),[2,[gt]]);case 1:for((vt=ct.dims.slice(0))[0]=Math.floor(ct.dims[0]/yt),mt=vt[0]*vt[1]*vt[2]*vt[3],(bt=ct.dims.slice(0))[0]=ct.dims[0]-(yt-1)*vt[0],$t=[1,vt[0],ht[2],ht[3]],St=vt[0]*ht[2]*ht[3],Pt=[1,bt[0],ht[2],ht[3]],_t=new Array(yt),wt=new Array(yt),xt=new Array(yt),Tt=new Array(yt-1),It=0;It<yt;++It)It!==yt-1?(_t[It]=ct.floatData.subarray(It*mt,(It+1)*mt),wt[It]=gt.floatData.subarray(It*St,(It+1)*St),ft&&(xt[It]=ft.floatData.subarray(It*vt[0],(It+1)*vt[0])),Tt[It]=nt.WasmBinding.getInstance().ccallRemote(It,"_conv_f32",[ut.floatData,"float32ptr"],[ut.dims,"int32ptr"],[_t[It],"float32ptr"],[vt,"int32ptr"],[wt[It],"float32ptr","out"],[$t,"int32ptr"],[xt.length>0?xt[It]:null,"float32ptr"],[this.dilations,"int32ptr"],[this.group,"int32"],[this.pads,"int32ptr"],[this.strides,"int32ptr"])):(_t[It]=ct.floatData.subarray(It*mt),wt[It]=gt.floatData.subarray(It*St),ft&&(xt[It]=ft.floatData.subarray(It*vt[0])),nt.WasmBinding.getInstance().ccall("_conv_f32",[ut.floatData,"float32ptr"],[ut.dims,"int32ptr"],[_t[It],"float32ptr"],[bt,"int32ptr"],[wt[It],"float32ptr","out"],[Pt,"int32ptr"],[xt.length>0?xt[It]:null,"float32ptr"],[this.dilations,"int32ptr"],[this.group,"int32"],[this.pads,"int32ptr"],[this.strides,"int32ptr"]));return[4,Promise.all(Tt)];case 2:return Ct.sent(),[2,[gt]]}})})},_.prototype.checkInputTypes=function(tt){return tt[0].type==="float32"&&tt[1].type==="float32"&&(tt.length!==3||tt[2].type==="float32")},_}(at.Conv);e.WasmConv=et},function(o,e,s){var h,b=this&&this.__extends||(h=function(et,d){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,tt){_.__proto__=tt}||function(_,tt){for(var lt in tt)tt.hasOwnProperty(lt)&&(_[lt]=tt[lt])})(et,d)},function(et,d){function _(){this.constructor=et}h(et,d),et.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}),_e=this&&this.__read||function(et,d){var _=typeof Symbol=="function"&&et[Symbol.iterator];if(!_)return et;var tt,lt,ut=_.call(et),ct=[];try{for(;(d===void 0||d-- >0)&&!(tt=ut.next()).done;)ct.push(tt.value)}catch(ft){lt={error:ft}}finally{try{tt&&!tt.done&&(_=ut.return)&&_.call(ut)}finally{if(lt)throw lt.error}}return ct};Object.defineProperty(e,"__esModule",{value:!0}),e.WasmGemm=void 0;var rt=s(19),at=s(1),st=s(0),ot=s(4),nt=function(et){function d(){return et!==null&&et.apply(this,arguments)||this}return b(d,et),d.prototype.run=function(_,tt){var lt=tt[0],ut=tt[1],ct=tt[2],ft=_e(st.GemmUtil.getShapeOfGemmResult(lt.dims,this.transA,ut.dims,this.transB,ct==null?void 0:ct.dims),2),dt=ft[0],ht=ft[1],gt=new at.Tensor([dt,ht],lt.type);if(ct&&!st.BroadcastUtil.calc(gt,ct,function(yt,vt){return vt},!0))throw new Error("c is not broadcastable to the shape of the result of the Gemm operator");return ot.WasmBinding.getInstance().ccall("_gemm_f32",[this.transA,"bool"],[this.transB,"bool"],[this.transA?lt.dims[1]:lt.dims[0],"int32"],[this.transB?ut.dims[0]:ut.dims[1],"int32"],[this.transA?lt.dims[0]:lt.dims[1],"int32"],[this.alpha,"float32"],[lt.floatData,"float32ptr"],[ut.floatData,"float32ptr"],[this.beta,"float32"],[gt.floatData,"float32ptr","inout"]),[gt]},d.prototype.checkInputTypes=function(_){return _[0].type==="float32"&&_[1].type==="float32"&&_[2].type==="float32"&&_[0].type===_[1].type&&_[0].type===_[2].type},d}(rt.Gemm);e.WasmGemm=nt},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)});Object.defineProperty(e,"__esModule",{value:!0}),e.WasmInstanceNormalization=void 0;var _e=s(20),rt=s(1),at=s(4),st=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){for(var _=d[0],tt=d[1],lt=d[2],ut=1,ct=2;ct<_.dims.length;ct++)ut*=_.dims[ct];var ft=new rt.Tensor(_.dims,_.type);return at.WasmBinding.getInstance().ccall("_instance_normalization_f32",[_.floatData,"float32ptr"],[ft.floatData,"float32ptr","out"],[_.dims[0],"int32"],[_.dims[1],"int32"],[ut,"int32"],[tt.floatData,"float32ptr"],[lt.floatData,"float32ptr"],[this.epsilon,"float32"]),[ft]},nt.prototype.checkInputTypes=function(et){var d=et[0],_=et[1],tt=et[2];return!(d.dims.length<3||_.dims.length!==1||tt.dims.length!==1)&&_.dims[0]===d.dims[1]&&tt.dims[0]===d.dims[1]&&d.type==="float32"&&_.type==="float32"&&tt.type==="float32"},nt}(_e.InstanceNormalization);e.WasmInstanceNormalization=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(et,d){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,tt){_.__proto__=tt}||function(_,tt){for(var lt in tt)tt.hasOwnProperty(lt)&&(_[lt]=tt[lt])})(et,d)},function(et,d){function _(){this.constructor=et}h(et,d),et.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}),_e=this&&this.__read||function(et,d){var _=typeof Symbol=="function"&&et[Symbol.iterator];if(!_)return et;var tt,lt,ut=_.call(et),ct=[];try{for(;(d===void 0||d-- >0)&&!(tt=ut.next()).done;)ct.push(tt.value)}catch(ft){lt={error:ft}}finally{try{tt&&!tt.done&&(_=ut.return)&&_.call(ut)}finally{if(lt)throw lt.error}}return ct};Object.defineProperty(e,"__esModule",{value:!0}),e.WasmMatMul=void 0;var rt=s(18),at=s(1),st=s(0),ot=s(4),nt=function(et){function d(){return et!==null&&et.apply(this,arguments)||this}return b(d,et),d.prototype.run=function(_,tt){var lt=_e(st.MatMulUtil.preprocessInputShapes(tt[0].dims,tt[1].dims),2),ut=lt[0],ct=lt[1],ft=st.BroadcastUtil.calcShape(ut,ct,!0);if(!ft)throw new Error("input dimensions do not match the requirement");var dt=st.ShapeUtil.size(ft),ht=new Float32Array(dt);ot.WasmBinding.getInstance().ccall("_matmul_f32",[tt[0].floatData,"float32ptr"],[tt[0].dims,"int32ptr"],[tt[0].dims.length,"int32"],[tt[1].floatData,"float32ptr"],[tt[1].dims,"int32ptr"],[tt[1].dims.length,"int32"],[ht,"float32ptr","out"],[ht.length,"int32"],[ft,"int32ptr"],[ft.length,"int32"]),st.MatMulUtil.postprocessOutputShape(ft,tt[0].dims.length,tt[1].dims.length);var gt=new at.Tensor(ft,tt[0].type);return gt.floatData.set(ht),[gt]},d.prototype.checkInputTypes=function(_){return _[0].type==="float32"&&_[1].type==="float32"&&_[0].type===_[1].type},d}(rt.MatMul);e.WasmMatMul=nt},function(o,e,s){var h,b=this&&this.__extends||(h=function(gt,yt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vt,mt){vt.__proto__=mt}||function(vt,mt){for(var bt in mt)mt.hasOwnProperty(bt)&&(vt[bt]=mt[bt])})(gt,yt)},function(gt,yt){function vt(){this.constructor=gt}h(gt,yt),gt.prototype=yt===null?Object.create(yt):(vt.prototype=yt.prototype,new vt)}),_e=this&&this.__awaiter||function(gt,yt,vt,mt){return new(vt||(vt=Promise))(function(bt,$t){function St(wt){try{_t(mt.next(wt))}catch(xt){$t(xt)}}function Pt(wt){try{_t(mt.throw(wt))}catch(xt){$t(xt)}}function _t(wt){var xt;wt.done?bt(wt.value):(xt=wt.value,xt instanceof vt?xt:new vt(function(Tt){Tt(xt)})).then(St,Pt)}_t((mt=mt.apply(gt,yt||[])).next())})},rt=this&&this.__generator||function(gt,yt){var vt,mt,bt,$t,St={label:0,sent:function(){if(1&bt[0])throw bt[1];return bt[1]},trys:[],ops:[]};return $t={next:Pt(0),throw:Pt(1),return:Pt(2)},typeof Symbol=="function"&&($t[Symbol.iterator]=function(){return this}),$t;function Pt(_t){return function(wt){return function(xt){if(vt)throw new TypeError("Generator is already executing.");for(;St;)try{if(vt=1,mt&&(bt=2&xt[0]?mt.return:xt[0]?mt.throw||((bt=mt.return)&&bt.call(mt),0):mt.next)&&!(bt=bt.call(mt,xt[1])).done)return bt;switch(mt=0,bt&&(xt=[2&xt[0],bt.value]),xt[0]){case 0:case 1:bt=xt;break;case 4:return St.label++,{value:xt[1],done:!1};case 5:St.label++,mt=xt[1],xt=[0];continue;case 7:xt=St.ops.pop(),St.trys.pop();continue;default:if(bt=St.trys,!((bt=bt.length>0&&bt[bt.length-1])||xt[0]!==6&&xt[0]!==2)){St=0;continue}if(xt[0]===3&&(!bt||xt[1]>bt[0]&&xt[1]<bt[3])){St.label=xt[1];break}if(xt[0]===6&&St.label<bt[1]){St.label=bt[1],bt=xt;break}if(bt&&St.label<bt[2]){St.label=bt[2],St.ops.push(xt);break}bt[2]&&St.ops.pop(),St.trys.pop();continue}xt=yt.call(gt,St)}catch(Tt){xt=[6,Tt],mt=0}finally{vt=bt=0}if(5&xt[0])throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}([_t,wt])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.WasmGlobalMaxPool=e.WasmMaxPool=e.WasmGlobalAveragePool=e.WasmAveragePool=void 0;var at=s(21),st=s(1),ot=s(0),nt=s(4),et=function(gt){function yt(){return gt!==null&&gt.apply(this,arguments)||this}return b(yt,gt),yt.prototype.checkInputTypes=function(vt){return lt(vt)},yt.prototype.run=function(vt,mt){return _e(this,void 0,void 0,function(){return rt(this,function(bt){return[2,ut(mt[0],this.autoPad,this.countIncludePad,this.kernelShape,this.pads,this.strides)]})})},yt}(at.AveragePool);e.WasmAveragePool=et;var d=function(gt){function yt(){return gt!==null&&gt.apply(this,arguments)||this}return b(yt,gt),yt.prototype.checkInputTypes=function(vt){return lt(vt)},yt.prototype.run=function(vt,mt){return _e(this,void 0,void 0,function(){return rt(this,function(bt){return[2,ct(mt[0])]})})},yt}(at.GlobalAveragePool);e.WasmGlobalAveragePool=d;var _=function(gt){function yt(){return gt!==null&&gt.apply(this,arguments)||this}return b(yt,gt),yt.prototype.checkInputTypes=function(vt){return lt(vt)},yt.prototype.run=function(vt,mt){return _e(this,void 0,void 0,function(){return rt(this,function(bt){return[2,ft(mt[0],this.autoPad,this.kernelShape,this.pads,this.strides)]})})},yt}(at.MaxPool);e.WasmMaxPool=_;var tt=function(gt){function yt(){return gt!==null&&gt.apply(this,arguments)||this}return b(yt,gt),yt.prototype.checkInputTypes=function(vt){return lt(vt)},yt.prototype.run=function(vt,mt){return _e(this,void 0,void 0,function(){return rt(this,function(bt){return[2,dt(mt[0])]})})},yt}(at.GlobalMaxPool);function lt(gt){return gt[0].type==="float32"}function ut(gt,yt,vt,mt,bt,$t){return _e(this,void 0,void 0,function(){return rt(this,function(St){return[2,ht(!1,1,gt,yt,vt,mt,bt,$t)]})})}function ct(gt){return _e(this,void 0,void 0,function(){return rt(this,function(yt){return[2,ht(!0,1,gt,"NOTSET",!1,[],[],[])]})})}function ft(gt,yt,vt,mt,bt){return _e(this,void 0,void 0,function(){return rt(this,function($t){return[2,ht(!1,2,gt,yt,!1,vt,mt,bt)]})})}function dt(gt){return _e(this,void 0,void 0,function(){return rt(this,function(yt){return[2,ht(!0,2,gt,"NOTSET",!1,[],[],[])]})})}function ht(gt,yt,vt,mt,bt,$t,St,Pt){return _e(this,void 0,void 0,function(){var _t,wt,xt,Tt,It,Ct,Rt,Ut,kt,jt,Vt,Gt,Yt,er;return rt(this,function(nr){switch(nr.label){case 0:switch(_t="",yt){case 1:_t="_average_pool_f32";break;case 2:_t="_max_pool_f32";break;default:throw new Error("unknown pool type")}return ot.PoolConvUtil.adjustPoolAttributes(gt,vt.dims,$t,Pt,St),wt=ot.PoolConvUtil.computePoolOutputShape(gt,vt.dims,Pt,$t,St,mt),xt=new st.Tensor(wt,vt.type),(Tt=function(Et,Ot,At){return Et!==1||Ot===1||At<=0?1:Math.min(Ot,At+1)}(vt.dims[0],vt.dims[1],nt.WasmBinding.workerNumber))!==1?[3,1]:(nt.WasmBinding.getInstance().ccall(_t,[$t.length,"int32"],[gt,"bool"],[vt.floatData,"float32ptr"],[vt.dims,"int32ptr"],[xt.floatData,"float32ptr","out"],[xt.dims,"int32ptr"],[$t,"int32ptr"],[St,"int32ptr"],[Pt,"int32ptr"],[bt,"bool"]),[3,3]);case 1:for((It=vt.dims.slice(0))[1]=Math.floor(vt.dims[1]/Tt),Ct=ot.ShapeUtil.size(It),(Rt=vt.dims.slice(0))[1]=vt.dims[1]-(Tt-1)*It[1],(Ut=wt.slice(0))[1]=It[1],kt=ot.ShapeUtil.size(Ut),(jt=wt.slice(0))[1]=Rt[1],Vt=new Array(Tt-1),Gt=vt.floatData,Yt=xt.floatData,er=0;er<Tt;++er)er!==Tt-1?Vt[er]=nt.WasmBinding.getInstance().ccallRemote(er,_t,[$t.length,"int32"],[gt,"bool"],[Gt.subarray(er*Ct,(er+1)*Ct),"float32ptr"],[It,"int32ptr"],[Yt.subarray(er*kt,(er+1)*kt),"float32ptr","out"],[Ut,"int32ptr"],[$t,"int32ptr"],[St,"int32ptr"],[Pt,"int32ptr"],[bt,"bool"]):nt.WasmBinding.getInstance().ccall(_t,[$t.length,"int32"],[gt,"bool"],[Gt.subarray((Tt-1)*Ct),"float32ptr"],[Rt,"int32ptr"],[Yt.subarray((Tt-1)*kt),"float32ptr","out"],[jt,"int32ptr"],[$t,"int32ptr"],[St,"int32ptr"],[Pt,"int32ptr"],[bt,"bool"]);return[4,Promise.all(Vt)];case 2:nr.sent(),nr.label=3;case 3:return[2,[xt]]}})})}e.WasmGlobalMaxPool=tt},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.WasmSoftmax=void 0;var _e=s(22),rt=s(1),at=s(0),st=s(4),ot=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.run=function(d,_){var tt=_[0],lt=at.ShapeUtil.normalizeAxis(this.axis,tt.dims.length),ut=at.ShapeUtil.sizeToDimension(tt.dims,lt),ct=at.ShapeUtil.sizeFromDimension(tt.dims,lt),ft=new rt.Tensor(tt.dims,tt.type);return st.WasmBinding.getInstance().ccall("_softmax_f32",[tt.floatData,"float32ptr"],[ft.floatData,"float32ptr","out"],[ut,"int32"],[ct,"int32"]),[ft]},et.prototype.checkInputTypes=function(d){return d[0].type==="float32"},et}(_e.Softmax);e.WasmSoftmax=ot},function(o,e,s){var h,b=this&&this.__extends||(h=function(et,d){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,tt){_.__proto__=tt}||function(_,tt){for(var lt in tt)tt.hasOwnProperty(lt)&&(_[lt]=tt[lt])})(et,d)},function(et,d){function _(){this.constructor=et}h(et,d),et.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}),_e=this&&this.__read||function(et,d){var _=typeof Symbol=="function"&&et[Symbol.iterator];if(!_)return et;var tt,lt,ut=_.call(et),ct=[];try{for(;(d===void 0||d-- >0)&&!(tt=ut.next()).done;)ct.push(tt.value)}catch(ft){lt={error:ft}}finally{try{tt&&!tt.done&&(_=ut.return)&&_.call(ut)}finally{if(lt)throw lt.error}}return ct},rt=this&&this.__spread||function(){for(var et=[],d=0;d<arguments.length;d++)et=et.concat(_e(arguments[d]));return et};Object.defineProperty(e,"__esModule",{value:!0}),e.WasmSum=void 0;var at=s(23),st=s(1),ot=s(4),nt=function(et){function d(){return et!==null&&et.apply(this,arguments)||this}return b(d,et),d.prototype.run=function(_,tt){for(var lt,ut=new st.Tensor(tt[0].dims,tt[0].type),ct=tt[0].floatData.length,ft=new Array(tt.length),dt=0;dt<tt.length;dt++)ft[dt]=[tt[dt].floatData,"float32ptr"];return(lt=ot.WasmBinding.getInstance()).ccall.apply(lt,rt(["_sum_f32",[tt.length,"int32"],[ct,"int32"],[ut.floatData,"float32ptr","inout"]],ft)),[ut]},d.prototype.checkInputTypes=function(_){if(_[0].type!=="float32")return!1;for(var tt=1;tt<_.length;tt++)if(_[0].type!==_[tt].type)return!1;return!0},d}(at.Sum);e.WasmSum=nt},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLBackend=void 0;var h=s(3),b=s(120),_e=s(165),rt=function(){function at(){}return at.prototype.initialize=function(){try{return this.glContext=_e.createWebGLContext(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),h.Logger.verbose("WebGLBackend","Created WebGLContext: "+typeof this.glContext),!0}catch(st){return h.Logger.warning("WebGLBackend","Unable to initialize WebGLBackend. "+st),!1}},at.prototype.createSessionHandler=function(st){return new b.WebGLSessionHandler(this,st)},at.prototype.dispose=function(){this.glContext.dispose()},at}();e.WebGLBackend=rt},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLSessionHandler=void 0;var h=s(3),b=s(11),_e=s(121),rt=s(123),at=s(154),st=s(163),ot=s(164),nt=function(){function et(d,_){this.backend=d,this.context=_,this.programManager=new at.ProgramManager(this.context.profiler,d.glContext),this.layoutStrategy=new st.AlwaysKeepOriginalSizeStrategy(d.glContext.maxTextureSize),this.textureManager=new ot.TextureManager(d.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:d.textureCacheMode==="full"}),this.textureDataCache=new Map}return et.prototype.createInferenceHandler=function(){return new _e.WebGLInferenceHandler(this)},et.prototype.onGraphInitialized=function(d){var _=d.getValues().filter(function(tt){return tt.from===-1&&tt.tensor}).map(function(tt){return tt.tensor.dataId});this.initializers=new Set(_)},et.prototype.isInitializer=function(d){return!!this.initializers&&this.initializers.has(d)},et.prototype.getTextureData=function(d){return this.textureDataCache.get(d)},et.prototype.setTextureData=function(d,_){h.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),this.textureDataCache.set(d,_)},et.prototype.dispose=function(){var d=this;this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.textureDataCache.forEach(function(_){return d.textureManager.releaseTexture(_,!0)}),this.textureDataCache=new Map},et.prototype.resolve=function(d,_){var tt=b.resolveOperator(d,_,rt.WEBGL_OP_RESOLVE_RULES);return tt.initialize(d.attributes),tt},et}();e.WebGLSessionHandler=nt},function(o,e,s){var h=this&&this.__assign||function(){return(h=Object.assign||function(et){for(var d,_=1,tt=arguments.length;_<tt;_++)for(var lt in d=arguments[_])Object.prototype.hasOwnProperty.call(d,lt)&&(et[lt]=d[lt]);return et}).apply(this,arguments)},b=this&&this.__read||function(et,d){var _=typeof Symbol=="function"&&et[Symbol.iterator];if(!_)return et;var tt,lt,ut=_.call(et),ct=[];try{for(;(d===void 0||d-- >0)&&!(tt=ut.next()).done;)ct.push(tt.value)}catch(ft){lt={error:ft}}finally{try{tt&&!tt.done&&(_=ut.return)&&_.call(ut)}finally{if(lt)throw lt.error}}return ct};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLInferenceHandler=void 0;var _e=s(3),rt=s(1),at=s(0),st=s(122),ot=s(50),nt=function(){function et(d){this.session=d,this.textureDataCache=new Map}return et.prototype.run=function(d,_){var tt=this.session.programManager.getArtifact(d);if(!tt){var lt=d.createProgramInfo(this,_);tt=this.session.programManager.build(lt),this.session.programManager.setArtifact(d,tt)}var ut=d.createRunData(this,tt.programInfo,_);return this.session.programManager.run(tt,ut),[ut.outputTextureData.tensor]},et.prototype.getOrCreateTextureData=function(d,_){var tt=this.getTextureData(d.dataId);return tt?_e.Logger.verbose("InferenceHandler","Retrieving TextureData from cache: ["+d.dims+"]"):(_e.Logger.verbose("InferenceHandler","Creating new TextureData for dims: ["+d.dims+"]"),_||(_=this.createTextureLayoutFromShape(d.dims.slice())),tt=this.createTextureData(_,d.type,d.numberData,d,1)),tt},et.prototype.createTextureDataFromLayout=function(d,_){return this.createTextureData(d,_)},et.prototype.createTextureDataFromLayoutBindTensor=function(d,_,tt,lt){return this.createTextureData(d,_,tt,lt,1)},et.prototype.createTextureData=function(d,_,tt,lt,ut){_e.Logger.verbose("InferenceHandler","Creating TextureData: layout:["+JSON.stringify(d)+"]");var ct=this.session.textureManager.createTextureFromLayout(_,d,tt,ut);return this.createTextureDataFromTexture(d,_,ct,lt)},et.prototype.createSharedTextureData=function(d,_,tt,lt){return this.createTextureDataFromTexture(d,_,tt,void 0,lt)},et.prototype.createTextureDataFromTexture=function(d,_,tt,lt,ut){var ct=this,ft=h(h({},d),{tensor:lt||new rt.Tensor(d.unpackedShape,_,function(dt){return ct.readTexture(ft)},void 0,void 0,ut),texture:tt});return this.setTextureData(ft.tensor.dataId,ft),ft},et.prototype.getTextureData=function(d){return this.session.isInitializer(d)?this.session.getTextureData(d):this.textureDataCache.get(d)},et.prototype.setTextureData=function(d,_){this.session.isInitializer(d)?this.session.setTextureData(d,_):this.textureDataCache.set(d,_)},et.prototype.getOrCreateTextureLayout=function(d,_,tt){_===void 0&&(_=1);var lt=this.getTextureData(d.dataId);return lt||this.createTextureLayoutFromShape(_===1?d.dims.slice():ot.getPackedShape(d.dims.slice()),_,tt)},et.prototype.createTextureLayoutFromShape=function(d,_,tt,lt){_===void 0&&(_=1);var ut=b(this.session.layoutStrategy.computeTextureWH(d,lt),2),ct=ut[0],ft=ut[1],dt=d;if(d.length===0&&(dt=[1]),_===1)tt=d;else if(!tt)throw new Error("Unpacked shape is needed when using channels > 1");return{width:ct,height:ft,channels:_||1,shape:dt,strides:at.ShapeUtil.computeStrides(dt),unpackedShape:tt}},et.prototype.dispose=function(){var d=this;this.session.textureManager.clearActiveTextures(),this.textureDataCache.forEach(function(_){return d.session.textureManager.releaseTexture(_)}),this.textureDataCache=new Map},et.prototype.readTexture=function(d){if(!this.session.backend.glContext.isFloat32DownloadSupported){var _=new st.WebGLUint8Encode().runInternal(this,d);return this.session.textureManager.readUint8TextureAsFloat(_)}return this.session.textureManager.readTexture(d,d.tensor.type,d.channels)},et}();e.WebGLInferenceHandler=nt},function(o,e,s){var h=this&&this.__read||function(at,st){var ot=typeof Symbol=="function"&&at[Symbol.iterator];if(!ot)return at;var nt,et,d=ot.call(at),_=[];try{for(;(st===void 0||st-- >0)&&!(nt=d.next()).done;)_.push(nt.value)}catch(tt){et={error:tt}}finally{try{nt&&!nt.done&&(ot=d.return)&&ot.call(d)}finally{if(et)throw et.error}}return _};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLUint8Encode=void 0;var b=s(0),_e=s(2),rt=function(){function at(){}return at.prototype.runInternal=function(st,ot){var nt=ot.shape,et=h(st.session.layoutStrategy.computeTextureWH(ot.shape),2),d={width:et[0],height:et[1],channels:4,shape:nt,strides:b.ShapeUtil.computeStrides(nt),unpackedShape:nt},_=_e.getGlsl(st.session.backend.glContext.version),tt={inputLayouts:[ot],outputLayout:d,samplers:["X"],shaderSource:`
      const float FLOAT_MAX = 1.70141184e38;
      const float FLOAT_MIN = 1.17549435e-38;

      bool isNaN(float val) {
        return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
      }

      highp vec4 encodeAsUint8(highp float v) {
        if (isNaN(v)) {
          return vec4(255, 255, 255, 255);
        }

        highp float av = abs(v);

        if(av < FLOAT_MIN) {
          return vec4(0.0, 0.0, 0.0, 0.0);
        } else if(v > FLOAT_MAX) {
          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
        } else if(v < -FLOAT_MAX) {
          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
        }

        highp vec4 c = vec4(0,0,0,0);

        highp float e = floor(log2(av));
        highp float m = exp2(fract(log2(av))) - 1.0;

        c[2] = floor(128.0 * m);
        m -= c[2] / 128.0;
        c[1] = floor(32768.0 * m);
        m -= c[1] / 32768.0;
        c[0] = floor(8388608.0 * m);

        highp float ebias = e + 127.0;
        c[3] = floor(ebias / 2.0);
        ebias -= c[3] * 2.0;
        c[2] += floor(ebias) * 128.0;

        c[3] += 128.0 * step(0.0, -v);

        return c / 255.0;
      }

      void main() {
        float value = `+_.texture2D+`(X,TexCoords).r;
        `+_.output+` = encodeAsUint8(value);
      }`,hasMain:!0},lt=st.session.programManager.build(tt),ut=st.session.backend.glContext.getEncoder("byte",4),ct=st.session.backend.glContext.allocateTexture(d.width,d.height,ut),ft={inputTextureDatas:[ot],outputTextureData:st.createSharedTextureData(d,"uint8",ct,{}),uniformData:{}};return st.session.programManager.run(lt,ft),ft.outputTextureData},at}();e.WebGLUint8Encode=rt},function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(Rt,Ut,kt,jt){jt===void 0&&(jt=kt),Object.defineProperty(Rt,jt,{enumerable:!0,get:function(){return Ut[kt]}})}:function(Rt,Ut,kt,jt){jt===void 0&&(jt=kt),Rt[jt]=Ut[kt]}),b=this&&this.__setModuleDefault||(Object.create?function(Rt,Ut){Object.defineProperty(Rt,"default",{enumerable:!0,value:Ut})}:function(Rt,Ut){Rt.default=Ut}),_e=this&&this.__importStar||function(Rt){if(Rt&&Rt.__esModule)return Rt;var Ut={};if(Rt!=null)for(var kt in Rt)kt!=="default"&&Object.hasOwnProperty.call(Rt,kt)&&h(Ut,Rt,kt);return b(Ut,Rt),Ut};Object.defineProperty(e,"__esModule",{value:!0}),e.WEBGL_OP_RESOLVE_RULES=void 0;var rt=s(7),at=s(124),st=_e(s(125)),ot=s(126),nt=s(127),et=s(128),d=s(129),_=s(130),tt=s(132),lt=s(133),ut=s(134),ct=s(135),ft=s(136),dt=s(137),ht=s(139),gt=s(140),yt=s(141),vt=_e(s(142)),mt=s(10),bt=s(143),$t=s(144),St=s(145),Pt=s(147),_t=s(148),wt=s(149),xt=s(150),Tt=_e(s(151)),It=s(152),Ct=s(153);e.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",function(){return new Tt.WebGLUnaryOp(rt.NUMBER_TYPES,Tt.glslAbs())}],["Acos","","7+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslAcos())}],["Add","","7+",function(){return new st.WebGLBinaryOp(rt.NUMBER_TYPES,st.glslAdd())}],["And","","7+",function(){return new st.WebGLBinaryOp(["bool"],st.glslAnd())}],["Asin","","7+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslAsin())}],["Atan","","7+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslAtan())}],["AveragePool","","7-10",function(){return new yt.WebGLAveragePool}],["BatchNormalization","","7+",function(){return new at.WebGLBatchNormalization}],["Ceil","","6+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslCeil())}],["Clip","","6-10",function(){return new ot.WebGLClip}],["Concat","","4+",function(){return new nt.WebGLConcat}],["Conv","","1+",function(){return new et.WebGLConv}],["Cos","","7+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslCos())}],["Div","","7+",function(){return new st.WebGLBinaryOp(rt.NUMBER_TYPES,st.glslDiv())}],["Dropout","","7+",function(){return new d.WebGLDropout}],["Equal","","7+",function(){return new st.WebGLBinaryOp(rt.NUMBER_TYPES,st.glslEqual(),void 0,"bool")}],["Elu","","6+",function(){return new _.WebGLElu}],["Exp","","6+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslExp())}],["Flatten","","1+",function(){return new tt.WebGLFlatten}],["Floor","","6+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslFloor())}],["Gather","","1+",function(){return new lt.WebGLGather}],["Gemm","","7-10",function(){return new ut.WebGLGemm(!1)}],["Gemm","","11+",function(){return new ut.WebGLGemm(!0)}],["GlobalAveragePool","","1+",function(){return new yt.WebGLGlobalAveragePool}],["GlobalMaxPool","","1+",function(){return new yt.WebGLGlobalMaxPool}],["Greater","","7+",function(){return new st.WebGLBinaryOp(rt.NUMBER_TYPES,st.glslGreater(),void 0,"bool")}],["Identity","","1+",function(){return new Tt.WebGLUnaryOp(rt.NUMBER_TYPES,Tt.glslIdentity())}],["ImageScaler","","1+",function(){return new ct.WebGLImageScaler}],["InstanceNormalization","","6+",function(){return new ft.WebGLInstanceNormalization}],["LeakyRelu","","6+",function(){return new dt.WebGLLeakyRelu}],["Less","","7+",function(){return new st.WebGLBinaryOp(rt.NUMBER_TYPES,st.glslLess(),void 0,"bool")}],["Log","","6+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslLog())}],["MatMul","","1+",function(){return new ht.WebGLMatMul}],["MaxPool","","1-9",function(){return new yt.WebGLMaxPool}],["Mul","","7+",function(){return new st.WebGLBinaryOp(rt.NUMBER_TYPES,st.glslMul())}],["Neg","","6+",function(){return new Tt.WebGLUnaryOp(rt.NUMBER_TYPES,Tt.glslNeg())}],["Not","","1+",function(){return new Tt.WebGLUnaryOp(["bool"],Tt.glslNot())}],["Or","","7+",function(){return new st.WebGLBinaryOp(["bool"],st.glslOr())}],["Pad","","2-10",function(){return new gt.WebGLPad}],["Pow","","7+",function(){return new st.WebGLBinaryOp(rt.FLOAT_TYPES,st.glslPow())}],["PRelu","","7+",function(){return new st.WebGLBinaryOp(rt.FLOAT_TYPES,st.glslPRelu())}],["ReduceLogSum","","1+",function(){return new vt.WebGLReduceLogSum}],["ReduceMax","","1+",function(){return new vt.WebGLReduceMax}],["ReduceMean","","1+",function(){return new vt.WebGLReduceMean}],["ReduceMin","","1+",function(){return new vt.WebGLReduceMin}],["ReduceProd","","1+",function(){return new vt.WebGLReduceProd}],["ReduceSum","","1+",function(){return new vt.WebGLReduceSum}],["ReduceSumSquare","","1+",function(){return new vt.WebGLReduceSumSquare}],["Relu","","6+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslRelu())}],["Reshape","","5+",function(){return new mt.WebGLReshape}],["Sigmoid","","6+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslSigmoid())}],["Sin","","7+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslSin())}],["Slice","","10+",function(){return new bt.WebGLSliceV10}],["Slice","","1-9",function(){return new bt.WebGLSlice}],["Softmax","","1+",function(){return new $t.WebGLSoftmax}],["Split","","2+",function(Rt){return new St.WebGLSplit(Rt.outputs.length)}],["Sqrt","","6+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslSqrt())}],["Squeeze","","1+",function(){return new Pt.WebGLSqueeze}],["Sub","","7+",function(){return new st.WebGLBinaryOp(rt.NUMBER_TYPES,st.glslSub())}],["Sum","","6+",function(){return new _t.WebGLSum}],["Tan","","7+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslTan())}],["Tanh","","6+",function(){return new Tt.WebGLUnaryOp(rt.FLOAT_TYPES,Tt.glslTanh())}],["Tile","","6+",function(){return new wt.WebGLTile}],["Transpose","","1+",function(){return new xt.WebGLTranspose}],["Upsample","","7-8",function(){return new Ct.WebGLUpsample}],["Unsqueeze","","1+",function(){return new It.WebGLUnsqueeze}],["Xor","","7+",function(){return new st.WebGLBinaryOp(["bool"],st.glslXor())}]]},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLBatchNormalization=void 0;var _e=s(14),rt=s(2),at=function(st){function ot(){return st!==null&&st.apply(this,arguments)||this}return b(ot,st),ot.prototype.run=function(nt,et){return nt.run(this,et)},ot.prototype.createProgramInfo=function(nt,et){var d=et.map(function(ft){return nt.getOrCreateTextureLayout(ft)}),_=et[0].dims.slice(),tt=_.length,lt=d[1],ut=rt.getGlsl(nt.session.backend.glContext.version),ct=`
      float process(int[`+tt+`] indices) {
        vec2 position = offsetToCoords(indices[1], `+lt.width+", "+lt.height+`);
        float scale = getColorAsFloat(`+ut.texture2D+`(Scale, position));
        float mean = getColorAsFloat(`+ut.texture2D+`(Mean, position));
        float variance = getColorAsFloat(`+ut.texture2D+`(Variance, position));
        float b = getColorAsFloat(`+ut.texture2D+`(B, position));

        return scale * ( (_A(indices) - mean) / sqrt(variance + float(`+this.epsilon+`)) ) + b;
      }`;return{inputLayouts:d,outputLayout:nt.createTextureLayoutFromShape(_),samplers:["A","Scale","B","Mean","Variance"],shaderSource:ct}},ot.prototype.createRunData=function(nt,et,d){var _=[nt.getOrCreateTextureData(d[0],et.inputLayouts[0])];d.slice(1).forEach(function(lt){return _.push(nt.getOrCreateTextureData(lt))});var tt=nt.createTextureDataFromLayout(et.outputLayout,_[0].tensor.type);return{inputTextureDatas:_,outputTextureData:tt,uniformData:{}}},ot}(_e.BatchNormalization);e.WebGLBatchNormalization=at},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.glslPRelu=e.glslPow=e.glslXor=e.glslOr=e.glslAnd=e.glslLess=e.glslGreater=e.glslEqual=e.glslSub=e.glslMul=e.glslDiv=e.glslAdd=e.WebGLBinaryOp=void 0;var _e=s(15),rt=s(0),at=s(5),st=s(2),ot=function(nt){function et(d,_,tt,lt){var ut=nt.call(this,d,tt,lt)||this;return ut.glslFunc=_,ut}return b(et,nt),et.prototype.run=function(d,_){return d.run(this,_)},et.prototype.createProgramInfo=function(d,_){var tt=_.map(function(mt){return d.getOrCreateTextureLayout(mt)});if(!rt.ShapeUtil.areEqual(_[0].dims,_[1].dims)){var lt=rt.BroadcastUtil.calcShape(_[0].dims,_[1].dims,!1);if(!lt)throw new Error("Can't perform binary op on the given tensors");var ut=lt.length,ct=_[0].dims.length!==0?_[0].dims.length:1,ft=_[1].dims.length!==0?_[1].dims.length:1,dt=_[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",ht=_[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",gt=`
      `+this.glslFunc.body+`
      float process(int indices[`+ut+`]) {
        int aindices[`+ct+`];
        int bindices[`+ft+`];
        `+dt+`
        `+ht+`
        return `+this.glslFunc.name+`(_A(aindices), _B(bindices));
    }`;return{inputLayouts:tt,outputLayout:d.createTextureLayoutFromShape(lt),samplers:["A","B"],shaderSource:gt}}var yt=st.getGlsl(d.session.backend.glContext.version),vt=`
    `+this.glslFunc.body+`
    void main() {
      vec4 v1 = `+yt.texture2D+`(A, TexCoords);
      vec4 v2 = `+yt.texture2D+`(B, TexCoords);
      vec4 result = `+this.glslFunc.name+`(v1, v2);
      `+yt.output+` = result;
    }
    `;return{hasMain:!0,inputLayouts:tt,outputLayout:d.createTextureLayoutFromShape(_[0].dims),samplers:["A","B"],shaderSource:vt}},et.prototype.createRunData=function(d,_,tt){return{inputTextureDatas:tt.map(function(lt,ut){return d.getOrCreateTextureData(lt,_.inputLayouts[ut])}),outputTextureData:d.createTextureDataFromLayout(_.outputLayout,this.resultType?this.resultType:tt[0].type),uniformData:{}}},et}(_e.BinaryOp);e.WebGLBinaryOp=ot,e.glslAdd=function(){return{body:`
  float add_(float a, float b) {
    return a + b;
  }
  vec4 add_(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:"add_",type:at.FunctionType.ValueBased}},e.glslDiv=function(){return{body:`
  float div_(float a, float b) {
    return a / b;
  }
  vec4 div_(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:"div_",type:at.FunctionType.ValueBased}},e.glslMul=function(){return{body:`
  float mul_(float a, float b) {
    return a * b;
  }
  vec4 mul_(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:"mul_",type:at.FunctionType.ValueBased}},e.glslSub=function(){return{body:`
  float sub_(float a, float b) {
    return a - b;
  }
  vec4 sub_(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:"sub_",type:at.FunctionType.ValueBased}},e.glslEqual=function(){return{body:`
  float equal_(float a, float b) {
    return float(a == b);
  }
  vec4 equal_(vec4 v1, vec4 v2) {
    return vec4( v1 == v2 );
  }
  `,name:"equal_",type:at.FunctionType.ValueBased}},e.glslGreater=function(){var nt="greater_";return{body:`
  float greater_(float a, float b) {
    return float(a > b);
  }
  vec4 greater_(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:nt,type:at.FunctionType.ValueBased}},e.glslLess=function(){return{body:`
  float less_(float a, float b) {
    return float(a < b);
  }
  vec4 less_(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:"less_",type:at.FunctionType.ValueBased}},e.glslAnd=function(){return{body:`
  float and_(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 and_(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:"and_",type:at.FunctionType.ValueBased}},e.glslOr=function(){return{body:`
  float or_(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 or_(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:"or_",type:at.FunctionType.ValueBased}},e.glslXor=function(){return{body:`
  float xor_(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 xor_(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:"xor_",type:at.FunctionType.ValueBased}},e.glslPow=function(){return function(nt){var et=nt+"_";return{body:`
  float `+et+`(float a, float b) {
    return `+nt+`(a, b);
  }
  vec4 `+et+`(vec4 v1, vec4 v2) {
    return `+nt+`(v1, v2);
  }
  `,name:et,type:at.FunctionType.ValueBased}}("pow")},e.glslPRelu=function(){return{body:`
  float prelu_(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 prelu_(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:"prelu_",type:at.FunctionType.ValueBased}}},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLClip=void 0;var _e=s(49),rt=s(2),at=function(st){function ot(){return st!==null&&st.apply(this,arguments)||this}return b(ot,st),ot.prototype.run=function(nt,et){return nt.run(this,et)},ot.prototype.createProgramInfo=function(nt,et){var d=et[0].dims.slice(),_=rt.getGlsl(nt.session.backend.glContext.version),tt=`
      const float min = float(`+this.min+`);
      const float max = float(`+this.max+`);
      void main() {
        float v = `+_.texture2D+`(A, TexCoords).r;
        `+_.output+` = vec4(clamp(v, min, max));
      }
      `;return{inputLayouts:[nt.getOrCreateTextureLayout(et[0])],outputLayout:nt.createTextureLayoutFromShape(d),samplers:["A"],shaderSource:tt,hasMain:!0}},ot.prototype.createRunData=function(nt,et,d){var _=[nt.getOrCreateTextureData(d[0],et.inputLayouts[0])];return{inputTextureDatas:_,outputTextureData:nt.createTextureDataFromLayout(et.outputLayout,_[0].tensor.type),uniformData:{}}},ot}(_e.Clip);e.WebGLClip=at},function(o,e,s){var h,b=this&&this.__extends||(h=function(rt,at){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,ot){st.__proto__=ot}||function(st,ot){for(var nt in ot)ot.hasOwnProperty(nt)&&(st[nt]=ot[nt])})(rt,at)},function(rt,at){function st(){this.constructor=rt}h(rt,at),rt.prototype=at===null?Object.create(at):(st.prototype=at.prototype,new st)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLConcat=void 0;var _e=function(rt){function at(){return rt!==null&&rt.apply(this,arguments)||this}return b(at,rt),at.prototype.run=function(st,ot){return st.run(this,ot)},at.prototype.createProgramInfo=function(st,ot){var nt=ot[0].dims.slice();if(this.axis>=nt.length||this.axis<-1*nt.length)throw new Error("axis specified for concat doesn't match input dimensionality");this.axis<0&&(this.axis=nt.length+this.axis);for(var et=nt.slice(0),d=1;d<ot.length;d++)for(var _=ot[d].dims.slice(),tt=0;tt<nt.length;tt++)if(tt===this.axis)et[this.axis]+=_[tt];else if(nt[tt]!==_[tt])throw new Error("non concat dimensions must match");var lt=et.length,ut="";ut=ot.length<5?this.getTextureIndexWhereDataResidesLinearSearch(ot.length):this.getTextureIndexWhereDataResidesBinarySearch(ot.length);var ct=this.fetchDataFromCorrectTextureMethod(ot.length,lt),ft=this.getValueFromArrayIndexMethod(ot.length),dt=ot.map(function(gt,yt){return"X"+yt}),ht=`
      `+ct+`
      `+ft+`
      `+ut+`
      float process(int indices[`+lt+`]) {
        int textureIndex = getTextureWhereDataResides (indices[`+this.axis+`]);

        if(textureIndex != 0) {
          indices[`+this.axis+"] = indices["+this.axis+`] - int(getValueFromArrayIndex(sizeInConcatAxis, textureIndex-int(1)));
        }

        return fetchDataFromCorrectTexture(textureIndex, indices);
      }`;return{inputLayouts:ot.map(function(gt){return st.getOrCreateTextureLayout(gt)}),outputLayout:st.createTextureLayoutFromShape(et),samplers:dt,variables:[{name:"sizeInConcatAxis",type:"int",arrayLength:ot.length}],shaderSource:ht}},at.prototype.createRunData=function(st,ot,nt){for(var et=nt.map(function(ut,ct){return st.getOrCreateTextureData(ut,ot.inputLayouts[ct])}),d=new Array(ot.inputLayouts.length),_=0,tt=0;tt<ot.inputLayouts.length;++tt)_+=ot.inputLayouts[tt].shape[this.axis],d[tt]=_;var lt={sizeInConcatAxis:d};return{inputTextureDatas:et,outputTextureData:st.createTextureDataFromLayout(ot.outputLayout,et[0].tensor.type),uniformData:lt}},at.prototype.getTextureIndexWhereDataResidesLinearSearch=function(st){return`int getTextureWhereDataResides(int index) {
      for(int i=0; i<`+st+`; i++) {
          if(index < int(sizeInConcatAxis[i])){
              return i;
          }
        }
      }`},at.prototype.getTextureIndexWhereDataResidesBinarySearch=function(st){return this.getTextureIndexWhereDataResidesLinearSearch(st)},at.prototype.fetchDataFromCorrectTextureMethod=function(st,ot){for(var nt=["float fetchDataFromCorrectTexture(int textureIndex, int indices["+ot+"]) {"],et=0;et<st;++et)et===0?nt.push("	if (textureIndex == "+et+") { return _X"+et+"(indices); }"):et===st-1?nt.push("	else { return _X"+et+"(indices); }"):nt.push("	else if (textureIndex == "+et+") { return _X"+et+"(indices); }");return nt.push("	}"),nt.join(`
`)},at.prototype.getValueFromArrayIndexMethod=function(st){for(var ot=["int getValueFromArrayIndex(int arr["+st+"], int index) {"],nt=0;nt<st;++nt)nt===0?ot.push("	if (index == "+nt+") { return arr["+nt+"]; }"):nt===st-1?ot.push("	else { return arr["+nt+"]; }"):ot.push("	else if (index == "+nt+") { return arr["+nt+"]; }");return ot.push("	}"),ot.join(`
`)},at}(s(30).Concat);e.WebGLConcat=_e},function(o,e,s){var h,b=this&&this.__extends||(h=function(d,_){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,lt){tt.__proto__=lt}||function(tt,lt){for(var ut in lt)lt.hasOwnProperty(ut)&&(tt[ut]=lt[ut])})(d,_)},function(d,_){function tt(){this.constructor=d}h(d,_),d.prototype=_===null?Object.create(_):(tt.prototype=_.prototype,new tt)}),_e=this&&this.__read||function(d,_){var tt=typeof Symbol=="function"&&d[Symbol.iterator];if(!tt)return d;var lt,ut,ct=tt.call(d),ft=[];try{for(;(_===void 0||_-- >0)&&!(lt=ct.next()).done;)ft.push(lt.value)}catch(dt){ut={error:dt}}finally{try{lt&&!lt.done&&(tt=ct.return)&&tt.call(ct)}finally{if(ut)throw ut.error}}return ft},rt=this&&this.__spread||function(){for(var d=[],_=0;_<arguments.length;_++)d=d.concat(_e(arguments[_]));return d};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLConv=void 0;var at=s(3),st=s(16),ot=s(0),nt=s(2),et=function(d){function _(){var tt=d!==null&&d.apply(this,arguments)||this;return tt.readSize=8,tt.blockSize=64,tt}return b(_,d),_.prototype.run=function(tt,lt){var ut=tt.session.programManager;if(!this.artifacts){this.artifacts=[];for(var ct=this.createProgramInfos(tt,lt),ft=0;ft<ct.length;++ft){var dt=tt.session.programManager.build(ct[ft]);this.artifacts.push(dt)}}var ht=this.createRunDatas(tt,this.artifacts.map(function(gt){return gt.programInfo}),lt);return ut.run(this.artifacts[0],ht[0]),ut.run(this.artifacts[1],ht[1]),[ht[1].outputTextureData.tensor]},_.prototype.createProgramInfos=function(tt,lt){var ut=lt[0].dims.slice(),ct=lt[1].dims.slice();if(this.kernelShape.length===0)for(var ft=lt[1].dims,dt=2;dt<ft.length;++dt)this.kernelShape.push(ft[dt]);ot.PoolConvUtil.adjustPadsBasedOnAutoPad(lt[0].dims,this.strides,this.dilations,this.kernelShape,this.pads,this.autoPad),at.Logger.verbose("Conv","autpPad:"+this.autoPad+", dilations:"+this.dilations+", group:"+this.group+", kernelShape:"+this.kernelShape+", pads:"+this.pads+", strides:"+this.strides);var ht=_.calcOutputShape(ut,ct,this.dilations,this.pads,this.strides),gt=this.createIm2ColProgramInfo(tt,lt,ht);return[gt,this.createDotProductProgramInfo(tt,gt.outputLayout,lt,ht)]},_.prototype.createRunDatas=function(tt,lt,ut){var ct=ut[1],ft=ut.length>=3?ut[2]:void 0,dt=tt.getTextureData(ct.dataId);if(!dt){at.Logger.verbose("Conv","Did not find the adjustedKernel texture in the cache. Creating rew.");var ht=_.prepKernelForDotProduct(ct.dims.slice(),this.group,4,ct.floatData);dt=tt.createTextureDataFromLayoutBindTensor(lt[1].inputLayouts[1],ct.type,ht,ct)}var gt={inputTextureDatas:[tt.getOrCreateTextureData(ut[0])],outputTextureData:tt.createTextureDataFromLayout(lt[0].outputLayout,ut[0].type),uniformData:{}},yt=[gt.outputTextureData,dt];return ft&&yt.push(tt.getOrCreateTextureData(ft)),[gt,{inputTextureDatas:yt,outputTextureData:tt.createTextureDataFromLayout(lt[1].outputLayout,ut[0].type),uniformData:{},draw:function(vt,mt){for(var bt=vt.gl,$t=mt.programInfo.params.sharedDim,St=mt.programInfo.params.sharedDimReadSize,Pt=mt.uniformLocations.find(function(xt){return xt.name==="sharedDimOffset"}).location,_t=!1,wt=0;wt<$t;wt+=St)at.Logger.verbose("MatMul2D","k = "+wt+", sharedDim: "+$t+", readSize = "+St),wt===St&&(_t=!0,bt.enable(bt.BLEND),vt.checkError(),bt.blendEquation(bt.FUNC_ADD),vt.checkError(),bt.blendFunc(bt.ONE,bt.ONE),vt.checkError()),bt.uniform1i(Pt,wt),vt.checkError(),vt.draw();_t&&(bt.disable(bt.BLEND),vt.checkError())}}]},_.prototype.createIm2ColProgramInfo=function(tt,lt,ut){var ct=lt[0].dims.slice(),ft=lt[1].dims.slice(),dt=ut.length,ht=_.calcIm2ColDims(ct,ft,ut,4),gt=tt.createTextureLayoutFromShape(ht,4,[ht[0],ht[1],ht[2],4*ht[3]],{breakAxis:3}),yt=`
      const int XC = `+ct[1]+`;
      const int XH = `+ct[2]+`;
      const int XW = `+ct[3]+`;
      const int KH = `+this.kernelShape[0]+`;
      const int KW = `+this.kernelShape[1]+`;
      const int dilationH = `+this.dilations[0]+`;
      const int dilationW = `+this.dilations[1]+`;
      const int strideH = `+this.strides[0]+`;
      const int strideW = `+this.strides[1]+`;
      const int padH = `+this.pads[0]+`;
      const int padW = `+this.pads[1]+`;
      const int KHKW = KH*KW;
      const int XCKHKW = XC * KHKW;
      const int outputChannels = 4;

      vec4 process(int indices[`+dt+`]) {
        int b  = indices[0]; // batch size
        int oh = indices[1] * strideH - padH; //output height
        int ow = indices[2] * strideW - padW; //output width
        int p = indices[3] * outputChannels; //patch
        vec4 v = vec4(0.0);
        for(int i=0; i < outputChannels; ++i) {
          if(p < XCKHKW) {
            int patchC = p / KHKW;
            int patchH = (p - patchC*KHKW) / KW;
            int patchW = (p - patchC*KHKW) - patchH * KW;
            int xh2 = oh + patchH * dilationH;
            int xw2 = ow + patchW * dilationW;
            int x[`+ct.length+`];
            x[0] = b;
            x[1] = patchC;
            x[2] = xh2;
            x[3] = xw2;
            if(xh2 >= 0 &&
                xh2 < XH &&
                xw2 >= 0 &&
                xw2 < XW) {
              v[i] = _X(x);
            }
          }
          ++p;
        }
        return v;
      }
      `;return{inputLayouts:[tt.createTextureLayoutFromShape(ct)],outputLayout:gt,samplers:["X"],shaderSource:yt}},_.prototype.createDotProductProgramInfo=function(tt,lt,ut,ct){var ft,dt=ut[0].dims.slice(),ht=ut[1].dims.slice(),gt=[ht[0],Math.ceil(dt[1]*ht[2]*ht[3]/4)],yt=tt.createTextureLayoutFromShape(gt,4,[gt[0],4*gt[1]],{breakAxis:1}),vt=ct.length,mt=[lt,yt];ut.length===3&&(ft=tt.createTextureLayoutFromShape(ut[2].dims.slice()),mt.push(ft));var bt=tt.createTextureLayoutFromShape(ct),$t=ut.length<3?"0.0":"_B(b)",St=lt.shape[3],Pt=tt.session.backend.glContext.isBlendSupported&&tt.session.backend.matmulMaxBatchSize?this.calcSharedDimReadSize(tt.session.backend.matmulMaxBatchSize,St):St,_t=["Im2Col","K"];ut.length===3&&_t.push("B");var wt=nt.getGlsl(tt.session.backend.glContext.version),xt=`
    float process(int indices[`+vt+`]) {
      int b[1];
      b[0] = indices[1];
      int im2col[`+lt.shape.length+`];
      im2col[0] = indices[0];
      im2col[1] = indices[2];
      im2col[2] = indices[3];
      int im2colOffset = im2col[0] * `+lt.strides[0]+" + im2col[1] * "+lt.strides[1]+" + im2col[2] * "+lt.strides[2]+` + sharedDimOffset;
      int kernelOffset = indices[1] * `+yt.strides[0]+` + sharedDimOffset;
      float sum = sharedDimOffset == 0 ? `+$t+` : 0.0;
      for (int i = 0; i < `+Pt+`; ++i) {
        vec2 im2colCoords = offsetToCoords(im2colOffset, `+lt.width+", "+lt.height+`);
        vec2 kernelCoords = offsetToCoords(kernelOffset, `+yt.width+", "+yt.height+`);
        sum += dot(`+wt.texture2D+"(Im2Col, im2colCoords), "+wt.texture2D+`(K, kernelCoords));
        ++im2colOffset;
        ++kernelOffset;
      }
      return sum;
    }`;return{inputLayouts:ut.length===3?[lt,yt,ft]:[lt,yt],outputLayout:bt,shaderSource:xt,samplers:_t,variables:[{name:"sharedDimOffset",type:"int"}],params:{sharedDim:St,sharedDimReadSize:Pt}}},_.prepKernelForDotProduct=function(tt,lt,ut,ct){if(lt===1&&(ut===1||tt[2]*tt[3]%ut==0))return ct;for(var ft=tt[0],dt=tt[1]*tt[2]*tt[3],ht=Math.ceil(dt*lt/ut)*ut,gt=new Float32Array(ft*ht),yt=0;yt<ft;++yt){var vt=yt*dt,mt=yt*ht+yt%lt*dt;gt.set(ct.subarray(vt,vt+dt),mt)}return gt},_.calcIm2ColDims=function(tt,lt,ut,ct){return ct===void 0&&(ct=1),[ut[0],ut[2],ut[3],Math.ceil(tt[1]*lt[2]*lt[3]/ct)]},_.calcOutputShape=function(tt,lt,ut,ct,ft){var dt,ht=tt[0],gt=tt.slice(2),yt=gt.length,vt=lt[0],mt=lt.slice(2).map(function($t,St){return $t+($t-1)*(ut[St]-1)}),bt=gt.map(function($t,St){return $t+ct[St]+ct[St+yt]}).map(function($t,St){return Math.floor(($t-mt[St]+ft[St])/ft[St])});return(dt=[ht,vt]).concat.apply(dt,rt(bt))},_.prototype.calcSharedDimReadSize=function(tt,lt){return tt<=0||lt<tt||lt%tt!=0?lt:tt},_.prototype.calcBlockSize=function(tt){if(!(tt.height<64))return[64,64]},_}(st.Conv);e.WebGLConv=et},function(o,e,s){var h,b=this&&this.__extends||(h=function(rt,at){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,ot){st.__proto__=ot}||function(st,ot){for(var nt in ot)ot.hasOwnProperty(nt)&&(st[nt]=ot[nt])})(rt,at)},function(rt,at){function st(){this.constructor=rt}h(rt,at),rt.prototype=at===null?Object.create(at):(st.prototype=at.prototype,new st)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLDropout=void 0;var _e=function(rt){function at(){return rt!==null&&rt.apply(this,arguments)||this}return b(at,rt),at.prototype.run=function(st,ot){if(this.testMode)return[ot[0]];throw new Error("Non test mode Dropout is not implemented yet")},at.prototype.createProgramInfo=function(st,ot){throw new Error("Non test mode Dropout is not implemented yet")},at.prototype.createRunData=function(st,ot,nt){throw new Error("Non test mode Dropout is not implemented yet")},at}(s(31).Dropout);e.WebGLDropout=_e},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLElu=void 0;var _e=s(131),rt=s(2),at=function(st){function ot(){return st!==null&&st.apply(this,arguments)||this}return b(ot,st),ot.prototype.run=function(nt,et){return nt.run(this,et)},ot.prototype.createProgramInfo=function(nt,et){var d=et[0].dims.slice(),_=rt.getGlsl(nt.session.backend.glContext.version),tt=`
      void main() {
        float v = `+_.texture2D+`(A, TexCoords).r;
        `+_.output+" = vec4(v >= 0.0 ? v: (exp(v) - 1.0) * "+this.alpha.toExponential()+`); /* float number format */
      }
      `;return{inputLayouts:[nt.getOrCreateTextureLayout(et[0])],outputLayout:nt.createTextureLayoutFromShape(d),samplers:["A"],shaderSource:tt,hasMain:!0}},ot.prototype.createRunData=function(nt,et,d){var _=[nt.getOrCreateTextureData(d[0],et.inputLayouts[0])];return{inputTextureDatas:_,outputTextureData:nt.createTextureDataFromLayout(et.outputLayout,_[0].tensor.type),uniformData:{}}},ot}(_e.Elu);e.WebGLElu=at},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Elu=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.alpha=_e.getFloat("alpha",1)},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type==="float32"||_e[0].type==="float64"},b}();e.Elu=h},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLFlatten=void 0;var _e=s(32),rt=s(0),at=s(10),st=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){var _=rt.ShapeUtil.flattenShape(d[0].dims,this.axis);return[at.reshape(et,d[0],_)]},nt}(_e.Flatten);e.WebGLFlatten=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLGather=void 0;var _e=s(33),rt=s(0),at=function(st){function ot(){return st!==null&&st.apply(this,arguments)||this}return b(ot,st),ot.prototype.run=function(nt,et){return nt.run(this,et)},ot.prototype.createProgramInfo=function(nt,et){var d=et[0].dims.slice(),_=et[1].dims.slice(),tt=new Array(d.length+_.length-1);if(tt.length===0)throw Error("A scalar tensor output has not been supported");for(var lt=rt.ShapeUtil.normalizeAxis(this.axis,d.length),ut=[],ct=0;ct<tt.length;ct++)ct<lt?(tt[ct]=d[ct],ut.push("inputIdx["+ct+"] = outputIdx["+ct+"];")):ct<lt+_.length?(tt[ct]=_[ct-lt],ut.push("indexDataIdx["+(ct-lt)+"] = outputIdx["+ct+"];")):(tt[ct]=d[ct-_.length+1],ut.push("inputIdx["+(ct-_.length+1)+"] = outputIdx["+ct+"];"));var ft=`
      float process(int outputIdx[`+tt.length+`]) {
        int inputIdx[`+d.length+`];
        int indexDataIdx[`+_.length+`];
        `+ut.join(`
        `)+`
        int idx = int(_B(indexDataIdx));
        inputIdx[`+lt+"] = idx < 0 ? idx + "+d[lt]+` : idx;
        return _A(inputIdx);
      }`;return{inputLayouts:et.map(function(dt){return nt.getOrCreateTextureLayout(dt)}),outputLayout:nt.createTextureLayoutFromShape(tt),samplers:["A","B"],shaderSource:ft}},ot.prototype.createRunData=function(nt,et,d){var _=d.map(function(tt,lt){return nt.getOrCreateTextureData(tt,et.inputLayouts[lt])});return{inputTextureDatas:_,outputTextureData:nt.createTextureDataFromLayout(et.outputLayout,_[0].tensor.type),uniformData:{}}},ot}(_e.Gather);e.WebGLGather=at},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)}),_e=this&&this.__read||function(ot,nt){var et=typeof Symbol=="function"&&ot[Symbol.iterator];if(!et)return ot;var d,_,tt=et.call(ot),lt=[];try{for(;(nt===void 0||nt-- >0)&&!(d=tt.next()).done;)lt.push(d.value)}catch(ut){_={error:ut}}finally{try{d&&!d.done&&(et=tt.return)&&et.call(tt)}finally{if(_)throw _.error}}return lt};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLGemm=void 0;var rt=s(19),at=s(0),st=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){return et.run(this,d)},nt.prototype.createProgramInfo=function(et,d){var _=d[0].dims.slice(),tt=d[1].dims.slice(),lt=_e(at.GemmUtil.getShapeOfGemmResult(_,this.transA,tt,this.transB,d.length===3?d[2].dims:void 0),2),ut=[lt[0],lt[1]];if(!ut)throw new Error("Can't use gemm on the given tensors");var ct=_[_.length-1],ft="";this.transA&&(ct=_[0]),this.transA&&this.transB?ft="value += _A_T(a) * _B_T(b);":this.transA&&!this.transB?ft="value += _A_T(a) * _B(b);":!this.transA&&this.transB?ft="value += _A(a) * _B_T(b);":this.transA||this.transB||(ft="value += _A(a) * _B(b);");var dt=ut.length,ht=`
      float process(int indices[`+dt+`]) {
          int a[`+dt+`];
          int b[`+dt+`];
          `+(d.length===3?"int c["+d[2].dims.length+"];":"")+`

          copyVec(indices, a);
          copyVec(indices, b);
          `+(d.length===3?"bcastIndices_C(indices, c);":"")+`

          float value = 0.0;
          for (int k=0; k<`+ct+`; ++k) {
              a[`+(dt-1)+`] = k;
              b[`+(dt-2)+`] = k;
              `+ft+`
          }

          value = value * alpha;
          `+(d.length===3?"value += beta * _C(c);":"")+`
          return value;
      }`;return{inputLayouts:d.map(function(gt){return et.getOrCreateTextureLayout(gt)}),outputLayout:et.createTextureLayoutFromShape(ut),samplers:d.length===3?["A","B","C"]:["A","B"],variables:[{name:"alpha",type:"float"},{name:"beta",type:"float"}],shaderSource:ht}},nt.prototype.createRunData=function(et,d,_){var tt=_.map(function(lt,ut){return et.getOrCreateTextureData(lt,d.inputLayouts[ut])});return{inputTextureDatas:tt,outputTextureData:et.createTextureDataFromLayout(d.outputLayout,tt[0].tensor.type),uniformData:{alpha:this.alpha,beta:this.beta}}},nt}(rt.Gemm);e.WebGLGemm=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(rt,at){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,ot){st.__proto__=ot}||function(st,ot){for(var nt in ot)ot.hasOwnProperty(nt)&&(st[nt]=ot[nt])})(rt,at)},function(rt,at){function st(){this.constructor=rt}h(rt,at),rt.prototype=at===null?Object.create(at):(st.prototype=at.prototype,new st)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLImageScaler=void 0;var _e=function(rt){function at(){return rt!==null&&rt.apply(this,arguments)||this}return b(at,rt),at.prototype.run=function(st,ot){return st.run(this,ot)},at.prototype.createProgramInfo=function(st,ot){var nt=ot[0].dims.slice(),et=nt.length,d=`
      `+this.createGetBiasMethod(this.bias.length)+`
      float process(int indices[`+et+`]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return{inputLayouts:[st.getOrCreateTextureLayout(ot[0])],outputLayout:st.createTextureLayoutFromShape(nt),samplers:["X"],variables:[{name:"bias",type:"float",arrayLength:this.bias.length},{name:"scale",type:"float"}],shaderSource:d}},at.prototype.createRunData=function(st,ot,nt){var et=[st.getOrCreateTextureData(nt[0],ot.inputLayouts[0])];return{inputTextureDatas:et,outputTextureData:st.createTextureDataFromLayout(ot.outputLayout,et[0].tensor.type),uniformData:{bias:this.bias,scale:this.scale}}},at.prototype.createGetBiasMethod=function(st){for(var ot=["float getBias(float bias["+st+"], int channel) {"],nt=0;nt<st;++nt)nt===0?ot.push("	if (channel == "+nt+") { return bias["+nt+"]; }"):nt===st-1?ot.push("	else { return bias["+nt+"]; }"):ot.push("	else if (channel == "+nt+") { return bias["+nt+"]; }");return ot.push("	}"),ot.join(`
`)},at}(s(34).ImageScaler);e.WebGLImageScaler=_e},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLInstanceNormalization=void 0;var _e=s(20),rt=s(2),at=function(st){function ot(){return st!==null&&st.apply(this,arguments)||this}return b(ot,st),ot.prototype.run=function(nt,et){var d=this;this.artifacts||(this.artifacts=[],this.createProgramInfos(nt,et).forEach(function(tt,lt){var ut=nt.session.programManager.build(tt);d.artifacts.push(ut)}));var _=this.createRunDatas(nt,this.artifacts.map(function(tt){return tt.programInfo}),et);return _.forEach(function(tt,lt){return nt.session.programManager.run(d.artifacts[lt],tt)}),[_[1].outputTextureData.tensor]},ot.prototype.checkInputTypes=function(nt){return!!st.prototype.checkInputTypes.call(this,nt)&&nt[0].dims.length===4},ot.prototype.createMeanAndVarianceProgramInfo=function(nt,et){var d=et.shape,_=d[1],tt=d[2]*d[3],lt=[d[0],_],ut=[d[0],4*_],ct=`
    vec4 process(int[2] indices) {
      vec4 v = vec4(0.0);
      int a[4];
      a[0] = indices[0];
      a[1] = indices[1];
      float temp = 0.0;
      for(int a2=0; a2<`+d[2]+`; a2++) {
        a[2] = a2;
        for(int a3=0; a3<`+d[3]+`; a3++) {
          a[3] = a3;
          float x = _X(a);
          temp += x;
        }
      }
      float mean = temp / float(`+tt+`);
      temp = 0.0;
      for(int a2=0; a2<`+d[2]+`; a2++) {
        a[2] = a2;
        for(int a3=0; a3<`+d[3]+`; a3++) {
          a[3] = a3;
          float x = _X(a);
          temp += (x - mean) * (x - mean);
        }
      }
      v.r = mean;
      v.g = temp / float(`+tt+`);

      return v;
    }`;return{inputLayouts:[et],outputLayout:nt.createTextureLayoutFromShape(lt,4,ut),samplers:["X"],shaderSource:ct}},ot.prototype.createComputOutputProgramInfo=function(nt,et,d,_,tt){var lt=rt.getGlsl(nt.session.backend.glContext.version),ut=`
    vec4 getMeanAndVariance(int[2] mv) {
      int offset = indicesToOffset_MeanAndVariance(mv);
      vec2 coords = offsetToCoords(offset, `+tt.width+", "+tt.height+`);
      return `+lt.texture2D+`(MeanAndVariance, coords);
    }

    float process(int[4] indices) {

          int mv[2];
          mv[0] = indices[0];
          mv[1] = indices[1];
          vec4 mean_and_variance = getMeanAndVariance(mv);
          float mean = mean_and_variance.r;
          float variance = mean_and_variance.g;

          int sb[1];
          sb[0] = indices[1];
          float scale = _Scale(sb);
          float b = _B(sb);

          return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
        }`;return{inputLayouts:[et,tt,d,_],outputLayout:nt.createTextureLayoutFromShape(et.shape),samplers:["X","MeanAndVariance","Scale","B"],variables:[{name:"epsilon",type:"float"}],shaderSource:ut}},ot.prototype.createProgramInfos=function(nt,et){var d=nt.getOrCreateTextureLayout(et[0]),_=nt.getOrCreateTextureLayout(et[1]),tt=nt.getOrCreateTextureLayout(et[2]),lt=this.createMeanAndVarianceProgramInfo(nt,d);return[lt,this.createComputOutputProgramInfo(nt,d,_,tt,lt.outputLayout)]},ot.prototype.createRunDatas=function(nt,et,d){var _=d[0].type,tt=nt.getOrCreateTextureData(d[0],et[0].inputLayouts[0]),lt=nt.getOrCreateTextureData(d[1],et[1].inputLayouts[2]),ut=nt.getOrCreateTextureData(d[2],et[1].inputLayouts[3]),ct=[];return ct.push({inputTextureDatas:[tt],outputTextureData:nt.createTextureDataFromLayout(et[0].outputLayout,_),uniformData:{}}),ct.push({inputTextureDatas:[tt,ct[0].outputTextureData,lt,ut],outputTextureData:nt.createTextureDataFromLayout(et[1].outputLayout,_),uniformData:{epsilon:this.epsilon}}),ct},ot}(_e.InstanceNormalization);e.WebGLInstanceNormalization=at},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLLeakyRelu=void 0;var _e=s(138),rt=s(2),at=function(st){function ot(){return st!==null&&st.apply(this,arguments)||this}return b(ot,st),ot.prototype.run=function(nt,et){return nt.run(this,et)},ot.prototype.createProgramInfo=function(nt,et){var d=et[0].dims.slice(),_=rt.getGlsl(nt.session.backend.glContext.version),tt=`
      void main() {
        float v = `+_.texture2D+`(A, TexCoords).r;
        `+_.output+" = vec4(v < 0.0 ? v * float("+this.alpha+`) : v);
      }
      `;return{hasMain:!0,inputLayouts:[nt.getOrCreateTextureLayout(et[0])],outputLayout:nt.createTextureLayoutFromShape(d),samplers:["A"],shaderSource:tt}},ot.prototype.createRunData=function(nt,et,d){var _=[nt.getOrCreateTextureData(d[0],et.inputLayouts[0])];return{inputTextureDatas:_,outputTextureData:nt.createTextureDataFromLayout(et.outputLayout,_[0].tensor.type),uniformData:{}}},ot}(_e.LeakyRelu);e.WebGLLeakyRelu=at},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.LeakyRelu=void 0;var h=function(){function b(){}return b.prototype.initialize=function(_e){this.alpha=_e.getFloat("alpha",.01)},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type==="float32"||_e[0].type==="float64"},b}();e.LeakyRelu=h},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLMatMul=void 0;var _e=s(18),rt=s(0),at=function(st){function ot(){return st!==null&&st.apply(this,arguments)||this}return b(ot,st),ot.prototype.run=function(nt,et){return nt.run(this,et)},ot.prototype.createProgramInfo=function(nt,et){var d=et[0].dims,_=et[1].dims,tt=rt.BroadcastUtil.calcShape(d,_,!0);if(!tt)throw new Error("Can't use matmul on the given tensors");var lt=tt.length,ut=d.length,ct=_.length,ft=`
      float process(int indices[`+lt+`]) {
          int a[`+ut+`];
          int b[`+ct+`];
          bcastMatmulIndices_A(indices, a);
          bcastMatmulIndices_B(indices, b);

          float value;
          for (int k=0; k<`+d[d.length-1]+`; ++k) {
              a[`+(ut-1)+`] = k;
              b[`+(ct-2)+`] = k;
              value += _A(a) * _B(b);
          }
          return value;
      }`;return{inputLayouts:et.map(function(dt){return nt.getOrCreateTextureLayout(dt)}),outputLayout:nt.createTextureLayoutFromShape(tt),samplers:["A","B"],shaderSource:ft}},ot.prototype.createRunData=function(nt,et,d){var _=d.map(function(tt,lt){return nt.getOrCreateTextureData(tt,et.inputLayouts[lt])});return{inputTextureDatas:_,outputTextureData:nt.createTextureDataFromLayout(et.outputLayout,_[0].tensor.type),uniformData:{}}},ot}(_e.MatMul);e.WebGLMatMul=at},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.getPadFunction=e.WebGLPad=void 0;var _e=s(35),rt=s(0),at=s(2),st=function(nt){function et(){return nt!==null&&nt.apply(this,arguments)||this}return b(et,nt),et.prototype.run=function(d,_){return d.run(this,_)},et.prototype.createProgramInfo=function(d,_){var tt=rt.ShapeUtil.padShape(_[0].dims.slice(),this.pads),lt=tt.length,ut=d.getOrCreateTextureLayout(_[0]),ct=`
      `+ot(at.getGlsl(d.session.backend.glContext.version),"A",ut,this.mode,this.pads,this.value)+`
      float process(int[`+lt+`] indices) {
          return padA(indices);
      }`;return{inputLayouts:[ut],outputLayout:d.createTextureLayoutFromShape(tt),samplers:["A"],shaderSource:ct}},et.prototype.createRunData=function(d,_,tt){var lt=[d.getOrCreateTextureData(tt[0],_.inputLayouts[0])];return{inputTextureDatas:lt,outputTextureData:d.createTextureDataFromLayout(_.outputLayout,lt[0].tensor.type),uniformData:{}}},et}(_e.Pad);function ot(nt,et,d,_,tt,lt){switch(_){case"constant":return function(ut,ct,ft,dt,ht,gt,yt,vt){for(var mt=ft.length,bt="",$t=mt-1;$t>=0;--$t)bt+=`
          k = m[`+$t+"] - "+yt[$t]+`;
          if (k < 0)  return constant;
          if (k >= `+ft[$t]+`) return constant;
          offset += k * `+dt[$t]+`;
          `;return`
        float pad`+ct+"(int m["+mt+`]) {
          const float constant = float(`+vt+`);
          int offset = 0;
          int k = 0;
          `+bt+`
          vec2 coords = offsetToCoords(offset, `+ht+", "+gt+`);
          float value = getColorAsFloat(`+ut.texture2D+"("+ct+`, coords));
          return value;
        }
        `}(nt,et,d.shape,d.strides,d.width,d.height,tt,lt);case"reflect":return function(ut,ct,ft,dt,ht,gt,yt){for(var vt=ft.length,mt="",bt=vt-1;bt>=0;--bt)mt+=`
        k = m[`+bt+"] - "+yt[bt]+`;
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = `+2*(ft[bt]-1)+`;
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= `+ft[bt]+`) { k = _2n_1 - k; }
        }
        offset += k * `+dt[bt]+`;
        `;return`
      float pad`+ct+"(int m["+vt+`]) {
        int offset = 0;
        int k = 0;
        `+mt+`
        vec2 coords = offsetToCoords(offset, `+ht+", "+gt+`);
        float value = getColorAsFloat(`+ut.texture2D+"("+ct+`, coords));
        return value;
      }
      `}(nt,et,d.shape,d.strides,d.width,d.height,tt);case"edge":return function(ut,ct,ft,dt,ht,gt,yt){for(var vt=ft.length,mt="",bt=vt-1;bt>=0;--bt)mt+=`
      k = m[`+bt+"] - "+yt[bt]+`;
      if (k < 0)  k = 0;
      if (k >= `+ft[bt]+") k = "+(ft[bt]-1)+`;
      offset += k * `+dt[bt]+`;
      `;return`
    float pad`+ct+"(int m["+vt+`]) {
      int offset = 0;
      int k = 0;
      `+mt+`
      vec2 coords = offsetToCoords(offset, `+ht+", "+gt+`);
      float value = getColorAsFloat(`+ut.texture2D+"("+ct+`, coords));
      return value;
    }
    `}(nt,et,d.shape,d.strides,d.width,d.height,tt);default:throw new Error("Invalid mode")}}e.WebGLPad=st,e.getPadFunction=ot},function(o,e,s){var h,b=this&&this.__extends||(h=function(ut,ct){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,dt){ft.__proto__=dt}||function(ft,dt){for(var ht in dt)dt.hasOwnProperty(ht)&&(ft[ht]=dt[ht])})(ut,ct)},function(ut,ct){function ft(){this.constructor=ut}h(ut,ct),ut.prototype=ct===null?Object.create(ct):(ft.prototype=ct.prototype,new ft)});Object.defineProperty(e,"__esModule",{value:!0}),e.offsetToIndices=e.copyArray=e.GeneratePoolingCode=e.WebGLMaxPool=e.WebGLGlobalMaxPool=e.WebGLAveragePool=e.WebGLGlobalAveragePool=void 0;var _e=s(21),rt=s(0),at=function(ut){function ct(){return ut!==null&&ut.apply(this,arguments)||this}return b(ct,ut),ct.prototype.run=function(ft,dt){return ft.run(this,dt)},ct.prototype.createProgramInfo=function(ft,dt){return ot(ft,dt,!0,this.kernelShape,this.autoPad,this.strides,this.pads,this.countIncludePad)},ct.prototype.createRunData=function(ft,dt,ht){var gt=[ft.getOrCreateTextureData(ht[0],dt.inputLayouts[0])];return{inputTextureDatas:gt,outputTextureData:ft.createTextureDataFromLayout(dt.outputLayout,gt[0].tensor.type),uniformData:{}}},ct}(_e.GlobalAveragePool);e.WebGLGlobalAveragePool=at;var st=function(ut){function ct(){return ut!==null&&ut.apply(this,arguments)||this}return b(ct,ut),ct.prototype.run=function(ft,dt){return ft.run(this,dt)},ct.prototype.createProgramInfo=function(ft,dt){return ot(ft,dt,!1,this.kernelShape,this.autoPad,this.strides,this.pads,this.countIncludePad)},ct.prototype.createRunData=function(ft,dt,ht){var gt=[ft.getOrCreateTextureData(ht[0],dt.inputLayouts[0])];return{inputTextureDatas:gt,outputTextureData:ft.createTextureDataFromLayout(dt.outputLayout,gt[0].tensor.type),uniformData:{}}},ct}(_e.AveragePool);function ot(ut,ct,ft,dt,ht,gt,yt,vt){dt===void 0&&(dt=[]),ht===void 0&&(ht=""),gt===void 0&&(gt=[]),yt===void 0&&(yt=[]);var mt=ct[0].dims.slice();rt.PoolConvUtil.adjustPoolAttributes(ft,mt,dt,gt,yt);var bt=rt.PoolConvUtil.computePoolOutputShape(ft,mt,gt,dt,yt,ht),$t=rt.ShapeUtil.size(dt),St="";St+=vt?"value /= float("+$t+");":"value /= float("+$t+" - pad);";var Pt=ut.getOrCreateTextureLayout(ct[0]),_t=`
      `+_(Pt,dt,yt,gt,"value += _X(x);",St,"0.0")+`
    `;return{inputLayouts:[Pt],outputLayout:ut.createTextureLayoutFromShape(bt),samplers:["X"],shaderSource:_t}}e.WebGLAveragePool=st;var nt=function(ut){function ct(){return ut!==null&&ut.apply(this,arguments)||this}return b(ct,ut),ct.prototype.run=function(ft,dt){return ft.run(this,dt)},ct.prototype.createProgramInfo=function(ft,dt){return d(ft,dt,!0,this.kernelShape,this.autoPad,this.strides,this.pads)},ct.prototype.createRunData=function(ft,dt,ht){var gt=[ft.getOrCreateTextureData(ht[0])];return{inputTextureDatas:gt,outputTextureData:ft.createTextureDataFromLayout(dt.outputLayout,gt[0].tensor.type),uniformData:{}}},ct}(_e.GlobalMaxPool);e.WebGLGlobalMaxPool=nt;var et=function(ut){function ct(){return ut!==null&&ut.apply(this,arguments)||this}return b(ct,ut),ct.prototype.run=function(ft,dt){return ft.run(this,dt)},ct.prototype.createProgramInfo=function(ft,dt){return d(ft,dt,!1,this.kernelShape,this.autoPad,this.strides,this.pads)},ct.prototype.createRunData=function(ft,dt,ht){var gt=[ft.getOrCreateTextureData(ht[0])];return{inputTextureDatas:gt,outputTextureData:ft.createTextureDataFromLayout(dt.outputLayout,gt[0].tensor.type),uniformData:{}}},ct}(_e.MaxPool);function d(ut,ct,ft,dt,ht,gt,yt){dt===void 0&&(dt=[]),ht===void 0&&(ht=""),gt===void 0&&(gt=[]),yt===void 0&&(yt=[]);var vt=ct[0].dims.slice();rt.PoolConvUtil.adjustPoolAttributes(ft,vt,dt,gt,yt);var mt=rt.PoolConvUtil.computePoolOutputShape(ft,vt,gt,dt,yt,ht),bt=ut.createTextureLayoutFromShape(vt),$t=`
    `+_(bt,dt,yt,gt,`
              value = max(_X(x), value);
      `,"","-1e5")+`
  `;return{inputLayouts:[bt],outputLayout:ut.createTextureLayoutFromShape(mt),samplers:["X"],shaderSource:$t}}function _(ut,ct,ft,dt,ht,gt,yt){var vt=ut.shape,mt=ut.shape.length;if(ct.length<=2){var bt=ct[ct.length-1],$t=dt[dt.length-1],St=ft[ft.length/2-1],Pt=ft[ft.length-1],_t=vt[mt-1],wt="",xt="",Tt="";if(wt=St+Pt!==0?`
                for (int i = 0; i < `+bt+`; i++) {
                  x[`+mt+" - 1] = indices["+mt+" - 1] * "+$t+" - "+St+` + i;
                  if (x[`+mt+" - 1] < 0 || x["+mt+" - 1] >= "+_t+`) {
                    pad++;
                    continue;
                  }
                  `+ht+`
                }`:`
                for (int i = 0; i < `+bt+`; i++) {
                  x[`+mt+" - 1] = indices["+mt+" - 1] * "+$t+" - "+St+` + i;
                  `+ht+`
                }`,ct.length===2){var It=ct[ct.length-2],Ct=dt[dt.length-2],Rt=ft[ft.length/2-2],Ut=ft[ft.length-2],kt=vt[mt-2];xt=Rt+Ut!==0?`
              for (int j = 0; j < `+It+`; j++) {
                x[`+mt+" - 2] = indices["+mt+" - 2] * "+Ct+" - "+Rt+` + j;
                if (x[`+mt+" - 2] < 0 || x["+mt+" - 2] >= "+kt+`) {
                  pad+= `+bt+`;
                  continue;
                }
            `:`
                for (int j = 0; j < `+It+`; j++) {
                  x[`+mt+" - 2] = indices["+mt+" - 2] * "+Ct+" - "+Rt+` + j;
                `,Tt=`
              }
            `}return`
            float process(int indices[`+mt+`]) {
              int x[`+mt+`];
              copyVec(indices, x);

              float value = `+yt+`;
              int pad = 0;
              `+xt+`
              `+wt+`
              `+Tt+`
              `+gt+`
              return value;
            }
          `}var jt=rt.ShapeUtil.size(ct),Vt=rt.ShapeUtil.computeStrides(ct),Gt=Vt.length,Yt=ft.length,er=lt(Gt),nr=tt(vt,"inputDims"),Et=tt(ft,"pads"),Ot=tt(Vt,"kernelStrides");return`
            `+er+`
            float process(int indices[`+mt+`]) {
                int x[`+mt+`];
                copyVec(indices, x);
                int offset[`+Gt+`];
                int pads[`+Yt+`];
                int inputDims[`+mt+`];
                int kernelStrides[`+Gt+`];
                int strides[`+Gt+`];
                `+Et+`
                `+nr+`
                `+tt(dt,"strides")+`
                `+Ot+`

                float value = `+yt+`;
                int pad = 0;
                bool isPad = false;
                for (int i = 0; i < `+jt+`; i++) {
                    offsetToIndices(i, kernelStrides, offset);
                    isPad = false;
                    for (int j = `+mt+" - "+Gt+"; j < "+mt+`; j++) {
                      x[j] = indices[j] * strides[j - `+mt+" + "+Gt+`]
                        + offset[j - `+mt+" + "+Gt+`] - pads[j - 2];
                      `+(ft.reduce(function(At,Nt){return At+Nt})?`
                if (x[j] >= inputDims[j] || x[j] < 0) {
                  pad++;
                  isPad = true;
                  break;
                }
              }
              if (!isPad) {
                `+ht+`
              }`:`
                  }
                  `+ht)+`
                }
                `+gt+`

                return value;
            }`}function tt(ut,ct){for(var ft="",dt=0;dt<ut.length;dt++)ft+=`
      `+ct+"["+dt+"] = "+ut[dt]+`;
    `;return ft}function lt(ut){return`
    void offsetToIndices(int offset, int[`+ut+"] strides, out int["+ut+`] indices) {
      if (`+ut+` == 0) {
        return;
      }
      for (int i = 0; i < `+ut+` - 1; ++i) {
        indices[i] = offset / strides[i];
        offset -= indices[i] * strides[i];
      }
      indices[`+ut+` - 1] = offset;
    }`}e.WebGLMaxPool=et,e.GeneratePoolingCode=_,e.copyArray=tt,e.offsetToIndices=lt},function(o,e,s){var h,b=this&&this.__extends||(h=function(lt,ut){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,ft){ct.__proto__=ft}||function(ct,ft){for(var dt in ft)ft.hasOwnProperty(dt)&&(ct[dt]=ft[dt])})(lt,ut)},function(lt,ut){function ct(){this.constructor=lt}h(lt,ut),lt.prototype=ut===null?Object.create(ut):(ct.prototype=ut.prototype,new ct)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLReduceSumSquare=e.WebGLReduceLogSum=e.WebGLReduceProd=e.WebGLReduceMin=e.WebGLReduceMax=e.WebGLReduceMean=e.WebGLReduceSum=void 0;var _e=s(36),rt=s(0),at=function(lt){function ut(){return lt!==null&&lt.apply(this,arguments)||this}return b(ut,lt),ut.prototype.run=function(ct,ft){return ct.run(this,ft)},ut.prototype.createProgramInfo=function(ct,ft){for(var dt=[],ht=ft[0].dims.length||1,gt=[],yt=rt.ShapeUtil.normalizeAxes(this.axes,ft[0].dims.length),vt=this.getOps(ft,yt),mt=vt[1],bt=0;bt<ft[0].dims.length;bt++)yt.indexOf(bt)>=0||yt.length===0?(this.keepDims&&dt.push(1),mt=`
        for(int j`+bt+" = 0; j"+bt+" < "+ft[0].dims[bt]+"; j"+bt+`++) {
          inputIdx[`+bt+"] = j"+bt+`;
          `+mt+`
        }
        `):(gt.push("inputIdx["+bt+"] = outputIdx["+dt.length+"];"),dt.push(ft[0].dims[bt]));var $t=`
      float process(int outputIdx[`+(dt.length||1)+`]) {
        float value;                 // final result
        int inputIdx[`+ht+`];      // addressing input data
        `+gt.join(`
`)+`
        `+vt[0]+`       // init ops for reduce max/min
        `+mt+`
        `+vt[2]+`       // final computation for reduce mean
        return value;
      }`;return{inputLayouts:ft.map(function(St){return ct.getOrCreateTextureLayout(St)}),outputLayout:ct.createTextureLayoutFromShape(dt),samplers:["A"],shaderSource:$t}},ut.prototype.createRunData=function(ct,ft,dt){var ht=dt.map(function(gt,yt){return ct.getOrCreateTextureData(gt,ft.inputLayouts[yt])});return{inputTextureDatas:ht,outputTextureData:ct.createTextureDataFromLayout(ft.outputLayout,ht[0].tensor.type),uniformData:{}}},ut}(_e.ReduceBase),st=function(lt){function ut(){return lt!==null&&lt.apply(this,arguments)||this}return b(ut,lt),ut.prototype.getOps=function(ct){return["value = 0.0;","value += _A(inputIdx);",""]},ut}(at);e.WebGLReduceSum=st;var ot=function(lt){function ut(){return lt!==null&&lt.apply(this,arguments)||this}return b(ut,lt),ut.prototype.getOps=function(ct,ft){for(var dt=1,ht=0;ht<ct[0].dims.length;ht++)(ft.indexOf(ht)>=0||ft.length===0)&&(dt*=ct[0].dims[ht]);return["value = 0.0;","value += _A(inputIdx);","value /= "+dt+".;"]},ut}(at);e.WebGLReduceMean=ot;var nt=function(lt){function ut(){return lt!==null&&lt.apply(this,arguments)||this}return b(ut,lt),ut.prototype.getOps=function(ct,ft){for(var dt=[],ht=0;ht<ct[0].dims.length;ht++)(ft.indexOf(ht)>=0||ft.length===0)&&dt.push("inputIdx["+ht+"] = 0;");return[dt.join(`
`)+`
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]},ut}(at);e.WebGLReduceMax=nt;var et=function(lt){function ut(){return lt!==null&&lt.apply(this,arguments)||this}return b(ut,lt),ut.prototype.getOps=function(ct,ft){for(var dt=[],ht=0;ht<ct[0].dims.length;ht++)(ft.indexOf(ht)>=0||ft.length===0)&&dt.push("inputIdx["+ht+"] = 0;");return[dt.join(`
`)+`
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]},ut}(at);e.WebGLReduceMin=et;var d=function(lt){function ut(){return lt!==null&&lt.apply(this,arguments)||this}return b(ut,lt),ut.prototype.getOps=function(ct){return["value = 1.0;","value *= _A(inputIdx);",""]},ut}(at);e.WebGLReduceProd=d;var _=function(lt){function ut(){return lt!==null&&lt.apply(this,arguments)||this}return b(ut,lt),ut.prototype.getOps=function(ct){return["value = 0.0;","value += _A(inputIdx);","value = log(value);"]},ut}(at);e.WebGLReduceLogSum=_;var tt=function(lt){function ut(){return lt!==null&&lt.apply(this,arguments)||this}return b(ut,lt),ut.prototype.getOps=function(ct){return["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]},ut}(at);e.WebGLReduceSumSquare=tt},function(o,e,s){var h,b=this&&this.__extends||(h=function(et,d){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,tt){_.__proto__=tt}||function(_,tt){for(var lt in tt)tt.hasOwnProperty(lt)&&(_[lt]=tt[lt])})(et,d)},function(et,d){function _(){this.constructor=et}h(et,d),et.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLSliceV10=e.WebGLSlice=void 0;var _e=s(38),rt=s(0),at=function(et){function d(){return et!==null&&et.apply(this,arguments)||this}return b(d,et),d.prototype.run=function(_,tt){return _.run(this,tt)},d.prototype.createProgramInfo=function(_,tt){return ot(_,tt[0],this.starts,this.ends,this.axes)},d.prototype.createRunData=function(_,tt,lt){return nt(_,tt,lt)},d}(_e.Slice);e.WebGLSlice=at;var st=function(et){function d(){return et!==null&&et.apply(this,arguments)||this}return b(d,et),d.prototype.run=function(_,tt){return _.run(this,tt)},d.prototype.createProgramInfo=function(_,tt){if(!_.session.isInitializer(tt[1].dataId)||!_.session.isInitializer(tt[2].dataId)||tt.length>=4&&!_.session.isInitializer(tt[3].dataId)||tt.length>=5&&!_.session.isInitializer(tt[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(tt.length>=5&&tt[4].integerData.some(function(ft){return ft!==1}))throw new Error("currently non-1 steps is not supported for Slice");var lt=Array.from(tt[1].integerData),ut=Array.from(tt[2].integerData),ct=tt.length>=4?Array.from(tt[3].integerData):[];return ot(_,tt[0],lt,ut,ct)},d.prototype.createRunData=function(_,tt,lt){return nt(_,tt,lt)},d}(_e.SliceV10);function ot(et,d,_,tt,lt){lt.length===0&&(lt=d.dims.slice(0).map(function(ht,gt){return gt})),lt=rt.ShapeUtil.normalizeAxes(lt,d.dims.length),_=_.map(function(ht,gt){return ht>d.dims[lt[gt]]-1?d.dims[lt[gt]]:rt.ShapeUtil.normalizeAxis(ht,d.dims[lt[gt]])}),tt=tt.map(function(ht,gt){return ht>d.dims[lt[gt]]-1?d.dims[lt[gt]]:rt.ShapeUtil.normalizeAxis(ht,d.dims[lt[gt]])});for(var ut=d.dims.slice(),ct=[],ft=0;ft<lt.length;ft++)ut[lt[ft]]=tt[ft]-_[ft],_[ft]>0&&ct.push("outputIdx["+lt[ft]+"] += "+_[ft]+";");var dt=`
      float process(int outputIdx[`+ut.length+`]) {
        `+ct.join(`
      `)+`
        return _A(outputIdx);
      }`;return{inputLayouts:[et.getOrCreateTextureLayout(d)],outputLayout:et.createTextureLayoutFromShape(ut),samplers:["A"],shaderSource:dt}}function nt(et,d,_){var tt=[et.getOrCreateTextureData(_[0],d.inputLayouts[0])];return{inputTextureDatas:tt,outputTextureData:et.createTextureDataFromLayout(d.outputLayout,tt[0].tensor.type),uniformData:{}}}e.WebGLSliceV10=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(et,d){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,tt){_.__proto__=tt}||function(_,tt){for(var lt in tt)tt.hasOwnProperty(lt)&&(_[lt]=tt[lt])})(et,d)},function(et,d){function _(){this.constructor=et}h(et,d),et.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}),_e=this&&this.__read||function(et,d){var _=typeof Symbol=="function"&&et[Symbol.iterator];if(!_)return et;var tt,lt,ut=_.call(et),ct=[];try{for(;(d===void 0||d-- >0)&&!(tt=ut.next()).done;)ct.push(tt.value)}catch(ft){lt={error:ft}}finally{try{tt&&!tt.done&&(_=ut.return)&&_.call(ut)}finally{if(lt)throw lt.error}}return ct},rt=this&&this.__spread||function(){for(var et=[],d=0;d<arguments.length;d++)et=et.concat(_e(arguments[d]));return et};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLSoftmax=void 0;var at=s(22),st=s(0),ot=s(2),nt=function(et){function d(){return et.call(this)||this}return b(d,et),d.prototype.run=function(_,tt){var lt=this;this.artifacts||(this.artifacts=[],this.createProgramInfos(_,tt).forEach(function(ct,ft){var dt=_.session.programManager.build(ct);lt.artifacts.push(dt)}));var ut=this.createRunDatas(_,this.artifacts.map(function(ct){return ct.programInfo}),tt);return ut.forEach(function(ct,ft){return _.session.programManager.run(lt.artifacts[ft],ct)}),[ut[ut.length-1].outputTextureData.tensor]},d.prototype.createSoftMaxProgramInfo=function(_,tt,lt,ut,ct,ft){var dt=tt.dims.slice(),ht=_.createTextureLayoutFromShape(dt),gt=dt,yt=gt.length,vt=ht.width,mt=ht.height;if(lt<1||ut<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ct.shape.length!==1||ft.shape.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(ct.shape[0]!==lt||ft.shape[0]!==lt)throw new Error("Shape of the intermediate results should be equal to logical row count");var bt=`
    float process(int[`+yt+`] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, `+vt+", "+mt+`);

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / `+ut+`;

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return{inputLayouts:[ht,ct,ft],outputLayout:_.createTextureLayoutFromShape(gt),samplers:["A","Max","Norm"],shaderSource:bt}},d.prototype.createComputScaleProgramInfo=function(_,tt,lt,ut,ct,ft){var dt=_.createTextureLayoutFromShape(tt.dims.slice()),ht=ft.length,gt=dt.width,yt=dt.height;if(lt<1||ut<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ft.length!==1)throw new Error("Dimensionality of the output should be 1");if(ft[0]!==lt)throw new Error("Shape of the output should be equal to logical row count");if(ct.shape.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(ct.shape[0]!==lt)throw new Error("Shape of the intermediate results should be equal to logical row count");var vt=`
    float process(int[`+ht+`] indices) {

      int logical_row_start_offset = indices[0] * `+ut+`;

      float norm_factor = 0.0;
      float max = _Max(indices);
      for(int i=0; i<`+ut+`; ++i)
      {
        norm_factor += exp(getColorAsFloat(`+ot.getGlsl(_.session.backend.glContext.version).texture2D+"(A, offsetToCoords(logical_row_start_offset + i, "+gt+", "+yt+`))) - max);
      }

      return norm_factor;
    }`;return{inputLayouts:[dt,ct],outputLayout:_.createTextureLayoutFromShape(ft),samplers:["A","Max"],shaderSource:vt}},d.prototype.createComputeMaxProgramInfo=function(_,tt,lt,ut,ct){var ft=_.createTextureLayoutFromShape(tt.dims.slice()),dt=ct.length,ht=ft.width,gt=ft.height;if(lt<1||ut<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ct.length!==1)throw new Error("Dimensionality of the output should be 1");if(ct[0]!==lt)throw new Error("Shape of the output should be equal to logical row count");var yt=ot.getGlsl(_.session.backend.glContext.version),vt=`
        float process(int[`+dt+`] indices) {

          int logical_row_start_offset = indices[0] * `+ut+`;

          float max = getColorAsFloat(`+yt.texture2D+"(A, offsetToCoords(logical_row_start_offset, "+ht+", "+gt+` )));
          for(int i=1; i<`+ut+`; ++i)
          {
            float current = getColorAsFloat(`+yt.texture2D+"(A, offsetToCoords(logical_row_start_offset + i, "+ht+", "+gt+`)));
            if(current > max)
              max = current;
          }

          return max;
        }`;return{inputLayouts:[ft],outputLayout:_.createTextureLayoutFromShape(ct),samplers:["A"],shaderSource:vt}},d.prototype.createProgramInfos=function(_,tt){var lt=tt[0].dims.slice(),ut=st.ShapeUtil.normalizeAxis(this.axis,lt.length),ct=st.ShapeUtil.sizeToDimension(lt,ut),ft=st.ShapeUtil.sizeFromDimension(lt,ut),dt=this.createComputeMaxProgramInfo(_,tt[0],ct,ft,[ct]),ht=this.createComputScaleProgramInfo(_,tt[0],ct,ft,dt.outputLayout,[ct]);return[dt,ht,this.createSoftMaxProgramInfo(_,tt[0],ct,ft,dt.outputLayout,ht.outputLayout)]},d.prototype.createRunDatas=function(_,tt,lt){var ut=lt[0].type,ct=_.getOrCreateTextureData(lt[0],tt[0].inputLayouts[0]),ft=[];ft.push({inputTextureDatas:[ct],outputTextureData:_.createTextureDataFromLayout(tt[0].outputLayout,ut),uniformData:{}});for(var dt=1;dt<tt.length;++dt)ft.push({inputTextureDatas:rt(ft[dt-1].inputTextureDatas,[ft[dt-1].outputTextureData]),outputTextureData:_.createTextureDataFromLayout(tt[dt].outputLayout,ut),uniformData:{}});return ft},d}(at.Softmax);e.WebGLSoftmax=nt},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)}),_e=this&&this.__read||function(ot,nt){var et=typeof Symbol=="function"&&ot[Symbol.iterator];if(!et)return ot;var d,_,tt=et.call(ot),lt=[];try{for(;(nt===void 0||nt-- >0)&&!(d=tt.next()).done;)lt.push(d.value)}catch(ut){_={error:ut}}finally{try{d&&!d.done&&(et=tt.return)&&et.call(tt)}finally{if(_)throw _.error}}return lt};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLSplit=void 0;var rt=s(146),at=s(0),st=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){var _=this;if(!this.artifacts){this.artifacts=[];for(var tt=at.ShapeUtil.normalizeAxis(this.axis,d[0].dims.length),lt=this.getProgramCount(et,d,tt),ut=0;ut<lt;++ut){var ct=this.createProgramInfo(et,d[0],tt,ut),ft=et.session.programManager.build(ct);this.artifacts.push(ft)}}var dt=[];return this.artifacts.forEach(function(ht){var gt=_.createRunData(et,ht.programInfo,d);et.session.programManager.run(ht,gt),dt.push(gt.outputTextureData.tensor)}),dt},nt.prototype.getProgramCount=function(et,d,_){return _e(at.SplitUtil.splitShape(d[0].dims,_,this.split,this.numOutputs),2)[1].length},nt.prototype.createProgramInfo=function(et,d,_,tt){var lt=_e(at.SplitUtil.splitShape(d.dims,_,this.split,this.numOutputs),2),ut=lt[0],ct=lt[1][tt],ft=ut[tt],dt=`
      float process(int indices[`+ft.length+`]) {
        indices[`+_+"] += "+ct+`;
        return _A(indices);
      }`;return{inputLayouts:[et.getOrCreateTextureLayout(d)],outputLayout:et.createTextureLayoutFromShape(ft),samplers:["A"],shaderSource:dt}},nt.prototype.createRunData=function(et,d,_){var tt=[et.getOrCreateTextureData(_[0],d.inputLayouts[0])];return{inputTextureDatas:tt,outputTextureData:et.createTextureDataFromLayout(d.outputLayout,tt[0].tensor.type),uniformData:{}}},nt}(rt.Split);e.WebGLSplit=st},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Split=void 0;var h=function(){function b(_e){this.numOutputs=_e}return b.prototype.initialize=function(_e){this.axis=_e.getInt("axis",0),this.split=_e.getInts("split",[])},b.prototype.checkInputs=function(_e){return!(!_e||_e.length!==1)&&this.checkInputTypes(_e)},b.prototype.checkInputTypes=function(_e){return _e[0].type==="int8"||_e[0].type==="uint8"||_e[0].type==="int16"||_e[0].type==="uint16"||_e[0].type==="int32"||_e[0].type==="uint32"||_e[0].type==="float32"||_e[0].type==="float64"||_e[0].type==="bool"},b}();e.Split=h},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLSqueeze=void 0;var _e=s(39),rt=s(0),at=s(10),st=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){var _=rt.ShapeUtil.squeezeShape(d[0].dims,this.axes);return[at.reshape(et,d[0],_)]},nt}(_e.Squeeze);e.WebGLSqueeze=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLSum=void 0;var _e=s(23),rt=s(2),at=function(st){function ot(){return st!==null&&st.apply(this,arguments)||this}return b(ot,st),ot.prototype.run=function(nt,et){return nt.run(this,et)},ot.prototype.createProgramInfo=function(nt,et){var d=rt.getGlsl(nt.session.backend.glContext.version),_=et[0].dims.slice(),tt=et.map(function(ut,ct){return d.texture2D+"(X"+ct+",TexCoords)"}).join(" + "),lt=et.map(function(ut,ct){return"X"+ct});return{inputLayouts:et.map(function(ut){return nt.getOrCreateTextureLayout(ut)}),outputLayout:nt.createTextureLayoutFromShape(_),samplers:lt,shaderSource:`
      void main() {
        vec4 result = `+tt+`;
        `+d.output+` = result;
      }`,hasMain:!0}},ot.prototype.createRunData=function(nt,et,d){var _=d.map(function(tt,lt){return nt.getOrCreateTextureData(tt,et.inputLayouts[lt])});return{inputTextureDatas:_,outputTextureData:nt.createTextureDataFromLayout(et.outputLayout,_[0].tensor.type),uniformData:{}}},ot}(_e.Sum);e.WebGLSum=at},function(o,e,s){var h,b=this&&this.__extends||(h=function(rt,at){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,ot){st.__proto__=ot}||function(st,ot){for(var nt in ot)ot.hasOwnProperty(nt)&&(st[nt]=ot[nt])})(rt,at)},function(rt,at){function st(){this.constructor=rt}h(rt,at),rt.prototype=at===null?Object.create(at):(st.prototype=at.prototype,new st)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLTile=void 0;var _e=function(rt){function at(){return rt!==null&&rt.apply(this,arguments)||this}return b(at,rt),at.prototype.run=function(st,ot){return st.run(this,ot)},at.prototype.createProgramInfo=function(st,ot){for(var nt=ot[0].dims.slice(),et=new Array(nt.length),d=[],_=0;_<nt.length;_++)et[_]=nt[_]*ot[1].numberData[_],d.push("inputIdx["+_+"] = int(mod(float(outputIdx["+_+"]), "+nt[_]+".));");var tt=et.length,lt=`
    float process(int outputIdx[`+tt+`]) {
      int inputIdx[`+tt+`];
      `+d.join(`
`)+`
      return _A(inputIdx);
    }`;return{inputLayouts:ot.map(function(ut){return st.getOrCreateTextureLayout(ut)}),outputLayout:st.createTextureLayoutFromShape(et),samplers:["A"],shaderSource:lt}},at.prototype.createRunData=function(st,ot,nt){var et=nt.map(function(d,_){return st.getOrCreateTextureData(d,ot.inputLayouts[_])});return{inputTextureDatas:et,outputTextureData:st.createTextureDataFromLayout(ot.outputLayout,et[0].tensor.type),uniformData:{}}},at}(s(40).Tile);e.WebGLTile=_e},function(o,e,s){var h,b=this&&this.__extends||(h=function(et,d){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,tt){_.__proto__=tt}||function(_,tt){for(var lt in tt)tt.hasOwnProperty(lt)&&(_[lt]=tt[lt])})(et,d)},function(et,d){function _(){this.constructor=et}h(et,d),et.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}),_e=this&&this.__read||function(et,d){var _=typeof Symbol=="function"&&et[Symbol.iterator];if(!_)return et;var tt,lt,ut=_.call(et),ct=[];try{for(;(d===void 0||d-- >0)&&!(tt=ut.next()).done;)ct.push(tt.value)}catch(ft){lt={error:ft}}finally{try{tt&&!tt.done&&(_=ut.return)&&_.call(ut)}finally{if(lt)throw lt.error}}return ct},rt=this&&this.__spread||function(){for(var et=[],d=0;d<arguments.length;d++)et=et.concat(_e(arguments[d]));return et};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLTranspose=void 0;var at=s(41),st=s(0),ot=s(5),nt=function(et){function d(){return et!==null&&et.apply(this,arguments)||this}return b(d,et),d.prototype.run=function(_,tt){return _.run(this,tt)},d.prototype.getOutputShape=function(_){var tt=this.getAdjustedPerm(_[0]);return st.ShapeUtil.sortBasedOnPerm(_[0],tt)},d.prototype.createProgramInfo=function(_,tt){var lt=tt.map(function(gt){return gt.dims.slice()}),ut=this.getAdjustedPerm(lt[0]),ct=this.getOutputShape(lt),ft=tt[0].dims.length,dt=`
      `+this.getPermFunctionBody("perm",ut,ft)+`
      float process(int indices[`+ft+`]) {
        int a[`+ft+`];
        perm(a, indices);
        return _A(a);
      }`,ht=_.createTextureLayoutFromShape(ct,1,ct);return{inputLayouts:[_.getOrCreateTextureLayout(tt[0])],outputLayout:ht,samplers:["A"],shaderSource:dt}},d.prototype.createRunData=function(_,tt,lt){var ut=[_.getOrCreateTextureData(lt[0],tt.inputLayouts[0])];return{inputTextureDatas:ut,outputTextureData:_.createTextureDataFromLayout(tt.outputLayout,ut[0].tensor.type),uniformData:{}}},d.prototype.getPositionalFunction=function(_,tt,lt){var ut=this.getOutputShape([tt]);return lt||(lt="perm"),{name:lt,body:this.getPermFunctionBody(lt,this.getAdjustedPerm(tt),ut.length),type:ot.FunctionType.Positional,inputShape:tt,outputShape:ut}},d.prototype.getAdjustedPerm=function(_){var tt=this.perm;return tt&&tt.length!==_.length&&(tt=rt(_.keys()).reverse()),tt},d.prototype.getPermFunctionBody=function(_,tt,lt){var ut=[];ut.push("void "+_+"(out int a["+lt+"], int src["+lt+"]) {");for(var ct=0;ct<lt;++ct)ut.push("	a["+tt[ct]+"]=src["+ct+"];");return ut.push("	}"),ut.join(`
`)},d}(at.Transpose);e.WebGLTranspose=nt},function(o,e,s){var h,b=this&&this.__extends||(h=function(nt,et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var tt in _)_.hasOwnProperty(tt)&&(d[tt]=_[tt])})(nt,et)},function(nt,et){function d(){this.constructor=nt}h(nt,et),nt.prototype=et===null?Object.create(et):(d.prototype=et.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0}),e.glslTanh=e.glslTan=e.glslSqrt=e.glslSigmoid=e.glslRelu=e.glslSin=e.glslNot=e.glslNeg=e.glslLog=e.glslIdentity=e.glslFloor=e.glslExp=e.glslCos=e.glslCeil=e.glslAtan=e.glslAsin=e.glslAcos=e.glslAbs=e.WebGLUnaryOp=void 0;var _e=s(43),rt=s(5),at=s(2),st=function(nt){function et(d,_){var tt=nt.call(this,d)||this;return tt.typeConstraint=d,tt.glslFunc=_,tt}return b(et,nt),et.prototype.run=function(d,_){return d.run(this,_)},et.prototype.createProgramInfo=function(d,_){var tt=_[0].dims.slice(),lt=d.getOrCreateTextureLayout(_[0]),ut=at.getGlsl(d.session.backend.glContext.version),ct=`
      `+this.glslFunc.body+`
      void main() {
        vec4 v = `+ut.texture2D+`(A, TexCoords);
        v = `+this.glslFunc.name+`(v);
        `+ut.output+` = v;
      }
      `;return{inputLayouts:[lt],outputLayout:d.createTextureLayoutFromShape(tt),samplers:["A"],shaderSource:ct,hasMain:!0}},et.prototype.createRunData=function(d,_,tt){var lt=[d.getOrCreateTextureData(tt[0],_.inputLayouts[0])];return{inputTextureDatas:lt,outputTextureData:d.createTextureDataFromLayout(_.outputLayout,lt[0].tensor.type),uniformData:{}}},et}(_e.UnaryOp);function ot(nt){var et=nt+"_";return{body:`
  float `+et+`(float a) {
    return `+nt+`(a);
  }
  vec4 `+et+`(vec4 v) {
    return `+nt+`(v);
  }
  `,name:et,type:rt.FunctionType.ValueBased}}e.WebGLUnaryOp=st,e.glslAbs=function(){return ot("abs")},e.glslAcos=function(){return ot("acos")},e.glslAsin=function(){return ot("asin")},e.glslAtan=function(){return ot("atan")},e.glslCeil=function(){return ot("ceil")},e.glslCos=function(){return ot("cos")},e.glslExp=function(){return ot("exp")},e.glslFloor=function(){return ot("floor")},e.glslIdentity=function(){var nt="indentity_";return{body:`
  float indentity_(float a) {
    return a;
  }
  vec4 indentity_(vec4 v) {
    return v;
  }
  `,name:nt,type:rt.FunctionType.ValueBased}},e.glslLog=function(){return ot("log")},e.glslNeg=function(){return{body:`
  float neg_(float a) {
    return -a;
  }
  vec4 neg_(vec4 v) {
    return -v;
  }
  `,name:"neg_",type:rt.FunctionType.ValueBased}},e.glslNot=function(){return{body:`
  float not_(float a) {
    return float( ! bool(a) );
  }
  bool not_(bool a) {
    return !a;
  }
  vec4 not_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 not_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:"not_",type:rt.FunctionType.ValueBased}},e.glslSin=function(){return ot("sin")},e.glslRelu=function(){return{body:`
  float relu_(float a) {
    return max( a, 0.0 );
  }
  vec4 relu_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:"relu_",type:rt.FunctionType.ValueBased}},e.glslSigmoid=function(){var nt="sigmoid_";return{body:`
  float sigmoid_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 sigmoid_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:nt,type:rt.FunctionType.ValueBased}},e.glslSqrt=function(){return ot("sqrt")},e.glslTan=function(){return ot("tan")},e.glslTanh=function(){return{body:`
  float tanh_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 tanh_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:"tanh_",type:rt.FunctionType.ValueBased}}},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLUnsqueeze=void 0;var _e=s(44),rt=s(0),at=s(10),st=function(ot){function nt(){return ot!==null&&ot.apply(this,arguments)||this}return b(nt,ot),nt.prototype.run=function(et,d){var _=rt.ShapeUtil.unsqueezeShape(d[0].dims,this.axes);return[at.reshape(et,d[0],_)]},nt}(_e.Unsqueeze);e.WebGLUnsqueeze=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLUpsample=void 0;var _e=s(45),rt=s(2),at=function(st){function ot(){return st!==null&&st.apply(this,arguments)||this}return b(ot,st),ot.prototype.run=function(nt,et){return nt.run(this,et)},ot.prototype.createProgramInfo=function(nt,et){for(var d=this,_=nt.getOrCreateTextureLayout(et[0]),tt=et[0].dims.map(function(vt,mt){return Math.floor(vt*d.scales[mt])}),lt=nt.createTextureLayoutFromShape(tt),ut=tt.length,ct=rt.getGlsl(nt.session.backend.glContext.version),ft=new Array(ut),dt=new Array(ut),ht=`
      int output_pitches[`+ut+`];
      int input_pitches[`+ut+`];
      `,gt=ut-1;gt>=0;gt--)ft[gt]=gt===ut-1?1:ft[gt+1]*tt[gt+1],dt[gt]=gt===ut-1?1:dt[gt+1]*et[0].dims[gt+1],ht+=`
      output_pitches[`+gt+"] = "+ft[gt]+`;
      input_pitches[`+gt+"] = "+dt[gt]+`;
      `;var yt=`
    float getInputFloat(int index) {
      vec2 coords = offsetToCoords(index, `+_.width+", "+_.height+`);
      float value = getColorAsFloat(`+ct.texture2D+`(X, coords));
      return value;
    }
    `;return{inputLayouts:[_],outputLayout:lt,samplers:["X"],shaderSource:this.mode==="nearest"?`
      `+yt+`
      float process(int indices[`+ut+`]) {
        int input_index = 0;
        int output_index = coordsToOffset(TexCoords, `+lt.width+", "+lt.height+`);

        `+ht+`

        int d, m;
        for (int dim = 0; dim < `+ut+`; ++dim) {
          d = output_index / output_pitches[dim];
          m = output_index - d * output_pitches[dim];
          output_index = m;

          if (scales[dim] != 1 && d > 0) {
            int d2 = d / scales[dim];
            m = d - d2 * scales[dim];
            d = d2;
          }
          input_index += input_pitches[dim] * d;
        }

        return getInputFloat(input_index);
      }`:ut===4?`
      `+yt+`
      float process(int indices[4]) {
        int input_index = 0;
        int output_index = coordsToOffset(TexCoords, `+lt.width+", "+lt.height+`);

        `+ht+`

        int m;
        int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
        index_of_dim0 = output_index / output_pitches[0];
        m = output_index - index_of_dim0 * output_pitches[0];
        index_of_dim1 = m / output_pitches[1];
        m = m - index_of_dim1 * output_pitches[1];
        index_of_dim2 = m / output_pitches[2];
        m = m - index_of_dim2 * output_pitches[2];
        index_of_dim3 = m;

        int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
        index_of_input_dim2 = index_of_dim2 / scales[2];
        y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
        index_of_input_dim3 = index_of_dim3 / scales[3];
        x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

        input_index = index_of_dim0 * input_pitches[0] +
                      index_of_dim1 * input_pitches[1] +
                      index_of_input_dim2 * input_pitches[2] +
                      index_of_input_dim3;

        float x00 = getInputFloat(input_index);
        float x10, x01, x11;

        bool end_of_dim2 = false;
        if (index_of_input_dim2 == (`+et[0].dims[2]+` - 1)) {
          // It's the end in dimension 2
          x01 = x00;
          end_of_dim2 = true;
        } else {
          x01 = getInputFloat(input_index + input_pitches[2]);
        }

        if (index_of_input_dim3 == (input_pitches[2] - 1)) {
          // It's the end in dimension 3
          x10 = x00;
          x11 = x01;
        }
        else {
          x10 = getInputFloat(input_index + 1);
          x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
        }

        float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
        float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
        return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
      }`:`
      `+yt+`
      float process(int indices[2]) {
        int input_index = 0;
        int output_index = coordsToOffset(TexCoords, `+lt.width+", "+lt.height+`);

        `+ht+`

        int m;
        int index_of_dim0, index_of_dim1;
        index_of_dim0 = output_index / output_pitches[0];
        m = output_index - index_of_dim0 * output_pitches[0];
        index_of_dim1 = m;

        int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
        index_of_input_dim0 = index_of_dim0 / scales[0];
        y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
        index_of_input_dim1 = index_of_dim1 / scales[1];
        x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

        input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

        float x00 = getInputFloat(input_index);
        float x10, x01, x11;

        bool end_of_dim0 = false;
        if (index_of_input_dim0 == (`+et[0].dims[0]+` - 1)) {
          // It's the end in dimension 0
          x01 = x00;
          end_of_dim0 = true;
        } else {
          x01 = getInputFloat(input_index + input_pitches[0]);
        }

        if (index_of_input_dim1 == (input_pitches[0] - 1)) {
          // It's the end in dimension 1
          x10 = x00;
          x11 = x01;
        }
        else {
          x10 = getInputFloat(input_index + 1);
          x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
        }

        float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
        float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
        return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
      }`,variables:[{name:"scales",type:"int",arrayLength:this.scales.length}]}},ot.prototype.createRunData=function(nt,et,d){var _=d.map(function(tt,lt){return nt.getOrCreateTextureData(tt,et.inputLayouts[lt])});return{inputTextureDatas:_,outputTextureData:nt.createTextureDataFromLayout(et.outputLayout,_[0].tensor.type),uniformData:{scales:this.scales.map(function(tt){return Math.ceil(tt)})}}},ot}(_e.Upsample);e.WebGLUpsample=at},function(o,e,s){var h=this&&this.__assign||function(){return(h=Object.assign||function(nt){for(var et,d=1,_=arguments.length;d<_;d++)for(var tt in et=arguments[d])Object.prototype.hasOwnProperty.call(et,tt)&&(nt[tt]=et[tt]);return nt}).apply(this,arguments)},b=this&&this.__values||function(nt){var et=typeof Symbol=="function"&&Symbol.iterator,d=et&&nt[et],_=0;if(d)return d.call(nt);if(nt&&typeof nt.length=="number")return{next:function(){return nt&&_>=nt.length&&(nt=void 0),{value:nt&&nt[_++],done:!nt}}};throw new TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ProgramManager=void 0;var _e=s(25),rt=s(3),at=s(155),st=s(2),ot=function(){function nt(et,d){this.profiler=et,this.glContext=d,this.repo=new Map,this.attributesBound=!1}return nt.prototype.getArtifact=function(et){return this.repo.get(et)},nt.prototype.setArtifact=function(et,d){this.repo.set(et,d)},nt.prototype.run=function(et,d){var _=this;this.profiler.event("backend","ProgramManager.run",function(){var tt=_.glContext.gl,lt=et.program;tt.useProgram(lt);try{_.bindOutput(d.outputTextureData),_.attributesBound||_.bindAttributes(et.attribLocations),_.bindUniforms(et.uniformLocations,d.uniformData,d.inputTextureDatas)}catch(ut){throw rt.Logger.error("ProgramManager",et.programInfo.shaderSource),ut}_.profiler.event("backend","GlContext.draw()",function(){_.doDraw(et,d),tt.flush()})})},nt.prototype.dispose=function(){var et=this;this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(function(d){return et.glContext.deleteProgram(d.program)})},nt.prototype.build=function(et){var d=this;return this.profiler.event("backend","ProgramManager.build",function(){var _=new at.GlslPreprocessor(d.glContext,et),tt=_.preprocess(),lt=d.compile(tt);return{programInfo:et,program:lt,uniformLocations:d.getUniformLocations(lt,_.context.programInfo.samplers,_.context.programInfo.variables),attribLocations:d.getAttribLocations(lt)}})},nt.prototype.doDraw=function(et,d){d.draw?(rt.Logger.verbose("ProgramManager","Custom draw function"),d.draw(this.glContext,et)):this.glContext.draw()},nt.prototype.compile=function(et){if(!this.vertexShader){rt.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");var d=st.getVertexShaderSource(this.glContext.version);this.vertexShader=this.glContext.compileShader(d,this.glContext.gl.VERTEX_SHADER)}_e.env.debug&&rt.Logger.verbose("ProrgramManager",`FragShader:
`+et+`
`);var _=this.glContext.compileShader(et,this.glContext.gl.FRAGMENT_SHADER),tt=this.glContext.createProgram(this.vertexShader,_);return this.glContext.deleteShader(_),tt},nt.prototype.bindOutput=function(et){rt.Logger.verbose("ProrgramManager","Binding output texture to Framebuffer: w/h="+et.width+"/"+et.height+", shape="+et.shape+", type="+et.tensor.type),this.glContext.attachFramebuffer(et.texture,et.width,et.height)},nt.prototype.bindAttributes=function(et){var d=et.position,_=et.textureCoord;this.glContext.setVertexAttributes(d,_),this.attributesBound=!0},nt.prototype.bindUniforms=function(et,d,_){var tt,lt,ut=this.glContext.gl,ct=0;try{for(var ft=b(et),dt=ft.next();!dt.done;dt=ft.next()){var ht=dt.value,gt=ht.name,yt=ht.type,vt=ht.location,mt=ht.arrayLength;switch(yt){case"sampler2D":this.bindTexture(_[ct],vt,ct),ct++;break;case"float":mt?ut.uniform1fv(vt,d[gt]):ut.uniform1f(vt,d[gt]);break;case"int":mt?ut.uniform1iv(vt,d[gt]):ut.uniform1i(vt,d[gt]);break;default:throw new Error("Uniform not implemented: "+yt)}}}catch(bt){tt={error:bt}}finally{try{dt&&!dt.done&&(lt=ft.return)&&lt.call(ft)}finally{if(tt)throw tt.error}}},nt.prototype.bindTexture=function(et,d,_){this.glContext.bindTextureToUniform(et.texture,_,d)},nt.prototype.getAttribLocations=function(et){return{position:this.getAttribLocation(et,"position"),textureCoord:this.getAttribLocation(et,"textureCoord")}},nt.prototype.getUniformLocations=function(et,d,_){var tt,lt,ut,ct,ft=[];if(d)try{for(var dt=b(d),ht=dt.next();!ht.done;ht=dt.next()){var gt=ht.value;ft.push({name:gt,type:"sampler2D",location:this.getUniformLocation(et,gt)})}}catch(bt){tt={error:bt}}finally{try{ht&&!ht.done&&(lt=dt.return)&&lt.call(dt)}finally{if(tt)throw tt.error}}if(_)try{for(var yt=b(_),vt=yt.next();!vt.done;vt=yt.next()){var mt=vt.value;ft.push(h(h({},mt),{location:this.getUniformLocation(et,mt.name)}))}}catch(bt){ut={error:bt}}finally{try{vt&&!vt.done&&(ct=yt.return)&&ct.call(yt)}finally{if(ut)throw ut.error}}return ft},nt.prototype.getUniformLocation=function(et,d){var _=this.glContext.gl.getUniformLocation(et,d);if(_===null)throw new Error("Uniform "+d+" not found.");return _},nt.prototype.getAttribLocation=function(et,d){return this.glContext.gl.getAttribLocation(et,d)},nt}();e.ProgramManager=ot},function(o,e,s){var h=this&&this.__values||function(ot){var nt=typeof Symbol=="function"&&Symbol.iterator,et=nt&&ot[nt],d=0;if(et)return et.call(ot);if(ot&&typeof ot.length=="number")return{next:function(){return ot&&d>=ot.length&&(ot=void 0),{value:ot&&ot[d++],done:!ot}}};throw new TypeError(nt?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.GlslPreprocessor=void 0;var b=s(5),_e=s(156),rt=s(157),at=s(2),st=function(){function ot(nt,et){var d=this;this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new b.GlslContext(nt,et),Object.keys(rt.glslRegistry).forEach(function(yt){var vt=new rt.glslRegistry[yt](d.context);d.libs[yt]=vt});var _=this.glslLibRoutineDependencyGraph;for(var tt in this.libs){var lt=this.libs[tt].getFunctions();for(var ut in lt){var ct=tt+"."+ut,ft=void 0;_[ct]?(ft=_[ct]).routineBody=lt[ut].routineBody:(ft=new b.GlslLibRoutineNode(ct,lt[ut].routineBody),_[ct]=ft);var dt=lt[ut].dependencies;if(dt)for(var ht=0;ht<dt.length;++ht)if(_[dt[ht]])ft.addDependency(_[dt[ht]]);else{var gt=new b.GlslLibRoutineNode(dt[ht]);_[dt[ht]]=gt,ft.addDependency(gt)}}}}return ot.prototype.preprocess=function(){var nt=this.context.programInfo,et=nt.shaderSource;return this.context.programInfo.hasMain||(et=et+`
      `+at.getDefaultFragShaderMain(this.context.glContext.version,nt.outputLayout.shape.length)),et=_e.replaceInlines(et),at.getFragShaderPreamble(this.context.glContext.version)+`
    `+this.getUniforms(nt.samplers,nt.variables)+`
    `+this.getImports(et)+`
    `+et},ot.prototype.getImports=function(nt){var et=this.selectGlslLibRoutinesToBeIncluded(nt);if(et.length===0)return"";for(var d="",_=0;_<et.length;++_){if(!et[_].routineBody)throw new Error("Missing body for the Glsl Library routine: "+et[_].name);d+=et[_].routineBody+`
`}return d},ot.prototype.selectGlslLibRoutinesToBeIncluded=function(nt){var et=this,d=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(function(_){var tt=_.split(".")[1];nt.indexOf(tt)!==-1&&d.push(et.glslLibRoutineDependencyGraph[_])}),b.TopologicalSortGlslRoutines.returnOrderedNodes(d)},ot.prototype.getUniforms=function(nt,et){var d,_,tt,lt,ut=[];if(nt)try{for(var ct=h(nt),ft=ct.next();!ft.done;ft=ct.next()){var dt=ft.value;ut.push("uniform sampler2D "+dt+";")}}catch(vt){d={error:vt}}finally{try{ft&&!ft.done&&(_=ct.return)&&_.call(ct)}finally{if(d)throw d.error}}if(et)try{for(var ht=h(et),gt=ht.next();!gt.done;gt=ht.next()){var yt=gt.value;ut.push("uniform "+yt.type+" "+yt.name+(yt.arrayLength?"["+yt.arrayLength+"]":"")+";")}}catch(vt){tt={error:vt}}finally{try{gt&&!gt.done&&(lt=ht.return)&&lt.call(ht)}finally{if(tt)throw tt.error}}return ut.join(`
`)},ot}();e.GlslPreprocessor=st},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.replaceInlines=void 0;var h=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;e.replaceInlines=function(b){for(var _e,rt={};(_e=h.exec(b))!==null;){var at=_e[3].split(",").map(function(d){var _=d.trim().split(" ");return _&&_.length===2?{type:_[0],name:_[1]}:null}).filter(function(d){return d!==null});rt[_e[2]]={params:at,body:_e[4]}}for(var st in rt)for(var ot="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",st),nt=new RegExp(ot,"gm"),et=function(){var d=_e[1],_=_e[2],tt=_e[3].split(","),lt=d?d+" "+_+";":"",ut=rt[st].body,ct="";rt[st].params.forEach(function(dt,ht){dt&&(ct+=dt.type+" "+dt.name+" = "+tt[ht]+`;
`)});var ft=`
      `+lt+`
      {
        `+(ut=(ut=ct+`
 `+ut).replace("return",_+" = "))+`
      }
      `;b=b.replace(_e[0],ft)};(_e=nt.exec(b))!==null;)et();return b=b.replace(h,"")}},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.glslRegistry=void 0;var h=s(158),b=s(159),_e=s(160),rt=s(161),at=s(162);e.glslRegistry={encoding:b.EncodingGlslLib,fragcolor:_e.FragColorGlslLib,vec:at.VecGlslLib,shapeUtils:rt.ShapeUtilsGlslLib,coordinates:h.CoordsGlslLib}},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)}),_e=this&&this.__assign||function(){return(_e=Object.assign||function(ot){for(var nt,et=1,d=arguments.length;et<d;et++)for(var _ in nt=arguments[et])Object.prototype.hasOwnProperty.call(nt,_)&&(ot[_]=nt[_]);return ot}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.CoordsGlslLib=void 0;var rt=s(5),at=s(2),st=function(ot){function nt(et){return ot.call(this,et)||this}return b(nt,ot),nt.prototype.getFunctions=function(){return _e(_e(_e(_e({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom())},nt.prototype.getCustomTypes=function(){return{}},nt.prototype.offsetToCoords=function(){return{offsetToCoords:new rt.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}},nt.prototype.coordsToOffset=function(){return{coordsToOffset:new rt.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}},nt.prototype.toVec=function(){for(var et=this.context.programInfo.outputLayout,d=et.shape.length,_=et.strides,tt=et.width,lt=et.height,ut=[],ct=0;ct<d-1;++ct)ut.push(`
        c[`+ct+"] = offset / "+_[ct]+";"),ut.push(`
        offset -= c[`+ct+"] * "+_[ct]+";");ut.push(`
        c[`+(d-1)+"] = offset;");var ft=`
      void toVec(vec2 texCoords, out int c[`+d+`]) {
        int offset = coordsToOffset(texCoords, `+tt+", "+lt+`);
        `+ut.join("")+`
      }
      void toVec(int offset, out int c[`+d+`]) {
        `+ut.join("")+`
      }
    `;return{toVec:new rt.GlslLibRoutine(ft,["coordinates.coordsToOffset"])}},nt.prototype.valueFrom=function(){var et=this,d=this.context.programInfo,_={};return this.context.programInfo.samplers.forEach(function(tt,lt){var ut=d.inputLayouts[lt],ct=ut.shape.length,ft="_"+tt;_[ft]=new rt.GlslLibRoutine(et.getValueFromSingle(tt,ct,ut.width,ut.height,!1),["shapeUtils.indicesToOffset"+ft,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),_[ft+="_T"]=new rt.GlslLibRoutine(et.getValueFromSingle(tt,ct,ut.width,ut.height,!0),["shapeUtils.indicesToOffset"+ft,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),_},nt.prototype.getValueFromSingle=function(et,d,_,tt,lt){var ut="_"+et;return lt&&(ut+="_T"),`
        float `+ut+"(int m["+d+`]) {
          int offset = indicesToOffset`+ut+`(m);
          vec2 coords = offsetToCoords(offset, `+_+", "+tt+`);
          float value = getColorAsFloat(`+at.getGlsl(this.context.glContext.version).texture2D+"("+et+`, coords));
          return value;
        }
        `},nt}(rt.GlslLib);e.CoordsGlslLib=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)}),_e=this&&this.__assign||function(){return(_e=Object.assign||function(st){for(var ot,nt=1,et=arguments.length;nt<et;nt++)for(var d in ot=arguments[nt])Object.prototype.hasOwnProperty.call(ot,d)&&(st[d]=ot[d]);return st}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.EncodingGlslLib=void 0;var rt=s(5),at=function(st){function ot(nt){return st.call(this,nt)||this}return b(ot,st),ot.prototype.getFunctions=function(){return _e(_e({},this.encodeFloat32()),this.decodeFloat32())},ot.prototype.getCustomTypes=function(){return{}},ot.prototype.encodeFloat32=function(){return{encode:new rt.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}},ot.prototype.decodeFloat32=function(){return{decode:new rt.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}},ot.prototype.encodeUint8=function(){var nt=ot.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new rt.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        `+nt+`
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}},ot.prototype.decodeUint8=function(){var nt=ot.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new rt.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          `+nt+`
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}},ot.isLittleEndian=function(){var nt=new ArrayBuffer(4),et=new Uint32Array(nt),d=new Uint8Array(nt);if(et[0]=3735928559,d[0]===239)return!0;if(d[0]===222)return!1;throw new Error("unknown endianness")},ot}(rt.GlslLib);e.EncodingGlslLib=at},function(o,e,s){var h,b=this&&this.__extends||(h=function(ot,nt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,d){et.__proto__=d}||function(et,d){for(var _ in d)d.hasOwnProperty(_)&&(et[_]=d[_])})(ot,nt)},function(ot,nt){function et(){this.constructor=ot}h(ot,nt),ot.prototype=nt===null?Object.create(nt):(et.prototype=nt.prototype,new et)}),_e=this&&this.__assign||function(){return(_e=Object.assign||function(ot){for(var nt,et=1,d=arguments.length;et<d;et++)for(var _ in nt=arguments[et])Object.prototype.hasOwnProperty.call(nt,_)&&(ot[_]=nt[_]);return ot}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.FragColorGlslLib=void 0;var rt=s(5),at=s(2),st=function(ot){function nt(et){return ot.call(this,et)||this}return b(nt,ot),nt.prototype.getFunctions=function(){return _e(_e({},this.setFragColor()),this.getColorAsFloat())},nt.prototype.getCustomTypes=function(){return{}},nt.prototype.setFragColor=function(){var et=at.getGlsl(this.context.glContext.version);return{setFragColor:new rt.GlslLibRoutine(`
        void setFragColor(float value) {
            `+et.output+` = encode(value);
        }
        `,["encoding.encode"])}},nt.prototype.getColorAsFloat=function(){return{getColorAsFloat:new rt.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}},nt}(rt.GlslLib);e.FragColorGlslLib=st},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)}),_e=this&&this.__assign||function(){return(_e=Object.assign||function(st){for(var ot,nt=1,et=arguments.length;nt<et;nt++)for(var d in ot=arguments[nt])Object.prototype.hasOwnProperty.call(ot,d)&&(st[d]=ot[d]);return st}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeUtilsGlslLib=void 0;var rt=s(5),at=function(st){function ot(nt){return st.call(this,nt)||this}return b(ot,st),ot.prototype.getFunctions=function(){return _e(_e(_e(_e(_e({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())},ot.prototype.getCustomTypes=function(){return{}},ot.prototype.bcastIndex=function(){var nt=this.context.programInfo,et=nt.outputLayout.shape.length,d={};return this.context.programInfo.samplers.forEach(function(_,tt){var lt=nt.inputLayouts[tt].shape;if(lt.length<=et){for(var ut=lt.length,ct=et-ut,ft="bcastIndices_"+_,dt="",ht=0;ht<ut;++ht)dt+=`
          realIndices[`+ht+"] = int( mod(float(bcastedIndices["+(ct+ht)+"]), "+lt[ht]+`.0) );
          `;var gt=`
        void `+ft+" (int bcastedIndices["+et+"], out int realIndices["+ut+`]) {
          `+dt+`
        }
        `;d[ft]=new rt.GlslLibRoutine(gt)}}),d},ot.prototype.bcastMatmulIndex=function(){var nt=this.context.programInfo,et=nt.outputLayout.shape.length,d={};return this.context.programInfo.samplers.forEach(function(_,tt){var lt=nt.inputLayouts[tt].shape;if(!(lt.length<2||lt.length>et)){for(var ut=lt.length,ct=et-ut,ft="bcastMatmulIndices_"+_,dt="",ht=0;ht<ut-2;++ht)dt+=`
          realIndices[`+ht+"] = int( mod(float(bcastedIndices["+(ct+ht)+"]), "+lt[ht]+`.0) );
          `;var gt=`
        void `+ft+"(int bcastedIndices["+et+"], out int realIndices["+ut+`]) {
          `+dt+`
          realIndices[`+(ut-1)+"] = bcastedIndices["+(et-1)+`];
          realIndices[`+(ut-2)+"] = bcastedIndices["+(et-2)+`];
        }
        `;d[ft]=new rt.GlslLibRoutine(gt)}}),d},ot.prototype.indicesToOffset=function(){var nt=this.context.programInfo,et={};return this.context.programInfo.samplers.forEach(function(d,_){var tt=nt.inputLayouts[_].shape,lt=nt.inputLayouts[_].strides,ut=tt.length,ct="indicesToOffset_"+d;et[ct]=new rt.GlslLibRoutine(ot.indexToOffsetSingle(ct,ut,lt)),et[ct="indicesToOffset_"+d+"_T"]=new rt.GlslLibRoutine(ot.indexToOffsetSingle(ct,ut,lt.slice().reverse()))}),et},ot.indexToOffsetSingle=function(nt,et,d){for(var _="",tt=et-1;tt>=0;--tt)_+=`
        offset += indices[`+tt+"] * "+d[tt]+`;
        `;return`
      int `+nt+"(int indices["+et+`]) {
        int offset = 0;
        `+_+`
        return offset;
      }
      `},ot.prototype.offsetToIndices=function(){var nt=this.context.programInfo,et={};return this.context.programInfo.samplers.forEach(function(d,_){var tt=nt.inputLayouts[_].shape,lt=nt.inputLayouts[_].strides,ut=tt.length,ct="offsetToIndices_"+d;et[ct]=new rt.GlslLibRoutine(ot.offsetToIndicesSingle(ct,ut,lt)),et[ct="offsetToIndices_"+d+"_T"]=new rt.GlslLibRoutine(ot.offsetToIndicesSingle(ct,ut,lt.slice().reverse()))}),et},ot.offsetToIndicesSingle=function(nt,et,d){for(var _=[],tt=0;tt<et-1;++tt)_.push(`
      indices[`+tt+"] = offset / "+d[tt]+";"),_.push(`
        offset -= indices[`+tt+"] * "+d[tt]+";");return _.push(`
      indices[`+(et-1)+"] = offset;"),`
      void `+nt+"(int offset, out int indices["+et+`]) {
        `+_.join("")+`
      }
      `},ot.prototype.incrementIndices=function(){var nt=this.context.programInfo,et={};return this.context.programInfo.samplers.forEach(function(d,_){for(var tt=nt.inputLayouts[_].shape,lt=tt.length,ut="incrementIndices_"+d,ct="",ft=0;ft<lt;++ft)ct+=`
        shape[`+ft+"] = "+tt[ft]+";";var dt=`
        void `+ut+"(int axis, out int indices["+lt+`]) {
          int shape[`+lt+`];
          `+ct+`;
          for(int i = `+lt+` -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;et[ut]=new rt.GlslLibRoutine(dt)}),et},ot}(rt.GlslLib);e.ShapeUtilsGlslLib=at},function(o,e,s){var h,b=this&&this.__extends||(h=function(st,ot){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,et){nt.__proto__=et}||function(nt,et){for(var d in et)et.hasOwnProperty(d)&&(nt[d]=et[d])})(st,ot)},function(st,ot){function nt(){this.constructor=st}h(st,ot),st.prototype=ot===null?Object.create(ot):(nt.prototype=ot.prototype,new nt)}),_e=this&&this.__assign||function(){return(_e=Object.assign||function(st){for(var ot,nt=1,et=arguments.length;nt<et;nt++)for(var d in ot=arguments[nt])Object.prototype.hasOwnProperty.call(ot,d)&&(st[d]=ot[d]);return st}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.VecGlslLib=void 0;var rt=s(5),at=function(st){function ot(nt){return st.call(this,nt)||this}return b(ot,st),ot.prototype.getCustomTypes=function(){return{}},ot.prototype.getFunctions=function(){return _e(_e(_e(_e({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())},ot.prototype.binaryVecFunctions=function(){var nt=this.context.programInfo.outputLayout.shape.length,et={add:"+=",sub:"-=",mul:"*=",div:"/="},d={};for(var _ in et){for(var tt=_+"Vec",lt="",ut=0;ut<nt;++ut)lt+=`
          dest[`+ut+"] "+et[_]+" src["+ut+`];
          `;var ct=`
        void `+tt+"(int src["+nt+"], out int dest["+nt+`]) {
          `+lt+`
        }
        `;d[tt]=new rt.GlslLibRoutine(ct)}return d},ot.prototype.copyVec=function(){for(var nt=this.context.programInfo.outputLayout.shape.length,et="",d=0;d<nt;++d)et+=`
        dest[`+d+"] = src["+d+`];
        `;var _=`
      void copyVec(int src[`+nt+"], out int dest["+nt+`]) {
        `+et+`
      }
      `;return{copyVec:new rt.GlslLibRoutine(_)}},ot.prototype.setVecItem=function(){for(var nt=this.context.programInfo.outputLayout.shape.length,et=`
        if(index < 0)
            index =`+nt+` + index;
        if (index == 0)
            m[0] = value;
        `,d=1;d<nt-1;++d)et+=`
        else if (index == `+d+`)
            m[`+d+`] = value;
            `;var _=`
      void setVecItem(out int m[`+nt+`], int index, int value) {
        `+(et+=`
        else
            m[`+(nt-1)+`] = value;
        `)+`
      }
        `;return{setVecItem:new rt.GlslLibRoutine(_)}},ot.prototype.getVecItem=function(){for(var nt=this.context.programInfo.outputLayout.shape.length,et=`
        if(index < 0)
            index = `+nt+` + index;
        if (index == 0)
            return m[0];
      `,d=1;d<nt-1;++d)et+=`
        else if (index == `+d+`)
            return m[`+d+`];
      `;var _=`
      int getVecItem(int m[`+nt+`], int index) {
        `+(et+=`
        else
            return m[`+(nt-1)+`];
        `)+`
      }
    `;return{getVecItem:new rt.GlslLibRoutine(_)}},ot}(rt.GlslLib);e.VecGlslLib=at},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysKeepOriginalSizeStrategy=void 0;var h=s(3),b=function(){function _e(rt){this.maxTextureSize=rt}return _e.prototype.computeTextureWH=function(rt,at){if(rt.length===0)return[1,1];var st=this.maxTextureSize;if(at){var ot=at.breakAxis>=rt.length?1:rt.slice(at.breakAxis).reduce(function(_,tt){return _*tt}),nt=at.breakAxis<=0?1:rt.slice(0,at.breakAxis).reduce(function(_,tt){return _*tt});if(!(ot>st||nt>st))return[ot,nt];h.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:"+rt+", breakAxis:"+at.breakAxis)}for(var et=rt.reduce(function(_,tt){return _*tt}),d=Math.floor(Math.sqrt(et));d<st&&d<et&&et%d!=0;d++);if(d>=st||et%d!=0)throw new Error("The given dimensions are outside this GPU's boundaries: "+rt);return[d,et/d]},_e}();e.AlwaysKeepOriginalSizeStrategy=b},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.TextureManager=void 0;var h=s(3),b=function(){function _e(rt,at,st,ot){this.glContext=rt,this.layoutStrategy=at,this.profiler=st,this.config=ot,ot.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}return _e.prototype.createTextureFromLayout=function(rt,at,st,ot){var nt,et,d=this.toEncoderType(rt),_=this.glContext.getEncoder(d,at.channels||1,ot);if(this.config.reuseTextures){nt=at.width+"x"+at.height+"_"+_.format+"_"+_.internalFormat+"_"+_.textureType,(et=this.inUseTextures.get(nt))||(et=[],this.inUseTextures.set(nt,et));var tt=this.idleTextures.get(nt);if(tt&&tt.length>0){var lt=tt.pop();return et.push(lt),ot===1&&this.glContext.updateTexture(lt,at.width,at.height,_,this.toTextureData(rt,st)),lt}}h.Logger.verbose("TextureManager","Creating new texture of size "+at.width+"x"+at.height);var ut=this.glContext.allocateTexture(at.width,at.height,_,this.toTextureData(rt,st));return this.config.reuseTextures&&(et.push(ut),this.textureLookup.set(ut,nt)),ut},_e.prototype.readTexture=function(rt,at,st){var ot=this;return st||(st=1),this.profiler.event("backend","TextureManager.readTexture",function(){var nt=rt.shape.reduce(function(d,_){return d*_})*st,et=ot.glContext.readTexture(rt.texture,rt.width,rt.height,nt,ot.toEncoderType(at),st);return ot.toTensorData(at,et)})},_e.prototype.readUint8TextureAsFloat=function(rt){var at=this;return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",function(){var st=rt.shape.reduce(function(nt,et){return nt*et}),ot=at.glContext.readTexture(rt.texture,rt.width,rt.height,4*st,"byte",4);return new Float32Array(ot.buffer,ot.byteOffset,st)})},_e.prototype.releaseTexture=function(rt,at){var st;if(this.config.reuseTextures&&(st=this.textureLookup.get(rt.texture))){at&&this.textureLookup.delete(st);var ot=this.inUseTextures.get(st);if(ot){var nt=ot.indexOf(rt.texture);if(nt!==-1){ot.splice(nt,1);var et=this.idleTextures.get(st);et||(et=[],this.idleTextures.set(st,et)),et.push(rt.texture)}}}st&&!at||(h.Logger.verbose("TextureManager","Deleting texture of size "+rt.width+"x"+rt.height),this.glContext.deleteTexture(rt.texture))},_e.prototype.toTensorData=function(rt,at){return at instanceof Float32Array?at:new Float32Array(at)},_e.prototype.toTextureData=function(rt,at){if(at)return at instanceof Float32Array?at:new Float32Array(at)},_e.prototype.toEncoderType=function(rt){return"float"},_e.prototype.clearActiveTextures=function(){this.glContext.clearActiveTextures()},_e}();e.TextureManager=b},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.createNewWebGLContext=e.createWebGLContext=void 0;var h=s(3),b=s(166),_e={};function rt(at){var st,ot=function(){var et=document.createElement("canvas");return et.width=1,et.height=1,et}(),nt={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!at||at==="webgl2")&&(st=ot.getContext("webgl2",nt)))try{return new b.WebGLContext(st,2)}catch(et){h.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl2'. Error: "+et)}if((!at||at==="webgl")&&(st=ot.getContext("webgl",nt)||ot.getContext("experimental-webgl",nt)))try{return new b.WebGLContext(st,1)}catch(et){h.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: "+et)}throw new Error("WebGL is not supported")}e.createWebGLContext=function at(st){var ot;st&&st!=="webgl2"||!("webgl2"in _e)?st&&st!=="webgl"||!("webgl"in _e)||(ot=_e.webgl):ot=_e.webgl2,ot=ot||rt(st),st=st||ot.version===1?"webgl":"webgl2";var nt=ot.gl;return _e[st]=ot,nt.isContextLost()?(delete _e[st],at(st)):(nt.disable(nt.DEPTH_TEST),nt.disable(nt.STENCIL_TEST),nt.disable(nt.BLEND),nt.disable(nt.DITHER),nt.disable(nt.POLYGON_OFFSET_FILL),nt.disable(nt.SAMPLE_COVERAGE),nt.enable(nt.SCISSOR_TEST),nt.enable(nt.CULL_FACE),nt.cullFace(nt.BACK),ot)},e.createNewWebGLContext=rt},function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(ot,nt,et,d){d===void 0&&(d=et),Object.defineProperty(ot,d,{enumerable:!0,get:function(){return nt[et]}})}:function(ot,nt,et,d){d===void 0&&(d=et),ot[d]=nt[et]}),b=this&&this.__setModuleDefault||(Object.create?function(ot,nt){Object.defineProperty(ot,"default",{enumerable:!0,value:nt})}:function(ot,nt){ot.default=nt}),_e=this&&this.__importStar||function(ot){if(ot&&ot.__esModule)return ot;var nt={};if(ot!=null)for(var et in ot)et!=="default"&&Object.hasOwnProperty.call(ot,et)&&h(nt,ot,et);return b(nt,ot),nt};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLContext=void 0;var rt=s(25),at=_e(s(167)),st=function(){function ot(nt,et){this.frameBufferBound=!1,this.gl=nt,this.version=et,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}return ot.prototype.allocateTexture=function(nt,et,d,_){var tt=this.gl,lt=tt.createTexture();tt.bindTexture(tt.TEXTURE_2D,lt),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MIN_FILTER,tt.NEAREST),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MAG_FILTER,tt.NEAREST),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_S,tt.CLAMP_TO_EDGE),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_T,tt.CLAMP_TO_EDGE);var ut=_?d.encode(_,nt*et):null;return tt.texImage2D(tt.TEXTURE_2D,0,d.internalFormat,nt,et,0,d.format,d.textureType,ut),this.checkError(),lt},ot.prototype.updateTexture=function(nt,et,d,_,tt){var lt=this.gl;lt.bindTexture(lt.TEXTURE_2D,nt);var ut=_.encode(tt,et*d);lt.texSubImage2D(lt.TEXTURE_2D,0,0,0,et,d,_.format,_.textureType,ut),this.checkError()},ot.prototype.attachFramebuffer=function(nt,et,d){var _=this.gl;_.bindTexture(_.TEXTURE_2D,nt),_.bindFramebuffer(_.FRAMEBUFFER,this.framebuffer),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,nt,0),this.checkError(),_.viewport(0,0,et,d),_.scissor(0,0,et,d)},ot.prototype.readTexture=function(nt,et,d,_,tt,lt){var ut=this.gl;lt||(lt=1),this.frameBufferBound||this.attachFramebuffer(nt,et,d);var ct=this.getEncoder(tt,lt),ft=ct.allocate(et*d);return ut.bindTexture(ut.TEXTURE_2D,nt),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,nt,0),ut.readPixels(0,0,et,d,ut.RGBA,ct.textureType,ft),this.checkError(),ct.decode(ft,_)},ot.prototype.isFramebufferReady=function(){return!0},ot.prototype.getActiveTexture=function(){var nt=this.gl;return"TEXTURE"+(nt.getParameter(this.gl.ACTIVE_TEXTURE)-nt.TEXTURE0)},ot.prototype.getTextureBinding=function(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)},ot.prototype.getFramebufferBinding=function(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)},ot.prototype.setVertexAttributes=function(nt,et){var d=this.gl;d.vertexAttribPointer(nt,3,d.FLOAT,!1,20,0),d.enableVertexAttribArray(nt),et!==-1&&(d.vertexAttribPointer(et,2,d.FLOAT,!1,20,12),d.enableVertexAttribArray(et)),this.checkError()},ot.prototype.createProgram=function(nt,et){var d=this.gl,_=d.createProgram();return d.attachShader(_,nt),d.attachShader(_,et),d.linkProgram(_),_},ot.prototype.compileShader=function(nt,et){var d=this.gl,_=d.createShader(et);if(!_)throw new Error("createShader() returned null with type "+et);if(d.shaderSource(_,nt),d.compileShader(_),d.getShaderParameter(_,d.COMPILE_STATUS)===!1)throw new Error("Failed to compile shader: "+d.getShaderInfoLog(_));return _},ot.prototype.deleteShader=function(nt){this.gl.deleteShader(nt)},ot.prototype.bindTextureToUniform=function(nt,et,d){var _=this.gl;_.activeTexture(_.TEXTURE0+et),this.checkError(),_.bindTexture(_.TEXTURE_2D,nt),this.checkError(),_.uniform1i(d,et),this.checkError()},ot.prototype.draw=function(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()},ot.prototype.checkError=function(){if(rt.env.debug){var nt=this.gl,et=nt.getError(),d="";switch(et){case nt.NO_ERROR:return;case nt.INVALID_ENUM:d="INVALID_ENUM";break;case nt.INVALID_VALUE:d="INVALID_VALUE";break;case nt.INVALID_OPERATION:d="INVALID_OPERATION";break;case nt.INVALID_FRAMEBUFFER_OPERATION:d="INVALID_FRAMEBUFFER_OPERATION";break;case nt.OUT_OF_MEMORY:d="OUT_OF_MEMORY";break;case nt.CONTEXT_LOST_WEBGL:d="CONTEXT_LOST_WEBGL";break;default:d="Unknown WebGL Error: "+et.toString(16)}throw new Error(d)}},ot.prototype.deleteTexture=function(nt){this.gl.deleteTexture(nt)},ot.prototype.deleteProgram=function(nt){this.gl.deleteProgram(nt)},ot.prototype.getEncoder=function(nt,et,d){if(d===void 0&&(d=0),this.version===2)return new at.RedFloat32DataEncoder(this.gl,et);switch(nt){case"float":return d===1||this.isRenderFloat32Supported?new at.RGBAFloatDataEncoder(this.gl,et):new at.RGBAFloatDataEncoder(this.gl,et,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new at.Uint8DataEncoder(this.gl,et);default:throw new Error("Invalid dataType: "+nt)}},ot.prototype.clearActiveTextures=function(){for(var nt=this.gl,et=0;et<this.maxTextureImageUnits;++et)nt.activeTexture(nt.TEXTURE0+et),nt.bindTexture(nt.TEXTURE_2D,null)},ot.prototype.dispose=function(){if(!this.disposed){var nt=this.gl;nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.deleteFramebuffer(this.framebuffer),nt.bindBuffer(nt.ARRAY_BUFFER,null),nt.deleteBuffer(this.vertexbuffer),nt.bindBuffer(nt.ELEMENT_ARRAY_BUFFER,null),nt.finish(),this.disposed=!0}},ot.prototype.createDefaultGeometry=function(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])},ot.prototype.createVertexbuffer=function(){var nt=this.gl,et=nt.createBuffer();if(!et)throw new Error("createBuffer() returned null");var d=this.createDefaultGeometry();return nt.bindBuffer(nt.ARRAY_BUFFER,et),nt.bufferData(nt.ARRAY_BUFFER,d,nt.STATIC_DRAW),this.checkError(),et},ot.prototype.createFramebuffer=function(){var nt=this.gl.createFramebuffer();if(!nt)throw new Error("createFramebuffer returned null");return nt},ot.prototype.queryVitalParameters=function(){var nt=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=nt.getParameter(nt.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=nt.getParameter(nt.MAX_TEXTURE_IMAGE_UNITS),this.version},ot.prototype.getExtensions=function(){this.version===2?this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))},ot.prototype.checkFloatTextureAttachableToFrameBuffer=function(){var nt=this.gl,et=nt.createTexture();nt.bindTexture(nt.TEXTURE_2D,et);var d=this.version===2?nt.RGBA32F:nt.RGBA;nt.texImage2D(nt.TEXTURE_2D,0,d,1,1,0,nt.RGBA,nt.FLOAT,null);var _=nt.createFramebuffer();nt.bindFramebuffer(nt.FRAMEBUFFER,_),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,et,0);var tt=nt.checkFramebufferStatus(nt.FRAMEBUFFER)===nt.FRAMEBUFFER_COMPLETE;return nt.bindTexture(nt.TEXTURE_2D,null),nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.deleteTexture(et),nt.deleteFramebuffer(_),tt},ot.prototype.checkRenderFloat32=function(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer},ot.prototype.checkFloat32Download=function(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer},ot.prototype.checkFloat32Blend=function(){var nt,et,d,_,tt,lt=this.gl;try{nt=lt.createTexture(),et=lt.createFramebuffer(),lt.bindTexture(lt.TEXTURE_2D,nt);var ut=this.version===2?lt.RGBA32F:lt.RGBA;return lt.texImage2D(lt.TEXTURE_2D,0,ut,1,1,0,lt.RGBA,lt.FLOAT,null),lt.bindFramebuffer(lt.FRAMEBUFFER,et),lt.framebufferTexture2D(lt.FRAMEBUFFER,lt.COLOR_ATTACHMENT0,lt.TEXTURE_2D,nt,0),lt.enable(lt.BLEND),(d=lt.createShader(lt.VERTEX_SHADER))?(lt.shaderSource(d,"void main(){}"),lt.compileShader(d),!!(_=lt.createShader(lt.FRAGMENT_SHADER))&&(lt.shaderSource(_,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),lt.compileShader(_),!!(tt=lt.createProgram())&&(lt.attachShader(tt,d),lt.attachShader(tt,_),lt.linkProgram(tt),lt.useProgram(tt),lt.drawArrays(lt.POINTS,0,1),lt.getError()===lt.NO_ERROR))):!1}finally{lt.disable(lt.BLEND),tt&&lt.deleteProgram(tt),d&&lt.deleteShader(d),_&&lt.deleteShader(_),et&&(lt.bindFramebuffer(lt.FRAMEBUFFER,null),lt.deleteFramebuffer(et)),nt&&(lt.bindTexture(lt.TEXTURE_2D,null),lt.deleteTexture(nt))}},ot}();e.WebGLContext=st},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Uint8DataEncoder=e.RGBAFloatDataEncoder=e.RedFloat32DataEncoder=void 0;var h=s(3),b=function(){function at(st,ot){if(ot===void 0&&(ot=1),ot===1)this.internalFormat=st.R32F,this.format=st.RED,this.textureType=st.FLOAT,this.channelSize=ot;else{if(ot!==4)throw new Error("Invalid number of channels: "+ot);this.internalFormat=st.RGBA32F,this.format=st.RGBA,this.textureType=st.FLOAT,this.channelSize=ot}}return at.prototype.encode=function(st,ot){var nt,et;return st.constructor!==Float32Array&&(h.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),et=new Float32Array(st)),ot*this.channelSize>st.length?(h.Logger.warning("Encoder","Source data too small. Allocating larger array"),et=st,nt=this.allocate(ot*this.channelSize),et.forEach(function(d,_){return nt[_]=d})):nt=et=st,nt},at.prototype.allocate=function(st){return new Float32Array(4*st)},at.prototype.decode=function(st,ot){return this.channelSize===1?st.filter(function(nt,et){return et%4==0}).subarray(0,ot):st.subarray(0,ot)},at}();e.RedFloat32DataEncoder=b;var _e=function(){function at(st,ot,nt){if(ot===void 0&&(ot=1),ot!==1&&ot!==4)throw new Error("Invalid number of channels: "+ot);this.internalFormat=st.RGBA,this.format=st.RGBA,this.channelSize=ot,this.textureType=nt||st.FLOAT}return at.prototype.encode=function(st,ot){var nt=st;return this.channelSize===1&&(h.Logger.verbose("Encoder","Exploding into a larger array"),nt=this.allocate(ot),st.forEach(function(et,d){return nt[4*d]=et})),nt},at.prototype.allocate=function(st){return new Float32Array(4*st)},at.prototype.decode=function(st,ot){return this.channelSize===1?st.filter(function(nt,et){return et%4==0}).subarray(0,ot):st.subarray(0,ot)},at}();e.RGBAFloatDataEncoder=_e;var rt=function(){function at(st,ot){if(ot===void 0&&(ot=1),this.channelSize=4,ot===1)this.internalFormat=st.ALPHA,this.format=st.ALPHA,this.textureType=st.UNSIGNED_BYTE,this.channelSize=ot;else{if(ot!==4)throw new Error("Invalid number of channels: "+ot);this.internalFormat=st.RGBA,this.format=st.RGBA,this.textureType=st.UNSIGNED_BYTE,this.channelSize=ot}}return at.prototype.encode=function(st,ot){return new Uint8Array(st.buffer,st.byteOffset,st.byteLength)},at.prototype.allocate=function(st){return new Uint8Array(st*this.channelSize)},at.prototype.decode=function(st,ot){if(st instanceof Uint8Array)return st.subarray(0,ot);throw new Error("Invalid array type: "+st.constructor)},at}();e.Uint8DataEncoder=rt},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.envImpl=void 0;var h=s(25),b=function(){function _e(){}return Object.defineProperty(_e.prototype,"debug",{get:function(){return h.env.debug},set:function(rt){h.env.debug=rt},enumerable:!1,configurable:!0}),_e}();e.envImpl=new b},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0})},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0})},function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(at,st,ot,nt){nt===void 0&&(nt=ot),Object.defineProperty(at,nt,{enumerable:!0,get:function(){return st[ot]}})}:function(at,st,ot,nt){nt===void 0&&(nt=ot),at[nt]=st[ot]}),b=this&&this.__setModuleDefault||(Object.create?function(at,st){Object.defineProperty(at,"default",{enumerable:!0,value:st})}:function(at,st){at.default=st}),_e=this&&this.__importStar||function(at){if(at&&at.__esModule)return at;var st={};if(at!=null)for(var ot in at)ot!=="default"&&Object.hasOwnProperty.call(at,ot)&&h(st,at,ot);return b(st,at),st};Object.defineProperty(e,"__esModule",{value:!0}),e.Tensor=void 0;var rt=_e(s(51));e.Tensor=rt.Tensor},function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(at,st,ot,nt){nt===void 0&&(nt=ot),Object.defineProperty(at,nt,{enumerable:!0,get:function(){return st[ot]}})}:function(at,st,ot,nt){nt===void 0&&(nt=ot),at[nt]=st[ot]}),b=this&&this.__setModuleDefault||(Object.create?function(at,st){Object.defineProperty(at,"default",{enumerable:!0,value:st})}:function(at,st){at.default=st}),_e=this&&this.__importStar||function(at){if(at&&at.__esModule)return at;var st={};if(at!=null)for(var ot in at)ot!=="default"&&Object.hasOwnProperty.call(at,ot)&&h(st,at,ot);return b(st,at),st};Object.defineProperty(e,"__esModule",{value:!0}),e.InferenceSession=void 0;var rt=_e(s(173));e.InferenceSession=rt.InferenceSession},function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(et,d,_,tt){tt===void 0&&(tt=_),Object.defineProperty(et,tt,{enumerable:!0,get:function(){return d[_]}})}:function(et,d,_,tt){tt===void 0&&(tt=_),et[tt]=d[_]}),b=this&&this.__setModuleDefault||(Object.create?function(et,d){Object.defineProperty(et,"default",{enumerable:!0,value:d})}:function(et,d){et.default=d}),_e=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var d={};if(et!=null)for(var _ in et)_!=="default"&&Object.hasOwnProperty.call(et,_)&&h(d,et,_);return b(d,et),d},rt=this&&this.__awaiter||function(et,d,_,tt){return new(_||(_=Promise))(function(lt,ut){function ct(ht){try{dt(tt.next(ht))}catch(gt){ut(gt)}}function ft(ht){try{dt(tt.throw(ht))}catch(gt){ut(gt)}}function dt(ht){var gt;ht.done?lt(ht.value):(gt=ht.value,gt instanceof _?gt:new _(function(yt){yt(gt)})).then(ct,ft)}dt((tt=tt.apply(et,d||[])).next())})},at=this&&this.__generator||function(et,d){var _,tt,lt,ut,ct={label:0,sent:function(){if(1&lt[0])throw lt[1];return lt[1]},trys:[],ops:[]};return ut={next:ft(0),throw:ft(1),return:ft(2)},typeof Symbol=="function"&&(ut[Symbol.iterator]=function(){return this}),ut;function ft(dt){return function(ht){return function(gt){if(_)throw new TypeError("Generator is already executing.");for(;ct;)try{if(_=1,tt&&(lt=2&gt[0]?tt.return:gt[0]?tt.throw||((lt=tt.return)&&lt.call(tt),0):tt.next)&&!(lt=lt.call(tt,gt[1])).done)return lt;switch(tt=0,lt&&(gt=[2&gt[0],lt.value]),gt[0]){case 0:case 1:lt=gt;break;case 4:return ct.label++,{value:gt[1],done:!1};case 5:ct.label++,tt=gt[1],gt=[0];continue;case 7:gt=ct.ops.pop(),ct.trys.pop();continue;default:if(lt=ct.trys,!((lt=lt.length>0&&lt[lt.length-1])||gt[0]!==6&&gt[0]!==2)){ct=0;continue}if(gt[0]===3&&(!lt||gt[1]>lt[0]&&gt[1]<lt[3])){ct.label=gt[1];break}if(gt[0]===6&&ct.label<lt[1]){ct.label=lt[1],lt=gt;break}if(lt&&ct.label<lt[2]){ct.label=lt[2],ct.ops.push(gt);break}lt[2]&&ct.ops.pop(),ct.trys.pop();continue}gt=d.call(et,ct)}catch(yt){gt=[6,yt],tt=0}finally{_=lt=0}if(5&gt[0])throw gt[1];return{value:gt[0]?gt[1]:void 0,done:!0}}([dt,ht])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.InferenceSession=void 0;var st=s(174),ot=_e(s(52)),nt=function(){function et(d){this.session=new st.Session(d)}return et.prototype.loadModel=function(d,_,tt){if(typeof d=="string")return this.session.loadModel(d);if(typeof Blob<"u"&&d instanceof Blob){var lt=URL.createObjectURL(d);return this.session.loadModel(lt)}if(d instanceof ArrayBuffer)return this.session.loadModel(d,_,tt);if(ArrayBuffer.isView(d))return this.session.loadModel(d);throw new Error("Model type is not supported.")},et.prototype.run=function(d,_){return rt(this,void 0,void 0,function(){var tt,lt,ut,ct,ft,dt;return at(this,function(ht){switch(ht.label){case 0:return tt=new Map,d instanceof Map?(lt=new Map,d.forEach(function(gt,yt){lt.set(yt,gt.internalTensor)}),[4,this.session.run(lt)]):[3,2];case 1:return tt=ht.sent(),[3,5];case 2:return Array.isArray(d)?(ut=[],d.forEach(function(gt){ut.push(gt.internalTensor)}),[4,this.session.run(ut)]):[3,4];case 3:return tt=ht.sent(),[3,5];case 4:for(ft in ct=new Map,d)ct.set(ft,d[ft].internalTensor);ht.label=5;case 5:return dt=new Map,tt.forEach(function(gt,yt){dt.set(yt,ot.fromInternalTensor(gt))}),[2,dt]}})})},et.prototype.startProfiling=function(){this.session.startProfiling()},et.prototype.endProfiling=function(){this.session.endProfiling()},et}();e.InferenceSession=nt},function(o,e,s){(function(h){var b=this&&this.__awaiter||function(_,tt,lt,ut){return new(lt||(lt=Promise))(function(ct,ft){function dt(yt){try{gt(ut.next(yt))}catch(vt){ft(vt)}}function ht(yt){try{gt(ut.throw(yt))}catch(vt){ft(vt)}}function gt(yt){var vt;yt.done?ct(yt.value):(vt=yt.value,vt instanceof lt?vt:new lt(function(mt){mt(vt)})).then(dt,ht)}gt((ut=ut.apply(_,tt||[])).next())})},_e=this&&this.__generator||function(_,tt){var lt,ut,ct,ft,dt={label:0,sent:function(){if(1&ct[0])throw ct[1];return ct[1]},trys:[],ops:[]};return ft={next:ht(0),throw:ht(1),return:ht(2)},typeof Symbol=="function"&&(ft[Symbol.iterator]=function(){return this}),ft;function ht(gt){return function(yt){return function(vt){if(lt)throw new TypeError("Generator is already executing.");for(;dt;)try{if(lt=1,ut&&(ct=2&vt[0]?ut.return:vt[0]?ut.throw||((ct=ut.return)&&ct.call(ut),0):ut.next)&&!(ct=ct.call(ut,vt[1])).done)return ct;switch(ut=0,ct&&(vt=[2&vt[0],ct.value]),vt[0]){case 0:case 1:ct=vt;break;case 4:return dt.label++,{value:vt[1],done:!1};case 5:dt.label++,ut=vt[1],vt=[0];continue;case 7:vt=dt.ops.pop(),dt.trys.pop();continue;default:if(ct=dt.trys,!((ct=ct.length>0&&ct[ct.length-1])||vt[0]!==6&&vt[0]!==2)){dt=0;continue}if(vt[0]===3&&(!ct||vt[1]>ct[0]&&vt[1]<ct[3])){dt.label=vt[1];break}if(vt[0]===6&&dt.label<ct[1]){dt.label=ct[1],ct=vt;break}if(ct&&dt.label<ct[2]){dt.label=ct[2],dt.ops.push(vt);break}ct[2]&&dt.ops.pop(),dt.trys.pop();continue}vt=tt.call(_,dt)}catch(mt){vt=[6,mt],ut=0}finally{lt=ct=0}if(5&vt[0])throw vt[1];return{value:vt[0]?vt[1]:void 0,done:!0}}([gt,yt])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Session=void 0;var rt=s(48),at=s(175),st=s(178),ot=s(179),nt=s(3),et=s(180),d=function(){function _(tt){tt===void 0&&(tt={}),this._initialized=!1,this.backendHint=tt.backendHint,this.profiler=nt.Profiler.create(tt.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}return _.prototype.startProfiling=function(){this.profiler.start()},_.prototype.endProfiling=function(){this.profiler.stop()},_.prototype.loadModel=function(tt,lt,ut){return b(this,void 0,void 0,function(){var ct=this;return _e(this,function(ft){switch(ft.label){case 0:return[4,this.profiler.event("session","Session.loadModel",function(){return b(ct,void 0,void 0,function(){var dt,ht,gt;return _e(this,function(yt){switch(yt.label){case 0:return[4,st.Backend(this.backendHint)];case 1:return dt=yt.sent(),this.sessionHandler=dt.createSessionHandler(this.context),this._model=new et.Model,typeof tt!="string"?[3,7]:typeof fetch<"u"?[3,3]:[4,at.promisify(rt.readFile)(tt)];case 2:return ht=yt.sent(),this.initialize(h.from(ht)),[3,6];case 3:return[4,fetch(tt)];case 4:return[4,yt.sent().arrayBuffer()];case 5:ht=yt.sent(),this.initialize(h.from(ht)),yt.label=6;case 6:return[3,8];case 7:ArrayBuffer.isView(tt)?this.initialize(h.from(tt)):(gt=new Uint8Array(tt,lt||0,ut||tt.byteLength),this.initialize(h.from(gt))),yt.label=8;case 8:return[2]}})})})];case 1:return ft.sent(),[2]}})})},_.prototype.initialize=function(tt){var lt=this;if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",function(){var ut=lt.sessionHandler.transformGraph?lt.sessionHandler:void 0;lt._model.load(tt,ut),lt.sessionHandler.onGraphInitialized&&lt.sessionHandler.onGraphInitialized(lt._model.graph),lt.initializeOps(lt._model.graph),lt._executionPlan=new ot.ExecutionPlan(lt._model.graph,lt._ops,lt.profiler)}),this._initialized=!0},_.prototype.run=function(tt){var lt=this;if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",function(){return b(lt,void 0,void 0,function(){var ut,ct;return _e(this,function(ft){switch(ft.label){case 0:return ut=this.normalizeAndValidateInputs(tt),[4,this._executionPlan.execute(this.sessionHandler,ut)];case 1:return ct=ft.sent(),[2,this.createOutput(ct)]}})})})},_.prototype.normalizeAndValidateInputs=function(tt){var lt=this._model.graph.getInputNames();if(Array.isArray(tt)){if(tt.length!==lt.length)throw new Error("incorrect input array length: expected "+lt.length+" but got "+tt.length)}else{if(tt.size!==lt.length)throw new Error("incorrect input map size: expected "+lt.length+" but got "+tt.size);for(var ut=new Array(tt.size),ct=0,ft=0;ft<lt.length;++ft){var dt=tt.get(lt[ft]);if(!dt)throw new Error("missing input tensor for: '"+name+"'");ut[ct++]=dt}tt=ut}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,tt,!1);else{var ht=this._model.graph.getInputIndices(),gt=this._model.graph.getValues(),yt=new Array(ht.length);for(ft=0;ft<ht.length;++ft){var vt=gt[ht[ft]];yt[ft]=vt.type.shape.dims,this.context.graphInputTypes.push(vt.type.tensorType),this.context.graphInputDims.push(tt[ft].dims)}this.validateInputTensorDims(yt,tt,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,tt),tt},_.prototype.validateInputTensorTypes=function(tt,lt){for(var ut=0;ut<lt.length;ut++){var ct=tt[ut],ft=lt[ut].type;if(ct!==ft)throw new Error("input tensor["+ut+"] check failed: expected type '"+ct+"' but got "+ft)}},_.prototype.validateInputTensorDims=function(tt,lt,ut){for(var ct=0;ct<lt.length;ct++){var ft=tt[ct],dt=lt[ct].dims;if(!this.compareTensorDims(ft,dt,ut))throw new Error("input tensor["+ct+"] check failed: expected shape '["+ft.join(",")+"]' but got ["+dt.join(",")+"]")}},_.prototype.compareTensorDims=function(tt,lt,ut){if(tt.length!==lt.length)return!1;for(var ct=0;ct<tt.length;++ct)if(tt[ct]!==lt[ct]&&(!ut||tt[ct]!==0))return!1;return!0},_.prototype.createOutput=function(tt){var lt=this._model.graph.getOutputNames();if(tt.length!==lt.length)throw new Error("expected number of outputs do not match number of generated outputs");for(var ut=new Map,ct=0;ct<lt.length;++ct)ut.set(lt[ct],tt[ct]);return ut},_.prototype.initializeOps=function(tt){var lt=tt.getNodes();this._ops=new Array(lt.length);for(var ut=0;ut<lt.length;ut++)this._ops[ut]=this.sessionHandler.resolve(lt[ut],this._model.opsets)},_}();e.Session=d}).call(this,s(12).Buffer)},function(o,e,s){(function(h){var b=Object.getOwnPropertyDescriptors||function(Tt){for(var It=Object.keys(Tt),Ct={},Rt=0;Rt<It.length;Rt++)Ct[It[Rt]]=Object.getOwnPropertyDescriptor(Tt,It[Rt]);return Ct},_e=/%[sdj%]/g;e.format=function(Tt){if(!ft(Tt)){for(var It=[],Ct=0;Ct<arguments.length;Ct++)It.push(st(arguments[Ct]));return It.join(" ")}Ct=1;for(var Rt=arguments,Ut=Rt.length,kt=String(Tt).replace(_e,function(Vt){if(Vt==="%%")return"%";if(Ct>=Ut)return Vt;switch(Vt){case"%s":return String(Rt[Ct++]);case"%d":return Number(Rt[Ct++]);case"%j":try{return JSON.stringify(Rt[Ct++])}catch{return"[Circular]"}default:return Vt}}),jt=Rt[Ct];Ct<Ut;jt=Rt[++Ct])ut(jt)||!gt(jt)?kt+=" "+jt:kt+=" "+st(jt);return kt},e.deprecate=function(Tt,It){if(h!==void 0&&h.noDeprecation===!0)return Tt;if(h===void 0)return function(){return e.deprecate(Tt,It).apply(this,arguments)};var Ct=!1;return function(){if(!Ct){if(h.throwDeprecation)throw new Error(It);h.traceDeprecation?console.trace(It):console.error(It),Ct=!0}return Tt.apply(this,arguments)}};var rt,at={};function st(Tt,It){var Ct={seen:[],stylize:nt};return arguments.length>=3&&(Ct.depth=arguments[2]),arguments.length>=4&&(Ct.colors=arguments[3]),lt(It)?Ct.showHidden=It:It&&e._extend(Ct,It),dt(Ct.showHidden)&&(Ct.showHidden=!1),dt(Ct.depth)&&(Ct.depth=2),dt(Ct.colors)&&(Ct.colors=!1),dt(Ct.customInspect)&&(Ct.customInspect=!0),Ct.colors&&(Ct.stylize=ot),et(Ct,Tt,Ct.depth)}function ot(Tt,It){var Ct=st.styles[It];return Ct?"\x1B["+st.colors[Ct][0]+"m"+Tt+"\x1B["+st.colors[Ct][1]+"m":Tt}function nt(Tt,It){return Tt}function et(Tt,It,Ct){if(Tt.customInspect&&It&&mt(It.inspect)&&It.inspect!==e.inspect&&(!It.constructor||It.constructor.prototype!==It)){var Rt=It.inspect(Ct,Tt);return ft(Rt)||(Rt=et(Tt,Rt,Ct)),Rt}var Ut=function(Et,Ot){if(dt(Ot))return Et.stylize("undefined","undefined");if(ft(Ot)){var At="'"+JSON.stringify(Ot).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Et.stylize(At,"string")}if(ct(Ot))return Et.stylize(""+Ot,"number");if(lt(Ot))return Et.stylize(""+Ot,"boolean");if(ut(Ot))return Et.stylize("null","null")}(Tt,It);if(Ut)return Ut;var kt=Object.keys(It),jt=function(Et){var Ot={};return Et.forEach(function(At,Nt){Ot[At]=!0}),Ot}(kt);if(Tt.showHidden&&(kt=Object.getOwnPropertyNames(It)),vt(It)&&(kt.indexOf("message")>=0||kt.indexOf("description")>=0))return d(It);if(kt.length===0){if(mt(It)){var Vt=It.name?": "+It.name:"";return Tt.stylize("[Function"+Vt+"]","special")}if(ht(It))return Tt.stylize(RegExp.prototype.toString.call(It),"regexp");if(yt(It))return Tt.stylize(Date.prototype.toString.call(It),"date");if(vt(It))return d(It)}var Gt,Yt="",er=!1,nr=["{","}"];return tt(It)&&(er=!0,nr=["[","]"]),mt(It)&&(Yt=" [Function"+(It.name?": "+It.name:"")+"]"),ht(It)&&(Yt=" "+RegExp.prototype.toString.call(It)),yt(It)&&(Yt=" "+Date.prototype.toUTCString.call(It)),vt(It)&&(Yt=" "+d(It)),kt.length!==0||er&&It.length!=0?Ct<0?ht(It)?Tt.stylize(RegExp.prototype.toString.call(It),"regexp"):Tt.stylize("[Object]","special"):(Tt.seen.push(It),Gt=er?function(Et,Ot,At,Nt,Mt){for(var Lt=[],Wt=0,Xt=Ot.length;Wt<Xt;++Wt)_t(Ot,String(Wt))?Lt.push(_(Et,Ot,At,Nt,String(Wt),!0)):Lt.push("");return Mt.forEach(function(ar){ar.match(/^\d+$/)||Lt.push(_(Et,Ot,At,Nt,ar,!0))}),Lt}(Tt,It,Ct,jt,kt):kt.map(function(Et){return _(Tt,It,Ct,jt,Et,er)}),Tt.seen.pop(),function(Et,Ot,At){return Et.reduce(function(Nt,Mt){return Mt.indexOf(`
`)>=0,Nt+Mt.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?At[0]+(Ot===""?"":Ot+`
 `)+" "+Et.join(`,
  `)+" "+At[1]:At[0]+Ot+" "+Et.join(", ")+" "+At[1]}(Gt,Yt,nr)):nr[0]+Yt+nr[1]}function d(Tt){return"["+Error.prototype.toString.call(Tt)+"]"}function _(Tt,It,Ct,Rt,Ut,kt){var jt,Vt,Gt;if((Gt=Object.getOwnPropertyDescriptor(It,Ut)||{value:It[Ut]}).get?Vt=Gt.set?Tt.stylize("[Getter/Setter]","special"):Tt.stylize("[Getter]","special"):Gt.set&&(Vt=Tt.stylize("[Setter]","special")),_t(Rt,Ut)||(jt="["+Ut+"]"),Vt||(Tt.seen.indexOf(Gt.value)<0?(Vt=ut(Ct)?et(Tt,Gt.value,null):et(Tt,Gt.value,Ct-1)).indexOf(`
`)>-1&&(Vt=kt?Vt.split(`
`).map(function(Yt){return"  "+Yt}).join(`
`).substr(2):`
`+Vt.split(`
`).map(function(Yt){return"   "+Yt}).join(`
`)):Vt=Tt.stylize("[Circular]","special")),dt(jt)){if(kt&&Ut.match(/^\d+$/))return Vt;(jt=JSON.stringify(""+Ut)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(jt=jt.substr(1,jt.length-2),jt=Tt.stylize(jt,"name")):(jt=jt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),jt=Tt.stylize(jt,"string"))}return jt+": "+Vt}function tt(Tt){return Array.isArray(Tt)}function lt(Tt){return typeof Tt=="boolean"}function ut(Tt){return Tt===null}function ct(Tt){return typeof Tt=="number"}function ft(Tt){return typeof Tt=="string"}function dt(Tt){return Tt===void 0}function ht(Tt){return gt(Tt)&&bt(Tt)==="[object RegExp]"}function gt(Tt){return typeof Tt=="object"&&Tt!==null}function yt(Tt){return gt(Tt)&&bt(Tt)==="[object Date]"}function vt(Tt){return gt(Tt)&&(bt(Tt)==="[object Error]"||Tt instanceof Error)}function mt(Tt){return typeof Tt=="function"}function bt(Tt){return Object.prototype.toString.call(Tt)}function $t(Tt){return Tt<10?"0"+Tt.toString(10):Tt.toString(10)}e.debuglog=function(Tt){if(dt(rt)&&(rt=h.env.NODE_DEBUG||""),Tt=Tt.toUpperCase(),!at[Tt])if(new RegExp("\\b"+Tt+"\\b","i").test(rt)){var It=h.pid;at[Tt]=function(){var Ct=e.format.apply(e,arguments);console.error("%s %d: %s",Tt,It,Ct)}}else at[Tt]=function(){};return at[Tt]},e.inspect=st,st.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},st.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=tt,e.isBoolean=lt,e.isNull=ut,e.isNullOrUndefined=function(Tt){return Tt==null},e.isNumber=ct,e.isString=ft,e.isSymbol=function(Tt){return typeof Tt=="symbol"},e.isUndefined=dt,e.isRegExp=ht,e.isObject=gt,e.isDate=yt,e.isError=vt,e.isFunction=mt,e.isPrimitive=function(Tt){return Tt===null||typeof Tt=="boolean"||typeof Tt=="number"||typeof Tt=="string"||typeof Tt=="symbol"||Tt===void 0},e.isBuffer=s(176);var St=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Pt(){var Tt=new Date,It=[$t(Tt.getHours()),$t(Tt.getMinutes()),$t(Tt.getSeconds())].join(":");return[Tt.getDate(),St[Tt.getMonth()],It].join(" ")}function _t(Tt,It){return Object.prototype.hasOwnProperty.call(Tt,It)}e.log=function(){console.log("%s - %s",Pt(),e.format.apply(e,arguments))},e.inherits=s(177),e._extend=function(Tt,It){if(!It||!gt(It))return Tt;for(var Ct=Object.keys(It),Rt=Ct.length;Rt--;)Tt[Ct[Rt]]=It[Ct[Rt]];return Tt};var wt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function xt(Tt,It){if(!Tt){var Ct=new Error("Promise was rejected with a falsy value");Ct.reason=Tt,Tt=Ct}return It(Tt)}e.promisify=function(Tt){if(typeof Tt!="function")throw new TypeError('The "original" argument must be of type Function');if(wt&&Tt[wt]){var It;if(typeof(It=Tt[wt])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(It,wt,{value:It,enumerable:!1,writable:!1,configurable:!0}),It}function It(){for(var Ct,Rt,Ut=new Promise(function(Vt,Gt){Ct=Vt,Rt=Gt}),kt=[],jt=0;jt<arguments.length;jt++)kt.push(arguments[jt]);kt.push(function(Vt,Gt){Vt?Rt(Vt):Ct(Gt)});try{Tt.apply(this,kt)}catch(Vt){Rt(Vt)}return Ut}return Object.setPrototypeOf(It,Object.getPrototypeOf(Tt)),wt&&Object.defineProperty(It,wt,{value:It,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(It,b(Tt))},e.promisify.custom=wt,e.callbackify=function(Tt){if(typeof Tt!="function")throw new TypeError('The "original" argument must be of type Function');function It(){for(var Ct=[],Rt=0;Rt<arguments.length;Rt++)Ct.push(arguments[Rt]);var Ut=Ct.pop();if(typeof Ut!="function")throw new TypeError("The last argument must be of type Function");var kt=this,jt=function(){return Ut.apply(kt,arguments)};Tt.apply(this,Ct).then(function(Vt){h.nextTick(jt,null,Vt)},function(Vt){h.nextTick(xt,Vt,jt)})}return Object.setPrototypeOf(It,Object.getPrototypeOf(Tt)),Object.defineProperties(It,b(Tt)),It}}).call(this,s(24))},function(o,e){o.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},function(o,e){typeof Object.create=="function"?o.exports=function(s,h){s.super_=h,s.prototype=Object.create(h.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:o.exports=function(s,h){s.super_=h;var b=function(){};b.prototype=h.prototype,s.prototype=new b,s.prototype.constructor=s}},function(o,e,s){var h=this&&this.__awaiter||function(st,ot,nt,et){return new(nt||(nt=Promise))(function(d,_){function tt(ct){try{ut(et.next(ct))}catch(ft){_(ft)}}function lt(ct){try{ut(et.throw(ct))}catch(ft){_(ft)}}function ut(ct){var ft;ct.done?d(ct.value):(ft=ct.value,ft instanceof nt?ft:new nt(function(dt){dt(ft)})).then(tt,lt)}ut((et=et.apply(st,ot||[])).next())})},b=this&&this.__generator||function(st,ot){var nt,et,d,_,tt={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return _={next:lt(0),throw:lt(1),return:lt(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function lt(ut){return function(ct){return function(ft){if(nt)throw new TypeError("Generator is already executing.");for(;tt;)try{if(nt=1,et&&(d=2&ft[0]?et.return:ft[0]?et.throw||((d=et.return)&&d.call(et),0):et.next)&&!(d=d.call(et,ft[1])).done)return d;switch(et=0,d&&(ft=[2&ft[0],d.value]),ft[0]){case 0:case 1:d=ft;break;case 4:return tt.label++,{value:ft[1],done:!1};case 5:tt.label++,et=ft[1],ft=[0];continue;case 7:ft=tt.ops.pop(),tt.trys.pop();continue;default:if(d=tt.trys,!((d=d.length>0&&d[d.length-1])||ft[0]!==6&&ft[0]!==2)){tt=0;continue}if(ft[0]===3&&(!d||ft[1]>d[0]&&ft[1]<d[3])){tt.label=ft[1];break}if(ft[0]===6&&tt.label<d[1]){tt.label=d[1],d=ft;break}if(d&&tt.label<d[2]){tt.label=d[2],tt.ops.push(ft);break}d[2]&&tt.ops.pop(),tt.trys.pop();continue}ft=ot.call(st,tt)}catch(dt){ft=[6,dt],et=0}finally{nt=d=0}if(5&ft[0])throw ft[1];return{value:ft[0]?ft[1]:void 0,done:!0}}([ut,ct])}}},_e=this&&this.__values||function(st){var ot=typeof Symbol=="function"&&Symbol.iterator,nt=ot&&st[ot],et=0;if(nt)return nt.call(st);if(st&&typeof st.length=="number")return{next:function(){return st&&et>=st.length&&(st=void 0),{value:st&&st[et++],done:!st}}};throw new TypeError(ot?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Backend=void 0;var rt=new Map;function at(st){return h(this,void 0,void 0,function(){var ot,nt,et;return b(this,function(d){switch(d.label){case 0:return(ot=onnx.backend)[st]!==void 0&&function(_){var tt=_;return"initialize"in tt&&typeof tt.initialize=="function"&&"createSessionHandler"in tt&&typeof tt.createSessionHandler=="function"&&"dispose"in tt&&typeof tt.dispose=="function"}(ot[st])?ot[st].disabled?[3,3]:(nt=ot[st],typeof(et=nt.initialize())=="object"&&"then"in et?[4,et]:[3,2]):[3,3];case 1:et=d.sent(),d.label=2;case 2:if(et)return rt.set(st,nt),[2,nt];d.label=3;case 3:return[2,void 0]}})})}e.Backend=function st(ot){return h(this,void 0,void 0,function(){var nt,et,d,_,tt,lt,ut,ct,ft;return b(this,function(dt){switch(dt.label){case 0:return ot?[3,1]:[2,st(["webgl","wasm","cpu"])];case 1:nt=typeof ot=="string"?[ot]:ot,dt.label=2;case 2:dt.trys.push([2,7,8,9]),et=_e(nt),d=et.next(),dt.label=3;case 3:return d.done?[3,6]:(_=d.value,(tt=rt.get(_))?[2,tt]:[4,at(_)]);case 4:if(lt=dt.sent())return[2,lt];dt.label=5;case 5:return d=et.next(),[3,3];case 6:return[3,9];case 7:return ut=dt.sent(),ct={error:ut},[3,9];case 8:try{d&&!d.done&&(ft=et.return)&&ft.call(et)}finally{if(ct)throw ct.error}return[7];case 9:throw new Error("no available backend to use")}})})}},function(o,e,s){var h=this&&this.__awaiter||function(et,d,_,tt){return new(_||(_=Promise))(function(lt,ut){function ct(ht){try{dt(tt.next(ht))}catch(gt){ut(gt)}}function ft(ht){try{dt(tt.throw(ht))}catch(gt){ut(gt)}}function dt(ht){var gt;ht.done?lt(ht.value):(gt=ht.value,gt instanceof _?gt:new _(function(yt){yt(gt)})).then(ct,ft)}dt((tt=tt.apply(et,d||[])).next())})},b=this&&this.__generator||function(et,d){var _,tt,lt,ut,ct={label:0,sent:function(){if(1&lt[0])throw lt[1];return lt[1]},trys:[],ops:[]};return ut={next:ft(0),throw:ft(1),return:ft(2)},typeof Symbol=="function"&&(ut[Symbol.iterator]=function(){return this}),ut;function ft(dt){return function(ht){return function(gt){if(_)throw new TypeError("Generator is already executing.");for(;ct;)try{if(_=1,tt&&(lt=2&gt[0]?tt.return:gt[0]?tt.throw||((lt=tt.return)&&lt.call(tt),0):tt.next)&&!(lt=lt.call(tt,gt[1])).done)return lt;switch(tt=0,lt&&(gt=[2&gt[0],lt.value]),gt[0]){case 0:case 1:lt=gt;break;case 4:return ct.label++,{value:gt[1],done:!1};case 5:ct.label++,tt=gt[1],gt=[0];continue;case 7:gt=ct.ops.pop(),ct.trys.pop();continue;default:if(lt=ct.trys,!((lt=lt.length>0&&lt[lt.length-1])||gt[0]!==6&&gt[0]!==2)){ct=0;continue}if(gt[0]===3&&(!lt||gt[1]>lt[0]&&gt[1]<lt[3])){ct.label=gt[1];break}if(gt[0]===6&&ct.label<lt[1]){ct.label=lt[1],lt=gt;break}if(lt&&ct.label<lt[2]){ct.label=lt[2],ct.ops.push(gt);break}lt[2]&&ct.ops.pop(),ct.trys.pop();continue}gt=d.call(et,ct)}catch(yt){gt=[6,yt],tt=0}finally{_=lt=0}if(5&gt[0])throw gt[1];return{value:gt[0]?gt[1]:void 0,done:!0}}([dt,ht])}}},_e=this&&this.__values||function(et){var d=typeof Symbol=="function"&&Symbol.iterator,_=d&&et[d],tt=0;if(_)return _.call(et);if(et&&typeof et.length=="number")return{next:function(){return et&&tt>=et.length&&(et=void 0),{value:et&&et[tt++],done:!et}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},rt=this&&this.__read||function(et,d){var _=typeof Symbol=="function"&&et[Symbol.iterator];if(!_)return et;var tt,lt,ut=_.call(et),ct=[];try{for(;(d===void 0||d-- >0)&&!(tt=ut.next()).done;)ct.push(tt.value)}catch(ft){lt={error:ft}}finally{try{tt&&!tt.done&&(_=ut.return)&&_.call(ut)}finally{if(lt)throw lt.error}}return ct},at=this&&this.__spread||function(){for(var et=[],d=0;d<arguments.length;d++)et=et.concat(rt(arguments[d]));return et};Object.defineProperty(e,"__esModule",{value:!0}),e.ExecutionPlan=void 0;var st=s(3),ot=function(et,d){this.op=et,this.node=d},nt=function(){function et(d,_,tt){this.graph=d,this.profiler=tt,this.initialize(_)}return et.prototype.initialize=function(d){var _=this;this.profiler.event("session","ExecutionPlan.initialize",function(){var tt=_.graph.getNodes();if(tt.length!==d.length)throw new Error("The size of nodes and OPs do not match.");_._ops=d.map(function(lt,ut){return new ot(lt,tt[ut])}),_.reset(),_._starter=[],_._ops.forEach(function(lt,ut){var ct,ft,dt=!0;try{for(var ht=_e(lt.node.inputs),gt=ht.next();!gt.done;gt=ht.next()){var yt=gt.value;if(!_._values[yt]&&_.graph.getInputIndices().indexOf(yt)===-1){dt=!1;break}}}catch(vt){ct={error:vt}}finally{try{gt&&!gt.done&&(ft=ht.return)&&ft.call(ht)}finally{if(ct)throw ct.error}}dt&&_._starter.push(ut)})})},et.prototype.reset=function(){this._values=this.graph.getValues().map(function(d){return d.tensor})},et.prototype.execute=function(d,_){var tt=this;return this.profiler.event("session","ExecutionPlan.execute",function(){return h(tt,void 0,void 0,function(){var lt,ut,ct,ft,dt,ht,gt,yt,vt,mt=this;return b(this,function(bt){switch(bt.label){case 0:if(this.reset(),lt=d.createInferenceHandler(),ut=this.graph.getInputIndices(),_.length!==ut.length)throw new Error("number of input tensors don't match the number of inputs to the model: actual: "+_.length+" expected: "+ut.length);_.forEach(function($t,St){var Pt=ut[St];mt._values[Pt]=$t}),ct=this._starter.slice(0),ft=this.graph.getValues(),dt=this.graph.getNodes(),ht=0,gt=function(){var $t,St,Pt,_t,wt,xt;return b(this,function(Tt){switch(Tt.label){case 0:if($t=ct[ht++],St=yt._ops[$t],(Pt=St.node.inputs.map(function(It){return mt._values[It]})).indexOf(void 0)!==-1)throw new Error("unresolved input detected: op: "+St.node);return _t=Pt,st.Logger.verbose("ExecPlan","Runing op:"+St.node.name+" ("+_t.map(function(It,Ct){return"'"+St.node.inputs[Ct]+"': "+It.type+"["+It.dims.join(",")+"]"}).join(", ")+")"),[4,yt.profiler.event("node",St.node.name,function(){return h(mt,void 0,void 0,function(){var It;return b(this,function(Ct){if(!(It=St.op).checkInputs(_t))throw new Error("invalid inputs detected; op: "+St.node.name);return[2,It.run(lt,_t)]})})})];case 1:if((wt=Tt.sent()).length!==St.node.outputs.length)throw new Error("the size of output does not match model definition.");return wt.forEach(function(It,Ct){var Rt=St.node.outputs[Ct];if(mt._values[Rt])throw new Error("output ["+Rt+"] already has value: op:"+St.node.name);mt._values[Rt]=It}),xt=new Set,wt.forEach(function(It,Ct){var Rt,Ut,kt,jt,Vt=St.node.outputs[Ct];try{for(var Gt=(Rt=void 0,_e(ft[Vt].to)),Yt=Gt.next();!Yt.done;Yt=Gt.next()){var er=Yt.value,nr=dt[er],Et=!0;try{for(var Ot=(kt=void 0,_e(nr.inputs)),At=Ot.next();!At.done;At=Ot.next()){var Nt=At.value;if(!mt._values[Nt]){Et=!1;break}}}catch(Mt){kt={error:Mt}}finally{try{At&&!At.done&&(jt=Ot.return)&&jt.call(Ot)}finally{if(kt)throw kt.error}}Et&&xt.add(er)}}catch(Mt){Rt={error:Mt}}finally{try{Yt&&!Yt.done&&(Ut=Gt.return)&&Ut.call(Gt)}finally{if(Rt)throw Rt.error}}}),ct.push.apply(ct,at(xt)),[2]}})},yt=this,bt.label=1;case 1:return ht<ct.length?[5,gt()]:[3,3];case 2:return bt.sent(),[3,1];case 3:return vt=[],this.graph.getOutputIndices().forEach(function($t,St){var Pt=mt._values[$t];if(Pt===void 0)throw new Error("required output ["+$t+"] does not have value");Pt.data,vt.push(Pt)}),st.Logger.verbose("ExecPlan","disposing of inferenceHandler"),lt.dispose(),[2,vt]}})})})},et}();e.ExecutionPlan=nt},function(o,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var h=s(9),b=s(181),_e=s(0),rt=function(){function at(){}return at.prototype.load=function(st,ot){var nt=h.onnx.ModelProto.decode(st);if(_e.LongUtil.longToNumber(nt.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=nt.opsetImport.map(function(et){return{domain:et.domain,version:_e.LongUtil.longToNumber(et.version)}}),this._graph=b.Graph.from(nt.graph,ot)},Object.defineProperty(at.prototype,"graph",{get:function(){return this._graph},enumerable:!1,configurable:!0}),Object.defineProperty(at.prototype,"opsets",{get:function(){return this._opsets},enumerable:!1,configurable:!0}),at}();e.Model=rt},function(o,e,s){var h=this&&this.__values||function(nt){var et=typeof Symbol=="function"&&Symbol.iterator,d=et&&nt[et],_=0;if(d)return d.call(nt);if(nt&&typeof nt.length=="number")return{next:function(){return nt&&_>=nt.length&&(nt=void 0),{value:nt&&nt[_++],done:!nt}}};throw new TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=void 0;var b=s(182),_e=s(1),rt=s(0);e.Graph={from:function(nt,et){return new ot(nt,et)}};var at=function(){function nt(et){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,et&&(this.type=rt.ProtoUtil.tensorValueTypeFromProto(et.type.tensorType))}return Object.defineProperty(nt.prototype,"from",{get:function(){return this._from},enumerable:!1,configurable:!0}),Object.defineProperty(nt.prototype,"to",{get:function(){return this._to},enumerable:!1,configurable:!0}),nt}(),st=function(nt){this.name=nt.name,this.opType=nt.opType,this.inputs=[],this.outputs=[],this.attributes=new b.Attribute(nt.attribute),this.executeNode=!0},ot=function(){function nt(et,d){if(!et)throw new TypeError("graph is empty");this.buildGraph(et),this.transformGraph(d),this.checkIsAcyclic()}return nt.prototype.getInputIndices=function(){return this._allInputIndices},nt.prototype.getInputNames=function(){return this._allInputNames},nt.prototype.getOutputIndices=function(){return this._allOutputIndices},nt.prototype.getOutputNames=function(){return this._allOutputNames},nt.prototype.getValues=function(){return this._allData},nt.prototype.getNodes=function(){return this._nodes},nt.prototype.buildGraph=function(et){var d,_,tt,lt,ut,ct,ft,dt,ht,gt,yt,vt,mt=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];var bt=new Map;if(!et.input)throw new Error("missing information in graph: input");var $t=[];try{for(var St=h(et.input),Pt=St.next();!Pt.done;Pt=St.next()){var _t=Pt.value;if(mt.has(_t.name))throw new Error("duplicated input name: "+_t.name);var wt=this._allData.push(new at(_t))-1;mt.set(_t.name,wt),$t.push(_t.name)}}catch(Wt){d={error:Wt}}finally{try{Pt&&!Pt.done&&(_=St.return)&&_.call(St)}finally{if(d)throw d.error}}if(!et.initializer)throw new Error("missing information in graph: initializer");try{for(var xt=h(et.initializer),Tt=xt.next();!Tt.done;Tt=xt.next()){_t=Tt.value;var It=mt.get(_t.name);if(It===void 0){var Ct=new at;Ct.type={shape:{dims:rt.ProtoUtil.tensorDimsFromProto(_t.dims)},tensorType:rt.ProtoUtil.tensorDataTypeFromProto(_t.dataType)},It=this._allData.push(Ct)-1,mt.set(_t.name,It)}this._allData[It]._from=-1,this._allData[It].tensor=_e.Tensor.fromProto(_t)}}catch(Wt){tt={error:Wt}}finally{try{Tt&&!Tt.done&&(lt=xt.return)&&lt.call(xt)}finally{if(tt)throw tt.error}}for(_t=0;_t<this._allData.length;_t++)this._allData[_t].tensor||(this._allInputIndices.push(_t),this._allInputNames.push($t[_t]));if(!et.output)throw new Error("missing information in graph: output");try{for(var Rt=h(et.output),Ut=Rt.next();!Ut.done;Ut=Rt.next()){if(_t=Ut.value,mt.has(_t.name))throw new Error("duplicated output name: "+_t.name);wt=this._allData.push(new at(_t))-1,mt.set(_t.name,wt),this._allOutputIndices.push(wt),this._allOutputNames.push(_t.name)}}catch(Wt){ut={error:Wt}}finally{try{Ut&&!Ut.done&&(ct=Rt.return)&&ct.call(Rt)}finally{if(ut)throw ut.error}}if(!et.node)throw new Error("missing information in graph: node");try{for(var kt=h(et.node),jt=kt.next();!jt.done;jt=kt.next()){if(!(Ot=jt.value).name)for(var Vt=0;;Vt++){var Gt="unnamed_"+Ot.opType+"_"+Vt;if(!bt.has(Gt)){Ot.name=Gt;break}}if(bt.has(Ot.name))throw new Error("duplicated node name: "+Ot.name);wt=this._nodes.push(new st(Ot))-1,bt.set(Ot.name,wt)}}catch(Wt){ft={error:Wt}}finally{try{jt&&!jt.done&&(dt=kt.return)&&dt.call(kt)}finally{if(ft)throw ft.error}}for(_t=0;_t<this._nodes.length;_t++){var Yt=this._nodes[_t];if(!(Ot=et.node[_t]).output)throw new Error("missing output for node: "+Ot.name);try{for(var er=(ht=void 0,h(Ot.output)),nr=er.next();!nr.done;nr=er.next()){var Et=nr.value;if((Mt=mt.get(Et))===void 0&&(Mt=this._allData.push(new at)-1,mt.set(Et,Mt)),Yt.outputs.push(Mt),this._allData[Mt]._from!==void 0)throw new Error("multiple nodes output to one data value: "+Mt);if(this._allData[Mt]._from=_t,Ot.opType==="Constant"){if(!Ot.attribute||Ot.attribute.length!==1||!Ot.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!Ot.output||Ot.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");Yt.outputs.pop(),Yt.executeNode=!1,this._allData[Mt]._from=-1,this._allData[Mt].tensor=_e.Tensor.fromProto(Ot.attribute[0].t)}}}catch(Wt){ht={error:Wt}}finally{try{nr&&!nr.done&&(gt=er.return)&&gt.call(er)}finally{if(ht)throw ht.error}}}for(_t=0;_t<this._nodes.length;_t++){var Ot;if(Yt=this._nodes[_t],!(Ot=et.node[_t]).input)throw new Error("missing input for node: "+Ot.name);try{for(var At=(yt=void 0,h(Ot.input)),Nt=At.next();!Nt.done;Nt=At.next()){var Mt,Lt=Nt.value;if((Mt=mt.get(Lt))===void 0)throw new Error("unrecognized input '"+Lt+"' for node: "+Ot.name);Yt.inputs.push(Mt),this._allData[Mt]._to.push(_t)}}catch(Wt){yt={error:Wt}}finally{try{Nt&&!Nt.done&&(vt=At.return)&&vt.call(At)}finally{if(yt)throw yt.error}}}return!0},nt.prototype.checkIsAcyclic=function(){var et=this,d=new Set;this._allInputIndices.forEach(function(ct){et._allData[ct]._to.forEach(function(ft){d.add(ft)})});for(var _=Array.from(d),tt=new Array(this._nodes.length).fill("white"),lt=function(){var ct=_.pop();tt[ct]==="gray"?tt[ct]="black":(_.push(ct),tt[ct]="gray",ut._nodes[ct].outputs.forEach(function(ft){var dt=et._allData[ft];if(dt.tensor!==void 0)throw new Error("node outputs should not be initialized");if(dt._from!==ct)throw new Error("from property of the Value object doesn't match index of Node being processed");dt._to.forEach(function(ht){if(tt[ht]==="gray")throw new Error("model graph is cyclic");tt[ht]==="white"&&_.push(ht)})}))},ut=this;_.length>0;)lt()},nt.prototype.transformGraph=function(et){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),et&&et.transformGraph(this),this.finalizeGraph()},nt.prototype.finalizeGraph=function(){for(var et,d=this,_=0,tt=function(ht){if(!lt._nodes[ht].executeNode)return _++,lt._nodes[ht].outputs.forEach(function(gt){d._allData[gt]._from=-2}),lt._nodes.splice(ht,1),ht--,et=ht,"continue";_>0&&(lt._nodes[ht].inputs.forEach(function(gt){var yt=d._allData[gt]._to.indexOf(ht+_);yt!==-1&&(d._allData[gt]._to[yt]=ht)}),lt._nodes[ht].outputs.forEach(function(gt){d._allData[gt]._from&&d._allData[gt]._from===ht+_&&(d._allData[gt]._from=ht)})),et=ht},lt=this,ut=0;ut<this._nodes.length;ut++)tt(ut),ut=et;_=0;var ct,ft=function(ht){if(dt._allData[ht].from===-2&&dt._allOutputIndices.indexOf(ht+_)===-1)return _++,dt._allData.splice(ht,1),ht--,ct=ht,"continue";if(_>0){var gt=-1;dt._allData[ht].from!==void 0&&dt._allData[ht].from!==-1?(gt=dt._nodes[dt._allData[ht].from].outputs.indexOf(ht+_))!==-1&&(dt._nodes[dt._allData[ht].from].outputs[gt]=ht):(gt=dt._allInputIndices.indexOf(ht+_))!==-1&&(dt._allInputIndices[gt]=ht),dt._allData[ht].to.forEach(function(yt){(gt=d._nodes[yt].inputs.indexOf(ht+_))!==-1&&(d._nodes[yt].inputs[gt]=ht)}),dt._allData[ht].to.length===0&&(gt=dt._allOutputIndices.indexOf(ht+_))!==-1&&(dt._allOutputIndices[gt]=ht)}ct=ht},dt=this;for(ut=0;ut<this._allData.length;ut++)ft(ut),ut=ct},nt.prototype.deleteNode=function(et){var d,_,tt=this._nodes[et];if(tt.inputs.length>1)throw new Error("Node deletion with multiple inputs is not supported. ");if(tt.outputs.length>1){for(var lt=1;lt<tt.outputs.length;lt++)if(this._allData[tt.outputs[lt]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}tt.executeNode=!1;var ut=tt.inputs[0],ct=tt.outputs[0],ft=this._allData[ct].to,dt=this._allData[ut].to.indexOf(et);if(dt===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[ut].to.splice(dt,1),this._allData[ct]._to=[];var ht=this._allOutputIndices.indexOf(ct);if(ht!==-1&&(this._allOutputIndices[ht]=ut),ft&&ft.length>0)try{for(var gt=h(ft),yt=gt.next();!yt.done;yt=gt.next()){var vt=yt.value,mt=this._nodes[vt].inputs.indexOf(ct);if(mt===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[vt].inputs[mt]=ut,this._allData[ut].to.push(vt)}}catch(bt){d={error:bt}}finally{try{yt&&!yt.done&&(_=gt.return)&&_.call(gt)}finally{if(d)throw d.error}}},nt.prototype.removeAllDropoutNodes=function(){var et,d,_=0;try{for(var tt=h(this._nodes),lt=tt.next();!lt.done;lt=tt.next()){var ut=lt.value;if(ut.opType==="Dropout"){if(ut.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(ut.outputs.length!==1&&ut.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(ut.outputs.length===2&&this._allData[ut.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(_)}_++}}catch(ct){et={error:ct}}finally{try{lt&&!lt.done&&(d=tt.return)&&d.call(tt)}finally{if(et)throw et.error}}},nt.prototype.removeAllIdentityNodes=function(){var et,d,_=0;try{for(var tt=h(this._nodes),lt=tt.next();!lt.done;lt=tt.next())lt.value.opType==="Identity"&&this.deleteNode(_),_++}catch(ut){et={error:ut}}finally{try{lt&&!lt.done&&(d=tt.return)&&d.call(tt)}finally{if(et)throw et.error}}},nt}()},function(o,e,s){(function(h){var b=this&&this.__values||function(et){var d=typeof Symbol=="function"&&Symbol.iterator,_=d&&et[d],tt=0;if(_)return _.call(et);if(et&&typeof et.length=="number")return{next:function(){return et&&tt>=et.length&&(et=void 0),{value:et&&et[tt++],done:!et}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},_e=this&&this.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(e,"__esModule",{value:!0}),e.Attribute=void 0;var rt=_e(s(13)),at=s(9),st=s(1),ot=s(0),nt=function(){function et(d){var _,tt;if(this._attributes=new Map,d!=null){try{for(var lt=b(d),ut=lt.next();!ut.done;ut=lt.next()){var ct=ut.value;this._attributes.set(ct.name,[et.getValue(ct),et.getType(ct)])}}catch(ft){_={error:ft}}finally{try{ut&&!ut.done&&(tt=lt.return)&&tt.call(lt)}finally{if(_)throw _.error}}if(this._attributes.size<d.length)throw new Error("duplicated attribute names")}}return et.prototype.set=function(d,_,tt){this._attributes.set(d,[tt,_])},et.prototype.delete=function(d){this._attributes.delete(d)},et.prototype.getFloat=function(d,_){return this.get(d,"float",_)},et.prototype.getInt=function(d,_){return this.get(d,"int",_)},et.prototype.getString=function(d,_){return this.get(d,"string",_)},et.prototype.getTensor=function(d,_){return this.get(d,"tensor",_)},et.prototype.getFloats=function(d,_){return this.get(d,"floats",_)},et.prototype.getInts=function(d,_){return this.get(d,"ints",_)},et.prototype.getStrings=function(d,_){return this.get(d,"strings",_)},et.prototype.getTensors=function(d,_){return this.get(d,"tensors",_)},et.prototype.get=function(d,_,tt){var lt=this._attributes.get(d);if(lt===void 0){if(tt!==void 0)return tt;throw new Error("required attribute not found: "+d)}if(lt[1]!==_)throw new Error("type mismatch: expected "+_+" but got "+lt[1]);return lt[0]},et.getType=function(d){switch(d.type){case at.onnx.AttributeProto.AttributeType.FLOAT:return"float";case at.onnx.AttributeProto.AttributeType.INT:return"int";case at.onnx.AttributeProto.AttributeType.STRING:return"string";case at.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case at.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case at.onnx.AttributeProto.AttributeType.INTS:return"ints";case at.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case at.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error("attribute type is not supported yet: "+at.onnx.AttributeProto.AttributeType[d.type])}},et.getValue=function(d){if(d.type===at.onnx.AttributeProto.AttributeType.GRAPH||d.type===at.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");var _=this.getValueNoCheck(d);if(d.type===at.onnx.AttributeProto.AttributeType.INT&&rt.default.isLong(_))return _.toNumber();if(d.type===at.onnx.AttributeProto.AttributeType.INTS){for(var tt=_,lt=new Array(tt.length),ut=0;ut<tt.length;ut++){var ct=tt[ut];lt[ut]=ot.LongUtil.longToNumber(ct)}return lt}if(d.type===at.onnx.AttributeProto.AttributeType.TENSOR)return st.Tensor.fromProto(_);if(d.type===at.onnx.AttributeProto.AttributeType.TENSORS)return _.map(function(dt){return st.Tensor.fromProto(dt)});if(d.type===at.onnx.AttributeProto.AttributeType.STRING){var ft=_;return h.from(ft.buffer,ft.byteOffset,ft.byteLength).toString()}return d.type===at.onnx.AttributeProto.AttributeType.STRINGS?_.map(function(dt){return h.from(dt.buffer,dt.byteOffset,dt.byteLength).toString()}):_},et.getValueNoCheck=function(d){switch(d.type){case at.onnx.AttributeProto.AttributeType.FLOAT:return d.f;case at.onnx.AttributeProto.AttributeType.INT:return d.i;case at.onnx.AttributeProto.AttributeType.STRING:return d.s;case at.onnx.AttributeProto.AttributeType.TENSOR:return d.t;case at.onnx.AttributeProto.AttributeType.GRAPH:return d.g;case at.onnx.AttributeProto.AttributeType.FLOATS:return d.floats;case at.onnx.AttributeProto.AttributeType.INTS:return d.ints;case at.onnx.AttributeProto.AttributeType.STRINGS:return d.strings;case at.onnx.AttributeProto.AttributeType.TENSORS:return d.tensors;case at.onnx.AttributeProto.AttributeType.GRAPHS:return d.graphs;default:throw new Error("unsupported attribute type: "+at.onnx.AttributeProto.AttributeType[d.type])}},et}();e.Attribute=nt}).call(this,s(12).Buffer)}])})})(onnx_min);var ort_min={exports:{}};/*!
* ONNX Runtime Web v1.16.3
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(o,e){module.exports=e()})(self,()=>(()=>{var __webpack_modules__={5716:(o,e,s)=>{e.R=void 0;const h=s(6027),b=s(1723);e.R=new class{async init(){}async createSessionHandler(_e,rt){const at=new h.Session(rt);return await at.loadModel(_e),new b.OnnxjsSessionHandler(at)}}},2818:(o,e,s)=>{e.c8=e.rX=void 0;const h=s(2235),b=s(5381),_e=s(9544),rt=s(6640);e.rX=()=>{if((typeof h.env.wasm.initTimeout!="number"||h.env.wasm.initTimeout<0)&&(h.env.wasm.initTimeout=0),typeof h.env.wasm.simd!="boolean"&&(h.env.wasm.simd=!0),typeof h.env.wasm.proxy!="boolean"&&(h.env.wasm.proxy=!1),typeof h.env.wasm.numThreads!="number"||!Number.isInteger(h.env.wasm.numThreads)||h.env.wasm.numThreads<=0){const at=typeof navigator>"u"?(0,b.cpus)().length:navigator.hardwareConcurrency;h.env.wasm.numThreads=Math.min(4,Math.ceil((at||1)/2))}},e.c8=new class{async init(){(0,e.rX)(),await(0,_e.initializeWebAssemblyInstance)()}async createSessionHandler(at,st){const ot=new rt.OnnxruntimeWebAssemblySessionHandler;return await ot.loadModel(at,st),Promise.resolve(ot)}}},1057:function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(at,st,ot,nt){nt===void 0&&(nt=ot);var et=Object.getOwnPropertyDescriptor(st,ot);et&&!("get"in et?!st.__esModule:et.writable||et.configurable)||(et={enumerable:!0,get:function(){return st[ot]}}),Object.defineProperty(at,nt,et)}:function(at,st,ot,nt){nt===void 0&&(nt=ot),at[nt]=st[ot]}),b=this&&this.__exportStar||function(at,st){for(var ot in at)ot==="default"||Object.prototype.hasOwnProperty.call(st,ot)||h(st,at,ot)};Object.defineProperty(e,"__esModule",{value:!0}),b(s(2235),e);const _e=s(2235),rt=s(8408);{const at=s(5716).R;(0,_e.registerBackend)("webgl",at,-10)}{const at=s(2818).c8;(0,_e.registerBackend)("cpu",at,10),(0,_e.registerBackend)("wasm",at,10),(0,_e.registerBackend)("xnnpack",at,9),(0,_e.registerBackend)("webnn",at,9)}_e.env.versions.web=rt.version},4910:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createAttributeWithCacheKey=void 0;class s{constructor(b){Object.assign(this,b)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(b=>`${this[b]}`).join(";")),this._cacheKey}}e.createAttributeWithCacheKey=h=>new s(h)},6874:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Attribute=void 0;const h=s(5127),b=s(2446),_e=s(9240),rt=s(7273);var at=h.onnxruntime.experimental.fbs;class st{constructor(nt){if(this._attributes=new Map,nt!=null){for(const et of nt)et instanceof b.onnx.AttributeProto?this._attributes.set(et.name,[st.getValue(et),st.getType(et)]):et instanceof at.Attribute&&this._attributes.set(et.name(),[st.getValue(et),st.getType(et)]);if(this._attributes.size<nt.length)throw new Error("duplicated attribute names")}}set(nt,et,d){this._attributes.set(nt,[d,et])}delete(nt){this._attributes.delete(nt)}getFloat(nt,et){return this.get(nt,"float",et)}getInt(nt,et){return this.get(nt,"int",et)}getString(nt,et){return this.get(nt,"string",et)}getTensor(nt,et){return this.get(nt,"tensor",et)}getFloats(nt,et){return this.get(nt,"floats",et)}getInts(nt,et){return this.get(nt,"ints",et)}getStrings(nt,et){return this.get(nt,"strings",et)}getTensors(nt,et){return this.get(nt,"tensors",et)}get(nt,et,d){const _=this._attributes.get(nt);if(_===void 0){if(d!==void 0)return d;throw new Error(`required attribute not found: ${nt}`)}if(_[1]!==et)throw new Error(`type mismatch: expected ${et} but got ${_[1]}`);return _[0]}static getType(nt){const et=nt instanceof b.onnx.AttributeProto?nt.type:nt.type();switch(et){case b.onnx.AttributeProto.AttributeType.FLOAT:return"float";case b.onnx.AttributeProto.AttributeType.INT:return"int";case b.onnx.AttributeProto.AttributeType.STRING:return"string";case b.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case b.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case b.onnx.AttributeProto.AttributeType.INTS:return"ints";case b.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case b.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${b.onnx.AttributeProto.AttributeType[et]}`)}}static getValue(nt){const et=nt instanceof b.onnx.AttributeProto?nt.type:nt.type();if(et===b.onnx.AttributeProto.AttributeType.GRAPH||et===b.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const d=this.getValueNoCheck(nt);if(et===b.onnx.AttributeProto.AttributeType.INT&&rt.LongUtil.isLong(d))return rt.LongUtil.longToNumber(d);if(et===b.onnx.AttributeProto.AttributeType.INTS){const _=d,tt=new Array(_.length);for(let lt=0;lt<_.length;lt++){const ut=_[lt];tt[lt]=rt.LongUtil.longToNumber(ut)}return tt}if(et===b.onnx.AttributeProto.AttributeType.TENSOR)return nt instanceof b.onnx.AttributeProto?_e.Tensor.fromProto(d):_e.Tensor.fromOrtTensor(d);if(et===b.onnx.AttributeProto.AttributeType.TENSORS){if(nt instanceof b.onnx.AttributeProto)return d.map(_=>_e.Tensor.fromProto(_));if(nt instanceof at.Attribute)return d.map(_=>_e.Tensor.fromOrtTensor(_))}if(et===b.onnx.AttributeProto.AttributeType.STRING&&nt instanceof b.onnx.AttributeProto){const _=d;return(0,rt.decodeUtf8String)(_)}return et===b.onnx.AttributeProto.AttributeType.STRINGS&&nt instanceof b.onnx.AttributeProto?d.map(rt.decodeUtf8String):d}static getValueNoCheck(nt){return nt instanceof b.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(nt):this.getValueNoCheckFromOrtFormat(nt)}static getValueNoCheckFromOnnxFormat(nt){switch(nt.type){case b.onnx.AttributeProto.AttributeType.FLOAT:return nt.f;case b.onnx.AttributeProto.AttributeType.INT:return nt.i;case b.onnx.AttributeProto.AttributeType.STRING:return nt.s;case b.onnx.AttributeProto.AttributeType.TENSOR:return nt.t;case b.onnx.AttributeProto.AttributeType.GRAPH:return nt.g;case b.onnx.AttributeProto.AttributeType.FLOATS:return nt.floats;case b.onnx.AttributeProto.AttributeType.INTS:return nt.ints;case b.onnx.AttributeProto.AttributeType.STRINGS:return nt.strings;case b.onnx.AttributeProto.AttributeType.TENSORS:return nt.tensors;case b.onnx.AttributeProto.AttributeType.GRAPHS:return nt.graphs;default:throw new Error(`unsupported attribute type: ${b.onnx.AttributeProto.AttributeType[nt.type]}`)}}static getValueNoCheckFromOrtFormat(nt){switch(nt.type()){case at.AttributeType.FLOAT:return nt.f();case at.AttributeType.INT:return nt.i();case at.AttributeType.STRING:return nt.s();case at.AttributeType.TENSOR:return nt.t();case at.AttributeType.GRAPH:return nt.g();case at.AttributeType.FLOATS:return nt.floatsArray();case at.AttributeType.INTS:{const et=[];for(let d=0;d<nt.intsLength();d++)et.push(nt.ints(d));return et}case at.AttributeType.STRINGS:{const et=[];for(let d=0;d<nt.stringsLength();d++)et.push(nt.strings(d));return et}case at.AttributeType.TENSORS:{const et=[];for(let d=0;d<nt.tensorsLength();d++)et.push(nt.tensors(d));return et}default:throw new Error(`unsupported attribute type: ${at.AttributeType[nt.type()]}`)}}}e.Attribute=st},1975:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.resolveBackend=e.backend=void 0;const h=s(4418),b=new Map;async function _e(rt){const at=e.backend;if(at[rt]!==void 0&&function(st){const ot=st;return"initialize"in ot&&typeof ot.initialize=="function"&&"createSessionHandler"in ot&&typeof ot.createSessionHandler=="function"&&"dispose"in ot&&typeof ot.dispose=="function"}(at[rt])){const st=at[rt];let ot=st.initialize();if(typeof ot=="object"&&"then"in ot&&(ot=await ot),ot)return b.set(rt,st),st}}e.backend={webgl:new h.WebGLBackend},e.resolveBackend=async function rt(at){if(!at)return rt(["webgl"]);{const st=typeof at=="string"?[at]:at;for(const ot of st){const nt=b.get(ot);if(nt)return nt;const et=await _e(ot);if(et)return et}}throw new Error("no available backend to use")}},4418:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLBackend=void 0;const h=s(2235),b=s(1315),_e=s(2171),rt=s(3389);e.WebGLBackend=class{get contextId(){return h.env.webgl.contextId}set contextId(at){h.env.webgl.contextId=at}get matmulMaxBatchSize(){return h.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(at){h.env.webgl.matmulMaxBatchSize=at}get textureCacheMode(){return h.env.webgl.textureCacheMode}set textureCacheMode(at){h.env.webgl.textureCacheMode=at}get pack(){return h.env.webgl.pack}set pack(at){h.env.webgl.pack=at}get async(){return h.env.webgl.async}set async(at){h.env.webgl.async=at}initialize(){try{return this.glContext=(0,rt.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),b.Logger.setWithEnv(h.env),b.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(at){return b.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${at}`),!1}}createSessionHandler(at){return new _e.WebGLSessionHandler(this,at)}dispose(){this.glContext.dispose()}}},6859:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CoordsGlslLib=void 0;const h=s(7273),b=s(1997),_e=s(6757),rt=s(7618),at=s(432);class st extends b.GlslLib{constructor(nt){super(nt)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new b.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new b.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const nt=this.context.outputTextureLayout;return nt.isPacked?this.getPackedOutputSamplingSnippet(nt):this.getUnpackedOutputSamplingSnippet(nt)}getPackedOutputSamplingSnippet(nt){const et=nt.unpackedShape,d=[nt.width,nt.height],_={},tt="getOutputCoords";switch(et.length){case 0:_[tt]=this.getOutputScalarCoords();break;case 1:_[tt]=this.getOutputPacked1DCoords(et,d);break;case 2:_[tt]=this.getOutputPacked2DCoords(et,d);break;case 3:_[tt]=this.getOutputPacked3DCoords(et,d);break;default:_[tt]=this.getOutputPackedNDCoords(et,d)}const lt=`
      void setOutput(vec4 val) {
        ${(0,_e.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return _.floatTextureSetRGBA=new b.GlslLibRoutine(lt),_}getUnpackedOutputSamplingSnippet(nt){const et=nt.unpackedShape,d=[nt.width,nt.height],_={},tt="getOutputCoords";switch(et.length){case 0:_[tt]=this.getOutputScalarCoords();break;case 1:_[tt]=this.getOutputUnpacked1DCoords(et,d);break;case 2:_[tt]=this.getOutputUnpacked2DCoords(et,d);break;case 3:_[tt]=this.getOutputUnpacked3DCoords(et,d);break;case 4:_[tt]=this.getOutputUnpacked4DCoords(et,d);break;case 5:_[tt]=this.getOutputUnpacked5DCoords(et,d);break;case 6:_[tt]=this.getOutputUnpacked6DCoords(et,d);break;default:throw new Error(`Unsupported output dimensionality: ${et.length}`)}const lt=`
        void setOutput(float val) {
          ${(0,_e.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return _.floatTextureSetR=new b.GlslLibRoutine(lt),_}getOutputScalarCoords(){return new b.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(nt,et){const d=et;let _="";return d[0]===1?(_=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${d[1]}.0);
          }
        `,new b.GlslLibRoutine(_)):d[1]===1?(_=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${d[0]}.0);
          }
        `,new b.GlslLibRoutine(_)):(_=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${d[0]}, ${d[1]}));
          return 2 * (resTexRC.y * ${d[0]} + resTexRC.x);
        }
      `,new b.GlslLibRoutine(_))}getOutputPacked2DCoords(nt,et){let d="";if(h.ArrayUtil.arraysEqual(nt,et))return d=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${et[0]}, ${et[1]}));
        }
      `,new b.GlslLibRoutine(d);const _=et,tt=Math.ceil(nt[1]/2);return d=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${_[0]}, ${_[1]}));

          int index = resTexRC.y * ${_[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${tt}) * 2;
          int c = 2 * (index / ${tt});

          return ivec2(r, c);
        }
      `,new b.GlslLibRoutine(d)}getOutputPacked3DCoords(nt,et){const d=[et[0],et[1]],_=Math.ceil(nt[2]/2),tt=_*Math.ceil(nt[1]/2),lt=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${d[0]}, ${d[1]}));
          int index = resTexRC.y * ${d[0]} + resTexRC.x;

          int b = index / ${tt};
          index -= b * ${tt};

          // reverse r and c order for packed texture
          int r = imod(index, ${_}) * 2;
          int c = 2 * (index / ${_});

          return ivec3(b, r, c);
        }
      `;return new b.GlslLibRoutine(lt)}getOutputPackedNDCoords(nt,et){const d=[et[0],et[1]],_=Math.ceil(nt[nt.length-1]/2),tt=_*Math.ceil(nt[nt.length-2]/2);let lt=tt,ut="",ct="b, r, c";for(let dt=2;dt<nt.length-1;dt++)lt*=nt[nt.length-dt-1],ut=`
      int b${dt} = index / ${lt};
      index -= b${dt} * ${lt};
    `+ut,ct=`b${dt}, `+ct;const ft=`
      ivec${nt.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${d[0]}, ${d[1]}));
        int index = resTexRC.y * ${d[0]} + resTexRC.x;

        ${ut}

        int b = index / ${tt};
        index -= b * ${tt};

        // reverse r and c order for packed texture
        int r = imod(index, ${_}) * 2;
        int c = 2 * (index / ${_});

        return ivec${nt.length}(${ct});
      }
    `;return new b.GlslLibRoutine(ft)}getOutputUnpacked1DCoords(nt,et){const d=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${et[0]}, ${et[1]}));
          return resTexRC.y * ${et[0]} + resTexRC.x;
        }
      `;return new b.GlslLibRoutine(d)}getOutputUnpacked2DCoords(nt,et){const d=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${et[0]}, ${et[1]}));
          int index = resTexRC.y * ${et[0]} + resTexRC.x;
          int r = index / ${nt[1]};
          int c = index - r * ${nt[1]};
          return ivec2(r, c);
        }
      `;return new b.GlslLibRoutine(d)}getOutputUnpacked3DCoords(nt,et){let d="";const _=nt.length;let tt=null;_<2&&(tt=[]),tt=new Array(_-1),tt[_-2]=nt[_-1];for(let ct=_-3;ct>=0;--ct)tt[ct]=tt[ct+1]*nt[ct+1];const lt=["r","c","d"],ut=tt.map((ct,ft)=>`int ${lt[ft]} = index / ${ct}; ${ft===tt.length-1?`int ${lt[ft+1]} = index - ${lt[ft]} * ${ct}`:`index -= ${lt[ft]} * ${ct}`};`).join("");return d=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${et[0]}, ${et[1]}));
          int index = resTexRC.y * ${et[0]} + resTexRC.x;
          ${ut}
          return ivec3(r, c, d);
        }
      `,new b.GlslLibRoutine(d)}getOutputUnpacked4DCoords(nt,et){let d="";const _=nt.length;let tt=null;_<2&&(tt=[]),tt=new Array(_-1),tt[_-2]=nt[_-1];for(let ct=_-3;ct>=0;--ct)tt[ct]=tt[ct+1]*nt[ct+1];const lt=["r","c","d","d2"],ut=tt.map((ct,ft)=>`int ${lt[ft]} = index / ${ct}; ${ft===tt.length-1?`int ${lt[ft+1]} = index - ${lt[ft]} * ${ct}`:`index -= ${lt[ft]} * ${ct}`};`).join("");return d=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${et[0]}, ${et[1]}));
          int index = resTexRC.y * ${et[0]} + resTexRC.x;
          ${ut}
          return ivec4(r, c, d, d2);
        }
      `,new b.GlslLibRoutine(d)}getOutputUnpacked5DCoords(nt,et){let d="";const _=nt.length;let tt=null;_<2&&(tt=[]),tt=new Array(_-1),tt[_-2]=nt[_-1];for(let ct=_-3;ct>=0;--ct)tt[ct]=tt[ct+1]*nt[ct+1];const lt=["r","c","d","d2","d3"],ut=tt.map((ct,ft)=>`int ${lt[ft]} = index / ${ct}; ${ft===tt.length-1?`int ${lt[ft+1]} = index - ${lt[ft]} * ${ct}`:`index -= ${lt[ft]} * ${ct}`};`).join("");return d=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${et[0]}, ${et[1]}));
          int index = resTexRC.y * ${et[0]} + resTexRC.x;
          ${ut}
          return ivec5(r, c, d, d2, d3);
        }
      `,new b.GlslLibRoutine(d)}getOutputUnpacked6DCoords(nt,et){let d="";const _=nt.length;let tt=null;_<2&&(tt=[]),tt=new Array(_-1),tt[_-2]=nt[_-1];for(let ct=_-3;ct>=0;--ct)tt[ct]=tt[ct+1]*nt[ct+1];const lt=["r","c","d","d2","d3","d4"],ut=tt.map((ct,ft)=>`int ${lt[ft]} = index / ${ct}; ${ft===tt.length-1?`int ${lt[ft+1]} = index - ${lt[ft]} * ${ct}`:`index -= ${lt[ft]} * ${ct}`};`).join("");return d=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${et[0]}, ${et[1]}));
         int index = resTexRC.y * ${et[0]} + resTexRC.x;
         ${ut}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new b.GlslLibRoutine(d)}getCommonUtilFuncs(){const nt={};let et="uvFromFlat";nt[et]=new b.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),et="packedUVfrom1D",nt[et]=new b.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),et="packedUVfrom2D",nt[et]=new b.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),et="packedUVfrom3D",nt[et]=new b.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),et="sampleTexture";const d=(0,_e.getGlsl)(this.context.glContext.version);return nt[et]=new b.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${d.texture2D}(textureSampler, uv).r;
        }`),nt}getInputsSamplingSnippets(){const nt={},et=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((d,_)=>{const tt=this.context.inputTextureLayouts[_],lt=(0,at.generateShaderFuncNameFromInputSamplerName)(d);tt.isPacked?nt[lt]=this.getPackedSamplerFromInput(lt,d,tt):nt[lt]=this.getUnpackedSamplerFromInput(lt,d,tt);const ut=(0,at.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(d);tt.unpackedShape.length<=et.unpackedShape.length&&(tt.isPacked?nt[ut]=this.getPackedSamplerAtOutputCoords(ut,tt,et,d):nt[ut]=this.getUnpackedSamplerAtOutputCoords(ut,tt,et,d))}),nt}getPackedSamplerAtOutputCoords(nt,et,d,_){const tt=et.unpackedShape,lt=d.unpackedShape,ut=_,ct=(0,at.generateShaderFuncNameFromInputSamplerName)(ut),ft=tt.length,dt=lt.length,ht=h.BroadcastUtil.getBroadcastDims(tt,lt),gt=(0,at.getCoordsDataType)(dt),yt=dt-ft;let vt;const mt=(0,at.getGlChannels)();vt=ft===0?"":dt<2&&ht.length>=1?"coords = 0;":ht.map(wt=>`coords.${mt[wt+yt]} = 0;`).join(`
`);let bt="";bt=dt<2&&ft>0?"coords":tt.map((wt,xt)=>`coords.${mt[xt+yt]}`).join(", ");let $t="return outputValue;";const St=h.ShapeUtil.size(tt)===1,Pt=h.ShapeUtil.size(lt)===1;if(ft!==1||St||Pt){if(St&&!Pt)$t=dt===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(ht.length){const wt=ft-2,xt=ft-1;ht.indexOf(wt)>-1&&ht.indexOf(xt)>-1?$t="return vec4(outputValue.x);":ht.indexOf(wt)>-1?$t="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":ht.indexOf(xt)>-1&&($t="return vec4(outputValue.xx, outputValue.zz);")}}else $t=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const _t=`
      vec4 ${nt}() {
        ${gt} coords = getOutputCoords();
        
        int lastDim = coords.${mt[dt-1]};
        coords.${mt[dt-1]} = coords.${mt[dt-2]};
        coords.${mt[dt-2]} = lastDim;
      
        ${vt}
        vec4 outputValue = ${ct}(${bt});
        ${$t}
      }
    `;return new b.GlslLibRoutine(_t,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(nt,et,d,_){const tt=[d.width,d.height],lt=[et.width,et.height],ut=et.unpackedShape.length,ct=d.unpackedShape.length,ft=et.unpackedShape,dt=d.unpackedShape,ht=(0,at.generateShaderFuncNameFromInputSamplerName)(_);if(ut===ct&&h.ArrayUtil.arraysEqual(lt,tt)){const Pt=`
          float ${nt}() {
            return sampleTexture(${_}, TexCoords);
          }
        `;return new b.GlslLibRoutine(Pt,["coordinates.sampleTexture"])}const gt=(0,at.getCoordsDataType)(ct),yt=h.BroadcastUtil.getBroadcastDims(ft,dt),vt=ct-ut;let mt;const bt=(0,at.getGlChannels)();mt=ut===0?"":ct<2&&yt.length>=1?"coords = 0;":yt.map(Pt=>`coords.${bt[Pt+vt]} = 0;`).join(`
`);let $t="";$t=ct<2&&ut>0?"coords":et.unpackedShape.map((Pt,_t)=>`coords.${bt[_t+vt]}`).join(", ");const St=`
        float ${nt}() {
          ${gt} coords = getOutputCoords();
          ${mt}
          return ${ht}(${$t});
        }
      `;return new b.GlslLibRoutine(St,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(nt,et,d){switch(d.unpackedShape.length){case 0:return this.getPackedSamplerScalar(nt,et);case 1:return this.getPackedSampler1D(nt,et,d);case 2:return this.getPackedSampler2D(nt,et,d);case 3:return this.getPackedSampler3D(nt,et,d);default:return this.getPackedSamplerND(nt,et,d)}}getUnpackedSamplerFromInput(nt,et,d){const _=d.unpackedShape;switch(_.length){case 0:return this.getUnpackedSamplerScalar(nt,et,d);case 1:return this.getUnpackedSampler1D(nt,et,d);case 2:return this.getUnpackedSampler2D(nt,et,d);case 3:return this.getUnpackedSampler3D(nt,et,d);case 4:return this.getUnpackedSampler4D(nt,et,d);case 5:return this.getUnpackedSampler5D(nt,et,d);case 6:return this.getUnpackedSampler6D(nt,et,d);default:throw new Error(`Unsupported dimension ${_.length}-D`)}}getPackedSamplerScalar(nt,et){const d=`
          vec4 ${nt}() {
            return ${(0,_e.getGlsl)(this.context.glContext.version).texture2D}(${et}, halfCR);
          }
        `;return new b.GlslLibRoutine(d)}getPackedSampler1D(nt,et,d){const _=[d.width,d.height],tt=[_[1],_[0]],lt=(0,_e.getGlsl)(this.context.glContext.version),ut=`vec4 ${nt}(int index) {
      vec2 uv = packedUVfrom1D(
      ${tt[0]}, ${tt[1]}, index);
      return ${lt.texture2D}(${et}, uv);
    }`;return new b.GlslLibRoutine(ut,["coordinates.packedUVfrom1D"])}getPackedSampler2D(nt,et,d){const _=d.unpackedShape,tt=[d.width,d.height],lt=(0,_e.getGlsl)(this.context.glContext.version),ut=tt[0],ct=tt[1];if(tt!=null&&h.ArrayUtil.arraysEqual(_,tt)){const gt=`vec4 ${nt}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${ct}.0, ${ut}.0);
        return ${lt.texture2D}(${et}, uv);
      }`;return new b.GlslLibRoutine(gt)}const ft=tt,dt=Math.ceil(_[1]/2),ht=`vec4 ${nt}(int row, int col) {
      vec2 uv = packedUVfrom2D(${ft[1]}, ${ft[0]}, ${dt}, row, col);
      return ${lt.texture2D}(${et}, uv);
    }`;return new b.GlslLibRoutine(ht,["coordinates.packedUVfrom2D"])}getPackedSampler3D(nt,et,d){const _=d.unpackedShape,tt=[d.width,d.height],lt=[tt[0],tt[1]],ut=(0,_e.getGlsl)(this.context.glContext.version);if(_[0]===1){const gt=_.slice(1),yt=[1,2],vt=(0,at.squeezeInputShape)(_,gt),mt=["b","row","col"],bt=JSON.parse(JSON.stringify(d));bt.unpackedShape=vt;const $t=this.getPackedSamplerFromInput(nt,et,bt),St=`${$t.routineBody}
      vec4 ${nt}(int b, int row, int col) {
        return ${nt}(${(0,at.getSqueezedParams)(mt,yt)});
      } `;return new b.GlslLibRoutine(St,$t.dependencies)}const ct=lt[0],ft=lt[1],dt=Math.ceil(_[2]/2),ht=`vec4 ${nt}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${ft}, ${ct}, ${dt*Math.ceil(_[1]/2)}, ${dt}, b, row, col);
      return ${ut.texture2D}(${et}, uv);}`;return new b.GlslLibRoutine(ht,["coordinates.packedUVfrom3D"])}getPackedSamplerND(nt,et,d){const _=d.unpackedShape,tt=_.length,lt=[d.width,d.height],ut=(0,_e.getGlsl)(this.context.glContext.version),ct=[lt[0],lt[1]],ft=ct[1],dt=ct[0],ht=Math.ceil(_[tt-1]/2);let gt=ht*Math.ceil(_[tt-2]/2),yt="int b, int row, int col",vt=`b * ${gt} + (row / 2) * ${ht} + (col / 2)`;for(let bt=2;bt<tt-1;bt++)yt=`int b${bt}, `+yt,gt*=_[tt-bt-1],vt=`b${bt} * ${gt} + `+vt;const mt=`vec4 ${nt}(${yt}) {
      int index = ${vt};
      int texR = index / ${dt};
      int texC = index - texR * ${dt};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${dt}, ${ft});
      return ${ut.texture2D}(${et}, uv);
    }`;return new b.GlslLibRoutine(mt)}getUnpackedSamplerScalar(nt,et,d){const[_,tt]=[d.width,d.height];if(_===1&&tt===1){const ut=`
          float ${nt}() {
            return sampleTexture(${et}, halfCR);
          }
        `;return new b.GlslLibRoutine(ut,["coordinates.sampleTexture"])}const lt=`
        float ${nt}() {
          int offset_${et} = coordsToOffset(TexCoords, ${_}, ${tt});
          vec2 uv = uvFromFlat(${_}, ${tt}, offset_${et});
          return sampleTexture(${et}, uv);
        }
      `;return new b.GlslLibRoutine(lt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(nt,et,d){const _=d.width,tt=d.height;if(tt===1&&_===1){const ut=`
        float ${nt}(int index) {
          return sampleTexture(${et}, halfCR);
        }
      `;return new b.GlslLibRoutine(ut,["coordinates.sampleTexture"])}if(tt===1){const ut=`
          float ${nt}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${_}.0, 0.5);
            return sampleTexture(${et}, uv);
          }
        `;return new b.GlslLibRoutine(ut,["coordinates.sampleTexture"])}if(_===1){const ut=`
          float ${nt}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${tt}.0);
            return sampleTexture(${et}, uv);
          }
        `;return new b.GlslLibRoutine(ut,["coordinates.sampleTexture"])}const lt=`
        float ${nt}(int index) {
          vec2 uv = uvFromFlat(${_}, ${tt}, index);
          return sampleTexture(${et}, uv);
        }
      `;return new b.GlslLibRoutine(lt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(nt,et,d){const _=d.unpackedShape,tt=[d.height,d.width];if(tt!=null&&h.ArrayUtil.arraysEqual(_,tt)){const gt=`
          float ${nt}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${tt[1]}.0, ${tt[0]}.0);
            return sampleTexture(${et}, uv);
          }
        `;return new b.GlslLibRoutine(gt,["coordinates.sampleTexture"])}const{newShape:lt,keptDims:ut}=(0,rt.squeezeShape)(_),ct=lt;if(ct.length<_.length){const gt=(0,at.squeezeInputShape)(_,ct),yt=JSON.parse(JSON.stringify(d));yt.unpackedShape=gt;const vt=["col","row"],mt=`
          ${this.getUnpackedSamplerFromInput(nt,et,yt).routineBody}
          float ${nt}(int row, int col) {
            return ${nt}(${(0,at.getSqueezedParams)(vt,ut)});
          }
        `;return new b.GlslLibRoutine(mt,["coordinates.sampleTexture"])}const ft=tt[1],dt=tt[0];if(dt===1){const gt=`
          float ${nt}(int row, int col) {
            int offset_${et} = coordsToOffset(TexCoords, ${ft}, ${dt});
            float index = dot(vec3(row, col, offset_${et}), vec3(${_[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${ft}.0);
            return sampleTexture(${et}, uv);
          }
        `;return new b.GlslLibRoutine(gt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(ft===1){const gt=`
          float ${nt}(int row, int col) {
            int offset_${et} = coordsToOffset(TexCoords, ${ft}, ${dt});
            float index = dot(vec3(row, col, offset_${et}), vec3(${_[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${dt}.0, 0.5);
            return sampleTexture(${et}, uv);
          }
        `;return new b.GlslLibRoutine(gt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const ht=`
        float ${nt}(int row, int col) {
          int index = col * ${_[1]} + row;
          vec2 uv = uvFromFlat(${ft}, ${dt}, index);
          return sampleTexture(${et}, uv);
        }
      `;return new b.GlslLibRoutine(ht,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(nt,et,d){const _=d.unpackedShape,tt=_[1]*_[2],lt=_[2],{newShape:ut,keptDims:ct}=(0,rt.squeezeShape)(_),ft=ut;if(ft.length<_.length){const ht=(0,at.squeezeInputShape)(_,ft),gt=["batch","col","row"],yt=JSON.parse(JSON.stringify(d));yt.unpackedShape=ht;const vt=this.getUnpackedSamplerFromInput(nt,et,yt),mt=ct.reverse(),bt=`
          ${vt.routineBody}
          float ${nt}(int batch, int row, int col) {
            return ${nt}(${(0,at.getSqueezedParams)(gt,mt)});
          }
        `;return new b.GlslLibRoutine(bt,vt.dependencies)}const dt=`
          float ${nt}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${tt} + col * ${lt} + row;
            vec2 uv = uvFromFlat(${d.width}, ${d.height}, index);
            return sampleTexture(${et}, uv);
          }
      `;return new b.GlslLibRoutine(dt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(nt,et,d){const _=d.unpackedShape,tt=_[3],lt=_[2]*tt,ut=`
        float ${nt}(int row, int col, int depth, int depth2) {
          int index = row * ${_[1]*lt} + col * ${lt} +
              depth2 * ${tt} + depth;
          vec2 uv = uvFromFlat(${d.width}, ${d.height}, index);
          return sampleTexture(${et}, uv);
        }
      `;return new b.GlslLibRoutine(ut,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(nt,et,d){const _=d.unpackedShape,tt=_[4],lt=_[3]*tt,ut=_[2]*lt,ct=_[1]*ut,{newShape:ft,keptDims:dt}=(0,rt.squeezeShape)(_);if(ft.length<_.length){const gt=(0,at.squeezeInputShape)(_,ft),yt=["row","col","depth","depth2","depth3"],vt=JSON.parse(JSON.stringify(d));vt.unpackedShape=gt;const mt=`
          ${this.getUnpackedSamplerFromInput(nt,et,vt).routineBody}
          float ${nt}(int row, int col, int depth, int depth2, int depth3) {
            return ${nt}(${(0,at.getSqueezedParams)(yt,dt)});
          }
        `;return new b.GlslLibRoutine(mt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const ht=`
        float ${nt}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${ct} + col * ${ut} + depth * ${lt} +
          depth3 * ${tt} + depth2;
          vec2 uv = uvFromFlat(${d.width}, ${d.height}, index);
          return sampleTexture(${et}, uv);
        }
      `;return new b.GlslLibRoutine(ht,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(nt,et,d){const _=d.unpackedShape,tt=_[5],lt=_[4]*tt,ut=_[3]*lt,ct=_[2]*ut,ft=_[1]*ct,{newShape:dt,keptDims:ht}=(0,rt.squeezeShape)(_);if(dt.length<_.length){const yt=(0,at.squeezeInputShape)(_,dt),vt=["row","col","depth","depth2","depth3","depth4"],mt=JSON.parse(JSON.stringify(d));mt.unpackedShape=yt;const bt=`
            ${this.getUnpackedSamplerFromInput(nt,et,mt).routineBody}
            float ${nt}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${nt}(${(0,at.getSqueezedParams)(vt,ht)});
            }
          `;return new b.GlslLibRoutine(bt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const gt=`
          float ${nt}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${ft} + col * ${ct} + depth * ${ut} +
            depth2 * ${lt} + depth3 * ${tt} + depth4;
            vec2 uv = uvFromFlat(${d.width}, ${d.height}, index);
            return sampleTexture(${et}, uv);
          }
        `;return new b.GlslLibRoutine(gt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const nt=this.context.outputTextureLayout,et=nt.shape.length,d=nt.strides,_=nt.width,tt=nt.height,lt=[];for(let ct=0;ct<et-1;++ct)lt.push(`
        c[${ct}] = offset / ${d[ct]};`),lt.push(`
        offset -= c[${ct}] * ${d[ct]};`);lt.push(`
        c[${et-1}] = offset;`);const ut=`
      void toVec(vec2 texCoords, out int c[${et}]) {
        int offset = coordsToOffset(texCoords, ${_}, ${tt});
        ${lt.join("")}
      }
      void toVec(int offset, out int c[${et}]) {
        ${lt.join("")}
      }
    `;return{toVec:new b.GlslLibRoutine(ut,["coordinates.coordsToOffset"])}}valueFrom(){const nt={};return this.context.programInfo.inputNames.forEach((et,d)=>{const _=this.context.inputTextureLayouts[d],tt=(_.unpackedShape.length>0?_.unpackedShape:_.shape).length;let lt=`_${et}`;nt[lt]=new b.GlslLibRoutine(this.getValueFromSingle(et,tt,_.width,_.height,!1),[`shapeUtils.indicesToOffset${lt}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),lt+="_T",nt[lt]=new b.GlslLibRoutine(this.getValueFromSingle(et,tt,_.width,_.height,!0),[`shapeUtils.indicesToOffset${lt}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),nt}getValueFromSingle(nt,et,d,_,tt){let lt=`_${nt}`;return tt&&(lt+="_T"),`
        float ${lt}(int m[${et}]) {
          int offset = indicesToOffset${lt}(m);
          vec2 coords = offsetToCoords(offset, ${d}, ${_});
          float value = getColorAsFloat(${(0,_e.getGlsl)(this.context.glContext.version).texture2D}(${nt}, coords));
          return value;
        }
        `}getPackedValueFrom(nt,et,d,_,tt){let lt=`_${nt}_Pack`;return tt&&(lt+="_T"),`
        vec4 ${lt}(int m[${et}]) {
          int offset = indicesToOffset_${nt}(m);
          vec2 coords = offsetToCoords(offset, ${d}, ${_});
          return ${(0,_e.getGlsl)(this.context.glContext.version).texture2D}(${nt}, coords);
        }
        `}}e.CoordsGlslLib=st},1997:(o,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.TopologicalSortGlslRoutines=e.GlslLibRoutineNode=e.GlslLibRoutine=e.GlslLib=e.GlslContext=e.FunctionType=void 0,(s=e.FunctionType||(e.FunctionType={}))[s.ValueBased=0]="ValueBased",s[s.Positional=1]="Positional",e.GlslContext=class{constructor(h,b,_e,rt){this.glContext=h,this.programInfo=b,this.inputTextureLayouts=_e,this.outputTextureLayout=rt}},e.GlslLib=class{constructor(h){this.context=h}},e.GlslLibRoutine=class{constructor(h,b){this.routineBody=h,this.dependencies=b}},e.GlslLibRoutineNode=class{constructor(h,b,_e){this.name=h,this.dependencies=_e||[],b&&(this.routineBody=b)}addDependency(h){h&&this.dependencies.push(h)}},e.TopologicalSortGlslRoutines=class{static returnOrderedNodes(h){if(!h||h.length===0)return[];if(h.length===1)return h;const b=new Set,_e=new Set,rt=new Array;return this.createOrderedNodes(h,b,_e,rt),rt}static createOrderedNodes(h,b,_e,rt){for(let at=0;at<h.length;++at)this.dfsTraverse(h[at],b,_e,rt)}static dfsTraverse(h,b,_e,rt){if(!h||_e.has(h.name))return;if(b.has(h.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");b.add(h.name);const at=h.dependencies;if(at&&at.length>0)for(let st=0;st<at.length;++st)this.dfsTraverse(at[st],b,_e,rt);rt.push(h),_e.add(h.name),b.delete(h.name)}}},1371:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EncodingGlslLib=void 0;const h=s(1997);class b extends h.GlslLib{constructor(rt){super(rt)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new h.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new h.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const rt=b.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new h.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${rt}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const rt=b.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new h.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${rt}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const rt=new ArrayBuffer(4),at=new Uint32Array(rt),st=new Uint8Array(rt);if(at[0]=3735928559,st[0]===239)return!0;if(st[0]===222)return!1;throw new Error("unknown endianness")}}e.EncodingGlslLib=b},2691:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FragColorGlslLib=void 0;const h=s(1997),b=s(6757);class _e extends h.GlslLib{constructor(at){super(at)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const at=(0,b.getGlsl)(this.context.glContext.version);return{setFragColor:new h.GlslLibRoutine(`
        void setFragColor(float value) {
            ${at.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new h.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}e.FragColorGlslLib=_e},3878:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.replaceInlines=void 0;const s=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;e.replaceInlines=function(h){const b={};let _e;for(;(_e=s.exec(h))!==null;){const rt=_e[3].split(",").map(at=>{const st=at.trim().split(" ");return st&&st.length===2?{type:st[0],name:st[1]}:null}).filter(at=>at!==null);b[_e[2]]={params:rt,body:_e[4]}}for(const rt in b){const at="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",rt),st=new RegExp(at,"gm");for(;(_e=st.exec(h))!==null;){const ot=_e[1],nt=_e[2],et=_e[3].split(","),d=ot?`${ot} ${nt};`:"";let _=b[rt].body,tt="";b[rt].params.forEach((ut,ct)=>{ut&&(tt+=`${ut.type} ${ut.name} = ${et[ct]};
`)}),_=`${tt}
 ${_}`,_=_.replace("return",`${nt} = `);const lt=`
      ${d}
      {
        ${_}
      }
      `;h=h.replace(_e[0],lt)}}return h.replace(s,"")}},8897:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlslPreprocessor=void 0;const h=s(1997),b=s(3878),_e=s(1248),rt=s(6757);e.GlslPreprocessor=class{constructor(at,st,ot,nt){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new h.GlslContext(at,st,ot,nt),Object.keys(_e.glslRegistry).forEach(d=>{const _=new _e.glslRegistry[d](this.context);this.libs[d]=_});const et=this.glslLibRoutineDependencyGraph;for(const d in this.libs){const _=this.libs[d].getFunctions();for(const tt in _){const lt=d+"."+tt;let ut;et[lt]?(ut=et[lt],ut.routineBody=_[tt].routineBody):(ut=new h.GlslLibRoutineNode(lt,_[tt].routineBody),et[lt]=ut);const ct=_[tt].dependencies;if(ct)for(let ft=0;ft<ct.length;++ft)if(et[ct[ft]])ut.addDependency(et[ct[ft]]);else{const dt=new h.GlslLibRoutineNode(ct[ft]);et[ct[ft]]=dt,ut.addDependency(dt)}}}}preprocess(){const at=this.context.programInfo;let st=at.shaderSource;return this.context.programInfo.hasMain||(st=`${st}
      ${(0,rt.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),st=(0,b.replaceInlines)(st),`${(0,rt.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(at.inputNames,at.variables)}
    ${this.getImports(st)}
    ${st}`}getImports(at){const st=this.selectGlslLibRoutinesToBeIncluded(at);if(st.length===0)return"";let ot="";for(let nt=0;nt<st.length;++nt){if(!st[nt].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${st[nt].name}`);ot+=st[nt].routineBody+`
`}return ot}selectGlslLibRoutinesToBeIncluded(at){const st=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(ot=>{const nt=ot.split(".")[1];at.indexOf(nt)!==-1&&st.push(this.glslLibRoutineDependencyGraph[ot])}),h.TopologicalSortGlslRoutines.returnOrderedNodes(st)}getUniforms(at,st){const ot=[];if(at)for(const nt of at)ot.push(`uniform sampler2D ${nt};`);if(st)for(const nt of st)ot.push(`uniform ${nt.type} ${nt.name}${nt.arrayLength?`[${nt.arrayLength}]`:""};`);return ot.join(`
`)}}},1248:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.glslRegistry=void 0;const h=s(6859),b=s(1371),_e=s(2691),rt=s(9183),at=s(9314);e.glslRegistry={encoding:b.EncodingGlslLib,fragcolor:_e.FragColorGlslLib,vec:at.VecGlslLib,shapeUtils:rt.ShapeUtilsGlslLib,coordinates:h.CoordsGlslLib}},9183:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeUtilsGlslLib=void 0;const h=s(1997);class b extends h.GlslLib{constructor(rt){super(rt)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const rt=this.context.outputTextureLayout.shape.length,at={};return this.context.programInfo.inputNames.forEach((st,ot)=>{const nt=this.context.inputTextureLayouts[ot].unpackedShape;if(nt.length<=rt){const et=nt.length,d=rt-et,_=`bcastIndices_${st}`;let tt="";for(let ut=0;ut<et;++ut)tt+=`
          realIndices[${ut}] = int( mod(float(bcastedIndices[${d+ut}]), ${nt[ut]}.0) );
          `;const lt=`
        void ${_} (int bcastedIndices[${rt}], out int realIndices[${et}]) {
          ${tt}
        }
        `;at[_]=new h.GlslLibRoutine(lt)}}),at}bcastMatmulIndex(){const rt=this.context.outputTextureLayout.shape.length,at={};return this.context.programInfo.inputNames.forEach((st,ot)=>{const nt=this.context.inputTextureLayouts[ot].shape;if(!(nt.length<2||nt.length>rt)){const et=nt.length,d=rt-et,_=`bcastMatmulIndices_${st}`;let tt="";for(let ut=0;ut<et-2;++ut)tt+=`
          realIndices[${ut}] = int( mod(float(bcastedIndices[${d+ut}]), ${nt[ut]}.0) );
          `;const lt=`
        void ${_}(int bcastedIndices[${rt}], out int realIndices[${et}]) {
          ${tt}
          realIndices[${et-1}] = bcastedIndices[${rt-1}];
          realIndices[${et-2}] = bcastedIndices[${rt-2}];
        }
        `;at[_]=new h.GlslLibRoutine(lt)}}),at}indicesToOffset(){const rt={};return this.context.programInfo.inputNames.forEach((at,st)=>{const ot=this.context.inputTextureLayouts[st].shape,nt=this.context.inputTextureLayouts[st].strides,et=ot.length;let d=`indicesToOffset_${at}`;rt[d]=new h.GlslLibRoutine(b.indexToOffsetSingle(d,et,nt)),d=`indicesToOffset_${at}_T`,rt[d]=new h.GlslLibRoutine(b.indexToOffsetSingle(d,et,nt.slice().reverse()))}),rt}static indexToOffsetSingle(rt,at,st){let ot="";for(let nt=at-1;nt>=0;--nt)ot+=`
        offset += indices[${nt}] * ${st[nt]};
        `;return`
      int ${rt}(int indices[${at}]) {
        int offset = 0;
        ${ot}
        return offset;
      }
      `}offsetToIndices(){const rt={};return this.context.programInfo.inputNames.forEach((at,st)=>{const ot=this.context.inputTextureLayouts[st].shape,nt=this.context.inputTextureLayouts[st].strides,et=ot.length;let d=`offsetToIndices_${at}`;rt[d]=new h.GlslLibRoutine(b.offsetToIndicesSingle(d,et,nt)),d=`offsetToIndices_${at}_T`,rt[d]=new h.GlslLibRoutine(b.offsetToIndicesSingle(d,et,nt.slice().reverse()))}),rt}static offsetToIndicesSingle(rt,at,st){const ot=[];for(let nt=0;nt<at-1;++nt)ot.push(`
      indices[${nt}] = offset / ${st[nt]};`),ot.push(`
        offset -= indices[${nt}] * ${st[nt]};`);return ot.push(`
      indices[${at-1}] = offset;`),`
      void ${rt}(int offset, out int indices[${at}]) {
        ${ot.join("")}
      }
      `}incrementIndices(){const rt={};return this.context.programInfo.inputNames.forEach((at,st)=>{const ot=this.context.inputTextureLayouts[st].shape,nt=ot.length,et=`incrementIndices_${at}`;let d="";for(let tt=0;tt<nt;++tt)d+=`
        shape[${tt}] = ${ot[tt]};`;const _=`
        void ${et}(int axis, out int indices[${nt}]) {
          int shape[${nt}];
          ${d};
          for(int i = ${nt} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;rt[et]=new h.GlslLibRoutine(_)}),rt}}e.ShapeUtilsGlslLib=b},6757:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultFragShaderMain=e.getFragShaderPreamble=e.getVertexShaderSource=e.getGlsl=void 0;const s={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},h={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function b(_e){return _e===1?s:h}e.getGlsl=b,e.getVertexShaderSource=function(_e){const rt=b(_e);return`${rt.version}
      precision highp float;
      ${rt.attribute} vec3 position;
      ${rt.attribute} vec2 textureCoord;

      ${rt.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},e.getFragShaderPreamble=function(_e){const rt=b(_e);return`${rt.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${rt.varyingFrag} vec2 TexCoords;
    ${rt.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},e.getDefaultFragShaderMain=function(_e,rt){return`
  void main() {
    int indices[${rt}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${b(_e).output} = result;
  }
  `}},9314:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VecGlslLib=void 0;const h=s(1997);class b extends h.GlslLib{constructor(rt){super(rt)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const rt=this.context.outputTextureLayout.shape.length,at={add:"+=",sub:"-=",mul:"*=",div:"/="},st={};for(const ot in at){const nt=`${ot}Vec`;let et="";for(let _=0;_<rt;++_)et+=`
          dest[${_}] ${at[ot]} src[${_}];
          `;const d=`
        void ${nt}(int src[${rt}], out int dest[${rt}]) {
          ${et}
        }
        `;st[nt]=new h.GlslLibRoutine(d)}return st}copyVec(){const rt=this.context.outputTextureLayout.shape.length;let at="";for(let ot=0;ot<rt;++ot)at+=`
        dest[${ot}] = src[${ot}];
        `;const st=`
      void copyVec(int src[${rt}], out int dest[${rt}]) {
        ${at}
      }
      `;return{copyVec:new h.GlslLibRoutine(st)}}setVecItem(){const rt=this.context.outputTextureLayout.shape.length;let at=`
        if(index < 0)
            index =${rt} + index;
        if (index == 0)
            m[0] = value;
        `;for(let ot=1;ot<rt-1;++ot)at+=`
        else if (index == ${ot})
            m[${ot}] = value;
            `;at+=`
        else
            m[${rt-1}] = value;
        `;const st=`
      void setVecItem(out int m[${rt}], int index, int value) {
        ${at}
      }
        `;return{setVecItem:new h.GlslLibRoutine(st)}}getVecItem(){const rt=this.context.outputTextureLayout.shape.length;let at=`
        if(index < 0)
            index = ${rt} + index;
        if (index == 0)
            return m[0];
      `;for(let ot=1;ot<rt-1;++ot)at+=`
        else if (index == ${ot})
            return m[${ot}];
      `;at+=`
        else
            return m[${rt-1}];
        `;const st=`
      int getVecItem(int m[${rt}], int index) {
        ${at}
      }
    `;return{getVecItem:new h.GlslLibRoutine(st)}}}e.VecGlslLib=b},7860:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLInferenceHandler=void 0;const h=s(1315),b=s(9240),_e=s(7273),rt=s(9),at=s(7379),st=s(2488),ot=s(540),nt=s(3314),et=s(5639);e.WebGLInferenceHandler=class{constructor(d){this.session=d,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(d,_){return(0,nt.calculateTextureWidthAndHeight)(this.session.layoutStrategy,d,_)}executeProgram(d,_){if(_.length<d.inputNames.length)throw new Error(`Input size mustn't be less than ${d.inputNames.length}.`);if(d.inputNames.length!==d.inputTypes.length)throw new Error("input names size does not match input types");const tt=[];for(let ht=0;ht<d.inputNames.length;++ht)tt[ht]=this.getOrCreateTextureData(_[ht],d.inputTypes[ht]);const lt=((ht,gt)=>{const yt=gt.map(mt=>`${mt.unpackedShape.join(",")};${mt.width}x${mt.height}`).join("_");let vt=ht.name;return ht.cacheHint&&(vt+="["+ht.cacheHint+"]"),vt+=":"+yt,vt})(d,tt);let ut=this.session.programManager.getArtifact(lt);const ct=ut?ut.programInfo:typeof d.get=="function"?d.get():d,ft=(0,nt.createTextureLayoutFromTextureType)(this.session.layoutStrategy,ct.output.dims,ct.output.textureType),dt=this.createTextureData(ft,ct.output.type);return ut||(ut=this.session.programManager.build(ct,tt,dt),this.session.programManager.setArtifact(lt,ut)),this.runProgram(ut,tt,dt),dt}run(d,_){return this.executeProgram(d,_).tensor}runProgram(d,_,tt){for(let lt=0;lt<_.length;++lt)if(!!_[lt].isPacked!=(d.programInfo.inputTypes[lt]===et.TextureType.packed))throw new Error(`input[${lt}] property packed inconsistent`);if(!!tt.isPacked!=(d.programInfo.output.textureType===et.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(d,_,tt)}getOrCreateTextureData(d,_){let tt=this.getTextureData(d.dataId,_===et.TextureType.packed);if(!tt&&(tt=this.getTextureData(d.dataId,_!==et.TextureType.packed),tt))return _===et.TextureType.packed?this.pack(tt):this.unpack(tt);if(!tt){const lt=(0,nt.createTextureLayoutFromTextureType)(this.session.layoutStrategy,d.dims,_);if(_===et.TextureType.packedLastDimension){const ft=d.dims;if(ft.length===4){const dt=[ft[0],Math.ceil(ft[1]*ft[2]*ft[3]/4)],ht=(0,nt.createTextureLayoutFromTextureType)(this.session.layoutStrategy,dt,_);let gt=d.numberData;if(ft[1]*ft[2]*ft[3]%4!=0){const yt=ft[0],vt=ft[1]*ft[2]*ft[3],mt=Math.ceil(vt*1/4)*4;gt=new Float32Array(yt*mt);for(let bt=0;bt<yt;++bt){const $t=bt*vt,St=bt*mt+bt%1*vt;gt.set(d.numberData.subarray($t,$t+vt),St)}}return this.createTextureData(ht,d.type,gt,d,1)}}if(_===et.TextureType.packed){const ut=(0,nt.createTextureLayoutFromShape)(this.session.layoutStrategy,d.dims,1,[],{reverseWH:!0}),ct=this.createTextureData(ut,d.type,d.numberData,d,1);tt=this.pack(ct)}else tt=this.createTextureData(lt,d.type,d.numberData,d,1)}return tt}createTextureDataFromLayoutBindTensor(d,_,tt,lt){return this.createTextureData(d,_,tt,lt,1)}createTextureData(d,_,tt,lt,ut){h.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(d)}]`);const ct=this.session.textureManager.createTextureFromLayout(_,d,tt,ut);return this.createTextureDataFromTexture(d,_,ct,lt)}reshapeUnpacked(d,_){const tt=this.getOrCreateTextureData(d,et.TextureType.unpacked),lt={channels:tt.channels,height:tt.height,width:tt.width,shape:_.length!==0?_:[1],strides:_e.ShapeUtil.computeStrides(_),unpackedShape:_};return this.createTextureDataFromTexture(lt,d.type,tt.texture).tensor}reshapePacked(d,_){const tt=this.getOrCreateTextureData(d,et.TextureType.packed);if((0,at.isReshapeCheap)(d.dims,_)){const dt={channels:tt.channels,height:tt.height,width:tt.width,shape:_.length!==0?_:[1],strides:_e.ShapeUtil.computeStrides(_),unpackedShape:_,isPacked:!0};return this.createTextureDataFromTexture(dt,d.type,tt.texture).tensor}const lt=(0,at.processDims3D)(d.dims),ut=(0,at.processDims3D)(_),ct=this.reshapePacked(d,lt),ft=this.run((0,at.createPackedReshape3DProgramInfoLoader)(this,ct,ut),[ct]);return this.reshapePacked(ft,_)}cast(d,_){const tt=this.getOrCreateTextureData(d,et.TextureType.unpacked);return this.createTextureDataFromTexture(tt,_,tt.texture).tensor}createTextureDataFromTexture(d,_,tt,lt,ut){const ct=Object.assign(Object.assign({},d),{tensor:lt||new b.Tensor(d.unpackedShape,_,ft=>this.readTexture(ct),async ft=>this.readTextureAsync(ct),void 0,ut),texture:tt});return this.setTextureData(ct.tensor.dataId,ct,d.isPacked),ct}getTextureData(d,_=!1){return this.session.isInitializer(d)?this.session.getTextureData(d,_):_?this.packedTextureDataCache.get(d):this.unpackedTextureDataCache.get(d)}setTextureData(d,_,tt=!1){this.session.isInitializer(d)?this.session.setTextureData(d,_,tt):(tt?this.packedTextureDataCache:this.unpackedTextureDataCache).set(d,_)}isTextureLayoutCached(d,_=!1){return!!this.getTextureData(d.dataId,_)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(d=>this.session.textureManager.releaseTexture(d)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(d=>this.session.textureManager.releaseTexture(d)),this.unpackedTextureDataCache=new Map}readTexture(d){return d.isPacked?this.readTexture(this.unpack(d)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(d,d.tensor.type,d.channels):this.session.textureManager.readUint8TextureAsFloat((0,st.encodeAsUint8)(this,d))}async readTextureAsync(d){return d.isPacked?this.readTextureAsync(this.unpack(d)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(d,d.tensor.type,d.channels):this.session.textureManager.readUint8TextureAsFloat((0,st.encodeAsUint8)(this,d))}pack(d){return this.executeProgram((0,rt.createPackProgramInfoLoader)(this,d.tensor),[d.tensor])}unpack(d){return this.executeProgram((0,ot.createUnpackProgramInfoLoader)(this,d.tensor),[d.tensor])}}},4110:function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(Ut,kt,jt,Vt){Vt===void 0&&(Vt=jt);var Gt=Object.getOwnPropertyDescriptor(kt,jt);Gt&&!("get"in Gt?!kt.__esModule:Gt.writable||Gt.configurable)||(Gt={enumerable:!0,get:function(){return kt[jt]}}),Object.defineProperty(Ut,Vt,Gt)}:function(Ut,kt,jt,Vt){Vt===void 0&&(Vt=jt),Ut[Vt]=kt[jt]}),b=this&&this.__setModuleDefault||(Object.create?function(Ut,kt){Object.defineProperty(Ut,"default",{enumerable:!0,value:kt})}:function(Ut,kt){Ut.default=kt}),_e=this&&this.__importStar||function(Ut){if(Ut&&Ut.__esModule)return Ut;var kt={};if(Ut!=null)for(var jt in Ut)jt!=="default"&&Object.prototype.hasOwnProperty.call(Ut,jt)&&h(kt,Ut,jt);return b(kt,Ut),kt};Object.defineProperty(e,"__esModule",{value:!0}),e.WEBGL_OP_RESOLVE_RULES=void 0;const rt=s(8817),at=_e(s(5194)),st=s(4752),ot=s(6668),nt=s(9754),et=s(5042),d=s(6742),_=s(4125),tt=s(6149),lt=s(5378),ut=s(6981),ct=s(7413),ft=s(7006),dt=s(8276),ht=s(5565),gt=s(2834),yt=s(1010),vt=s(8126),mt=s(2801),bt=s(565),$t=s(2444),St=s(815),Pt=s(564),_t=s(5416),wt=s(1240),xt=s(5944),Tt=s(5707),It=_e(s(9087)),Ct=s(7862),Rt=s(3980);e.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",It.abs],["Acos","","7+",It.acos],["Add","","7+",at.add],["And","","7+",at.and],["Asin","","7+",It.asin],["Atan","","7+",It.atan],["AveragePool","","7+",gt.averagePool,gt.parseAveragePoolAttributes],["BatchNormalization","","7+",rt.batchNormalization,rt.parseBatchNormalizationAttributes],["Cast","","6+",st.cast,st.parseCastAttributes],["Ceil","","6+",It.ceil],["Clip","","6-10",It.clip,It.parseClipAttributes],["Clip","","11+",It.clipV11],["Concat","","4+",ot.concat,ot.parseConcatAttributes],["Conv","","1+",nt.conv,nt.parseConvAttributes],["ConvTranspose","","1+",et.convTranspose,et.parseConvTransposeAttributes],["Cos","","7+",It.cos],["Div","","7+",at.div],["Dropout","","7+",It.identity],["DepthToSpace","","1+",d.depthToSpace,d.parseDepthToSpaceAttributes],["Equal","","7+",at.equal],["Elu","","6+",It.elu,It.parseEluAttributes],["Exp","","6+",It.exp],["Flatten","","1+",_.flatten,_.parseFlattenAttributes],["Floor","","6+",It.floor],["FusedConv","com.microsoft","1+",nt.conv,nt.parseConvAttributes],["Gather","","1+",tt.gather,tt.parseGatherAttributes],["Gemm","","7-10",lt.gemm,lt.parseGemmAttributesV7],["Gemm","","11+",lt.gemm,lt.parseGemmAttributesV11],["GlobalAveragePool","","1+",gt.globalAveragePool,gt.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",gt.globalMaxPool],["Greater","","7+",at.greater],["Identity","","1+",It.identity],["ImageScaler","","1+",ut.imageScaler,ut.parseImageScalerAttributes],["InstanceNormalization","","6+",ct.instanceNormalization,ct.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",It.leakyRelu,It.parseLeakyReluAttributes],["Less","","7+",at.less],["LRN","","1+",ft.lrn,ft.parseLrnAttributes],["Log","","6+",It.log],["MatMul","","1+",dt.matMul,dt.parseMatMulAttributes],["MaxPool","","1+",gt.maxPool,gt.parseMaxPoolAttributes],["Mul","","7+",at.mul],["Neg","","6+",It.neg],["Not","","1+",It.not],["Or","","7+",at.or],["Pad","","2-10",ht.padV2,ht.parsePadAttributesV2],["Pad","","11+",ht.padV11,ht.parsePadAttributesV11],["Pow","","7+",at.pow],["PRelu","","7+",at.pRelu],["ReduceLogSum","","1+",yt.reduceLogSum,yt.parseReduceAttributes],["ReduceMax","","1+",yt.reduceMax,yt.parseReduceAttributes],["ReduceMean","","1+",yt.reduceMean,yt.parseReduceAttributes],["ReduceMin","","1+",yt.reduceMin,yt.parseReduceAttributes],["ReduceProd","","1+",yt.reduceProd,yt.parseReduceAttributes],["ReduceSum","","1-12",yt.reduceSum,yt.parseReduceAttributes],["ReduceSumSquare","","1+",yt.reduceLogSumSquare,yt.parseReduceAttributes],["Relu","","6+",It.relu],["Reshape","","5+",vt.reshape],["Resize","","10",mt.resize,mt.parseResizeAttributesV10],["Resize","","11+",mt.resize,mt.parseResizeAttributesV11],["Shape","","1+",bt.shape],["Sigmoid","","6+",It.sigmoid],["Sin","","7+",It.sin],["Slice","","10+",$t.sliceV10],["Slice","","1-9",$t.slice,$t.parseSliceAttributes],["Softmax","","1-12",St.softmax,St.parseSoftmaxAttributes],["Softmax","","13+",St.softmaxV13,St.parseSoftmaxAttributesV13],["Split","","2-12",Pt.split,Pt.parseSplitAttributes],["Sqrt","","6+",It.sqrt],["Squeeze","","1-12",_t.squeeze,_t.parseSqueezeAttributes],["Squeeze","","13+",_t.squeezeV13],["Sub","","7+",at.sub],["Sum","","6+",wt.sum],["Tan","","7+",It.tan],["Tanh","","6+",It.tanh],["Tile","","6+",xt.tile],["Transpose","","1+",Tt.transpose,Tt.parseTransposeAttributes],["Upsample","","7-8",Rt.upsample,Rt.parseUpsampleAttributesV7],["Upsample","","9",Rt.upsample,Rt.parseUpsampleAttributesV9],["Unsqueeze","","1-12",Ct.unsqueeze,Ct.parseUnsqueezeAttributes],["Unsqueeze","","13+",Ct.unsqueezeV13],["Xor","","7+",at.xor]]},8817:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseBatchNormalizationAttributes=e.batchNormalization=void 0;const h=s(4910),b=s(6757),_e=s(5639),rt={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[_e.TextureType.unpacked,_e.TextureType.unpacked,_e.TextureType.unpacked,_e.TextureType.unpacked,_e.TextureType.unpacked]};e.batchNormalization=(ot,nt,et)=>(st(nt),[ot.run(Object.assign(Object.assign({},rt),{cacheHint:et.cacheKey,get:()=>at(ot,nt,et)}),nt)]),e.parseBatchNormalizationAttributes=ot=>{const nt=ot.attributes.getFloat("epsilon",1e-5),et=ot.attributes.getFloat("momentum",.9),d=ot.attributes.getInt("spatial",1);return(0,h.createAttributeWithCacheKey)({epsilon:nt,momentum:et,spatial:d})};const at=(ot,nt,et)=>{const d=(0,b.getGlsl)(ot.session.backend.glContext.version),_=nt[0].dims.length,[tt,lt]=ot.calculateTextureWidthAndHeight(nt[1].dims,_e.TextureType.unpacked),ut=`
  float process(int[${_}] indices) {
    vec2 position = offsetToCoords(indices[1], ${tt}, ${lt});
    float scale = getColorAsFloat(${d.texture2D}(Scale, position));
    float mean = getColorAsFloat(${d.texture2D}(Mean, position));
    float variance = getColorAsFloat(${d.texture2D}(Variance, position));
    float b = getColorAsFloat(${d.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${et.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},rt),{output:{dims:nt[0].dims,type:nt[0].type,textureType:_e.TextureType.unpacked},shaderSource:ut})},st=ot=>{if(!ot||ot.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const nt=ot[0],et=ot[1],d=ot[2],_=ot[3],tt=ot[4];if(nt.dims.length<3||et.dims.length!==1||d.dims.length!==1||_.dims.length!==1||tt.dims.length!==1)throw new Error("invalid input shape.");if(et.dims[0]!==nt.dims[1]||d.dims[0]!==nt.dims[1]||_.dims[0]!==nt.dims[1]||tt.dims[0]!==nt.dims[1])throw new Error("invalid input shape.");if(nt.type!=="float32"&&nt.type!=="float64"||et.type!=="float32"&&et.type!=="float64"||d.type!=="float32"&&d.type!=="float64"||_.type!=="float32"&&_.type!=="float64"||tt.type!=="float32"&&tt.type!=="float64")throw new Error("invalid input tensor types.")}},5194:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.xor=e.sub=e.pRelu=e.pow=e.or=e.mul=e.less=e.greater=e.equal=e.div=e.and=e.add=e.glslPRelu=e.glslPow=e.glslXor=e.glslOr=e.glslAnd=e.glslLess=e.glslGreater=e.glslEqual=e.glslSub=e.glslMul=e.glslDiv=e.glslAdd=void 0;const h=s(7273),b=s(1997),_e=s(6757),rt=s(5639);function at(){const gt="add_";return{body:`
  float ${gt}(float a, float b) {
    return a + b;
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:gt,type:b.FunctionType.ValueBased}}function st(){const gt="div_";return{body:`
  float ${gt}(float a, float b) {
    return a / b;
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:gt,type:b.FunctionType.ValueBased}}function ot(){const gt="mul_";return{body:`
  float ${gt}(float a, float b) {
    return a * b;
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:gt,type:b.FunctionType.ValueBased}}function nt(){const gt="sub_";return{body:`
  float ${gt}(float a, float b) {
    return a - b;
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:gt,type:b.FunctionType.ValueBased}}function et(){const gt="equal_";return{body:`
  float ${gt}(float a, float b) {
    return float(a == b);
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:gt,type:b.FunctionType.ValueBased}}function d(){const gt="greater_";return{body:`
  float ${gt}(float a, float b) {
    return float(a > b);
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:gt,type:b.FunctionType.ValueBased}}function _(){const gt="less_";return{body:`
  float ${gt}(float a, float b) {
    return float(a < b);
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:gt,type:b.FunctionType.ValueBased}}function tt(){const gt="and_";return{body:`
  float ${gt}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:gt,type:b.FunctionType.ValueBased}}function lt(){const gt="or_";return{body:`
  float ${gt}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:gt,type:b.FunctionType.ValueBased}}function ut(){const gt="xor_";return{body:`
  float ${gt}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:gt,type:b.FunctionType.ValueBased}}function ct(){return function(gt){const yt=`${gt}_`;return{body:`
  float ${yt}(float a, float b) {
    return ${gt}(a, b);
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    return ${gt}(v1, v2);
  }
  `,name:yt,type:b.FunctionType.ValueBased}}("pow")}function ft(){const gt="prelu_";return{body:`
  float ${gt}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:gt,type:b.FunctionType.ValueBased}}e.glslAdd=at,e.glslDiv=st,e.glslMul=ot,e.glslSub=nt,e.glslEqual=et,e.glslGreater=d,e.glslLess=_,e.glslAnd=tt,e.glslOr=lt,e.glslXor=ut,e.glslPow=ct,e.glslPRelu=ft;const dt=(gt,yt,vt,mt=yt[0].type,bt)=>{const $t=gt.session.pack?rt.TextureType.packed:rt.TextureType.unpacked;return{name:vt.name,inputNames:["A","B"],inputTypes:[$t,$t],cacheHint:bt,get:()=>ht(gt,yt,vt,mt)}},ht=(gt,yt,vt,mt=yt[0].type)=>{const bt=gt.session.pack?rt.TextureType.packed:rt.TextureType.unpacked,$t=!h.ShapeUtil.areEqual(yt[0].dims,yt[1].dims);let St=yt[0].dims;const Pt=gt.session.pack;if($t){const xt=h.BroadcastUtil.calcShape(yt[0].dims,yt[1].dims,!1);if(!xt)throw new Error("Can't perform binary op on the given tensors");St=xt;const Tt=St.length,It=yt[0].dims.length!==0?yt[0].dims.length:1,Ct=yt[1].dims.length!==0?yt[1].dims.length:1,Rt=yt[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Ut=yt[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",kt=(0,_e.getGlsl)(gt.session.backend.glContext.version),jt=Pt?`
      ${vt.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${vt.name}(a, b);
        ${kt.output} = result;
      }`:`
      ${vt.body}
      float process(int indices[${Tt}]) {
        int aindices[${It}];
        int bindices[${Ct}];
        ${Rt}
        ${Ut}
        return ${vt.name}(_A(aindices), _B(bindices));
      }`;return{name:vt.name,inputNames:["A","B"],inputTypes:[bt,bt],output:{dims:St,type:mt,textureType:bt},shaderSource:jt,hasMain:Pt}}const _t=(0,_e.getGlsl)(gt.session.backend.glContext.version),wt=`
    ${vt.body}
    void main() {
      vec4 v1 = ${_t.texture2D}(A, TexCoords);
      vec4 v2 = ${_t.texture2D}(B, TexCoords);
      vec4 result = ${vt.name}(v1, v2);
      ${_t.output} = result;
    }
    `;return{name:vt.name,inputNames:["A","B"],inputTypes:[bt,bt],output:{dims:yt[0].dims,type:mt,textureType:bt},shaderSource:wt,hasMain:!0}};e.add=(gt,yt)=>[gt.run(dt(gt,yt,at()),yt)],e.and=(gt,yt)=>[gt.run(dt(gt,yt,tt(),"bool"),yt)],e.div=(gt,yt)=>[gt.run(dt(gt,yt,st()),yt)],e.equal=(gt,yt)=>[gt.run(dt(gt,yt,et(),"bool"),yt)],e.greater=(gt,yt)=>[gt.run(dt(gt,yt,d(),"bool"),yt)],e.less=(gt,yt)=>[gt.run(dt(gt,yt,_(),"bool"),yt)],e.mul=(gt,yt)=>[gt.run(dt(gt,yt,ot()),yt)],e.or=(gt,yt)=>[gt.run(dt(gt,yt,lt(),"bool"),yt)],e.pow=(gt,yt)=>[gt.run(dt(gt,yt,ct()),yt)],e.pRelu=(gt,yt)=>[gt.run(dt(gt,yt,ft()),yt)],e.sub=(gt,yt)=>[gt.run(dt(gt,yt,nt()),yt)],e.xor=(gt,yt)=>[gt.run(dt(gt,yt,ut(),"bool"),yt)]},4752:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseCastAttributes=e.cast=void 0;const h=s(7273);e.cast=(_e,rt,at)=>(b(rt),[_e.cast(rt[0],at)]),e.parseCastAttributes=_e=>h.ProtoUtil.tensorDataTypeFromProto(_e.attributes.getInt("to"));const b=_e=>{if(!_e||_e.length!==1)throw new Error("Cast requires 1 input.");if(_e[0].type==="string")throw new Error("Invalid input type.")}},4595:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedConcatProgramInfoLoader=void 0;const h=s(6757),b=s(5639),_e=s(432),rt=s(5614);e.createPackedConcatProgramInfoLoader=(st,ot,nt)=>{const et=(d=ot.length,_=nt.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:d},(tt,lt)=>`X${lt}`),inputTypes:Array(d).fill(b.TextureType.packed),cacheHint:_});var d,_;return Object.assign(Object.assign({},et),{get:()=>((tt,lt,ut,ct)=>{const ft=ut[0].dims.slice();if(ct>=ft.length||ct<-1*ft.length)throw new Error("axis specified for concat doesn't match input dimensionality");ct<0&&(ct=ft.length+ct);const dt=ft.slice(0);for(let Rt=1;Rt<ut.length;Rt++){const Ut=ut[Rt].dims.slice();for(let kt=0;kt<ft.length;kt++)if(kt===ct)dt[ct]+=Ut[kt];else if(ft[kt]!==Ut[kt])throw new Error("non concat dimensions must match")}const ht=dt.length,gt=(0,rt.getChannels)("coords",ht),yt=(0,_e.getCoordsDataType)(ht),vt=(0,rt.unpackFromChannel)(),mt=ut.map(Rt=>Rt.dims),bt=(0,_e.getGlChannels)(ht),$t=new Array(mt.length-1);$t[0]=mt[0][ct];for(let Rt=1;Rt<$t.length;Rt++)$t[Rt]=$t[Rt-1]+mt[Rt][ct];const St=bt[ct],Pt=bt.slice(-2),_t=bt.join();let wt=`if (${St} < ${$t[0]}) {
        return getChannel(
            getX0(${_t}), vec2(${Pt.join()}));
        }`;for(let Rt=1;Rt<$t.length;Rt++){const Ut=$t[Rt-1];wt+=`
            if (${St} < ${$t[Rt]}  && ${St} >= ${$t[Rt-1]}) {
              return getChannel(
                getX${Rt}(${at(bt,St,Ut)}),
                vec2(${at(Pt,St,Ut)}));
            }`}const xt=$t.length,Tt=$t[$t.length-1];wt+=`
            return getChannel(
              getX${xt}(${at(bt,St,Tt)}),
              vec2(${at(Pt,St,Tt)}));`;const It=(0,h.getGlsl)(tt.session.backend.glContext.version),Ct=`
          ${vt}
          float getValue(${bt.map(Rt=>"int "+Rt)}) {
            ${wt}
          }

          void main() {
            ${yt} coords = getOutputCoords();
            int lastDim = coords.${bt[ht-1]};
            coords.${bt[ht-1]} = coords.${bt[ht-2]};
            coords.${bt[ht-2]} = lastDim;

            vec4 result = vec4(getValue(${gt}), 0., 0., 0.);

            ${gt[ht-1]} = ${gt[ht-1]} + 1;
            if (${gt[ht-1]} < ${dt[ht-1]}) {
              result.g = getValue(${gt});
            }

            ${gt[ht-2]} = ${gt[ht-2]} + 1;
            if (${gt[ht-2]} < ${dt[ht-2]}) {
              result.a = getValue(${gt});
            }

            ${gt[ht-1]} = ${gt[ht-1]} - 1;
            if (${gt[ht-2]} < ${dt[ht-2]} &&
                ${gt[ht-1]} < ${dt[ht-1]}) {
              result.b = getValue(${gt});
            }
            ${It.output} = result;
          }
        `;return Object.assign(Object.assign({},lt),{output:{dims:dt,type:ut[0].type,textureType:b.TextureType.packed},shaderSource:Ct,hasMain:!0})})(st,et,ot,nt.axis)})};const at=(st,ot,nt)=>{const et=st.indexOf(ot);return st.map((d,_)=>_===et?`${d} - ${nt}`:d).join()}},6668:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseConcatAttributes=e.concat=void 0;const h=s(4910),b=s(5639),_e=s(4595);e.concat=(d,_,tt)=>(et(_),d.session.pack&&_[0].dims.length>1?[d.run((0,_e.createPackedConcatProgramInfoLoader)(d,_,tt),_)]:[d.run(rt(d,_,tt),_)]);const rt=(d,_,tt)=>{const lt=(ut=_.length,ct=tt.cacheKey,{name:"Concat",inputNames:Array.from({length:ut},(ft,dt)=>`X${dt}`),inputTypes:Array(ut).fill(b.TextureType.unpacked),cacheHint:ct});var ut,ct;return Object.assign(Object.assign({},lt),{get:()=>((ft,dt,ht,gt)=>{const yt=ht[0].dims.slice();if(gt>=yt.length||gt<-1*yt.length)throw new Error("axis specified for concat doesn't match input dimensionality");gt<0&&(gt=yt.length+gt);const vt=yt.slice(0);for(let _t=1;_t<ht.length;_t++){const wt=ht[_t].dims.slice();for(let xt=0;xt<yt.length;xt++)if(xt===gt)vt[gt]+=wt[xt];else if(yt[xt]!==wt[xt])throw new Error("non concat dimensions must match")}const mt=vt.length,bt=new Array(ht.length);let $t=0;for(let _t=0;_t<bt.length;++_t)$t+=ht[_t].dims[gt],bt[_t]=$t;let St="";St=ht.length<5?at(bt):st(bt);const Pt=`
        ${ot(ht.length,mt)}
        ${nt(bt)}
        ${St}
        float process(int indices[${mt}]) {
          int textureIndex = getTextureWhereDataResides (indices[${gt}]);

          if(textureIndex != 0) {
            indices[${gt}] = indices[${gt}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},dt),{output:{dims:vt,type:ht[0].type,textureType:b.TextureType.unpacked},shaderSource:Pt})})(0,lt,_,tt.axis)})},at=d=>`int getTextureWhereDataResides(int index) {
      ${d.map((_,tt)=>`if(index<${_}) {return ${tt};}
`).join("")}
    }`,st=d=>at(d),ot=(d,_)=>{const tt=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${_}]) {`];for(let lt=0;lt<d;++lt)lt===0?tt.push(`	if (textureIndex == ${lt}) { return _X${lt}(indices); }`):lt===d-1?tt.push(`	else { return _X${lt}(indices); }`):tt.push(`	else if (textureIndex == ${lt}) { return _X${lt}(indices); }`);return tt.push("	}"),tt.join(`
`)},nt=d=>{const _=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let tt=0;tt<d.length;++tt)tt===0?_.push(`	if (index == ${tt}) { return ${d[tt]}; }`):tt===d.length-1?_.push(`	else { return ${d[tt]}; }`):_.push(`	else if (index == ${tt}) { return ${d[tt]}; }`);return _.push("	}"),_.join(`
`)};e.parseConcatAttributes=d=>(0,h.createAttributeWithCacheKey)({axis:d.attributes.getInt("axis")});const et=d=>{if(!d||d.length<1)throw new Error("too few inputs");const _=d[0].type,tt=d[0].dims.length;if(_==="string")throw new Error("string tensor is not supported yet");for(const lt of d){if(lt.type!==_)throw new Error("input tensors should be one type");if(lt.dims.length!==tt)throw new Error("input tensors should have the same shape")}}},7825:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createUnpackedGroupedConvProgramInfoLoader=void 0;const h=s(1315),b=s(6757),_e=s(5639),rt=s(9754),at=s(2150);e.createUnpackedGroupedConvProgramInfoLoader=(st,ot,nt)=>{const et=(d=ot.length>2,_=nt.cacheKey,{name:"GroupedConv",inputNames:d?["X","W","Bias"]:["X","W"],inputTypes:d?[_e.TextureType.unpacked,_e.TextureType.unpacked,_e.TextureType.unpacked]:[_e.TextureType.unpacked,_e.TextureType.unpacked],cacheHint:_});var d,_;return Object.assign(Object.assign({},et),{get:()=>((tt,lt,ut,ct)=>{const ft=lt.length>2?"value += getBias(output_channel);":"",dt=lt[0].dims.slice(),ht=lt[1].dims.slice(),gt=ht[0]/ct.group;h.Logger.verbose("GroupedConv",`autpPad:${ct.autoPad}, dilations:${ct.dilations}, group:${ct.group}, kernelShape:${ct.kernelShape}, pads:${ct.pads}, strides:${ct.strides}`);const yt=(0,rt.calculateOutputShape)(dt,ht,ct.dilations,ct.pads,ct.strides),vt=(0,b.getGlsl)(tt.session.backend.glContext.version),{activationFunction:mt,applyActivation:bt}=(0,at.getActivationSnippet)(ct),$t=`
  const ivec2 strides = ivec2(${ct.strides[0]}, ${ct.strides[1]});
  const ivec2 pads = ivec2(${ct.pads[0]}, ${ct.pads[1]});
  ${mt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${gt};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${ht[1]}; wInChannel++) {
      int input_channel = group_id * ${ht[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${ht[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${ct.dilations[0]};

        if (xHeight < 0 || xHeight >= ${dt[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${ht[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${ct.dilations[1]};
          if (xWidth < 0 || xWidth >= ${dt[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${ft}
    ${bt}
    ${vt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},ut),{output:{dims:yt,type:lt[0].type,textureType:_e.TextureType.unpacked},shaderSource:$t,hasMain:!0})})(st,ot,et,nt)})}},7708:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.conv2DPacked=e.conv2DPackedPointwise=void 0;const h=s(9754),b=s(5950),_e=s(5632);e.conv2DPackedPointwise=(rt,at,st)=>{const ot=at[0].dims,nt=at[1].dims,et=(0,h.calculateOutputShape)(ot,nt,st.dilations,st.pads,st.strides),d=rt.reshapePacked(at[0],[ot[1],ot[2]*ot[3]]),_=rt.reshapePacked(at[1],[nt[0],nt[1]]),tt=at.length>2?[_,d,at[2]]:[_,d],lt=rt.run((0,_e.createPackedMatmulProgramInfoLoader)(rt,tt,st),tt);return rt.reshapePacked(lt,et)},e.conv2DPacked=(rt,at,st)=>{const ot=at[0].dims,nt=at[1].dims,et=(0,h.calculateOutputShape)(ot,nt,st.dilations,st.pads,st.strides),d=rt.run((0,b.createPackedIm2ColProgramInfoLoader)(rt,at[0],at[1],et,st),[at[0]]),_=rt.reshapePacked(at[1],[nt[0],nt[1]*nt[2]*nt[3]]),tt=at.length===3?[_,d,at[2]]:[_,d],lt=rt.run((0,_e.createPackedMatmulProgramInfoLoader)(rt,tt,st),tt);return rt.reshapePacked(lt,et)}},5042:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseConvTransposeAttributes=e.convTranspose=void 0;const h=s(4910),b=s(6757),_e=s(5639),rt=s(2150),at=(_,tt,lt,ut,ct,ft)=>(_-1)*tt+lt+(ut-1)*ct+1-ft,st=(_,tt,lt,ut,ct)=>{const ft=Math.floor(_/2);tt==="SAME_UPPER"?(lt[ut]=ft,lt[ct]=_-ft):tt==="SAME_LOWER"&&(lt[ut]=_-ft,lt[ct]=ft)};e.convTranspose=(_,tt,lt)=>(d(tt,lt),ot(_,tt,lt));const ot=(_,tt,lt)=>{const ut=et(lt,tt);return[nt(_,tt,ut)]},nt=(_,tt,lt)=>_.run(((ut,ct,ft)=>{const dt=(ht=ct.length>2,gt=ft.cacheKey,{name:"ConvTranspose",inputNames:ht?["X","W","B"]:["X","W"],inputTypes:ht?[_e.TextureType.unpacked,_e.TextureType.unpacked,_e.TextureType.unpacked]:[_e.TextureType.unpacked,_e.TextureType.unpacked],cacheHint:gt});var ht,gt;return Object.assign(Object.assign({},dt),{get:()=>((yt,vt,mt,bt)=>{const $t=vt.length>2?"getB(output_channel)":"0.0",St=vt[0].dims,Pt=vt[1].dims,_t=Pt[1],wt=Pt[0]/bt.group,xt=[vt[0].dims[0],vt[1].dims[1]*bt.group,...bt.outputShape],Tt=(0,b.getGlsl)(yt.session.backend.glContext.version),{activationFunction:It,applyActivation:Ct}=(0,rt.getActivationSnippet)(bt),Rt=`
  const ivec2 strides = ivec2(${bt.strides[0]}, ${bt.strides[1]});
  const ivec2 pads = ivec2(${bt.pads[0]}, ${bt.pads[1]});
  ${It}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${_t};
    int wOutChannel = output_channel - group_id * ${_t};

    float value = ${$t};
    for (int inChannelOffset = 0; inChannelOffset < ${wt}; inChannelOffset++) {
      int input_channel = group_id * ${wt} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${Pt[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${Pt[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${bt.dilations[0]}, wHOff * ${bt.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${St[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${St[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${Ct}
    ${Tt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},mt),{output:{dims:xt,type:vt[0].type,textureType:_e.TextureType.unpacked},shaderSource:Rt,hasMain:!0})})(ut,ct,dt,ft)})})(_,tt,lt),tt),et=(_,tt)=>{const lt=_.kernelShape.slice();if(_.kernelShape.length===0)for(let dt=2;dt<tt[1].dims.length;++dt)lt.push(tt[1].dims[dt]);const ut=_.pads.slice(),ct=_.outputShape.slice();((dt,ht,gt,yt,vt,mt,bt,$t)=>{const St=dt.length-2,Pt=$t.length===0;for(let _t=0;_t<St;++_t){const wt=Pt?dt[_t+2]*mt[_t]:$t[_t],xt=at(dt[_t+2],mt[_t],vt[_t],ht[_t],gt[_t],wt);st(xt,yt,vt,_t,_t+St),Pt&&$t.push(mt[_t]*(dt[_t+2]-1)+bt[_t]+(ht[_t]-1)*gt[_t]+1-vt[_t]-vt[_t+St])}})(tt[0].dims,lt,_.dilations,_.autoPad,ut,_.strides,_.outputPadding,ct);const ft=Object.assign({},_);return Object.assign(ft,{kernelShape:lt,pads:ut,outputShape:ct,cacheKey:_.cacheKey}),ft};e.parseConvTransposeAttributes=_=>{const tt=_.attributes,lt=(0,rt.parseInternalActivationAttributes)(tt),ut=tt.getString("auto_pad","NOTSET"),ct=tt.getInts("dilations",[1,1]),ft=tt.getInt("group",1),dt=tt.getInts("kernel_shape",[]),ht=tt.getInts("output_padding",[0,0]),gt=tt.getInts("output_shape",[]),yt=tt.getInts("pads",[0,0,0,0]),vt=tt.getInts("strides",[1,1]);return(0,h.createAttributeWithCacheKey)(Object.assign({autoPad:ut,dilations:ct,group:ft,kernelShape:dt,outputPadding:ht,outputShape:gt,pads:yt,strides:vt},lt))};const d=(_,tt)=>{if(!_||_.length!==2&&_.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(_[0].dims.length!==4||_[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(_[0].dims[1]!==_[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const lt=_[1].dims[1]*tt.group;if(_.length===3&&(_[2].dims.length!==1||_[2].dims[0]!==lt))throw new Error("invalid bias");const ut=_[0].dims.length-2;if(tt.dilations.length!==ut)throw new Error(`dilations should be ${ut}D`);if(tt.strides.length!==ut)throw new Error(`strides should be ${ut}D`);if(tt.pads.length!==2*ut)throw new Error(`pads should be ${2*ut}D`);if(tt.outputPadding.length!==ut)throw new Error(`output_padding should be ${ut}D`);if(tt.kernelShape.length!==0&&tt.kernelShape.length!==_[1].dims.length-2)throw new Error("invalid kernel shape");if(tt.outputShape.length!==0&&tt.outputShape.length!==_[0].dims.length-2)throw new Error("invalid output shape");if(_[0].type!=="float32"||_[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(_.length===3&&_[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseConvAttributes=e.conv=e.calculateOutputShape=void 0;const h=s(4910),b=s(7273),_e=s(7825),rt=s(7708),at=s(3281),st=s(2150),ot=s(1625),nt=s(8276);e.calculateOutputShape=(ut,ct,ft,dt,ht)=>{const gt=ut[0],yt=ut.slice(2),vt=yt.length,mt=ct[0],bt=ct.slice(2).map((St,Pt)=>St+(St-1)*(ft[Pt]-1)),$t=yt.map((St,Pt)=>St+dt[Pt]+dt[Pt+vt]).map((St,Pt)=>Math.floor((St-bt[Pt]+ht[Pt])/ht[Pt]));return[gt,mt].concat(...$t)},e.conv=(ut,ct,ft)=>(lt(ct,ft),et(ut,ct,ft));const et=(ut,ct,ft)=>{const dt=tt(ft,ct),ht=ut.session.pack,gt=dt.kernelShape[0]===1&&dt.kernelShape[1]===1;return dt.group>1?[ut.run((0,_e.createUnpackedGroupedConvProgramInfoLoader)(ut,ct,dt),ct)]:gt&&ht?[d(ut,ct,dt)]:ht&&ct[0].dims.length===4&&ct[0].dims[0]===1&&!gt?[(0,rt.conv2DPacked)(ut,ct,dt)]:[_(ut,ct,dt)]},d=(ut,ct,ft)=>{const dt=ct[0].dims,ht=ct[1].dims,gt=(0,e.calculateOutputShape)(dt,ht,ft.dilations,ft.pads,ft.strides),yt=ut.reshapeUnpacked(ct[0],[dt[1],dt[2]*dt[3]]),vt=ut.reshapeUnpacked(ct[1],[ht[0],ht[1]]),mt=ct.length>2?[vt,yt,ct[2]]:[vt,yt],bt=ut.run((0,nt.createMatmulProgramInfoLoader)(mt,ft),mt);return ut.reshapeUnpacked(bt,gt)},_=(ut,ct,ft)=>{const dt=ct[0].dims,ht=ct[1].dims,gt=(0,e.calculateOutputShape)(dt,ht,ft.dilations,ft.pads,ft.strides),yt=ut.run((0,ot.createIm2ColProgramInfoLoader)(ut,ct[0],ct[1],gt,ft),[ct[0]]),vt=ct.length===3?[yt,ct[1],ct[2]]:[yt,ct[1]];return ut.run((0,at.createDotProductProgramInfoLoader)(ut,ct,gt,ft),vt)},tt=(ut,ct)=>{const ft=ut.kernelShape.slice();if(ut.kernelShape.length===0)for(let gt=2;gt<ct[1].dims.length;++gt)ft.push(ct[1].dims[gt]);const dt=ut.pads.slice();b.PoolConvUtil.adjustPadsBasedOnAutoPad(ct[0].dims,ut.strides,ut.dilations,ft,dt,ut.autoPad);const ht=Object.assign({},ut);return Object.assign(ht,{kernelShape:ft,pads:dt,cacheKey:ut.cacheKey}),ht};e.parseConvAttributes=ut=>{const ct=ut.attributes,ft=(0,st.parseInternalActivationAttributes)(ct),dt=ct.getString("auto_pad","NOTSET"),ht=ct.getInts("dilations",[1,1]),gt=ct.getInt("group",1),yt=ct.getInts("kernel_shape",[]),vt=ct.getInts("pads",[0,0,0,0]),mt=ct.getInts("strides",[1,1]);return(0,h.createAttributeWithCacheKey)(Object.assign({autoPad:dt,dilations:ht,group:gt,kernelShape:yt,pads:vt,strides:mt},ft))};const lt=(ut,ct)=>{if(!ut||ut.length!==2&&ut.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(ut[0].dims.length!==4||ut[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(ut[0].dims[1]!==ut[1].dims[1]*ct.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(ut.length===3&&(ut[2].dims.length!==1||ut[1].dims[0]!==ut[2].dims[0]))throw new Error("invalid bias");const ft=ut[0].dims.length-2;if(ct.dilations.length!==ft)throw new Error(`dilations should be ${ft}D`);if(ct.strides.length!==ft)throw new Error(`strides should be ${ft}D`);if(ct.pads.length!==2*ft)throw new Error(`pads should be ${2*ft}D`);if(ct.kernelShape.length!==0&&ct.kernelShape.length!==ut[1].dims.length-2)throw new Error("invalid kernel shape");if(ut[0].type!=="float32"||ut[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(ut.length===3&&ut[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},6742:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseDepthToSpaceAttributes=e.depthToSpace=void 0;const h=s(5707);e.depthToSpace=(_e,rt,at)=>{b(rt);const st=at.blocksize,ot=st*st,nt=at.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],et=at.mode==="DCR"?[rt[0].dims[0],st,st,rt[0].dims[1]/ot,rt[0].dims[2],rt[0].dims[3]]:[rt[0].dims[0],rt[0].dims[1]/ot,st,st,rt[0].dims[2],rt[0].dims[3]],d=_e.reshapeUnpacked(rt[0],et),_={perm:nt,cacheKey:`${nt}`},[tt]=(0,h.transpose)(_e,[d],_),lt=[rt[0].dims[0],rt[0].dims[1]/ot,rt[0].dims[2]*st,rt[0].dims[3]*st];return[_e.reshapeUnpacked(tt,lt)]},e.parseDepthToSpaceAttributes=_e=>{const rt=_e.attributes.getInt("blocksize");if(rt<1)throw new Error(`blocksize must be >= 1, but got : ${rt} for DepthToSpace`);const at=_e.attributes.getString("mode","DCR");if(at!=="DCR"&&at!=="CRD")throw new Error(`unrecognized mode: ${at} for DepthToSpace`);return{mode:at,blocksize:rt}};const b=_e=>{if(_e.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${_e.length}`);if(_e[0].type==="string"||_e[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createDotProductProgramInfoLoader=void 0;const h=s(7273),b=s(6757),_e=s(5639),rt=s(2150),at=s(1625);e.createDotProductProgramInfoLoader=(st,ot,nt,et)=>{const d=((_,tt)=>({name:"ConvDotProduct",inputNames:_?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:_?[_e.TextureType.unpacked,_e.TextureType.packedLastDimension,_e.TextureType.unpacked]:[_e.TextureType.unpacked,_e.TextureType.packedLastDimension],cacheKey:tt.activationCacheKey}))(ot.length>2,et);return Object.assign(Object.assign({},d),{get:()=>((_,tt,lt,ut,ct)=>{const ft=lt[0].dims,dt=lt[1].dims,ht=[dt[0],Math.ceil(ft[1]*dt[2]*dt[3]/4)],gt=(0,at.calculateIm2ColDims)(ft,dt,ut),[yt,vt]=_.calculateTextureWidthAndHeight(ht,_e.TextureType.packedLastDimension),mt=h.ShapeUtil.computeStrides(gt),[bt,$t]=_.calculateTextureWidthAndHeight(gt,_e.TextureType.packedLastDimension),St=ut.length,Pt=lt.length<3?"0.0":"_B(b)",_t=Math.ceil(ft[1]*dt[2]*dt[3]/4),{activationFunction:wt,applyActivation:xt}=(0,rt.getActivationSnippet)(ct),Tt=(0,b.getGlsl)(_.session.backend.glContext.version),It=`
${wt}
float process(int indices[${St}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${mt[0]} + im2col[1] * ${mt[1]} + im2col[2] * ${mt[2]};
  int kernelOffset = indices[1] * ${ht[1]};
  float value = ${Pt};
  for (int i = 0; i < ${_t}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${bt}, ${$t});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${yt}, ${vt});
    value += dot(${Tt.texture2D}(Im2Col, im2colCoords), ${Tt.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${xt}
  return value;
}`;return Object.assign(Object.assign({},tt),{output:{dims:ut,type:lt[0].type,textureType:_e.TextureType.unpacked},shaderSource:It})})(st,d,ot,nt,et)})}},4125:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseFlattenAttributes=e.flatten=void 0;const h=s(7273);e.flatten=(_e,rt,at)=>{b(rt,at);const st=h.ShapeUtil.flattenShape(rt[0].dims,at);return[_e.reshapeUnpacked(rt[0],st)]},e.parseFlattenAttributes=_e=>_e.attributes.getInt("axis",1);const b=(_e,rt)=>{if(!_e||_e.length!==1)throw new Error("Flatten requires 1 input.");const at=_e[0].dims.length;if(at===0)throw new Error("scalar tensor is not supported.");if(rt<-at||rt>at)throw new Error("Invalid axis");if(_e[0].type==="string")throw new Error("string tensor is not supported.")}},2150:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseInternalActivationAttributes=e.getActivationSnippet=void 0;const h=s(7273),b=s(9087);e.getActivationSnippet=function(_e){let rt;switch(_e.activation){case"Relu":rt=(0,b.glslRelu)();break;case"Sigmoid":rt=(0,b.glslSigmoid)();break;case"Clip":rt=(0,b.glslClip)(_e.clipMin,_e.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const at=rt.name;return{activationFunction:rt.body,applyActivation:`value = ${at}_(value);`}},e.parseInternalActivationAttributes=_e=>{const rt=_e.getString("activation","");if(rt==="Clip"){const[at,st]=_e.getFloats("activation_params",[h.MIN_CLIP,h.MAX_CLIP]);return{activation:rt,clipMax:st,clipMin:at,activationCacheKey:`${rt}:${at},${st}`}}return{activation:rt,activationCacheKey:rt}}},6149:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseGatherAttributes=e.gather=void 0;const h=s(4910),b=s(6145),_e=s(7273),rt=s(5639);e.gather=(nt,et,d)=>(ot(et,d.axis),[nt.run(st(nt,et,d),et)]),e.parseGatherAttributes=nt=>(0,h.createAttributeWithCacheKey)({axis:nt.attributes.getInt("axis",0)});const at={name:"Gather",inputNames:["A","B"],inputTypes:[rt.TextureType.unpacked,rt.TextureType.unpacked]},st=(nt,et,d)=>{const _=Object.assign(Object.assign({},at),{cacheHint:d.cacheKey});return Object.assign(Object.assign({},_),{get:()=>((tt,lt,ut,ct)=>{const ft=ut[0].dims.slice(),dt=ut[1].dims.slice(),ht=new Array(ft.length+dt.length-1);ct=_e.ShapeUtil.normalizeAxis(ct,ft.length);const gt=[];for(let vt=0;vt<ht.length;vt++)vt<ct?(ht[vt]=ft[vt],gt.push(`inputIdx[${vt}] = outputIdx[${vt}];`)):vt<ct+dt.length?(ht[vt]=dt[vt-ct],gt.push(`indexDataIdx[${vt-ct}] = outputIdx[${vt}];`)):(ht[vt]=ft[vt-dt.length+1],gt.push(`inputIdx[${vt-dt.length+1}] = outputIdx[${vt}];`));const yt=`
      float process(int outputIdx[${ht.length||1}]) {
        int inputIdx[${ft.length}];
        int indexDataIdx[${dt.length||1}];
        indexDataIdx[0] = 0;
        ${gt.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${ct}] = idx < 0 ? idx + ${ft[ct]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},lt),{output:{dims:ht,type:ut[0].type,textureType:rt.TextureType.unpacked},shaderSource:yt})})(0,_,et,d.axis)})},ot=(nt,et)=>{if(!nt||nt.length!==2)throw new Error("Gather requires 2 inputs.");const d=nt[0].dims.length;if(d<1)throw new Error("Invalid input shape.");if(et<-d||et>d-1)throw new Error("Invalid axis.");if(b.NUMBER_TYPES.indexOf(nt[0].type)===-1)throw new Error("Invaid input type.");if(nt[1].type!=="int32"&&nt[1].type!=="int16")throw new Error("Invaid input type.")}},5378:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseGemmAttributesV11=e.parseGemmAttributesV7=e.gemm=void 0;const h=s(4910),b=s(7273),_e=s(5639);e.gemm=(nt,et,d)=>(ot(et,d),[nt.run(at(et,d),et)]);const rt=(nt,et)=>{const d=nt.attributes.getInt("transA",0)!==0,_=nt.attributes.getInt("transB",0)!==0,tt=nt.attributes.getFloat("alpha",1),lt=nt.attributes.getFloat("beta",1);return(0,h.createAttributeWithCacheKey)({transA:d,transB:_,alpha:tt,beta:lt,isOptionalC:et})};e.parseGemmAttributesV7=nt=>rt(nt,!1),e.parseGemmAttributesV11=nt=>rt(nt,!0);const at=(nt,et)=>{const d={name:"Gemm",inputNames:nt.length===3?["A","B","C"]:["A","B"],inputTypes:nt.length===3?[_e.TextureType.unpacked,_e.TextureType.unpacked,_e.TextureType.unpacked]:[_e.TextureType.unpacked,_e.TextureType.unpacked],key:et.cacheKey};return Object.assign(Object.assign({},d),{get:()=>st(d,nt,et)})},st=(nt,et,d)=>{const _=et[0].dims.slice(),tt=et[1].dims.slice(),[lt,ut]=b.GemmUtil.getShapeOfGemmResult(_,d.transA,tt,d.transB,et.length===3?et[2].dims:void 0),ct=[lt,ut];if(!ct)throw new Error("Can't use gemm on the given tensors");let ft=_[_.length-1],dt="";d.transA&&(ft=_[0]),d.transA&&d.transB?dt="value += _A_T(a) * _B_T(b);":d.transA&&!d.transB?dt="value += _A_T(a) * _B(b);":!d.transA&&d.transB?dt="value += _A(a) * _B_T(b);":d.transA||d.transB||(dt="value += _A(a) * _B(b);");const ht=ct.length,gt=`
      float process(int indices[${ht}]) {
          int a[${ht}];
          int b[${ht}];
          ${et.length===3?`int c[${et[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${et.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${ft}; ++k) {
              a[${ht-1}] = k;
              b[${ht-2}] = k;
              ${dt}
          }

          value = value * alpha;
          ${et.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},nt),{output:{dims:ct,type:et[0].type,textureType:_e.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:d.alpha},{name:"beta",type:"float",data:d.beta}],shaderSource:gt})},ot=(nt,et)=>{if(!nt)throw new Error("Input is missing");if(et.isOptionalC&&(nt.length<2||nt.length>3))throw new Error("Invaid input shape.");if(!et.isOptionalC&&nt.length!==3)throw new Error("Gemm requires 3 inputs");if(nt.length===3&&nt[2].dims.length!==1&&nt[2].dims.length!==2)throw new Error("Invalid input shape of C");if(nt[0].type!=="float32"&&nt[0].type!=="float64"||nt[1].type!=="float32"&&nt[1].type!=="float64"||nt.length===3&&nt[2].type!=="float32"&&nt[2].type!=="float64")throw new Error("Invalid input type.");if(nt[0].type!==nt[1].type||nt.length===3&&nt[0].type!==nt[2].type)throw new Error("Input types are mismatched")}},5950:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedIm2ColProgramInfoLoader=void 0;const h=s(6757),b=s(5639),_e=s(5614);e.createPackedIm2ColProgramInfoLoader=(rt,at,st,ot,nt)=>{const et=(d=nt.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[b.TextureType.packed],cacheHint:d});var d;return Object.assign(Object.assign({},et),{get:()=>((_,tt,lt,ut,ct,ft)=>{const dt=lt.dims,ht=ut.dims,gt=ct.length,yt=[ht[1]*ht[2]*ht[3],ct[2]*ct[3]],vt=ht[2]*ht[3],mt=(0,_e.unpackFromChannel)(),bt=(0,h.getGlsl)(_.session.backend.glContext.version);let $t="";for(let Pt=0;Pt<=1;Pt++)for(let _t=0;_t<=1;_t++)$t+=`
            blockIndex = rc.x + ${_t};
            pos = rc.y + ${Pt};

            if(blockIndex < ${yt[1]} && pos < ${yt[0]}) {
              offsetY = int(blockIndex / (${ct[gt-1]})) * ${ft.strides[0]} -
                ${ft.pads[0]};
              d0 = offsetY + ${ft.dilations[0]} * (imod(pos, ${vt}) / ${ht[2]});

              if(d0 < ${dt[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${ct[gt-1]}) * ${ft.strides[1]} -
                  ${ft.pads[1]};
                d1 = offsetX + ${ft.dilations[1]} * imod(imod(pos, ${vt}), ${ht[2]});

                if(d1 < ${dt[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${vt}.);
                    innerDims = vec2(d0, d1);
                    result[${2*Pt+_t}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const St=`
      ${mt}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${$t}
          ${bt.output} = result;
      }
            `;return Object.assign(Object.assign({},tt),{output:{dims:yt,type:lt.type,textureType:b.TextureType.packed},shaderSource:St,hasMain:!0})})(rt,et,at,st,ot,nt)})}},1625:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.calculateIm2ColDims=e.createIm2ColProgramInfoLoader=void 0;const h=s(5639);e.createIm2ColProgramInfoLoader=(b,_e,rt,at,st)=>{const ot=(nt=st.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[h.TextureType.unpacked],cacheHint:nt});var nt;return Object.assign(Object.assign({},ot),{get:()=>((et,d,_,tt,lt,ut)=>{const ct=_.dims,ft=tt.dims,dt=lt.length,ht=(0,e.calculateIm2ColDims)(ct,ft,lt,4),gt=`
        const int XC = ${ct[1]};
        const int XH = ${ct[2]};
        const int XW = ${ct[3]};
        const int KH = ${ut.kernelShape[0]};
        const int KW = ${ut.kernelShape[1]};
        const int dilationH = ${ut.dilations[0]};
        const int dilationW = ${ut.dilations[1]};
        const int strideH = ${ut.strides[0]};
        const int strideW = ${ut.strides[1]};
        const int padH = ${ut.pads[0]};
        const int padW = ${ut.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${dt}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${ct.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},d),{output:{dims:ht,type:_.type,textureType:h.TextureType.packedLastDimension},shaderSource:gt})})(0,ot,_e,rt,at,st)})},e.calculateIm2ColDims=(b,_e,rt,at=4)=>[rt[0],rt[2],rt[3],Math.ceil(b[1]*_e[2]*_e[3]/at)]},6981:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseImageScalerAttributes=e.imageScaler=void 0;const h=s(4910),b=s(5639);e.imageScaler=(ot,nt,et)=>(st(nt),[ot.run(rt(ot,nt,et),nt)]),e.parseImageScalerAttributes=ot=>{const nt=ot.attributes.getFloat("scale"),et=ot.attributes.getFloats("bias");return(0,h.createAttributeWithCacheKey)({scale:nt,bias:et})};const _e={name:"ImageScaler",inputNames:["X"],inputTypes:[b.TextureType.unpacked]},rt=(ot,nt,et)=>{const d=Object.assign(Object.assign({},_e),{cacheHint:et.cacheKey});return Object.assign(Object.assign({},d),{get:()=>((_,tt,lt,ut)=>{const ct=lt[0].dims.slice(),ft=ct.length,dt=`
      ${at(ut.bias.length)}
      float process(int indices[${ft}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},tt),{output:{dims:ct,type:lt[0].type,textureType:b.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:ut.bias.length,data:ut.bias},{name:"scale",type:"float",data:ut.scale}],shaderSource:dt})})(0,d,nt,et)})},at=ot=>{const nt=[`float getBias(float bias[${ot}], int channel) {`];for(let et=0;et<ot;++et)et===0?nt.push(`	if (channel == ${et}) { return bias[${et}]; }`):et===ot-1?nt.push(`	else { return bias[${et}]; }`):nt.push(`	else if (channel == ${et}) { return bias[${et}]; }`);return nt.push("	}"),nt.join(`
`)},st=ot=>{if(!ot||ot.length!==1)throw new Error("ImageScaler requires 1 input.");if(ot[0].dims.length!==4)throw new Error("Invalid input shape.");if(ot[0].type!=="float32"&&ot[0].type!=="float64")throw new Error("Invalid input type.")}},7413:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseInstanceNormalizationAttributes=e.instanceNormalization=void 0;const h=s(6757),b=s(5639);e.instanceNormalization=(nt,et,d)=>{ot(et);const _=nt.run(rt(et[0]),et);return[nt.run(st(nt,et[0],d,_.dims),[et[0],_,et[1],et[2]])]},e.parseInstanceNormalizationAttributes=nt=>nt.attributes.getFloat("epsilon",1e-5);const _e={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[b.TextureType.unpacked]},rt=nt=>Object.assign(Object.assign({},_e),{get:()=>((et,d)=>{const _=d.dims.slice(),tt=_[1],lt=_[2]*_[3],ut=[_[0],tt],ct=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${_[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${_[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${lt});
        temp = 0.0;
        for(int a2=0; a2<${_[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${_[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${lt});

        return v;
      }`;return Object.assign(Object.assign({},et),{output:{dims:ut,type:d.type,textureType:b.TextureType.packedLastDimension},shaderSource:ct})})(_e,nt)}),at={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[b.TextureType.unpacked,b.TextureType.packedLastDimension,b.TextureType.unpacked,b.TextureType.unpacked]},st=(nt,et,d,_)=>{const tt=Object.assign(Object.assign({},at),{cacheHint:`${d}`});return Object.assign(Object.assign({},tt),{get:()=>((lt,ut,ct,ft,dt)=>{const ht=(0,h.getGlsl)(lt.session.backend.glContext.version),[gt,yt]=lt.calculateTextureWidthAndHeight(dt,b.TextureType.packedLastDimension),[vt,mt]=[gt/4,yt],bt=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${vt}, ${mt});
        return ${ht.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},ut),{output:{dims:ct.dims,type:ct.type,textureType:b.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:ft}],shaderSource:bt})})(nt,tt,et,d,_)})},ot=nt=>{if(!nt||nt.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const et=nt[0],d=nt[1],_=nt[2];if(et.dims.length<3||d.dims.length!==1||_.dims.length!==1)throw new Error("Invalid input shape.");if(d.dims[0]!==et.dims[1]||_.dims[0]!==et.dims[1])throw new Error("Input shapes are mismatched.");if(et.type!=="float32"&&et.type!=="float64"||d.type!=="float32"&&d.type!=="float64"||_.type!=="float32"&&_.type!=="float64")throw new Error("Invalid input type.");if(nt[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},7006:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createLrnProgramInfoLoader=e.parseLrnAttributes=e.lrn=void 0;const h=s(4910),b=s(5639);e.lrn=(st,ot,nt)=>(at(ot),[st.run(rt(ot,nt),ot)]),e.parseLrnAttributes=st=>{const ot=st.attributes.getFloat("alpha",1e-4),nt=st.attributes.getFloat("beta",.75),et=st.attributes.getFloat("bias",1),d=st.attributes.getInt("size");return(0,h.createAttributeWithCacheKey)({alpha:ot,beta:nt,bias:et,size:d})};const _e={name:"LRN",inputNames:["X"],inputTypes:[b.TextureType.unpacked]};function rt(st,ot){return Object.assign(Object.assign({},_e),{cacheHint:ot.cacheKey,get:()=>function(nt,et){const d=nt[0].dims[1],_=nt[0].dims.length,tt=-Math.floor((et.size-1)/2),lt=Math.ceil((et.size-1)/2),ut=`float(${et.alpha}) / float(${et.size})`,ct=`
    float process(int indices[${_}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${tt}; i <= ${lt}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${d}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(float(${et.bias}) + ${ut} * square_sum, float(${et.beta}));
    }`;return Object.assign(Object.assign({},_e),{cacheHint:et.cacheKey,output:{dims:nt[0].dims,type:nt[0].type,textureType:b.TextureType.unpacked},shaderSource:ct})}(st,ot)})}e.createLrnProgramInfoLoader=rt;const at=st=>{if(!st||st.length!==1)throw new Error("LRN requires 1 input.");if(st[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(st[0].type!=="float32")throw new Error("input should be float type")}},5632:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedMatmulProgramInfoLoader=void 0;const h=s(7273),b=s(6757),_e=s(5639),rt=s(432),at=s(2150),st=s(8276);e.createPackedMatmulProgramInfoLoader=(ot,nt,et)=>{const d=(_=nt.length>2,tt=et.activationCacheKey,{name:"MatMul (packed)",inputNames:_?["A","B","Bias"]:["A","B"],inputTypes:_?[_e.TextureType.packed,_e.TextureType.packed,_e.TextureType.packed]:[_e.TextureType.packed,_e.TextureType.packed],cacheHint:tt});var _,tt;return Object.assign(Object.assign({},d),{get:()=>((lt,ut,ct,ft)=>{const dt=ct.length>2,ht=dt?"value += getBiasForMatmul();":"",gt=ct[0].dims,yt=ct[1].dims,vt=h.BroadcastUtil.calcShape(gt,yt,!0),mt=!h.ShapeUtil.areEqual(ct[0].dims,ct[1].dims);if(!vt)throw new Error("Can't use matmul on the given tensors");const bt=gt[gt.length-1],$t=Math.ceil(bt/2),St=gt.length,Pt=yt.length,_t=(0,b.getGlsl)(lt.session.backend.glContext.version),wt=(0,rt.getCoordsDataType)(vt.length),xt=vt.length,Tt=(0,rt.getGlChannels)(),{activationFunction:It,applyActivation:Ct}=(0,at.getActivationSnippet)(ft),Rt=dt?`${(0,st.getBiasForMatmul)(wt,Tt,ct[2].dims,vt,!0)}`:"",Ut=mt?`${function(Gt,Yt,er,nr){let Et=[],Ot=[];const At=er[0].dims,Nt=er[1].dims,Mt=At.length,Lt=Nt.length,Wt=nr.length,Xt=Wt-Mt,ar=Wt-Lt;Et=At.map(($r,wr)=>`coords.${Yt[wr+Xt]}`),Et[Mt-1]="i*2",Et.join(", "),Ot=Nt.map(($r,wr)=>`coords.${Yt[wr+ar]}`),Ot[Lt-2]="i*2",Ot.join(", ");const Ht=h.BroadcastUtil.getBroadcastDims(At,nr),sr=h.BroadcastUtil.getBroadcastDims(Nt,nr),dr=Ht.map($r=>`coords.${Yt[$r+Xt]} = 0;`).join(`
`),ir=sr.map($r=>`coords.${Yt[$r+ar]} = 0;`).join(`
`),Pr=`int lastDim = coords.${Yt[Wt-1]};
  coords.${Yt[Wt-1]} = coords.${Yt[Wt-2]};
  coords.${Yt[Wt-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${Gt} coords = getOutputCoords();
  ${Pr}
  ${dr}
  vec4 outputValue = getA(${Et});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${Gt} coords = getOutputCoords();
  ${Pr}
  ${ir}
  vec4 outputValue = getB(${Ot});
  return outputValue;
}`}(wt,Tt,ct,vt)}`:"",kt=mt?"getAAtOutCoordsMatmul(i)":`getA(${function(Gt,Yt){let er="";for(let nr=0;nr<Yt-2;nr++)er+=`rc.${Gt[nr]}, `;return er+=`rc.${Gt[Yt-2]}, i*2`,er}(Tt,St)})`,jt=mt?"getBAtOutCoordsMatmul(i)":`getB(${function(Gt,Yt){let er="";for(let nr=0;nr<Yt-2;nr++)er+=`rc.${Gt[nr]}, `;return er+=`i*2, rc.${Gt[Yt-1]}`,er}(Tt,Pt)})`,Vt=`
            ${Ut}
            ${Rt}
            ${It}
            void main() {
              ${mt?"":`${wt} rc =
          getOutputCoords(); int lastDim = rc.${Tt[xt-1]}; rc.${Tt[xt-1]} =
          rc.${Tt[xt-2]}; rc.${Tt[xt-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${$t}; i++) {
                vec4 a = ${kt};
                vec4 b = ${jt};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${ht}
              ${Ct}
              ${_t.output} = value;
            }`;return Object.assign(Object.assign({},ut),{output:{dims:vt,type:ct[0].type,textureType:_e.TextureType.packed},shaderSource:Vt,hasMain:!0})})(ot,d,nt,et)})}},8276:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getBiasForMatmul=e.createMatmulProgramInfoLoader=e.parseMatMulAttributes=e.matMul=void 0;const h=s(7273),b=s(5639),_e=s(432),rt=s(2150),at=s(5632);e.matMul=(d,_,tt)=>(nt(_),d.session.pack?[d.run((0,at.createPackedMatmulProgramInfoLoader)(d,_,tt),_)]:[d.run(ot(_,tt),_)]),e.parseMatMulAttributes=d=>(0,rt.parseInternalActivationAttributes)(d.attributes);const st=(d,_)=>({name:"MatMul",inputNames:d?["A","B","Bias"]:["A","B"],inputTypes:d?[b.TextureType.unpacked,b.TextureType.unpacked,b.TextureType.unpacked]:[b.TextureType.unpacked,b.TextureType.unpacked],cacheHint:_});function ot(d,_){const tt=st(d.length>2,_.activationCacheKey);return Object.assign(Object.assign({},tt),{get:()=>function(lt,ut,ct){const ft=ut[0].dims,dt=ut[1].dims,ht=h.BroadcastUtil.calcShape(ft,dt,!0);if(!ht)throw new Error("Can't use matmul on the given tensors");const gt=(0,_e.getCoordsDataType)(ht.length),yt=(0,_e.getGlChannels)(),{activationFunction:vt,applyActivation:mt}=(0,rt.getActivationSnippet)(ct),bt=ut.length>2,$t=bt?"value += getBiasForMatmul();":"",St=bt?`${et(gt,yt,ut[2].dims,ht,!1)}`:"",Pt=ht.length,_t=ft.length,wt=dt.length,xt=`
    ${vt}
    ${St}
    float process(int indices[${Pt}]) {
        int a[${_t}];
        int b[${wt}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${ft[ft.length-1]}; ++k) {
            a[${_t-1}] = k;
            b[${wt-2}] = k;
            value += _A(a) * _B(b);
        }
        ${$t}
        ${mt}
        return value;
    }`;return Object.assign(Object.assign({},lt),{output:{dims:ht,type:ut[0].type,textureType:b.TextureType.unpacked},shaderSource:xt})}(tt,d,_)})}e.createMatmulProgramInfoLoader=ot;const nt=d=>{if(!d||d.length!==2)throw new Error("MatMul requires 2 inputs.");if(d[0].dims[d[0].dims.length-1]!==d[1].dims[d[1].dims.length-2])throw new Error("shared dimension does not match.");if(d[0].type!=="float32"&&d[0].type!=="float64"||d[1].type!=="float32"&&d[1].type!=="float64")throw new Error("inputs should be float type");if(d[0].type!==d[1].type)throw new Error("inputs types should match")};function et(d,_,tt,lt,ut){let ct="";const ft=tt.length,dt=lt.length,ht=dt-ft;ct=dt<2&&ft>0?"coords":tt.map((vt,mt)=>`coords.${_[mt+ht]}`).join(", ");const gt=h.BroadcastUtil.getBroadcastDims(tt,lt).map(vt=>`coords.${_[vt+ht]} = 0;`).join(`
`);let yt="vec4(outputValue.xx, outputValue.yy)";return h.ShapeUtil.size(tt)===1&&(yt="vec4(outputValue.x)"),ut?`
vec4 getBiasForMatmul() {
  ${d} coords = getOutputCoords();
  ${gt}
  vec4 outputValue = getBias(${ct});
  return ${yt};
}`:`
float getBiasForMatmul() {
  ${d} coords = getOutputCoords();
  ${gt}
  return getBias(coords.x);
}`}e.getBiasForMatmul=et},9:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createPackProgramInfoLoader=void 0;const h=s(6757),b=s(5639),_e=s(432),rt=s(5614),at={name:"pack",inputNames:["A"],inputTypes:[b.TextureType.unpackedReversed]};e.createPackProgramInfoLoader=(st,ot)=>Object.assign(Object.assign({},at),{get:()=>((nt,et)=>{const d=(0,h.getGlsl)(nt.session.backend.glContext.version),_=et.dims,tt=_.length,lt=et.dims.length,ut=(0,_e.getCoordsDataType)(lt),ct=(0,rt.getChannels)("rc",lt),ft=(dt=lt,ht=ct,gt=_[_.length-2],yt=_[_.length-1],dt===0||dt===1?"":`
    int r = ${ht[dt-2]};
    int c = ${ht[dt-1]};
    int rp1 = ${ht[dt-2]} + 1;
    int cp1 = ${ht[dt-1]} + 1;
    bool rEdge = rp1 >= ${yt};
    bool cEdge = cp1 >= ${gt};
    `);var dt,ht,gt,yt;let vt;vt=tt===0?[1,1]:tt===1?[_[0],1]:[_[lt-1],_[lt-2]];const mt=function(St,Pt,_t){if(St===0)return"false";if(St===1)return`rc > ${Pt[0]}`;let wt="";for(let xt=St-2;xt<St;xt++)wt+=`${_t[xt]} >= ${Pt[xt-St+2]}`,xt<St-1&&(wt+="||");return wt}(lt,vt,ct),bt=function(St,Pt){const _t=St.length;if(_t===0)return"getA(), 0, 0, 0";if(_t===1)return`getA(rc),
            rc + 1 >= ${St[0]} ? 0. : getA(rc + 1),
            0, 0`;let wt="";if(_t>2)for(let xt=0;xt<_t-2;++xt)wt+=`${Pt[xt]},`;return`getA(${wt}r, c),
          rEdge ? 0. : getA(${wt}rp1, c),
          cEdge ? 0. : getA(${wt}r, cp1),
          rEdge || cEdge ? 0. : getA(${wt}rp1, cp1)`}(_,ct),$t=`
        void main() {
          ${ut} rc = getOutputCoords();

          if(${mt}) {
            ${d.output} = vec4(0);
          } else {
            ${ft}

            ${d.output} = vec4(${bt});
          }
        }
      `;return Object.assign(Object.assign({},at),{hasMain:!0,output:{dims:et.dims,type:et.type,textureType:b.TextureType.packed},shaderSource:$t})})(st,ot)})},5614:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.unpackFromChannel=e.getChannels=e.getVecChannels=void 0;const h=s(432);function b(_e,rt){return(0,h.getGlChannels)(rt).map(at=>`${_e}.${at}`)}e.getVecChannels=b,e.getChannels=function(_e,rt){return rt===1?[_e]:b(_e,rt)},e.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},5565:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parsePadAttributesV11=e.padV11=e.parsePadAttributesV2=e.padV2=void 0;const h=s(4910),b=s(7273),_e=s(6757),rt=s(5639),at={name:"Pad",inputNames:["A"],inputTypes:[rt.TextureType.unpacked]};e.padV2=(ut,ct,ft)=>(nt(ct),[ut.run(Object.assign(Object.assign({},at),{cacheHint:ft.cacheKey,get:()=>ot(ut,ct[0],ft)}),ct)]),e.parsePadAttributesV2=ut=>{const ct=ut.attributes.getString("mode","constant"),ft=ut.attributes.getFloat("value",0),dt=ut.attributes.getInts("pads");return(0,h.createAttributeWithCacheKey)({mode:ct,value:ft,pads:dt})},e.padV11=(ut,ct,ft)=>{et(ct);const dt=st(ut,ct,ft);return(0,e.padV2)(ut,[ct[0]],dt)},e.parsePadAttributesV11=ut=>ut.attributes.getString("mode","constant");const st=(ut,ct,ft)=>{if(!ut.session.isInitializer(ct[1].dataId)||ct.length>=3&&!ut.session.isInitializer(ct[2].dataId))throw new Error("dynamic pad attributes are not allowed");const dt=Array.from(ct[1].integerData),ht=ct.length>=3?ct[2].floatData[0]:0;return(0,h.createAttributeWithCacheKey)({mode:ft,pads:dt,value:ht})},ot=(ut,ct,ft)=>{const dt=b.ShapeUtil.padShape(ct.dims.slice(),ft.pads),ht=dt.length,gt=`
      ${d(ut,ct,ft)}
      float process(int[${ht}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[rt.TextureType.unpacked],output:{dims:dt,type:ct.type,textureType:rt.TextureType.unpacked},shaderSource:gt}},nt=ut=>{if(!ut||ut.length!==1)throw new Error("Pad requires 1 input");if(ut[0].type!=="float32"&&ut[0].type!=="float64")throw new Error("Invalid input type.")},et=ut=>{if(!ut||ut.length!==2&&ut.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(ut[1].type!=="int32")throw new Error("Invalid input type.");if(ut.length>=3&&ut[2].type==="string")throw new Error("Invalid input type.")},d=(ut,ct,ft)=>{const dt=(0,_e.getGlsl)(ut.session.backend.glContext.version),[ht,gt]=ut.calculateTextureWidthAndHeight(ct.dims,rt.TextureType.unpacked),yt=b.ShapeUtil.computeStrides(ct.dims);switch(ft.mode){case"constant":return _(dt,ct.dims,yt,ht,gt,ft.pads,ft.value);case"reflect":return tt(dt,ct.dims,yt,ht,gt,ft.pads);case"edge":return lt(dt,ct.dims,yt,ht,gt,ft.pads);default:throw new Error("Invalid mode")}},_=(ut,ct,ft,dt,ht,gt,yt)=>{const vt=ct.length;let mt="";for(let bt=vt-1;bt>=0;--bt)mt+=`
        k = m[${bt}] - ${gt[bt]};
        if (k < 0)  return constant;
        if (k >= ${ct[bt]}) return constant;
        offset += k * ${ft[bt]};
        `;return`
      float padA(int m[${vt}]) {
        const float constant = float(${yt});
        int offset = 0;
        int k = 0;
        ${mt}
        vec2 coords = offsetToCoords(offset, ${dt}, ${ht});
        float value = getColorAsFloat(${ut.texture2D}(A, coords));
        return value;
      }
      `},tt=(ut,ct,ft,dt,ht,gt)=>{const yt=ct.length;let vt="";for(let mt=yt-1;mt>=0;--mt)vt+=`
        k = m[${mt}] - ${gt[mt]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(ct[mt]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${ct[mt]}) { k = _2n_1 - k; }
        }
        offset += k * ${ft[mt]};
        `;return`
      float padA(int m[${yt}]) {
        int offset = 0;
        int k = 0;
        ${vt}
        vec2 coords = offsetToCoords(offset, ${dt}, ${ht});
        float value = getColorAsFloat(${ut.texture2D}(A, coords));
        return value;
      }
      `},lt=(ut,ct,ft,dt,ht,gt)=>{const yt=ct.length;let vt="";for(let mt=yt-1;mt>=0;--mt)vt+=`
        k = m[${mt}] - ${gt[mt]};
        if (k < 0)  k = 0;
        if (k >= ${ct[mt]}) k = ${ct[mt]-1};
        offset += k * ${ft[mt]};
      `;return`
      float padA(int m[${yt}]) {
        int offset = 0;
        int k = 0;
        ${vt}
        vec2 coords = offsetToCoords(offset, ${dt}, ${ht});
        float value = getColorAsFloat(${ut.texture2D}(A, coords));
        return value;
      }
      `}},2834:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.globalMaxPool=e.parseMaxPoolAttributes=e.maxPool=e.parseGlobalAveragePoolAttributes=e.globalAveragePool=e.parseAveragePoolAttributes=e.averagePool=void 0;const h=s(4910),b=s(7273),_e=s(5639);e.averagePool=(lt,ut,ct)=>{et(ut);const ft={name:"AveragePool",inputNames:["X"],inputTypes:[_e.TextureType.unpacked],cacheHint:ct.cacheKey};return[lt.run(Object.assign(Object.assign({},ft),{get:()=>rt(ut,ft,!1,ct)}),ut)]},e.parseAveragePoolAttributes=lt=>{const ut=lt.attributes.getString("auto_pad","NOTSET"),ct=lt.attributes.getInt("ceil_mode",0),ft=lt.attributes.getInt("count_include_pad",0)!==0,dt=lt.attributes.getInts("kernel_shape"),ht=lt.attributes.getInts("strides",[]),gt=lt.attributes.getInts("pads",[]);if(ct!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,h.createAttributeWithCacheKey)({autoPad:ut,ceilMode:ct,countIncludePad:ft,kernelShape:dt,strides:ht,pads:gt})};const rt=(lt,ut,ct,ft)=>{const[dt,ht]=st(lt,ft,ct),gt=b.ShapeUtil.size(dt.kernelShape);let yt="";dt.countIncludePad?yt+=`value /= float(${gt});`:yt+=`value /= float(${gt} - pad);`;const vt=`
        ${d(lt[0].dims,dt,"value += _X(x);",yt,"0.0")}
      `;return Object.assign(Object.assign({},ut),{output:{dims:ht,type:lt[0].type,textureType:_e.TextureType.unpacked},shaderSource:vt})};e.globalAveragePool=(lt,ut,ct)=>{et(ut);const ft={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[_e.TextureType.unpacked],cacheHint:`${ct.countIncludePad}`};return[lt.run(Object.assign(Object.assign({},ft),{get:()=>rt(ut,ft,!0,ct)}),ut)]},e.parseGlobalAveragePoolAttributes=lt=>{const ut=lt.attributes.getInt("count_include_pad",0)!==0;return(0,h.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:ut,kernelShape:[],strides:[],pads:[]})},e.maxPool=(lt,ut,ct)=>{et(ut);const ft={name:"MaxPool",inputNames:["X"],inputTypes:[_e.TextureType.unpacked],cacheHint:ct.cacheKey};return[lt.run(Object.assign(Object.assign({},ft),{get:()=>at(ut,ft,!1,ct)}),ut)]},e.parseMaxPoolAttributes=lt=>{const ut=lt.attributes.getString("auto_pad","NOTSET"),ct=lt.attributes.getInt("ceil_mode",0),ft=lt.attributes.getInts("kernel_shape"),dt=lt.attributes.getInts("strides",[]),ht=lt.attributes.getInts("pads",[]),gt=lt.attributes.getInt("storage_order",0),yt=lt.attributes.getInts("dilations",[]);if(gt!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(ct!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,h.createAttributeWithCacheKey)({autoPad:ut,ceilMode:ct,countIncludePad:!1,kernelShape:ft,strides:dt,pads:ht,storageOrder:gt,dilations:yt})};const at=(lt,ut,ct,ft)=>{const[dt,ht]=st(lt,ft,ct),gt=`
      ${d(lt[0].dims,dt,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},ut),{output:{dims:ht,type:lt[0].type,textureType:_e.TextureType.unpacked},shaderSource:gt})},st=(lt,ut,ct)=>{const ft=lt[0].dims.slice(),dt=Object.hasOwnProperty.call(ut,"dilations"),ht=ut.kernelShape.slice(),gt=ut.strides.slice(),yt=dt?ut.dilations.slice():[],vt=ut.pads.slice();b.PoolConvUtil.adjustPoolAttributes(ct,ft,ht,gt,yt,vt);const mt=b.PoolConvUtil.computePoolOutputShape(ct,ft,gt,yt,ht,vt,ut.autoPad),bt=Object.assign({},ut);return dt?Object.assign(bt,{kernelShape:ht,strides:gt,pads:vt,dilations:yt,cacheKey:ut.cacheKey}):Object.assign(bt,{kernelShape:ht,strides:gt,pads:vt,cacheKey:ut.cacheKey}),[bt,mt]},ot={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},nt={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[_e.TextureType.unpacked]};e.globalMaxPool=(lt,ut)=>(et(ut),[lt.run(Object.assign(Object.assign({},nt),{get:()=>at(ut,nt,!0,ot)}),ut)]);const et=lt=>{if(!lt||lt.length!==1)throw new Error("Pool ops requires 1 input.");if(lt[0].type!=="float32"&&lt[0].type!=="float64")throw new Error("Invalid input type.")},d=(lt,ut,ct,ft,dt)=>{const ht=lt.length;if(ut.kernelShape.length<=2){const gt=ut.kernelShape[ut.kernelShape.length-1],yt=ut.strides[ut.strides.length-1],vt=ut.pads[ut.pads.length/2-1],mt=ut.pads[ut.pads.length-1],bt=lt[ht-1];let $t="",St="",Pt="";if($t=vt+mt!==0?`
          for (int i = 0; i < ${gt}; i++) {
            x[${ht} - 1] = indices[${ht} - 1] * ${yt} - ${vt} + i;
            if (x[${ht} - 1] < 0 || x[${ht} - 1] >= ${bt}) {
              pad++;
              continue;
            }
            ${ct}
          }`:`
          for (int i = 0; i < ${gt}; i++) {
            x[${ht} - 1] = indices[${ht} - 1] * ${yt} - ${vt} + i;
            ${ct}
          }`,ut.kernelShape.length===2){const _t=ut.kernelShape[ut.kernelShape.length-2],wt=ut.strides[ut.strides.length-2],xt=ut.pads[ut.pads.length/2-2],Tt=ut.pads[ut.pads.length-2],It=lt[ht-2];St=xt+Tt!==0?`
            for (int j = 0; j < ${_t}; j++) {
              x[${ht} - 2] = indices[${ht} - 2] * ${wt} - ${xt} + j;
              if (x[${ht} - 2] < 0 || x[${ht} - 2] >= ${It}) {
                pad+= ${gt};
                continue;
              }
          `:`
            for (int j = 0; j < ${_t}; j++) {
              x[${ht} - 2] = indices[${ht} - 2] * ${wt} - ${xt} + j;
            `,Pt=`
          }
        `}return`
        float process(int indices[${ht}]) {
          int x[${ht}];
          copyVec(indices, x);

          float value = ${dt};
          int pad = 0;
          ${St}
          ${$t}
          ${Pt}
          ${ft}
          return value;
        }
      `}{const gt=b.ShapeUtil.size(ut.kernelShape),yt=b.ShapeUtil.computeStrides(ut.kernelShape),vt=yt.length,mt=ut.pads.length,bt=tt(vt),$t=_(lt,"inputDims"),St=_(ut.pads,"pads"),Pt=_(yt,"kernelStrides"),_t=_(ut.strides,"strides");let wt="";return wt=ut.pads.reduce((xt,Tt)=>xt+Tt)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${ct}
          }`:`
          }
          ${ct}
        `,`
        ${bt}
        float process(int indices[${ht}]) {
          int x[${ht}];
          copyVec(indices, x);
          int offset[${vt}];
          int pads[${mt}];
          int inputDims[${ht}];
          int kernelStrides[${vt}];
          int strides[${vt}];
          ${St}
          ${$t}
          ${_t}
          ${Pt}

          float value = ${dt};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${gt}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${ht} - ${vt}; j < ${ht}; j++) {
              x[j] = indices[j] * strides[j - ${ht} + ${vt}]
                + offset[j - ${ht} + ${vt}] - pads[j - 2];
              ${wt}
          }
          ${ft}

          return value;
        }
      `}},_=(lt,ut)=>{let ct="";for(let ft=0;ft<lt.length;ft++)ct+=`
      ${ut}[${ft}] = ${lt[ft]};
    `;return ct},tt=lt=>`
  void offsetToIndices(int offset, int[${lt}] strides, out int[${lt}] indices) {
    if (${lt} == 0) {
      return;
    }
    for (int i = 0; i < ${lt} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${lt} - 1] = offset;
  }`},1010:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reduceLogSumSquare=e.reduceLogSum=e.reduceProd=e.reduceMin=e.reduceMax=e.reduceMean=e.reduceSum=e.parseReduceAttributes=void 0;const h=s(4910),b=s(6145),_e=s(7273),rt=s(5639),at=(nt,et,d,_,tt)=>{ot(et);const lt={name:_,inputNames:["A"],inputTypes:[rt.TextureType.unpacked]};return[nt.run(Object.assign(Object.assign({},lt),{cacheHint:d.cacheKey,get:()=>st(nt,et,d,_,tt,lt)}),et)]};e.parseReduceAttributes=nt=>{const et=nt.attributes.getInts("axes",[]),d=nt.attributes.getInt("keepdims",1)===1;return(0,h.createAttributeWithCacheKey)({axes:et,keepDims:d})};const st=(nt,et,d,_,tt,lt)=>{const ut=[],ct=et[0].dims.length||1,ft=[],dt=_e.ShapeUtil.normalizeAxes(d.axes,et[0].dims.length),ht=tt(et,dt);let gt=ht[1];for(let vt=0;vt<et[0].dims.length;vt++)dt.indexOf(vt)>=0||dt.length===0?(d.keepDims&&ut.push(1),gt=`
          for(int j${vt} = 0; j${vt} < ${et[0].dims[vt]}; j${vt}++) {
            inputIdx[${vt}] = j${vt};
            ${gt}
          }`):(ft.push(`inputIdx[${vt}] = outputIdx[${ut.length}];`),ut.push(et[0].dims[vt]));const yt=`
      float process(int outputIdx[${ut.length||1}]) {
        float value;                 // final result
        int inputIdx[${ct}];      // addressing input data
        ${ft.join(`
`)}
        ${ht[0]}       // init ops for reduce max/min
        ${gt}
        ${ht[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},lt),{output:{dims:ut,type:et[0].type,textureType:rt.TextureType.unpacked},shaderSource:yt})},ot=nt=>{if(!nt||nt.length!==1)throw new Error("Reduce op requires 1 input.");if(b.NUMBER_TYPES.indexOf(nt[0].type)===-1)throw new Error("Invalid input type.")};e.reduceSum=(nt,et,d)=>at(nt,et,d,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),e.reduceMean=(nt,et,d)=>at(nt,et,d,"ReduceMean",(_,tt)=>{let lt=1;for(let ut=0;ut<_[0].dims.length;ut++)(tt.indexOf(ut)>=0||tt.length===0)&&(lt*=_[0].dims[ut]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${lt}.;`]}),e.reduceMax=(nt,et,d)=>at(nt,et,d,"ReduceMax",(_,tt)=>{const lt=[];for(let ut=0;ut<_[0].dims.length;ut++)(tt.indexOf(ut)>=0||tt.length===0)&&lt.push(`inputIdx[${ut}] = 0;`);return[`${lt.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),e.reduceMin=(nt,et,d)=>at(nt,et,d,"ReduceMin",(_,tt)=>{const lt=[];for(let ut=0;ut<_[0].dims.length;ut++)(tt.indexOf(ut)>=0||tt.length===0)&&lt.push(`inputIdx[${ut}] = 0;`);return[`${lt.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),e.reduceProd=(nt,et,d)=>at(nt,et,d,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),e.reduceLogSum=(nt,et,d)=>at(nt,et,d,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),e.reduceLogSumSquare=(nt,et,d)=>at(nt,et,d,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7379:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isReshapeCheap=e.processDims3D=e.createPackedReshape3DProgramInfoLoader=void 0;const h=s(7273),b=s(6757),_e=s(5639),rt=s(5614);e.createPackedReshape3DProgramInfoLoader=(at,st,ot)=>{const nt=(et=>({name:"Reshape (packed)",inputTypes:[_e.TextureType.packed],inputNames:["A"],cacheHint:`${et}`}))(ot);return Object.assign(Object.assign({},nt),{get:()=>((et,d,_,tt)=>{const lt=d.dims,ut=tt;let ct="";for(let ht=0;ht<4;ht++){let gt="";switch(ht){case 0:gt="outputCoords = rc;";break;case 1:gt="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:gt="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:gt="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}ct+=`
        ${gt}
        ${ht>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${ht}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${ht>0?"}":""}
      `}const ft=(0,b.getGlsl)(et.session.backend.glContext.version),dt=`
      ${function(ht){const gt=h.ShapeUtil.computeStrides(ht),yt=["b","r","c"],vt="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${gt.map((mt,bt)=>`int ${yt[bt]} = ${vt} / ${mt}; ${bt===gt.length-1?`int ${yt[bt+1]} = ${vt} - ${yt[bt]} * ${mt}`:`index -= ${yt[bt]} * ${mt}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(lt)}
      ${function(ht){const gt=h.ShapeUtil.computeStrides(ht);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${gt[0]} + coords.z * ${gt[1]} + coords.y;
  }
`}(ut)}
      ${(0,rt.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${ut[2]};
        int cols = ${ut[1]};

        ${ct}
        ${ft.output} = result;
      }
    `;return Object.assign(Object.assign({},_),{output:{dims:ut,type:d.type,textureType:_e.TextureType.packed},shaderSource:dt,hasMain:!0})})(at,st,nt,ot)})},e.processDims3D=function(at){if(at.length===0)return[1,1,1];let st=1;for(let ot=0;ot<at.length-2;++ot)st*=at[ot];return[st,at.length>1?at[at.length-2]:1,at[at.length-1]]},e.isReshapeCheap=function(at,st){let ot=!1;return ot=at.length===0||st.length===0||(at.length<2||st.length<2?at[at.length-1]===st[st.length-1]:at[at.length-1]===st[st.length-1]&&at[at.length-2]===st[st.length-2]),ot}},8126:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reshape=void 0;const h=s(7273);e.reshape=(b,_e)=>{const rt=h.ShapeUtil.calculateReshapedDims(_e[0].dims,_e[1].integerData);return b.session.pack?[b.reshapePacked(_e[0],rt)]:[b.reshapeUnpacked(_e[0],rt)]}},2801:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseResizeAttributesV11=e.parseResizeAttributesV10=e.resize=void 0;const h=s(6757),b=s(5639),_e=s(432),rt=s(5614),at=s(3980),st={name:"Resize",inputNames:["A"],inputTypes:[b.TextureType.packed]};e.resize=(_,tt,lt)=>((0,at.validateInputs)(tt,lt),[_.run(Object.assign(Object.assign({},st),{cacheHint:lt.cacheKey,get:()=>ot(_,tt,lt)}),tt)]),e.parseResizeAttributesV10=_=>(0,at.parseUpsampleAttributes)(_,10),e.parseResizeAttributesV11=_=>(0,at.parseUpsampleAttributes)(_,11);const ot=(_,tt,lt)=>{const ut=(0,h.getGlsl)(_.session.backend.glContext.version),[ct,ft]=nt(tt,lt);if(ct.every(wt=>wt===1)&&lt.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},st),{output:{dims:ft,type:tt[0].type,textureType:b.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${ut.texture2D}(X, TexCoords);
                    ${ut.output} = v;
                }`});const dt=ft.length;if(dt<2)throw new Error(`output dimension should be at least 2, but got ${dt}`);const ht=ft[dt-2],gt=ft[dt-1],yt=tt[0].dims;if(dt!==yt.length)throw new Error(`output dimension should match input ${yt.length}, but got ${dt}`);const vt=yt[dt-2],mt=yt[dt-1],bt=ct[dt-2],$t=ct[dt-1];let St="";if(lt.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${lt.mode}'`);switch(lt.coordinateTransformMode){case"asymmetric":St=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":St=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":St=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${gt}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${ht}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${gt}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${ht}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":St=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${gt}.0 - 1.0, ${ht}.0 - 1.0, ${gt}.0 - 1.0,
                            ${ht}.0 - 1.0);
                        vec4 original = vec4(${mt}.0 - 1.0, ${vt}.0 - 1.0, ${mt}.0 - 1.0,
                            ${vt}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${lt.coordinateTransformMode}'`)}const Pt=(0,_e.getCoordsDataType)(dt),_t=`
            const vec2 inputWH = vec2(${vt}.0, ${mt}.0);
            const vec4 scaleWHWH = vec4(float(${bt}), float(${$t}), float(${bt}), float(${$t}));
            ${(0,rt.unpackFromChannel)()}
            ${St}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${Pt} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${ht-1};
                bool hasNextCol = rc.z < ${gt-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${ut.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},st),{output:{dims:ft,type:tt[0].type,textureType:b.TextureType.packed},hasMain:!0,shaderSource:_t})},nt=(_,tt)=>{const lt=_[0].dims;let ut,ct=tt.scales;if(ct.length===0){const dt=_[tt.scalesInputIdx];if(dt&&dt.size!==0){if(_[tt.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");ct=et(dt,tt.mode,tt.isResize)}else{const ht=_[tt.sizesInputIdx];if(!ht||ht.size===0)throw new Error("Either scales or sizes MUST be provided as input.");ut=Array.from(ht.integerData),ct=d(ut,lt,tt.mode,tt.isResize)}}else if(_[tt.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const ft=ut||lt.map((dt,ht)=>Math.floor(dt*ct[ht]));return[ct,ft]},et=(_,tt,lt)=>{const ut=Array.from(_.floatData);return(0,at.scalesValidation)(ut,tt,lt),ut},d=(_,tt,lt,ut)=>{const ct=tt.length,ft=new Array(ct);for(let dt=0,ht=ct;dt<ht;dt++)if(tt[dt]===0){if(_[dt]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");ft[dt]=1}else ft[dt]=_[dt]/tt[dt];return(0,at.scalesValidation)(ft,lt,ut),ft}},565:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.shape=void 0;const h=s(9240);e.shape=(_e,rt)=>(b(rt),[new h.Tensor([rt[0].dims.length],"int32",void 0,void 0,new Int32Array(rt[0].dims))]);const b=_e=>{if(!_e||_e.length!==1)throw new Error("Shape requires 1 input.")}},2444:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sliceV10=e.parseSliceAttributes=e.slice=void 0;const h=s(4910),b=s(6145),_e=s(7273),rt=s(5639),at={name:"Slice",inputNames:["A"],inputTypes:[rt.TextureType.unpacked]};e.slice=(d,_,tt)=>(ot(_),[d.run(Object.assign(Object.assign({},at),{cacheHint:tt.cacheKey,get:()=>st(d,_[0],tt)}),_)]),e.parseSliceAttributes=d=>{const _=d.attributes.getInts("starts"),tt=d.attributes.getInts("ends"),lt=d.attributes.getInts("axes",[]);return(0,h.createAttributeWithCacheKey)({starts:_,ends:tt,axes:lt})};const st=(d,_,tt)=>{const lt=tt.axes.length===0?_.dims.slice(0).map((yt,vt)=>vt):tt.axes,ut=_e.ShapeUtil.normalizeAxes(lt,_.dims.length),ct=tt.starts.map((yt,vt)=>yt>_.dims[ut[vt]]-1?_.dims[ut[vt]]:_e.ShapeUtil.normalizeAxis(yt,_.dims[ut[vt]])),ft=tt.ends.map((yt,vt)=>yt>_.dims[ut[vt]]-1?_.dims[ut[vt]]:_e.ShapeUtil.normalizeAxis(yt,_.dims[ut[vt]])),dt=_.dims.slice(),ht=[];for(let yt=0;yt<ut.length;yt++)dt[ut[yt]]=ft[yt]-ct[yt],ct[yt]>0&&ht.push(`outputIdx[${ut[yt]}] += ${ct[yt]};`);const gt=`
      float process(int outputIdx[${dt.length}]) {
        ${ht.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},at),{output:{dims:dt,type:_.type,textureType:rt.TextureType.unpacked},shaderSource:gt})},ot=d=>{if(!d||d.length!==1)throw new Error("Slice requires 1 input.");if(b.NUMBER_TYPES.indexOf(d[0].type)===-1)throw new Error("Invalid input type.")};e.sliceV10=(d,_)=>{et(_);const tt=nt(d,_);return[d.run(Object.assign(Object.assign({},at),{cacheHint:tt.cacheKey,get:()=>st(d,_[0],tt)}),[_[0]])]};const nt=(d,_)=>{if(!d.session.isInitializer(_[1].dataId)||!d.session.isInitializer(_[2].dataId)||_.length>=4&&!d.session.isInitializer(_[3].dataId)||_.length>=5&&!d.session.isInitializer(_[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(_.length>=5&&_[4].integerData.some(ct=>ct!==1))throw new Error("currently non-1 steps is not supported for Slice");const tt=Array.from(_[1].integerData),lt=Array.from(_[2].integerData),ut=_.length>=4?Array.from(_[3].integerData):[];return{starts:tt,ends:lt,axes:ut,cacheKey:`${ut};${tt};${lt}`}},et=d=>{if(!d||d.length<3||d.length>5)throw new Error("Invalid input number.");if(d[1].type!=="int32"||d[1].dims.length!==1)throw new Error("Invalid input type.");if(d[2].type!=="int32"||d[2].dims.length!==1)throw new Error("Invalid input type.");if(d.length>=4&&(d[3].type!=="int32"||d[3].dims.length!==1))throw new Error("Invalid input type.");if(d.length>=5&&(d[4].type!=="int32"||d[4].dims.length!==1))throw new Error("Invalid input type.")}},815:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.softmaxV13=e.parseSoftmaxAttributesV13=e.parseSoftmaxAttributes=e.softmax=void 0;const h=s(4910),b=s(7273),_e=s(6757),rt=s(5639),at=s(5707),st={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[rt.TextureType.unpacked]},ot={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[rt.TextureType.unpacked,rt.TextureType.unpacked]},nt={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[rt.TextureType.unpacked,rt.TextureType.unpacked,rt.TextureType.unpacked]};e.softmax=(ut,ct,ft)=>{lt(ct);const dt=ct[0].dims.slice(),ht=b.ShapeUtil.normalizeAxis(ft.axis,dt.length),gt=b.ShapeUtil.sizeToDimension(dt,ht),yt=b.ShapeUtil.sizeFromDimension(dt,ht);return et(ut,ct,ft,gt,yt)},e.parseSoftmaxAttributes=ut=>(0,h.createAttributeWithCacheKey)({axis:ut.attributes.getInt("axis",1)}),e.parseSoftmaxAttributesV13=ut=>(0,h.createAttributeWithCacheKey)({axis:ut.attributes.getInt("axis",-1)}),e.softmaxV13=(ut,ct,ft)=>{lt(ct);const dt=ct[0].dims.slice(),ht=b.ShapeUtil.normalizeAxis(ft.axis,dt.length),gt=dt.length,yt=ht!==gt-1,vt=[];let mt,bt=[],$t=[];yt&&(bt=Array.from({length:gt}).map((wt,xt)=>xt),bt[ht]=gt-1,bt[gt-1]=ht,bt.map(wt=>vt.push(dt[wt])),mt=(0,h.createAttributeWithCacheKey)({perm:bt}),$t=(0,at.transpose)(ut,ct,mt));const St=yt?b.ShapeUtil.sizeToDimension(vt,gt-1):b.ShapeUtil.sizeToDimension(dt,gt-1),Pt=yt?b.ShapeUtil.sizeFromDimension(vt,gt-1):b.ShapeUtil.sizeFromDimension(dt,gt-1),_t=et(ut,yt?$t:ct,ft,St,Pt);return yt?(0,at.transpose)(ut,_t,mt):_t};const et=(ut,ct,ft,dt,ht)=>{const gt=d(ut,ct[0],dt,ht,[dt]),yt=ut.run(Object.assign(Object.assign({},st),{cacheHint:ft.cacheKey,get:()=>gt}),ct),vt=_(ut,ct[0],dt,ht,gt.output.dims,[dt]),mt=ut.run(Object.assign(Object.assign({},ot),{cacheHint:ft.cacheKey,get:()=>vt}),[ct[0],yt]),bt=tt(ut,ct[0],dt,ht,gt.output.dims,vt.output.dims);return[ut.run(Object.assign(Object.assign({},nt),{cacheHint:ft.cacheKey,get:()=>bt}),[ct[0],yt,mt])]},d=(ut,ct,ft,dt,ht)=>{const[gt,yt]=ut.calculateTextureWidthAndHeight(ct.dims,rt.TextureType.unpacked),vt=ht.length;if(ft<1||dt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ht.length!==1)throw new Error("Dimensionality of the output should be 1");if(ht[0]!==ft)throw new Error("Shape of the output should be equal to logical row count");const mt=(0,_e.getGlsl)(ut.session.backend.glContext.version),bt=`
      float process(int[${vt}] indices) {
        int logical_row_start_offset = indices[0] * ${dt};

        float max = getColorAsFloat(${mt.texture2D}(A, offsetToCoords(logical_row_start_offset, ${gt},
        ${yt} )));
        for(int i=1; i<${dt}; ++i)
        {
          float current = getColorAsFloat(${mt.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${gt}, ${yt})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},st),{output:{dims:ht,type:ct.type,textureType:rt.TextureType.unpacked},shaderSource:bt})},_=(ut,ct,ft,dt,ht,gt)=>{const[yt,vt]=ut.calculateTextureWidthAndHeight(ct.dims,rt.TextureType.unpacked),mt=gt.length;if(ft<1||dt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(gt.length!==1)throw new Error("Dimensionality of the output should be 1");if(gt[0]!==ft)throw new Error("Shape of the output should be equal to logical row count");if(ht.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(ht[0]!==ft)throw new Error("Shape of the intermediate results should be equal to logical row count");const bt=`
      float process(int[${mt}] indices) {
        int logical_row_start_offset = indices[0] * ${dt};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${dt}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,_e.getGlsl)(ut.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${yt}, ${vt}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},ot),{output:{dims:gt,type:ct.type,textureType:rt.TextureType.unpacked},shaderSource:bt})},tt=(ut,ct,ft,dt,ht,gt)=>{const[yt,vt]=ut.calculateTextureWidthAndHeight(ct.dims,rt.TextureType.unpacked),mt=ct.dims.length;if(ft<1||dt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ht.length!==1||gt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(ht[0]!==ft||gt[0]!==ft)throw new Error("Shape of the intermediate results should be equal to logical row count");const bt=`
      float process(int[${mt}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${yt}, ${vt});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${dt};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},nt),{output:{dims:ct.dims,type:ct.type,textureType:rt.TextureType.unpacked},shaderSource:bt})},lt=ut=>{if(!ut||ut.length!==1)throw new Error("Softmax requires 1 input.");if(ut[0].type!=="float32"&&ut[0].type!=="float64")throw new Error("Invalid input type")}},564:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseSplitAttributes=e.split=void 0;const h=s(4910),b=s(7273),_e=s(5639),rt={name:"Split",inputNames:["A"],inputTypes:[_e.TextureType.unpacked]};e.split=(nt,et,d)=>{ot(et);const _=b.ShapeUtil.normalizeAxis(d.axis,et[0].dims.length),tt=at(nt,et,_,d),lt=[];for(let ut=0;ut<tt;++ut)lt.push(nt.run(Object.assign(Object.assign({},rt),{cacheHint:`${d.cacheKey};${ut}`,get:()=>st(nt,et[0],d,_,ut)}),et));return lt},e.parseSplitAttributes=nt=>{const et=nt.attributes.getInt("axis",0),d=nt.attributes.getInts("split",[]),_=nt.outputs.length;return(0,h.createAttributeWithCacheKey)({axis:et,split:d,numOutputs:_})};const at=(nt,et,d,_)=>{const[,tt]=b.SplitUtil.splitShape(et[0].dims,d,_.split,_.numOutputs);return tt.length},st=(nt,et,d,_,tt)=>{const[lt,ut]=b.SplitUtil.splitShape(et.dims,_,d.split,d.numOutputs),ct=ut[tt],ft=lt[tt],dt=`
      float process(int indices[${ft.length}]) {
        indices[${_}] += ${ct};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},rt),{cacheHint:`${d.cacheKey}:${tt}`,output:{dims:ft,type:et.type,textureType:_e.TextureType.unpacked},shaderSource:dt})},ot=nt=>{if(!nt||nt.length!==1)throw new Error("Split requires one input.");if(nt[0].type!=="int8"&&nt[0].type!=="uint8"&&nt[0].type!=="int16"&&nt[0].type!=="uint16"&&nt[0].type!=="int32"&&nt[0].type!=="uint32"&&nt[0].type!=="float32"&&nt[0].type!=="float64"&&nt[0].type!=="bool")throw new Error("Invalid input type.")}},5416:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseSqueezeAttributes=e.squeezeV13=e.squeeze=void 0;const h=s(7273);e.squeeze=(rt,at,st)=>{b(at);const ot=h.ShapeUtil.squeezeShape(at[0].dims,st);return[rt.reshapeUnpacked(at[0],ot)]},e.squeezeV13=(rt,at)=>(_e(at),(0,e.squeeze)(rt,[at[0]],Array.from(at[1].integerData))),e.parseSqueezeAttributes=rt=>rt.attributes.getInts("axes");const b=rt=>{if(!rt||rt.length!==1)throw new Error("Squeeze requires 1 input.");if(rt[0].type==="string")throw new Error("invalid input tensor types.")},_e=rt=>{if(!rt||rt.length!==2)throw new Error("Squeeze requires 2 inputs.");if(rt[1].type!=="int32")throw new Error("Invalid input type.")}},1240:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sum=void 0;const h=s(6757),b=s(5639);e.sum=(at,st)=>{rt(st);const ot={name:"Sum",inputNames:st.map((nt,et)=>`X${et}`),inputTypes:new Array(st.length).fill(b.TextureType.unpacked)};return[at.run(Object.assign(Object.assign({},ot),{get:()=>_e(at,st,ot)}),st)]};const _e=(at,st,ot)=>{const nt=(0,h.getGlsl)(at.session.backend.glContext.version),et=st[0].dims.slice(),d=`
      void main() {
        vec4 result = ${st.map((_,tt)=>`${nt.texture2D}(X${tt},TexCoords)`).join(" + ")};
        ${nt.output} = result;
      }
    `;return Object.assign(Object.assign({},ot),{output:{dims:et,type:st[0].type,textureType:b.TextureType.unpacked},hasMain:!0,shaderSource:d})},rt=at=>{if(!at||at.length===0)throw new Error("Sum requires inputs.");const st=at[0].dims.length;for(let ot=1;ot<at.length;ot++){if(st!==at[ot].dims.length)throw new Error("Input shapes are mismatched.");for(let nt=0;nt<st;nt++)if(at[0].dims[nt]!==at[ot].dims[nt])throw new Error("Input shapes are not matched.")}if(at[0].type!=="float32"&&at[0].type!=="float64")throw new Error("Invalid input type.");for(let ot=1;ot<at.length;ot++)if(at[0].type!==at[ot].type)throw new Error("Input types are not matched.")}},5944:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tile=void 0;const h=s(6145),b=s(5639);e.tile=(at,st)=>{rt(st);const ot={name:"Tile",inputNames:["A"],inputTypes:[b.TextureType.unpacked]};return[at.run(Object.assign(Object.assign({},ot),{get:()=>_e(at,st,ot)}),st)]};const _e=(at,st,ot)=>{const nt=st[0].dims.slice(),et=new Array(nt.length),d=[];for(let lt=0;lt<nt.length;lt++)et[lt]=nt[lt]*st[1].numberData[lt],d.push(`inputIdx[${lt}] = int(mod(float(outputIdx[${lt}]), ${nt[lt]}.));`);const _=et.length,tt=`
      float process(int outputIdx[${_}]) {
        int inputIdx[${_}];
        ${d.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},ot),{output:{dims:et,type:st[0].type,textureType:b.TextureType.unpacked},shaderSource:tt})},rt=at=>{if(!at||at.length!==2)throw new Error("Tile requires 2 input.");if(at[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(at[1].dims[0]!==at[0].dims.length)throw new Error("Invalid input shape.");if(h.NUMBER_TYPES.indexOf(at[0].type)===-1)throw new Error("Invalid input type.");if(at[1].type!=="int32"&&at[1].type!=="int16")throw new Error("Invalid repeat type.")}},5707:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseTransposeAttributes=e.transpose=void 0;const h=s(4910),b=s(7273),_e=s(5639),rt={name:"Transpose",inputNames:["A"],inputTypes:[_e.TextureType.unpacked]};e.transpose=(d,_,tt)=>(et(_),[d.run(Object.assign(Object.assign({},rt),{cacheHint:tt.cacheKey,get:()=>at(d,_[0],tt.perm)}),_)]),e.parseTransposeAttributes=d=>(0,h.createAttributeWithCacheKey)({perm:d.attributes.getInts("perm",[])});const at=(d,_,tt)=>{const lt=_.dims;tt=st(lt,tt);const ut=ot(lt,tt),ct=lt.length,ft=`
      ${nt("perm",tt,ct)}
      float process(int indices[${ct}]) {
        int a[${ct}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},rt),{output:{dims:ut,type:_.type,textureType:_e.TextureType.unpacked},shaderSource:ft})},st=(d,_)=>(_&&_.length!==d.length&&(_=[...d.keys()].reverse()),_),ot=(d,_)=>(_=st(d,_),b.ShapeUtil.sortBasedOnPerm(d,_)),nt=(d,_,tt)=>{const lt=[];lt.push(`void ${d}(out int a[${tt}], int src[${tt}]) {`);for(let ut=0;ut<tt;++ut)lt.push(`	a[${_[ut]}]=src[${ut}];`);return lt.push("	}"),lt.join(`
`)},et=d=>{if(!d||d.length!==1)throw new Error("Transpose requires 1 input.");if(d[0].type!=="float32"&&d[0].type!=="float64")throw new Error("input should be float tensor")}},2488:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.encodeAsUint8=void 0;const h=s(6757),b=s(5639);e.encodeAsUint8=(_e,rt)=>{const at=rt.shape,st=(0,h.getGlsl)(_e.session.backend.glContext.version),ot=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${st.texture2D}(X,TexCoords).r;
      ${st.output} = encodeAsUint8(value);
    }`,nt={name:"Uint8Encode",inputTypes:[b.TextureType.unpacked],inputNames:["X"],output:{dims:at,type:rt.tensor.type,textureType:b.TextureType.downloadUint8AsFloat},shaderSource:ot,hasMain:!0};return _e.executeProgram(nt,[rt.tensor])}},9087:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tanh=e.tan=e.sqrt=e.sin=e.sigmoid=e.relu=e.not=e.neg=e.log=e.parseLeakyReluAttributes=e.leakyRelu=e.identity=e.floor=e.exp=e.parseEluAttributes=e.elu=e.cos=e.ceil=e.clipV11=e.parseClipAttributes=e.clip=e.atan=e.asin=e.acos=e.abs=e.glslTanh=e.glslTan=e.glslSqrt=e.glslSigmoid=e.glslRelu=e.glslSin=e.glslNot=e.glslNeg=e.glslLog=e.glslLeakyRelu=e.glslIdentity=e.glslClip=e.glslFloor=e.glslExp=e.glslElu=e.glslCos=e.glslCeil=e.glslAtan=e.glslAsin=e.glslAcos=e.glslAbs=void 0;const h=s(4910),b=s(7273),_e=s(1997),rt=s(6757),at=s(5639);function st(){return _t("abs")}function ot(){return _t("acos")}function nt(){return _t("asin")}function et(){return _t("atan")}function d(){return _t("ceil")}function _(){return _t("cos")}function tt(Tt){const It="elu";return{body:`
  const float alpha = float(${Tt});

  float ${It}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${It}_(vec4 v) {
    return vec4(${It}_(v.x), ${It}_(v.y), ${It}_(v.z), ${It}_(v.w));
  }
  `,name:It,type:_e.FunctionType.ValueBased}}function lt(){return _t("exp")}function ut(){return _t("floor")}function ct(Tt,It){const Ct="clip";return{body:`
  const float min = float(${Tt});
  const float max = float(${It});

  float ${Ct}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${Ct}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:Ct,type:_e.FunctionType.ValueBased}}function ft(){const Tt="indentity";return{body:`
  float ${Tt}_(float a) {
    return a;
  }
  vec4 ${Tt}_(vec4 v) {
    return v;
  }
  `,name:Tt,type:_e.FunctionType.ValueBased}}function dt(Tt){const It="leakyRelu";return{body:`
  const float alpha = float(${Tt});

  float ${It}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${It}_(vec4 v) {
    return vec4(${It}_(v.x), ${It}_(v.y), ${It}_(v.z), ${It}_(v.w));
  }
  `,name:It,type:_e.FunctionType.ValueBased}}function ht(){return _t("log")}function gt(){const Tt="neg";return{body:`
  float ${Tt}_(float a) {
    return -a;
  }
  vec4 ${Tt}_(vec4 v) {
    return -v;
  }
  `,name:Tt,type:_e.FunctionType.ValueBased}}function yt(){const Tt="not";return{body:`
  float ${Tt}_(float a) {
    return float( ! bool(a) );
  }
  bool ${Tt}_(bool a) {
    return !a;
  }
  vec4 ${Tt}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${Tt}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:Tt,type:_e.FunctionType.ValueBased}}function vt(){return _t("sin")}function mt(){const Tt="relu";return{body:`
  float ${Tt}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${Tt}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:Tt,type:_e.FunctionType.ValueBased}}function bt(){const Tt="sigmoid";return{body:`
  float ${Tt}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${Tt}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:Tt,type:_e.FunctionType.ValueBased}}function $t(){return _t("sqrt")}function St(){return _t("tan")}function Pt(){const Tt="tanh";return{body:`
  float ${Tt}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${Tt}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:Tt,type:_e.FunctionType.ValueBased}}function _t(Tt){return{body:`
  float ${Tt}_(float a) {
    return ${Tt}(a);
  }
  vec4 ${Tt}_(vec4 v) {
    return ${Tt}(v);
  }
  `,name:Tt,type:_e.FunctionType.ValueBased}}e.glslAbs=st,e.glslAcos=ot,e.glslAsin=nt,e.glslAtan=et,e.glslCeil=d,e.glslCos=_,e.glslElu=tt,e.glslExp=lt,e.glslFloor=ut,e.glslClip=ct,e.glslIdentity=ft,e.glslLeakyRelu=dt,e.glslLog=ht,e.glslNeg=gt,e.glslNot=yt,e.glslSin=vt,e.glslRelu=mt,e.glslSigmoid=bt,e.glslSqrt=$t,e.glslTan=St,e.glslTanh=Pt;const wt=(Tt,It,Ct,Rt)=>{const Ut=Tt.session.pack?at.TextureType.packed:at.TextureType.unpacked,kt={name:Ct.name,inputTypes:[Ut],inputNames:["A"],cacheHint:Rt};return Object.assign(Object.assign({},kt),{get:()=>((jt,Vt,Gt,Yt)=>{const er=jt.session.pack?at.TextureType.packed:at.TextureType.unpacked,nr=(0,rt.getGlsl)(jt.session.backend.glContext.version);return Object.assign(Object.assign({},Vt),{output:{dims:Gt.dims,type:Gt.type,textureType:er},shaderSource:`
     ${Yt.body}
     void main() {
       vec4 v = ${nr.texture2D}(A, TexCoords);
       v = ${Yt.name}_(v);
       ${nr.output} = v;
     }
     `,hasMain:!0})})(Tt,kt,It,Ct)})};e.abs=(Tt,It)=>[Tt.run(wt(Tt,It[0],st()),It)],e.acos=(Tt,It)=>[Tt.run(wt(Tt,It[0],ot()),It)],e.asin=(Tt,It)=>[Tt.run(wt(Tt,It[0],nt()),It)],e.atan=(Tt,It)=>[Tt.run(wt(Tt,It[0],et()),It)],e.clip=(Tt,It,Ct)=>[Tt.run(wt(Tt,It[0],ct(Ct.min,Ct.max),Ct.cacheKey),It)],e.parseClipAttributes=Tt=>(0,h.createAttributeWithCacheKey)({min:Tt.attributes.getFloat("min",b.MIN_CLIP),max:Tt.attributes.getFloat("max",b.MAX_CLIP)}),e.clipV11=(Tt,It)=>{const Ct=xt(Tt,It);return(0,e.clip)(Tt,[It[0]],Ct)};const xt=(Tt,It)=>{if(It.length>=3&&(!Tt.session.isInitializer(It[1].dataId)||!Tt.session.isInitializer(It[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const Ct=It.length>=3?It[1].numberData[0]:b.MIN_CLIP,Rt=It.length>=3?It[2].numberData[0]:b.MAX_CLIP;return(0,h.createAttributeWithCacheKey)({min:Ct,max:Rt})};e.ceil=(Tt,It)=>[Tt.run(wt(Tt,It[0],d()),It)],e.cos=(Tt,It)=>[Tt.run(wt(Tt,It[0],_()),It)],e.elu=(Tt,It,Ct)=>[Tt.run(wt(Tt,It[0],tt(Ct.alpha),Ct.cacheKey),It)],e.parseEluAttributes=Tt=>(0,h.createAttributeWithCacheKey)({alpha:Tt.attributes.getFloat("alpha",1)}),e.exp=(Tt,It)=>[Tt.run(wt(Tt,It[0],lt()),It)],e.floor=(Tt,It)=>[Tt.run(wt(Tt,It[0],ut()),It)],e.identity=(Tt,It)=>[Tt.run(wt(Tt,It[0],ft()),It)],e.leakyRelu=(Tt,It,Ct)=>[Tt.run(wt(Tt,It[0],dt(Ct.alpha),Ct.cacheKey),It)],e.parseLeakyReluAttributes=Tt=>(0,h.createAttributeWithCacheKey)({alpha:Tt.attributes.getFloat("alpha",.01)}),e.log=(Tt,It)=>[Tt.run(wt(Tt,It[0],ht()),It)],e.neg=(Tt,It)=>[Tt.run(wt(Tt,It[0],gt()),It)],e.not=(Tt,It)=>[Tt.run(wt(Tt,It[0],yt()),It)],e.relu=(Tt,It)=>[Tt.run(wt(Tt,It[0],mt()),It)],e.sigmoid=(Tt,It)=>[Tt.run(wt(Tt,It[0],bt()),It)],e.sin=(Tt,It)=>[Tt.run(wt(Tt,It[0],vt()),It)],e.sqrt=(Tt,It)=>[Tt.run(wt(Tt,It[0],$t()),It)],e.tan=(Tt,It)=>[Tt.run(wt(Tt,It[0],St()),It)],e.tanh=(Tt,It)=>[Tt.run(wt(Tt,It[0],Pt()),It)]},540:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createUnpackProgramInfoLoader=e.createUnpackProgramInfo=void 0;const h=s(6757),b=s(5639),_e=s(432),rt=s(5614),at={name:"unpack",inputNames:["A"],inputTypes:[b.TextureType.packed]};e.createUnpackProgramInfo=(st,ot)=>{const nt=ot.dims.length,et=(0,rt.getChannels)("rc",nt),d=et.slice(-2),_=(0,_e.getCoordsDataType)(nt),tt=(0,rt.unpackFromChannel)(),lt=ot.dims.length===0?"":function(ft,dt){if(ft===1)return"rc";let ht="";for(let gt=0;gt<ft;gt++)ht+=dt[gt],gt<ft-1&&(ht+=",");return ht}(nt,et),ut=nt<=1?"rc":`vec2(${d.join(",")})`,ct=`
    ${tt}
    void main() {
      ${_} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${lt});

       ${(0,h.getGlsl)(st.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${ut}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},at),{hasMain:!0,output:{dims:ot.dims,type:ot.type,textureType:b.TextureType.unpacked},shaderSource:ct})},e.createUnpackProgramInfoLoader=(st,ot)=>Object.assign(Object.assign({},at),{get:()=>(0,e.createUnpackProgramInfo)(st,ot)})},7862:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseUnsqueezeAttributes=e.unsqueezeV13=e.unsqueeze=void 0;const h=s(7273);e.unsqueeze=(rt,at,st)=>{b(at);const ot=h.ShapeUtil.unsqueezeShape(at[0].dims,st);return[rt.reshapeUnpacked(at[0],ot)]},e.unsqueezeV13=(rt,at)=>(_e(at),(0,e.unsqueeze)(rt,[at[0]],Array.from(at[1].integerData))),e.parseUnsqueezeAttributes=rt=>rt.attributes.getInts("axes");const b=rt=>{if(!rt||rt.length!==1)throw new Error("Unsqueeze requires 1 input.");if(rt[0].type==="string")throw new Error("invalid input tensor types.")},_e=rt=>{if(!rt||rt.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(rt[1].type!=="int32")throw new Error("Invalid input type.")}},3980:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scalesValidation=e.validateInputs=e.parseUpsampleAttributes=e.parseUpsampleAttributesV9=e.parseUpsampleAttributesV7=e.upsample=void 0;const h=s(4910),b=s(6757),_e=s(5639),rt={name:"Upsample",inputNames:["X"],inputTypes:[_e.TextureType.unpacked]};e.upsample=(st,ot,nt)=>((0,e.validateInputs)(ot,nt),[st.run(Object.assign(Object.assign({},rt),{cacheHint:nt.cacheKey,get:()=>at(st,ot,nt)}),ot)]),e.parseUpsampleAttributesV7=st=>(0,e.parseUpsampleAttributes)(st,7),e.parseUpsampleAttributesV9=st=>(0,e.parseUpsampleAttributes)(st,9),e.parseUpsampleAttributes=(st,ot)=>{const nt=ot>=10,et=st.attributes.getString("mode","nearest");if(et!=="nearest"&&et!=="linear"&&(ot<11||et!=="cubic"))throw new Error(`unrecognized mode: ${et}`);let d=[];ot<9&&(d=st.attributes.getFloats("scales"),(0,e.scalesValidation)(d,et,nt));const _=st.attributes.getFloat("extrapolation_value",0),tt=ot>10?st.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(tt)===-1)throw new Error(`coordinate_transform_mode '${tt}' is not supported`);const lt=tt==="tf_crop_and_resize",ut=lt,ct=et==="nearest"&&ot>=11?st.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(ct)===-1)throw new Error(`nearest_mode '${ct}' is not supported`);const ft=st.attributes.getFloat("cubic_coeff_a",-.75),dt=st.attributes.getInt("exclude_outside",0)!==0;if(dt&&et!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const ht=ot<11||et==="nearest"&&tt==="asymmetric"&&ct==="floor";let gt=0,yt=0,vt=0;return ot>10?st.inputs.length>2?(gt=1,yt=2,vt=3):(yt=1,vt=2):ot===9&&(yt=1),(0,h.createAttributeWithCacheKey)({opset:ot,isResize:nt,mode:et,scales:d,extrapolationValue:_,coordinateTransformMode:tt,useExtrapolation:ut,needRoiInput:lt,nearestMode:ct,cubicCoefficientA:ft,excludeOutside:dt,useNearest2xOptimization:ht,roiInputIdx:gt,scalesInputIdx:yt,sizesInputIdx:vt})};const at=(st,ot,nt)=>{const et=(0,b.getGlsl)(st.session.backend.glContext.version),[d,_]=st.calculateTextureWidthAndHeight(ot[0].dims,_e.TextureType.unpacked),tt=ot[0].dims.map((vt,mt)=>Math.floor(vt*nt.scales[mt])),[lt,ut]=st.calculateTextureWidthAndHeight(tt,_e.TextureType.unpacked),ct=tt.length,ft=new Array(ct),dt=new Array(ct);let ht=`
      int output_pitches[${ct}];
      int input_pitches[${ct}];
      `;for(let vt=ct-1;vt>=0;vt--)ft[vt]=vt===ct-1?1:ft[vt+1]*tt[vt+1],dt[vt]=vt===ct-1?1:dt[vt+1]*ot[0].dims[vt+1],ht+=`
        output_pitches[${vt}] = ${ft[vt]};
        input_pitches[${vt}] = ${dt[vt]};
        `;const gt=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${d}, ${_});
        float value = getColorAsFloat(${et.texture2D}(X, coords));
        return value;
      }
      `,yt=nt.mode==="nearest"?`
    ${gt}
    float process(int indices[${ct}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${lt}, ${ut});

      ${ht}

      int d, m;
      for (int dim = 0; dim < ${ct}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:ct===4?`
    ${gt}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${lt}, ${ut});

      ${ht}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${ot[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${gt}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${lt}, ${ut});

      ${ht}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${ot[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},rt),{output:{dims:tt,type:ot[0].type,textureType:_e.TextureType.unpacked},shaderSource:yt,variables:[{name:"scales",type:"int",arrayLength:nt.scales.length,data:nt.scales.map(vt=>Math.ceil(vt))}]})};e.validateInputs=(st,ot)=>{if(!st||ot.opset<9&&st.length!==1||ot.opset>=9&&ot.opset<11&&st.length!==2||ot.opset>=11&&st.length<2)throw new Error("invalid inputs.");if(ot.scales.length>0&&st[0].dims.length!==ot.scales.length)throw new Error("Invalid input shape.");if(st[0].type==="string")throw new Error("Invalid input tensor types.")},e.scalesValidation=(st,ot,nt)=>{if(nt){for(const et of st)if(et<=0)throw new Error("Scale value should be greater than 0.")}else for(const et of st)if(et<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(ot!=="linear"&&ot!=="cubic"||st.length===2||st.length===4&&st[0]===1&&st[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${nt?"Resize":"Upsample"} opeartor.`)}},2757:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProgramManager=void 0;const h=s(2235),b=s(1315),_e=s(8897),rt=s(6757);e.ProgramManager=class{constructor(at,st,ot){this.profiler=at,this.glContext=st,this.textureLayoutStrategy=ot,this.repo=new Map,this.attributesBound=!1}getArtifact(at){return this.repo.get(at)}setArtifact(at,st){this.repo.set(at,st)}run(at,st,ot){var nt;this.profiler.event("op",`ProgramManager.run ${(nt=at.programInfo.name)!==null&&nt!==void 0?nt:"unknown kernel"}`,()=>{var et;const d=this.glContext.gl,_=at.program;d.useProgram(_);try{this.bindOutput(ot),this.attributesBound||this.bindAttributes(at.attribLocations),this.bindUniforms(at.uniformLocations,(et=at.programInfo.variables)!==null&&et!==void 0?et:[],st)}catch(tt){throw b.Logger.error("ProgramManager",at.programInfo.shaderSource),tt}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(at=>this.glContext.deleteProgram(at.program))}build(at,st,ot){return this.profiler.event("backend","ProgramManager.build",()=>{const nt=new _e.GlslPreprocessor(this.glContext,at,st,ot),et=nt.preprocess(),d=this.compile(et);return{programInfo:at,program:d,uniformLocations:this.getUniformLocations(d,nt.context.programInfo.inputNames,nt.context.programInfo.variables),attribLocations:this.getAttribLocations(d)}})}compile(at){if(!this.vertexShader){b.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const nt=(0,rt.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(nt,this.glContext.gl.VERTEX_SHADER)}h.env.debug&&b.Logger.verbose("ProrgramManager",`FragShader:
${at}
`);const st=this.glContext.compileShader(at,this.glContext.gl.FRAGMENT_SHADER),ot=this.glContext.createProgram(this.vertexShader,st);return this.glContext.deleteShader(st),ot}bindOutput(at){const st=at.width,ot=at.height;b.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${st}/${ot}, shape=${at.shape}, type=${at.tensor.type}`),this.glContext.attachFramebuffer(at.texture,st,ot)}bindAttributes(at){const st=at.position,ot=at.textureCoord;this.glContext.setVertexAttributes(st,ot),this.attributesBound=!0}bindUniforms(at,st,ot){var nt;const et=this.glContext.gl;let d=0;for(const{name:_,type:tt,location:lt,arrayLength:ut}of at){const ct=(nt=st.find(ft=>ft.name===_))===null||nt===void 0?void 0:nt.data;if(tt!=="sampler2D"&&!ct)throw new Error(`variable '${_}' does not have data defined in program info`);switch(tt){case"sampler2D":this.bindTexture(ot[d],lt,d),d++;break;case"float":ut?et.uniform1fv(lt,ct):et.uniform1f(lt,ct);break;case"int":ut?et.uniform1iv(lt,ct):et.uniform1i(lt,ct);break;default:throw new Error(`Uniform not implemented: ${tt}`)}}}bindTexture(at,st,ot){this.glContext.bindTextureToUniform(at.texture,ot,st)}getAttribLocations(at){return{position:this.getAttribLocation(at,"position"),textureCoord:this.getAttribLocation(at,"textureCoord")}}getUniformLocations(at,st,ot){const nt=[];if(st)for(const et of st)nt.push({name:et,type:"sampler2D",location:this.getUniformLocation(at,et)});if(ot)for(const et of ot)nt.push(Object.assign(Object.assign({},et),{location:this.getUniformLocation(at,et.name)}));return nt}getUniformLocation(at,st){const ot=this.glContext.gl.getUniformLocation(at,st);if(ot===null)throw new Error(`Uniform ${st} not found.`);return ot}getAttribLocation(at,st){return this.glContext.gl.getAttribLocation(at,st)}}},2171:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLSessionHandler=void 0;const h=s(1315),b=s(5881),_e=s(7860),rt=s(4110),at=s(2757),st=s(7618),ot=s(5243);e.WebGLSessionHandler=class{constructor(nt,et){this.backend=nt,this.context=et,this.layoutStrategy=new st.PreferLogicalStrategy(nt.glContext.maxTextureSize),this.programManager=new at.ProgramManager(this.context.profiler,nt.glContext,this.layoutStrategy),this.textureManager=new ot.TextureManager(nt.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:nt.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=nt.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new _e.WebGLInferenceHandler(this)}onGraphInitialized(nt){const et=nt.getValues().filter(d=>d.from===-1&&d.tensor).map(d=>d.tensor.dataId);this.initializers=new Set(et)}isInitializer(nt){return!!this.initializers&&this.initializers.has(nt)}addInitializer(nt){this.initializers.add(nt)}getTextureData(nt,et){return et?this.packedTextureDataCache.get(nt):this.unpackedTextureDataCache.get(nt)}setTextureData(nt,et,d=!1){h.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),d?this.packedTextureDataCache.set(nt,et):this.unpackedTextureDataCache.set(nt,et)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(nt=>this.textureManager.releaseTexture(nt,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(nt=>this.textureManager.releaseTexture(nt,!0)),this.unpackedTextureDataCache=new Map}resolve(nt,et,d){const _=(0,b.resolveOperator)(nt,et,rt.WEBGL_OP_RESOLVE_RULES);return{impl:_.opImpl,context:_.opInit?_.opInit(nt,d):nt}}}},9622:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Uint8DataEncoder=e.RGBAFloatDataEncoder=e.RedFloat32DataEncoder=void 0;const h=s(1315);e.RedFloat32DataEncoder=class{constructor(b,_e=1){if(_e===1)this.internalFormat=b.R32F,this.format=b.RED,this.textureType=b.FLOAT,this.channelSize=_e;else{if(_e!==4)throw new Error(`Invalid number of channels: ${_e}`);this.internalFormat=b.RGBA32F,this.format=b.RGBA,this.textureType=b.FLOAT,this.channelSize=_e}}encode(b,_e){let rt,at;return b.constructor!==Float32Array&&(h.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),at=new Float32Array(b)),_e*this.channelSize>b.length?(h.Logger.warning("Encoder","Source data too small. Allocating larger array"),at=b,rt=this.allocate(_e*this.channelSize),at.forEach((st,ot)=>rt[ot]=st)):(at=b,rt=at),rt}allocate(b){return new Float32Array(4*b)}decode(b,_e){return this.channelSize===1?b.filter((rt,at)=>at%4==0).subarray(0,_e):b.subarray(0,_e)}},e.RGBAFloatDataEncoder=class{constructor(b,_e=1,rt){if(_e!==1&&_e!==4)throw new Error(`Invalid number of channels: ${_e}`);this.internalFormat=b.RGBA,this.format=b.RGBA,this.channelSize=_e,this.textureType=rt||b.FLOAT}encode(b,_e){let rt=b;return this.channelSize===1&&(h.Logger.verbose("Encoder","Exploding into a larger array"),rt=this.allocate(_e),b.forEach((at,st)=>rt[4*st]=at)),rt}allocate(b){return new Float32Array(4*b)}decode(b,_e){return this.channelSize===1?b.filter((rt,at)=>at%4==0).subarray(0,_e):b.subarray(0,_e)}},e.Uint8DataEncoder=class{constructor(b,_e=1){if(this.channelSize=4,_e===1)this.internalFormat=b.ALPHA,this.format=b.ALPHA,this.textureType=b.UNSIGNED_BYTE,this.channelSize=_e;else{if(_e!==4)throw new Error(`Invalid number of channels: ${_e}`);this.internalFormat=b.RGBA,this.format=b.RGBA,this.textureType=b.UNSIGNED_BYTE,this.channelSize=_e}}encode(b,_e){return new Uint8Array(b.buffer,b.byteOffset,b.byteLength)}allocate(b){return new Uint8Array(b*this.channelSize)}decode(b,_e){if(b instanceof Uint8Array)return b.subarray(0,_e);throw new Error(`Invalid array type: ${b.constructor}`)}}},7618:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getBatchDim=e.sizeToSquarishShape=e.getRowsCols=e.sizeFromShape=e.isInt=e.parseAxisParam=e.squeezeShape=e.PreferLogicalStrategy=e.AlwaysKeepOriginalSizeStrategy=void 0;const h=s(1315),b=s(7273);function _e(nt,et){const d=[],_=[],tt=et!=null&&Array.isArray(et)&&et.length===0,lt=et==null||tt?null:rt(et,nt).sort();let ut=0;for(let ct=0;ct<nt.length;++ct){if(lt!=null){if(lt[ut]===ct&&nt[ct]!==1)throw new Error(`Can't squeeze axis ${ct} since its dim '${nt[ct]}' is not 1`);(lt[ut]==null||lt[ut]>ct)&&nt[ct]===1&&(d.push(nt[ct]),_.push(ct)),lt[ut]<=ct&&ut++}nt[ct]!==1&&(d.push(nt[ct]),_.push(ct))}return{newShape:d,keptDims:_}}function rt(nt,et){const d=et.length;return nt=nt==null?et.map((_,tt)=>tt):[].concat(nt),(0,b.assert)(nt.every(_=>_>=-d&&_<d),()=>`All values in axis param must be in range [-${d}, ${d}) but got axis ${nt}`),(0,b.assert)(nt.every(at),()=>`All values in axis param must be integers but got axis ${nt}`),nt.map(_=>_<0?d+_:_)}function at(nt){return nt%1==0}function st(nt){if(nt.length===0)return 1;let et=nt[0];for(let d=1;d<nt.length;d++)et*=nt[d];return et}function ot(nt){const et=Math.ceil(Math.sqrt(nt));return[et,Math.ceil(nt/et)]}e.AlwaysKeepOriginalSizeStrategy=class{constructor(nt){this.maxTextureSize=nt}computeTextureWH(nt,et){if(nt.length===0)return[1,1];const d=this.maxTextureSize;if(et&&et.breakAxis!==void 0){const lt=et.breakAxis>=nt.length?1:nt.slice(et.breakAxis).reduce((ct,ft)=>ct*ft),ut=et.breakAxis<=0?1:nt.slice(0,et.breakAxis).reduce((ct,ft)=>ct*ft);if(!(lt>d||ut>d))return[lt,ut];h.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${nt}, breakAxis:${et.breakAxis}`)}const _=nt.reduce((lt,ut)=>lt*ut);let tt=Math.floor(Math.sqrt(_));for(;tt<d&&tt<_&&_%tt!=0;tt++);if(tt>=d||_%tt!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${nt}`);return[tt,_/tt]}},e.PreferLogicalStrategy=class{constructor(nt){this.maxTextureSize=nt}computeTextureWH(nt,et){const d=this.computeTexture(nt,et);return et&&et.isPacked&&(d[0]/=2,d[1]/=2),et&&et.reverseWH?[d[1],d[0]]:d}computeTexture(nt,et){const d=et&&et.isPacked;if(nt.length===0)return d?[2,2]:[1,1];let _=this.maxTextureSize;if(et&&et.breakAxis!==void 0){const ut=et.breakAxis>=nt.length?1:nt.slice(et.breakAxis).reduce((ft,dt)=>ft*dt),ct=et.breakAxis<=0?1:nt.slice(0,et.breakAxis).reduce((ft,dt)=>ft*dt);if(!(ut>_||ct>_))return[ut,ct];h.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${nt}, breakAxis:${et.breakAxis}`)}let tt=nt.slice(0);d&&(_*=2,tt=tt.map((ut,ct)=>ct>=tt.length-2?tt[ct]%2==0?tt[ct]:tt[ct]+1:tt[ct]),tt.length===1&&(tt=[2,tt[0]])),tt.length!==2&&(tt=_e(tt).newShape);const lt=st(tt);return tt.length<=1&&lt<=_?[1,lt]:tt.length===2&&tt[0]<=_&&tt[1]<=_?tt:tt.length===3&&tt[0]*tt[1]<=_&&tt[2]<=_?[tt[0]*tt[1],tt[2]]:tt.length===3&&tt[0]<=_&&tt[1]*tt[2]<=_?[tt[0],tt[1]*tt[2]]:tt.length===4&&tt[0]*tt[1]*tt[2]<=_&&tt[3]<=_?[tt[0]*tt[1]*tt[2],tt[3]]:tt.length===4&&tt[0]<=_&&tt[1]*tt[2]*tt[3]<=_?[tt[0],tt[1]*tt[2]*tt[3]]:d?ot(lt/4).map(ut=>2*ut):ot(lt)}},e.squeezeShape=_e,e.parseAxisParam=rt,e.isInt=at,e.sizeFromShape=st,e.getRowsCols=function(nt){if(nt.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[nt.length>1?nt[nt.length-2]:1,nt[nt.length-1]]},e.sizeToSquarishShape=ot,e.getBatchDim=function(nt,et=2){return st(nt.slice(0,nt.length-et))}},3314:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createTextureLayoutFromShape=e.calculateTextureWidthAndHeight=e.createTextureLayoutFromTextureType=void 0;const h=s(7273),b=s(5639);e.createTextureLayoutFromTextureType=(_e,rt,at)=>{const st=at===b.TextureType.unpacked||at===b.TextureType.unpackedReversed?1:4,ot=at===b.TextureType.packed,nt=at===b.TextureType.unpackedReversed||at===b.TextureType.packed,et=at===b.TextureType.packedLastDimension?rt.length-1:void 0,d=at===b.TextureType.packedLastDimension?rt.map((_,tt)=>tt===rt.length-1?4*_:_):void 0;return(0,e.createTextureLayoutFromShape)(_e,rt,st,d,{isPacked:ot,reverseWH:nt,breakAxis:et})},e.calculateTextureWidthAndHeight=(_e,rt,at)=>{const st=(0,e.createTextureLayoutFromTextureType)(_e,rt,at);return[st.width,st.height]},e.createTextureLayoutFromShape=(_e,rt,at=1,st,ot)=>{const nt=!(!ot||!ot.isPacked),[et,d]=_e.computeTextureWH(nt&&st||rt,ot),_=rt.length;let tt=rt.slice(0);if(_===0&&(tt=[1]),at===1)st=rt;else if(nt){if(at!==4)throw new Error("a packed texture must be 4-channel");st=rt,_>0&&(tt[_-1]=Math.ceil(tt[_-1]/2)),_>1&&(tt[_-2]=Math.ceil(tt[_-2]/2))}else if(!st)throw new Error("Unpacked shape is needed when using channels > 1");return{width:et,height:d,channels:at,isPacked:nt,shape:tt,strides:h.ShapeUtil.computeStrides(tt),unpackedShape:st,reversedWH:ot&&ot.reverseWH}}},5243:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextureManager=void 0;const h=s(1315);e.TextureManager=class{constructor(b,_e,rt,at){this.glContext=b,this.layoutStrategy=_e,this.profiler=rt,this.config=at,this.pendingRead=new Map,at.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(b,_e,rt,at){const st=this.toEncoderType(b),ot=this.glContext.getEncoder(st,_e.channels||1,at);if(_e.isPacked&&at===1)throw new Error("not implemented");const nt=_e.width,et=_e.height;let d,_;if(this.config.reuseTextures){d=`${nt}x${et}_${ot.format}_${ot.internalFormat}_${ot.textureType}`,_=this.inUseTextures.get(d),_||(_=[],this.inUseTextures.set(d,_));const lt=this.idleTextures.get(d);if(lt&&lt.length>0){const ut=lt.pop();return _.push(ut),at===1&&this.glContext.updateTexture(ut,nt,et,ot,this.toTextureData(b,rt)),ut}}h.Logger.verbose("TextureManager",`Creating new texture of size ${_e.width}x${_e.height}`);const tt=this.glContext.allocateTexture(nt,et,ot,this.toTextureData(b,rt));return this.config.reuseTextures&&(_.push(tt),this.textureLookup.set(tt,d)),tt}readTexture(b,_e,rt){return rt||(rt=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const at=b.shape.reduce((ot,nt)=>ot*nt)*rt,st=this.glContext.readTexture(b.texture,b.width,b.height,at,this.toEncoderType(_e),rt);return this.toTensorData(_e,st)})}async readTextureAsync(b,_e,rt){const at=b.tensor.dataId;if(rt||(rt=1),this.pendingRead.has(at)){const st=this.pendingRead.get(at);return new Promise(ot=>st==null?void 0:st.push(ot))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(at,[]);const st=b.shape.reduce((d,_)=>d*_)*rt;await this.glContext.createAndWaitForFence();const ot=this.glContext.readTexture(b.texture,b.width,b.height,st,this.toEncoderType(_e),rt),nt=this.toTensorData(_e,ot),et=this.pendingRead.get(at);return this.pendingRead.delete(at),et==null||et.forEach(d=>d(nt)),nt})}readUint8TextureAsFloat(b){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const _e=b.shape.reduce((at,st)=>at*st),rt=this.glContext.readTexture(b.texture,b.width,b.height,4*_e,"byte",4);return new Float32Array(rt.buffer,rt.byteOffset,_e)})}releaseTexture(b,_e){let rt;if(this.config.reuseTextures&&(rt=this.textureLookup.get(b.texture),rt)){_e&&this.textureLookup.delete(rt);const at=this.inUseTextures.get(rt);if(at){const st=at.indexOf(b.texture);if(st!==-1){at.splice(st,1);let ot=this.idleTextures.get(rt);ot||(ot=[],this.idleTextures.set(rt,ot)),ot.push(b.texture)}}}rt&&!_e||(h.Logger.verbose("TextureManager",`Deleting texture of size ${b.width}x${b.height}`),this.glContext.deleteTexture(b.texture))}toTensorData(b,_e){switch(b){case"int16":return _e instanceof Int16Array?_e:Int16Array.from(_e);case"int32":return _e instanceof Int32Array?_e:Int32Array.from(_e);case"int8":return _e instanceof Int8Array?_e:Int8Array.from(_e);case"uint16":return _e instanceof Uint16Array?_e:Uint16Array.from(_e);case"uint32":return _e instanceof Uint32Array?_e:Uint32Array.from(_e);case"uint8":case"bool":return _e instanceof Uint8Array?_e:Uint8Array.from(_e);case"float32":return _e instanceof Float32Array?_e:Float32Array.from(_e);case"float64":return _e instanceof Float64Array?_e:Float64Array.from(_e);default:throw new Error(`TensorData type ${b} is not supported`)}}toTextureData(b,_e){if(_e)return _e instanceof Float32Array?_e:new Float32Array(_e)}toEncoderType(b){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(o,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.TextureType=void 0,(s=e.TextureType||(e.TextureType={}))[s.unpacked=0]="unpacked",s[s.unpackedReversed=1]="unpackedReversed",s[s.packed=2]="packed",s[s.downloadUint8AsFloat=3]="downloadUint8AsFloat",s[s.packedLastDimension=4]="packedLastDimension"},432:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getGlChannels=e.getCoordsDataType=e.getSqueezedParams=e.squeezeInputShape=e.generateShaderFuncNameFromInputSamplerNameAtOutCoords=e.generateShaderFuncNameFromInputSamplerName=e.repeatedTry=e.getPackedShape=void 0;const h=s(7273);e.getPackedShape=function(b){const _e=b.length;return b.slice(0,_e-1).concat(b[_e-1]/4)},e.repeatedTry=async function(b,_e=at=>0,rt){return new Promise((at,st)=>{let ot=0;const nt=()=>{if(b())return void at();ot++;const et=_e(ot);rt!=null&&ot>=rt?st():setTimeout(nt,et)};nt()})},e.generateShaderFuncNameFromInputSamplerName=function(b){return(0,h.assert)(b!==void 0&&b.length!==0,()=>"empty string found for sampler name"),"get"+b.charAt(0).toUpperCase()+b.slice(1)},e.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(b){return(0,h.assert)(b!==void 0&&b.length!==0,()=>"empty string found for sampler name"),"get"+b.charAt(0).toUpperCase()+b.slice(1)+"AtOutCoords"},e.squeezeInputShape=function(b,_e){let rt=JSON.parse(JSON.stringify(b));return rt=_e,rt},e.getSqueezedParams=function(b,_e){return _e.map(rt=>b[rt]).join(", ")},e.getCoordsDataType=function(b){if(b<=1)return"int";if(b===2)return"ivec2";if(b===3)return"ivec3";if(b===4)return"ivec4";if(b===5)return"ivec5";if(b===6)return"ivec6";throw Error(`GPU for rank ${b} is not yet supported`)},e.getGlChannels=function(b=6){return["x","y","z","w","u","v"].slice(0,b)}},3389:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createNewWebGLContext=e.createWebGLContext=void 0;const h=s(1315),b=s(3524),_e={};function rt(at,st){let ot;const nt={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!st||st==="webgl2")&&(ot=at.getContext("webgl2",nt),ot))try{return new b.WebGLContext(ot,2)}catch(et){h.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${et}`)}if((!st||st==="webgl")&&(ot=at.getContext("webgl",nt)||at.getContext("experimental-webgl",nt),ot))try{return new b.WebGLContext(ot,1)}catch(et){h.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${et}`)}throw new Error("WebGL is not supported")}e.createWebGLContext=function at(st){let ot;if(st&&st!=="webgl2"||!("webgl2"in _e)?st&&st!=="webgl"||!("webgl"in _e)||(ot=_e.webgl):ot=_e.webgl2,!ot)try{ot=rt(function(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}(),st)}catch{ot=rt(function(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");const d=document.createElement("canvas");return d.width=1,d.height=1,d}(),st)}st=st||ot.version===1?"webgl":"webgl2";const nt=ot.gl;return _e[st]=ot,nt.isContextLost()?(delete _e[st],at(st)):(nt.disable(nt.DEPTH_TEST),nt.disable(nt.STENCIL_TEST),nt.disable(nt.BLEND),nt.disable(nt.DITHER),nt.disable(nt.POLYGON_OFFSET_FILL),nt.disable(nt.SAMPLE_COVERAGE),nt.enable(nt.SCISSOR_TEST),nt.enable(nt.CULL_FACE),nt.cullFace(nt.BACK),ot)},e.createNewWebGLContext=rt},3524:function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(nt,et,d,_){_===void 0&&(_=d);var tt=Object.getOwnPropertyDescriptor(et,d);tt&&!("get"in tt?!et.__esModule:tt.writable||tt.configurable)||(tt={enumerable:!0,get:function(){return et[d]}}),Object.defineProperty(nt,_,tt)}:function(nt,et,d,_){_===void 0&&(_=d),nt[_]=et[d]}),b=this&&this.__setModuleDefault||(Object.create?function(nt,et){Object.defineProperty(nt,"default",{enumerable:!0,value:et})}:function(nt,et){nt.default=et}),_e=this&&this.__importStar||function(nt){if(nt&&nt.__esModule)return nt;var et={};if(nt!=null)for(var d in nt)d!=="default"&&Object.prototype.hasOwnProperty.call(nt,d)&&h(et,nt,d);return b(et,nt),et};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLContext=e.linearSearchLastTrue=void 0;const rt=s(2235),at=_e(s(9622)),st=s(432);function ot(nt){let et=0;for(;et<nt.length&&nt[et]();++et);return et-1}e.linearSearchLastTrue=ot,e.WebGLContext=class{constructor(nt,et){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=nt,this.version=et,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(nt,et,d,_){const tt=this.gl,lt=tt.createTexture();tt.bindTexture(tt.TEXTURE_2D,lt),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MIN_FILTER,tt.NEAREST),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MAG_FILTER,tt.NEAREST),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_S,tt.CLAMP_TO_EDGE),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_T,tt.CLAMP_TO_EDGE);const ut=_?d.encode(_,nt*et):null;return tt.texImage2D(tt.TEXTURE_2D,0,d.internalFormat,nt,et,0,d.format,d.textureType,ut),this.checkError(),lt}updateTexture(nt,et,d,_,tt){const lt=this.gl;lt.bindTexture(lt.TEXTURE_2D,nt);const ut=_.encode(tt,et*d);lt.texSubImage2D(lt.TEXTURE_2D,0,0,0,et,d,_.format,_.textureType,ut),this.checkError()}attachFramebuffer(nt,et,d){const _=this.gl;_.bindTexture(_.TEXTURE_2D,nt),_.bindFramebuffer(_.FRAMEBUFFER,this.framebuffer),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,nt,0),this.checkError(),_.viewport(0,0,et,d),_.scissor(0,0,et,d)}readTexture(nt,et,d,_,tt,lt){const ut=this.gl;lt||(lt=1),this.frameBufferBound||this.attachFramebuffer(nt,et,d);const ct=this.getEncoder(tt,lt),ft=ct.allocate(et*d);return ut.bindTexture(ut.TEXTURE_2D,nt),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,nt,0),ut.readPixels(0,0,et,d,ut.RGBA,ct.textureType,ft),this.checkError(),ct.decode(ft,_)}isFramebufferReady(){return!0}getActiveTexture(){const nt=this.gl;return"TEXTURE"+(nt.getParameter(this.gl.ACTIVE_TEXTURE)-nt.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(nt,et){const d=this.gl;d.vertexAttribPointer(nt,3,d.FLOAT,!1,20,0),d.enableVertexAttribArray(nt),et!==-1&&(d.vertexAttribPointer(et,2,d.FLOAT,!1,20,12),d.enableVertexAttribArray(et)),this.checkError()}createProgram(nt,et){const d=this.gl,_=d.createProgram();return d.attachShader(_,nt),d.attachShader(_,et),d.linkProgram(_),_}compileShader(nt,et){const d=this.gl,_=d.createShader(et);if(!_)throw new Error(`createShader() returned null with type ${et}`);if(d.shaderSource(_,nt),d.compileShader(_),d.getShaderParameter(_,d.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${d.getShaderInfoLog(_)}
Shader source:
${nt}`);return _}deleteShader(nt){this.gl.deleteShader(nt)}bindTextureToUniform(nt,et,d){const _=this.gl;_.activeTexture(_.TEXTURE0+et),this.checkError(),_.bindTexture(_.TEXTURE_2D,nt),this.checkError(),_.uniform1i(d,et),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(rt.env.debug){const nt=this.gl,et=nt.getError();let d="";switch(et){case nt.NO_ERROR:return;case nt.INVALID_ENUM:d="INVALID_ENUM";break;case nt.INVALID_VALUE:d="INVALID_VALUE";break;case nt.INVALID_OPERATION:d="INVALID_OPERATION";break;case nt.INVALID_FRAMEBUFFER_OPERATION:d="INVALID_FRAMEBUFFER_OPERATION";break;case nt.OUT_OF_MEMORY:d="OUT_OF_MEMORY";break;case nt.CONTEXT_LOST_WEBGL:d="CONTEXT_LOST_WEBGL";break;default:d=`Unknown WebGL Error: ${et.toString(16)}`}throw new Error(d)}}deleteTexture(nt){this.gl.deleteTexture(nt)}deleteProgram(nt){this.gl.deleteProgram(nt)}getEncoder(nt,et,d=0){if(this.version===2)return new at.RedFloat32DataEncoder(this.gl,et);switch(nt){case"float":return d===1||this.isRenderFloat32Supported?new at.RGBAFloatDataEncoder(this.gl,et):new at.RGBAFloatDataEncoder(this.gl,et,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new at.Uint8DataEncoder(this.gl,et);default:throw new Error(`Invalid dataType: ${nt}`)}}clearActiveTextures(){const nt=this.gl;for(let et=0;et<this.maxTextureImageUnits;++et)nt.activeTexture(nt.TEXTURE0+et),nt.bindTexture(nt.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const nt=this.gl;nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.deleteFramebuffer(this.framebuffer),nt.bindBuffer(nt.ARRAY_BUFFER,null),nt.deleteBuffer(this.vertexbuffer),nt.bindBuffer(nt.ELEMENT_ARRAY_BUFFER,null),nt.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const nt=this.gl,et=nt.createBuffer();if(!et)throw new Error("createBuffer() returned null");const d=this.createDefaultGeometry();return nt.bindBuffer(nt.ARRAY_BUFFER,et),nt.bufferData(nt.ARRAY_BUFFER,d,nt.STATIC_DRAW),this.checkError(),et}createFramebuffer(){const nt=this.gl.createFramebuffer();if(!nt)throw new Error("createFramebuffer returned null");return nt}queryVitalParameters(){const nt=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=nt.getParameter(nt.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=nt.getParameter(nt.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const nt=this.gl,et=nt.createTexture();nt.bindTexture(nt.TEXTURE_2D,et);const d=this.version===2?nt.RGBA32F:nt.RGBA;nt.texImage2D(nt.TEXTURE_2D,0,d,1,1,0,nt.RGBA,nt.FLOAT,null);const _=nt.createFramebuffer();nt.bindFramebuffer(nt.FRAMEBUFFER,_),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,et,0);const tt=nt.checkFramebufferStatus(nt.FRAMEBUFFER)===nt.FRAMEBUFFER_COMPLETE;return nt.bindTexture(nt.TEXTURE_2D,null),nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.deleteTexture(et),nt.deleteFramebuffer(_),tt}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const nt=this.gl;let et,d,_,tt,lt;try{et=nt.createTexture(),d=nt.createFramebuffer(),nt.bindTexture(nt.TEXTURE_2D,et);const ut=this.version===2?nt.RGBA32F:nt.RGBA;return nt.texImage2D(nt.TEXTURE_2D,0,ut,1,1,0,nt.RGBA,nt.FLOAT,null),nt.bindFramebuffer(nt.FRAMEBUFFER,d),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,et,0),nt.enable(nt.BLEND),_=nt.createShader(nt.VERTEX_SHADER),!!_&&(nt.shaderSource(_,"void main(){}"),nt.compileShader(_),tt=nt.createShader(nt.FRAGMENT_SHADER),!!tt&&(nt.shaderSource(tt,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),nt.compileShader(tt),lt=nt.createProgram(),!!lt&&(nt.attachShader(lt,_),nt.attachShader(lt,tt),nt.linkProgram(lt),nt.useProgram(lt),nt.drawArrays(nt.POINTS,0,1),nt.getError()===nt.NO_ERROR)))}finally{nt.disable(nt.BLEND),lt&&nt.deleteProgram(lt),_&&nt.deleteShader(_),tt&&nt.deleteShader(tt),d&&(nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.deleteFramebuffer(d)),et&&(nt.bindTexture(nt.TEXTURE_2D,null),nt.deleteTexture(et))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const nt=this.gl,et=this.disjointTimerQueryWebgl2Extension,d=nt.createQuery();return nt.beginQuery(et.TIME_ELAPSED_EXT,d),d}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const nt=this.gl,et=this.disjointTimerQueryWebgl2Extension;nt.endQuery(et.TIME_ELAPSED_EXT)}}isTimerResultAvailable(nt){let et=!1,d=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const _=this.gl,tt=this.disjointTimerQueryWebgl2Extension;et=_.getQueryParameter(nt,_.QUERY_RESULT_AVAILABLE),d=_.getParameter(tt.GPU_DISJOINT_EXT)}return et&&!d}getTimerResult(nt){let et=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const d=this.gl;et=d.getQueryParameter(nt,d.QUERY_RESULT),d.deleteQuery(nt)}return et/1e6}async waitForQueryAndGetTime(nt){return await(0,st.repeatedTry)(()=>this.isTimerResultAvailable(nt)),this.getTimerResult(nt)}async createAndWaitForFence(){const nt=this.createFence(this.gl);return this.pollFence(nt)}createFence(nt){let et;const d=nt,_=d.fenceSync(d.SYNC_GPU_COMMANDS_COMPLETE,0);return nt.flush(),et=_===null?()=>!0:()=>{const tt=d.clientWaitSync(_,0,0);return tt===d.ALREADY_SIGNALED||tt===d.CONDITION_SATISFIED},{query:_,isFencePassed:et}}async pollFence(nt){return new Promise(et=>{this.addItemToPoll(()=>nt.isFencePassed(),()=>et())})}pollItems(){const nt=ot(this.itemsToPoll.map(et=>et.isDoneFn));for(let et=0;et<=nt;++et){const{resolveFn:d}=this.itemsToPoll[et];d()}this.itemsToPoll=this.itemsToPoll.slice(nt+1)}async addItemToPoll(nt,et){this.itemsToPoll.push({isDoneFn:nt,resolveFn:et}),this.itemsToPoll.length>1||await(0,st.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},6496:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExecutionPlan=void 0;const h=s(1315);class b{constructor(rt,at){this.op=rt,this.node=at}}e.ExecutionPlan=class{constructor(_e,rt,at){this.graph=_e,this.profiler=at,this.initialize(rt)}initialize(_e){this.profiler.event("session","ExecutionPlan.initialize",()=>{const rt=this.graph.getNodes();if(rt.length!==_e.length)throw new Error("The size of nodes and OPs do not match.");this._ops=_e.map((at,st)=>new b(at,rt[st])),this.reset(),this._starter=[],this._ops.forEach((at,st)=>{let ot=!0;for(const nt of at.node.inputs)if(!this._values[nt]&&this.graph.getInputIndices().indexOf(nt)===-1){ot=!1;break}ot&&this._starter.push(st)})})}reset(){this._values=this.graph.getValues().map(_e=>_e.tensor)}async execute(_e,rt){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const at=_e.createInferenceHandler(),st=this.graph.getInputIndices();if(rt.length!==st.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${rt.length} expected: ${st.length}`);rt.forEach((tt,lt)=>{const ut=st[lt];this._values[ut]=tt});const ot=this._starter.slice(0),nt=this.graph.getValues(),et=this.graph.getNodes();let d=0;for(;d<ot.length;){const tt=ot[d++],lt=this._ops[tt],ut=lt.node.inputs.map(ht=>this._values[ht]);if(ut.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${lt.node}`);const ct=ut;h.Logger.verbose("ExecPlan",`Runing op:${lt.node.name} (${ct.map((ht,gt)=>`'${lt.node.inputs[gt]}': ${ht.type}[${ht.dims.join(",")}]`).join(", ")})`);const ft=await this.profiler.event("node",lt.node.name,async()=>lt.op.impl(at,ct,lt.op.context));if(ft.length!==lt.node.outputs.length)throw new Error("the size of output does not match model definition.");ft.forEach((ht,gt)=>{const yt=lt.node.outputs[gt];if(this._values[yt])throw new Error(`output [${yt}] already has value: op:${lt.node.name}`);this._values[yt]=ht});const dt=new Set;ft.forEach((ht,gt)=>{const yt=lt.node.outputs[gt];for(const vt of nt[yt].to){const mt=et[vt];let bt=!0;for(const $t of mt.inputs)if(!this._values[$t]){bt=!1;break}bt&&dt.add(vt)}}),ot.push(...dt)}const _=[];for(let tt=0;tt<this.graph.getOutputIndices().length;tt++){const lt=this.graph.getOutputIndices()[tt],ut=this._values[lt];if(ut===void 0)throw new Error(`required output [${lt}] does not have value`);lt===0?await ut.getData():ut.data,_.push(ut)}return h.Logger.verbose("ExecPlan","disposing of inferenceHandler"),at.dispose(),_})}}},4662:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=void 0;const h=s(6874),b=s(5127),_e=s(2446),rt=s(9240),at=s(7273);var st=b.onnxruntime.experimental.fbs;e.Graph={from:(d,_)=>new et(d,_)};class ot{constructor(_){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,_&&(this.type=at.ProtoUtil.tensorValueTypeFromProto(_.type.tensorType))}get from(){return this._from}get to(){return this._to}}class nt{constructor(_,tt){_ instanceof _e.onnx.NodeProto?(this.name=_.name,this.opType=_.opType,this.attributes=new h.Attribute(_.attribute)):_ instanceof st.Node&&(this.name=tt??_.name(),this.opType=_.opType(),this.attributes=new h.Attribute(at.ProtoUtil.tensorAttributesFromORTFormat(_))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class et{constructor(_,tt){if(!_)throw new TypeError("graph is empty");this.buildGraph(_),this.transformGraph(tt),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(_){if(_ instanceof _e.onnx.GraphProto)this.buildGraphFromOnnxFormat(_);else{if(!(_ instanceof st.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(_)}}buildGraphFromOnnxFormat(_){const tt=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const lt=new Map;if(!_.input)throw new Error("missing information in graph: input");const ut=[];for(const ct of _.input){if(tt.has(ct.name))throw new Error(`duplicated input name: ${ct.name}`);const ft=this._allData.push(new ot(ct))-1;tt.set(ct.name,ft),ut.push(ct.name)}if(!_.initializer)throw new Error("missing information in graph: initializer");for(const ct of _.initializer){let ft=tt.get(ct.name);if(ft===void 0){const dt=new ot;dt.type={shape:{dims:at.ProtoUtil.tensorDimsFromProto(ct.dims)},tensorType:at.ProtoUtil.tensorDataTypeFromProto(ct.dataType)},ft=this._allData.push(dt)-1,tt.set(ct.name,ft)}this._allData[ft]._from=-1,this._allData[ft].tensor=rt.Tensor.fromProto(ct)}for(let ct=0;ct<this._allData.length;ct++)this._allData[ct].tensor||(this._allInputIndices.push(ct),this._allInputNames.push(ut[ct]));if(!_.output)throw new Error("missing information in graph: output");for(const ct of _.output){if(tt.has(ct.name))throw new Error(`duplicated output name: ${ct.name}`);const ft=this._allData.push(new ot(ct))-1;tt.set(ct.name,ft),this._allOutputIndices.push(ft),this._allOutputNames.push(ct.name)}if(!_.node)throw new Error("missing information in graph: node");for(const ct of _.node){if(!ct.name)for(let dt=0;;dt++){const ht=`unnamed_${ct.opType}_${dt}`;if(!lt.has(ht)){ct.name=ht;break}}if(lt.has(ct.name))throw new Error(`duplicated node name: ${ct.name}`);const ft=this._nodes.push(new nt(ct))-1;lt.set(ct.name,ft)}for(let ct=0;ct<this._nodes.length;ct++){const ft=this._nodes[ct],dt=_.node[ct];if(!dt.output)throw new Error(`missing output for node: ${dt.name}`);for(const ht of dt.output){let gt=tt.get(ht);if(gt===void 0&&(gt=this._allData.push(new ot)-1,tt.set(ht,gt)),ft.outputs.push(gt),this._allData[gt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${gt}`);if(this._allData[gt]._from=ct,dt.opType==="Constant"){if(!dt.attribute||dt.attribute.length!==1||!dt.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!dt.output||dt.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");ft.outputs.pop(),ft.executeNode=!1,this._allData[gt]._from=-1,this._allData[gt].tensor=rt.Tensor.fromProto(dt.attribute[0].t)}}}for(let ct=0;ct<this._nodes.length;ct++){const ft=this._nodes[ct],dt=_.node[ct];if(!dt.input)throw new Error(`missing input for node: ${dt.name}`);for(const ht of dt.input){const gt=tt.get(ht);if(gt===void 0){if(ht===""&&(dt.input.length===3||dt.input.length===4)&&dt.opType==="Resize")continue;throw new Error(`unrecognized input '${ht}' for node: ${dt.name}`)}ft.inputs.push(gt),this._allData[gt]._to.push(ct)}}return!0}buildGraphFromOrtFormat(_){var tt,lt,ut;const ct=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const ft=new Map,dt=[];for(let ht=0;ht<_.inputsLength();ht++){const gt=_.inputs(ht);if(ct.has(gt))throw new Error(`duplicated input name: ${gt}`);for(let yt=0;yt<_.nodeArgsLength();yt++)if(((tt=_.nodeArgs(yt))===null||tt===void 0?void 0:tt.name())===gt){const vt=new ot;if(((ut=(lt=_.nodeArgs(yt))===null||lt===void 0?void 0:lt.type())===null||ut===void 0?void 0:ut.valueType())!==st.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const mt=_.nodeArgs(yt).type().value(new st.TensorTypeAndShape),bt=at.ProtoUtil.tensorDataTypeFromProto(mt.elemType()),$t=mt.shape(),St=[];for(let _t=0;_t<$t.dimLength();_t++)St.push(at.LongUtil.longToNumber($t.dim(_t).value().dimValue()));vt.type={shape:{dims:St},tensorType:bt};const Pt=this._allData.push(vt)-1;ct.set(gt,Pt),dt.push(gt)}}for(let ht=0;ht<_.initializersLength();ht++){const gt=_.initializers(ht);let yt=ct.get(gt.name());if(yt===void 0){const vt=new ot,mt=at.ProtoUtil.tensorDimsFromORTFormat(gt),bt=at.ProtoUtil.tensorDataTypeFromProto(gt.dataType());vt.type={shape:{dims:mt},tensorType:bt},yt=this._allData.push(vt)-1,ct.set(gt.name(),yt)}this._allData[yt]._from=-1,this._allData[yt].tensor=rt.Tensor.fromOrtTensor(gt)}for(let ht=0;ht<this._allData.length;ht++)this._allData[ht].tensor||(this._allInputIndices.push(ht),this._allInputNames.push(dt[ht]));for(let ht=0;ht<_.outputsLength();ht++){const gt=_.outputs(ht);if(ct.has(gt))throw new Error(`duplicated output name: ${gt}`);const yt=this._allData.push(new ot)-1;ct.set(gt,yt),this._allOutputIndices.push(yt),this._allOutputNames.push(gt)}if(!_.nodes)throw new Error("missing information in graph: node");for(let ht=0;ht<_.nodesLength();ht++){const gt=_.nodes(ht);let yt=gt.name();if(!yt)for(let mt=0;yt=`unnamed_${gt.opType()}_${mt}`,ft.has(yt);mt++);if(ft.has(yt))throw new Error(`duplicated node name: ${yt}`);const vt=this._nodes.push(new nt(gt,yt))-1;ft.set(yt,vt)}for(let ht=0;ht<this._nodes.length;ht++){const gt=this._nodes[ht],yt=_.nodes(ht);if(yt==null)throw new Error(`No node exists at index ${ht}`);if((yt==null?void 0:yt.outputsLength())===0)throw new Error(`missing output for node: ${yt.name}`);for(let vt=0;vt<(yt==null?void 0:yt.outputsLength());vt++){const mt=yt==null?void 0:yt.outputs(vt);let bt=ct.get(mt);if(bt===void 0&&(bt=this._allData.push(new ot)-1,ct.set(mt,bt)),gt.outputs.push(bt),this._allData[bt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${bt}`);if(this._allData[bt]._from=ht,yt.opType()==="Constant"){if(yt.attributesLength()!==1||!yt.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(yt.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");gt.outputs.pop(),gt.executeNode=!1,this._allData[bt]._from=-1,this._allData[bt].tensor=rt.Tensor.fromOrtTensor(yt.attributes(0).t())}}}for(let ht=0;ht<this._nodes.length;ht++){const gt=this._nodes[ht],yt=_.nodes(ht);if(yt.inputsLength()===0)throw new Error(`missing input for node: ${yt.name}`);for(let vt=0;vt<yt.inputsLength();vt++){const mt=yt.inputs(vt),bt=ct.get(mt);if(bt===void 0)throw new Error(`unrecognized input '${mt}' for node: ${yt.name()}`);gt.inputs.push(bt),this._allData[bt]._to.push(ht)}}}checkIsAcyclic(){const _=new Set;this._allInputIndices.forEach(ut=>{this._allData[ut]._to.forEach(ct=>{_.add(ct)})});const tt=Array.from(_),lt=new Array(this._nodes.length).fill("white");for(;tt.length>0;){const ut=tt.pop();lt[ut]==="gray"?lt[ut]="black":(tt.push(ut),lt[ut]="gray",this._nodes[ut].outputs.forEach(ct=>{const ft=this._allData[ct];if(ft.tensor!==void 0)throw new Error("node outputs should not be initialized");if(ft._from!==ut)throw new Error("from property of the Value object doesn't match index of Node being processed");ft._to.forEach(dt=>{if(lt[dt]==="gray")throw new Error("model graph is cyclic");lt[dt]==="white"&&tt.push(dt)})}))}}transformGraph(_){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),_&&_.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let _=0;const tt=new Array(this._nodes.length,0);let lt=0;for(let ut=0;ut<this._nodes.length;ut++)tt[ut]=lt,this._nodes[ut].executeNode?(lt!==ut&&(this._nodes[lt]=this._nodes[ut]),lt++):this._nodes[ut].outputs.forEach(ct=>{this._allData[ct]._from=-2});this._nodes.splice(lt,this._nodes.length-lt);for(let ut=0;ut<this._allData.length;ut++){const ct=this._allData[ut];ct._from!==void 0&&ct._from!==-1&&ct._from!==-2&&(ct._from=tt[ct._from]);for(let ft=0;ft<ct._to.length;ft++){if(!(ct._to[ft]>=0))throw new Error("Trying to update a removed node");ct._to[ft]=tt[ct._to[ft]]}}_=0;for(let ut=0;ut<this._allData.length;ut++)if(this._allData[ut].from!==-2||this._allOutputIndices.indexOf(ut+_)!==-1){if(_>0){let ct=-1;this._allData[ut].from!==void 0&&this._allData[ut].from!==-1?(ct=this._nodes[this._allData[ut].from].outputs.indexOf(ut+_),ct!==-1&&(this._nodes[this._allData[ut].from].outputs[ct]=ut)):(ct=this._allInputIndices.indexOf(ut+_),ct!==-1&&(this._allInputIndices[ct]=ut)),this._allData[ut].to.forEach(ft=>{ct=this._nodes[ft].inputs.indexOf(ut+_),ct!==-1&&(this._nodes[ft].inputs[ct]=ut)}),this._allData[ut].to.length===0&&(ct=this._allOutputIndices.indexOf(ut+_),ct!==-1&&(this._allOutputIndices[ct]=ut))}}else _++,this._allData.splice(ut,1),ut--}deleteNode(_){const tt=this._nodes[_];if(tt.outputs.length>1){for(let dt=1;dt<tt.outputs.length;dt++)if(this._allData[tt.outputs[dt]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}tt.executeNode=!1;const lt=tt.inputs[0],ut=tt.outputs[0],ct=this._allData[ut].to;for(let dt=0;dt<tt.inputs.length;dt++){const ht=this._allData[tt.inputs[dt]].to.indexOf(_);if(ht===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[tt.inputs[dt]].to.splice(ht,1)}this._allData[ut]._to=[];const ft=this._allOutputIndices.indexOf(ut);if(ft!==-1&&(this._allOutputIndices[ft]=lt),ct&&ct.length>0)for(const dt of ct){const ht=this._nodes[dt].inputs.indexOf(ut);if(ht===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[dt].inputs[ht]=lt,this._allData[lt].to.push(dt)}}removeAllDropoutNodes(){let _=0;for(const tt of this._nodes){if(tt.opType==="Dropout"){if(tt.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(tt.outputs.length!==1&&tt.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(tt.outputs.length===2&&this._allData[tt.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(_)}_++}}removeAllIdentityNodes(){let _=0;for(const tt of this._nodes)tt.opType==="Identity"&&this.deleteNode(_),_++}isActivation(_){switch(_.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const _ of this._nodes)if(_.opType==="Conv"){const tt=this._allData[_.outputs[0]]._to;if(tt.length===1&&this.isActivation(this._nodes[tt[0]])){const lt=this._nodes[tt[0]];if(lt.opType==="Clip")if(lt.inputs.length===1)try{_.attributes.set("activation_params","floats",[lt.attributes.getFloat("min"),lt.attributes.getFloat("max")])}catch{_.attributes.set("activation_params","floats",[at.MIN_CLIP,at.MAX_CLIP])}else{if(!(lt.inputs.length>=3&&this._allData[lt.inputs[1]].tensor!==void 0&&this._allData[lt.inputs[2]].tensor!==void 0))continue;_.attributes.set("activation_params","floats",[this._allData[lt.inputs[1]].tensor.floatData[0],this._allData[lt.inputs[2]].tensor.floatData[0]])}_.attributes.set("activation","string",lt.opType),this.deleteNode(tt[0])}}}}},1315:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.now=e.Profiler=e.Logger=void 0;const s={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},h={none:new class{log(nt,et,d){}},console:new class{log(nt,et,d){console.log(`${this.color(nt)} ${d?"\x1B[35m"+d+"\x1B[0m ":""}${et}`)}color(nt){switch(nt){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${nt}`)}}}},b={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let _e={"":b};function rt(nt,et,d,_){if(et===void 0)return tt=nt,{verbose:rt.verbose.bind(null,tt),info:rt.info.bind(null,tt),warning:rt.warning.bind(null,tt),error:rt.error.bind(null,tt),fatal:rt.fatal.bind(null,tt)};if(d===void 0)at(nt,et);else if(typeof d=="number"&&_===void 0)at(nt,et);else if(typeof d=="string"&&_===void 0)at(nt,d,0,et);else{if(typeof d!="string"||typeof _!="number")throw new TypeError("input is valid");at(nt,d,0,et)}var tt}function at(nt,et,d,_){const tt=_e[_||""]||_e[""];s[nt]<s[tt.minimalSeverity]||(tt.logDateTime&&(et=`${new Date().toISOString()}|${et}`),tt.logSourceLocation,h[tt.provider].log(nt,et,_))}(function(nt){function et(_){_e={},d("",_||{})}function d(_,tt){if(_==="*")et(tt);else{const lt=_e[_]||b;_e[_]={provider:tt.provider||lt.provider,minimalSeverity:tt.minimalSeverity||lt.minimalSeverity,logDateTime:tt.logDateTime===void 0?lt.logDateTime:tt.logDateTime,logSourceLocation:tt.logSourceLocation===void 0?lt.logSourceLocation:tt.logSourceLocation}}}nt.verbose=function(_,tt){nt("verbose",_,tt)},nt.info=function(_,tt){nt("info",_,tt)},nt.warning=function(_,tt){nt("warning",_,tt)},nt.error=function(_,tt){nt("error",_,tt)},nt.fatal=function(_,tt){nt("fatal",_,tt)},nt.reset=et,nt.set=d,nt.setWithEnv=function(_){const tt={};_.logLevel&&(tt.minimalSeverity=_.logLevel),d("",tt)}})(rt||(rt={})),e.Logger=rt;class st{constructor(et,d,_,tt,lt,ut){this.category=et,this.name=d,this.startTime=_,this.endCallback=tt,this.timer=lt,this.ctx=ut}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class ot{constructor(et,d,_,tt){this.category=et,this.name=d,this.startTime=_,this.endTime=tt}}e.Profiler=class{static create(nt){return nt===void 0?new this:new this(nt.maxNumberEvents,nt.flushBatchSize,nt.flushIntervalInMilliseconds)}constructor(nt,et,d){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=nt===void 0?1e4:nt,this._flushBatchSize=et===void 0?10:et,this._flushIntervalInMilliseconds=d===void 0?5e3:d}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,e.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(nt,et,d,_){const tt=this._started?this.begin(nt,et,_):void 0;let lt=!1;const ut=d();if(ut&&typeof ut.then=="function")return lt=!0,new Promise((ct,ft)=>{ut.then(async dt=>{tt&&await tt.end(),ct(dt)},async dt=>{tt&&await tt.end(),ft(dt)})});if(!lt&&tt){const ct=tt.end();if(ct&&typeof ct.then=="function")return new Promise((ft,dt)=>{ct.then(()=>{ft(ut)},ht=>{dt(ht)})})}return ut}begin(nt,et,d){if(!this._started)throw new Error("profiler is not started yet");if(d===void 0){const _=(0,e.now)();return this.flush(_),new st(nt,et,_,tt=>this.endSync(tt))}{const _=d.beginTimer();return new st(nt,et,0,async tt=>this.end(tt),_,d)}}async end(nt){const et=await nt.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ot(nt.category,nt.name,nt.startTime,et)),this.flush(et))}endSync(nt){const et=(0,e.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ot(nt.category,nt.name,nt.startTime,et)),this.flush(et))}logOneEvent(nt){e.Logger.verbose(`Profiler.${nt.category}`,`${(nt.endTime-nt.startTime).toFixed(2)}ms on event '${nt.name}' at ${nt.endTime.toFixed(2)}`)}flush(nt){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||nt-this._flushTime>=this._flushIntervalInMilliseconds){for(const et=this._flushPointer;this._flushPointer<et+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,e.now)()}}get started(){return this._started}},e.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},1745:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;const h=s(5686),b=s(4662),_e=s(5127),rt=s(2446),at=s(7273);var st=_e.onnxruntime.experimental.fbs;e.Model=class{constructor(){}load(ot,nt,et){if(!et)try{return void this.loadFromOnnxFormat(ot,nt)}catch(d){if(et!==void 0)throw d}this.loadFromOrtFormat(ot,nt)}loadFromOnnxFormat(ot,nt){const et=rt.onnx.ModelProto.decode(ot);if(at.LongUtil.longToNumber(et.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=et.opsetImport.map(d=>({domain:d.domain,version:at.LongUtil.longToNumber(d.version)})),this._graph=b.Graph.from(et.graph,nt)}loadFromOrtFormat(ot,nt){const et=new h.flatbuffers.ByteBuffer(ot),d=st.InferenceSession.getRootAsInferenceSession(et).model();if(at.LongUtil.longToNumber(d.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let _=0;_<d.opsetImportLength();_++){const tt=d.opsetImport(_);this._opsets.push({domain:tt==null?void 0:tt.domain(),version:at.LongUtil.longToNumber(tt.version())})}this._graph=b.Graph.from(d.graph(),nt)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FLOAT_TYPES=e.INT_TYPES=e.NUMBER_TYPES=void 0,e.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],e.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],e.FLOAT_TYPES=["float32","float64"]},5881:(o,e)=>{function s(h,b){if(b.endsWith("+")){const _e=Number.parseInt(b.substring(0,b.length-1),10);return!isNaN(_e)&&_e<=h}if(b.split("-").length===2){const _e=b.split("-"),rt=Number.parseInt(_e[0],10),at=Number.parseInt(_e[1],10);return!isNaN(rt)&&!isNaN(at)&&rt<=h&&h<=at}return Number.parseInt(b,10)===h}Object.defineProperty(e,"__esModule",{value:!0}),e.resolveOperator=void 0,e.resolveOperator=function(h,b,_e){for(const rt of _e){const at=rt[0],st=rt[1],ot=rt[2],nt=rt[3],et=rt[4];if(h.opType===at){for(const d of b)if((d.domain===st||d.domain==="ai.onnx"&&st==="")&&s(d.version,ot))return{opImpl:nt,opInit:et}}}throw new TypeError(`cannot resolve operator '${h.opType}' with opsets: ${b.map(rt=>`${rt.domain||"ai.onnx"} v${rt.version}`).join(", ")}`)}},5127:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.onnxruntime=void 0;const h=s(5686);var b,_e;b=e.onnxruntime||(e.onnxruntime={}),function(rt){(function(at){at[at.UNDEFINED=0]="UNDEFINED",at[at.FLOAT=1]="FLOAT",at[at.INT=2]="INT",at[at.STRING=3]="STRING",at[at.TENSOR=4]="TENSOR",at[at.GRAPH=5]="GRAPH",at[at.FLOATS=6]="FLOATS",at[at.INTS=7]="INTS",at[at.STRINGS=8]="STRINGS",at[at.TENSORS=9]="TENSORS",at[at.GRAPHS=10]="GRAPHS",at[at.SPARSE_TENSOR=11]="SPARSE_TENSOR",at[at.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(rt.AttributeType||(rt.AttributeType={}))}((_e=b.experimental||(b.experimental={})).fbs||(_e.fbs={})),function(rt){(function(at){(function(st){(function(ot){ot[ot.UNKNOWN=0]="UNKNOWN",ot[ot.VALUE=1]="VALUE",ot[ot.PARAM=2]="PARAM"})(st.DimensionValueType||(st.DimensionValueType={}))})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){(function(ot){ot[ot.UNDEFINED=0]="UNDEFINED",ot[ot.FLOAT=1]="FLOAT",ot[ot.UINT8=2]="UINT8",ot[ot.INT8=3]="INT8",ot[ot.UINT16=4]="UINT16",ot[ot.INT16=5]="INT16",ot[ot.INT32=6]="INT32",ot[ot.INT64=7]="INT64",ot[ot.STRING=8]="STRING",ot[ot.BOOL=9]="BOOL",ot[ot.FLOAT16=10]="FLOAT16",ot[ot.DOUBLE=11]="DOUBLE",ot[ot.UINT32=12]="UINT32",ot[ot.UINT64=13]="UINT64",ot[ot.COMPLEX64=14]="COMPLEX64",ot[ot.COMPLEX128=15]="COMPLEX128",ot[ot.BFLOAT16=16]="BFLOAT16",ot[ot.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",ot[ot.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",ot[ot.FLOAT8E5M2=19]="FLOAT8E5M2",ot[ot.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"})(st.TensorDataType||(st.TensorDataType={}))})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){(function(ot){ot[ot.Primitive=0]="Primitive",ot[ot.Fused=1]="Fused"})(st.NodeType||(st.NodeType={}))})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){(function(ot){ot[ot.NONE=0]="NONE",ot[ot.tensor_type=1]="tensor_type",ot[ot.sequence_type=2]="sequence_type",ot[ot.map_type=3]="map_type"})(st.TypeInfoValue||(st.TypeInfoValue={}))})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsShape(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsShape(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}dim(et,d){let _=this.bb.__offset(this.bb_pos,4);return _?(d||new rt.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+4*et),this.bb):null}dimLength(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.__vector_len(this.bb_pos+et):0}static startShape(et){et.startObject(1)}static addDim(et,d){et.addFieldOffset(0,d,0)}static createDimVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startDimVector(et,d){et.startVector(4,d,4)}static endShape(et){return et.endObject()}static createShape(et,d){return ot.startShape(et),ot.addDim(et,d),ot.endShape(et)}}st.Shape=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsDimension(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsDimension(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}value(et){let d=this.bb.__offset(this.bb_pos,4);return d?(et||new rt.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}denotation(et){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__string(this.bb_pos+d,et):null}static startDimension(et){et.startObject(2)}static addValue(et,d){et.addFieldOffset(0,d,0)}static addDenotation(et,d){et.addFieldOffset(1,d,0)}static endDimension(et){return et.endObject()}static createDimension(et,d,_){return ot.startDimension(et),ot.addValue(et,d),ot.addDenotation(et,_),ot.endDimension(et)}}st.Dimension=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsDimensionValue(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsDimensionValue(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}dimType(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.readInt8(this.bb_pos+et):rt.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.readInt64(this.bb_pos+et):this.bb.createLong(0,0)}dimParam(et){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.__string(this.bb_pos+d,et):null}static startDimensionValue(et){et.startObject(3)}static addDimType(et,d){et.addFieldInt8(0,d,rt.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(et,d){et.addFieldInt64(1,d,et.createLong(0,0))}static addDimParam(et,d){et.addFieldOffset(2,d,0)}static endDimensionValue(et){return et.endObject()}static createDimensionValue(et,d,_,tt){return ot.startDimensionValue(et),ot.addDimType(et,d),ot.addDimValue(et,_),ot.addDimParam(et,tt),ot.endDimensionValue(et)}}st.DimensionValue=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsTensorTypeAndShape(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsTensorTypeAndShape(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}elemType(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.readInt32(this.bb_pos+et):rt.experimental.fbs.TensorDataType.UNDEFINED}shape(et){let d=this.bb.__offset(this.bb_pos,6);return d?(et||new rt.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}static startTensorTypeAndShape(et){et.startObject(2)}static addElemType(et,d){et.addFieldInt32(0,d,rt.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(et,d){et.addFieldOffset(1,d,0)}static endTensorTypeAndShape(et){return et.endObject()}static createTensorTypeAndShape(et,d,_){return ot.startTensorTypeAndShape(et),ot.addElemType(et,d),ot.addShape(et,_),ot.endTensorTypeAndShape(et)}}st.TensorTypeAndShape=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsMapType(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsMapType(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}keyType(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.readInt32(this.bb_pos+et):rt.experimental.fbs.TensorDataType.UNDEFINED}valueType(et){let d=this.bb.__offset(this.bb_pos,6);return d?(et||new rt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}static startMapType(et){et.startObject(2)}static addKeyType(et,d){et.addFieldInt32(0,d,rt.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(et,d){et.addFieldOffset(1,d,0)}static endMapType(et){return et.endObject()}static createMapType(et,d,_){return ot.startMapType(et),ot.addKeyType(et,d),ot.addValueType(et,_),ot.endMapType(et)}}st.MapType=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsSequenceType(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsSequenceType(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}elemType(et){let d=this.bb.__offset(this.bb_pos,4);return d?(et||new rt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}static startSequenceType(et){et.startObject(1)}static addElemType(et,d){et.addFieldOffset(0,d,0)}static endSequenceType(et){return et.endObject()}static createSequenceType(et,d){return ot.startSequenceType(et),ot.addElemType(et,d),ot.endSequenceType(et)}}st.SequenceType=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(at.fbs||(at.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(st,ot,nt,et){return st.prep(4,12),st.writeInt32(et),st.writeInt32(nt),st.writeInt32(ot),st.offset()}}})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsNodeEdge(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsNodeEdge(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}nodeIndex(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.readUint32(this.bb_pos+et):0}inputEdges(et,d){let _=this.bb.__offset(this.bb_pos,6);return _?(d||new rt.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+_)+12*et,this.bb):null}inputEdgesLength(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.__vector_len(this.bb_pos+et):0}outputEdges(et,d){let _=this.bb.__offset(this.bb_pos,8);return _?(d||new rt.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+_)+12*et,this.bb):null}outputEdgesLength(){let et=this.bb.__offset(this.bb_pos,8);return et?this.bb.__vector_len(this.bb_pos+et):0}static startNodeEdge(et){et.startObject(3)}static addNodeIndex(et,d){et.addFieldInt32(0,d,0)}static addInputEdges(et,d){et.addFieldOffset(1,d,0)}static startInputEdgesVector(et,d){et.startVector(12,d,4)}static addOutputEdges(et,d){et.addFieldOffset(2,d,0)}static startOutputEdgesVector(et,d){et.startVector(12,d,4)}static endNodeEdge(et){return et.endObject()}static createNodeEdge(et,d,_,tt){return ot.startNodeEdge(et),ot.addNodeIndex(et,d),ot.addInputEdges(et,_),ot.addOutputEdges(et,tt),ot.endNodeEdge(et)}}st.NodeEdge=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsNode(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsNode(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}name(et){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,et):null}docString(et){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__string(this.bb_pos+d,et):null}domain(et){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.__string(this.bb_pos+d,et):null}sinceVersion(){let et=this.bb.__offset(this.bb_pos,10);return et?this.bb.readInt32(this.bb_pos+et):0}index(){let et=this.bb.__offset(this.bb_pos,12);return et?this.bb.readUint32(this.bb_pos+et):0}opType(et){let d=this.bb.__offset(this.bb_pos,14);return d?this.bb.__string(this.bb_pos+d,et):null}type(){let et=this.bb.__offset(this.bb_pos,16);return et?this.bb.readInt32(this.bb_pos+et):rt.experimental.fbs.NodeType.Primitive}executionProviderType(et){let d=this.bb.__offset(this.bb_pos,18);return d?this.bb.__string(this.bb_pos+d,et):null}inputs(et,d){let _=this.bb.__offset(this.bb_pos,20);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+4*et,d):null}inputsLength(){let et=this.bb.__offset(this.bb_pos,20);return et?this.bb.__vector_len(this.bb_pos+et):0}outputs(et,d){let _=this.bb.__offset(this.bb_pos,22);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+4*et,d):null}outputsLength(){let et=this.bb.__offset(this.bb_pos,22);return et?this.bb.__vector_len(this.bb_pos+et):0}attributes(et,d){let _=this.bb.__offset(this.bb_pos,24);return _?(d||new rt.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+4*et),this.bb):null}attributesLength(){let et=this.bb.__offset(this.bb_pos,24);return et?this.bb.__vector_len(this.bb_pos+et):0}inputArgCounts(et){let d=this.bb.__offset(this.bb_pos,26);return d?this.bb.readInt32(this.bb.__vector(this.bb_pos+d)+4*et):0}inputArgCountsLength(){let et=this.bb.__offset(this.bb_pos,26);return et?this.bb.__vector_len(this.bb_pos+et):0}inputArgCountsArray(){let et=this.bb.__offset(this.bb_pos,26);return et?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+et),this.bb.__vector_len(this.bb_pos+et)):null}implicitInputs(et,d){let _=this.bb.__offset(this.bb_pos,28);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+4*et,d):null}implicitInputsLength(){let et=this.bb.__offset(this.bb_pos,28);return et?this.bb.__vector_len(this.bb_pos+et):0}static startNode(et){et.startObject(13)}static addName(et,d){et.addFieldOffset(0,d,0)}static addDocString(et,d){et.addFieldOffset(1,d,0)}static addDomain(et,d){et.addFieldOffset(2,d,0)}static addSinceVersion(et,d){et.addFieldInt32(3,d,0)}static addIndex(et,d){et.addFieldInt32(4,d,0)}static addOpType(et,d){et.addFieldOffset(5,d,0)}static addType(et,d){et.addFieldInt32(6,d,rt.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(et,d){et.addFieldOffset(7,d,0)}static addInputs(et,d){et.addFieldOffset(8,d,0)}static createInputsVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startInputsVector(et,d){et.startVector(4,d,4)}static addOutputs(et,d){et.addFieldOffset(9,d,0)}static createOutputsVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startOutputsVector(et,d){et.startVector(4,d,4)}static addAttributes(et,d){et.addFieldOffset(10,d,0)}static createAttributesVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startAttributesVector(et,d){et.startVector(4,d,4)}static addInputArgCounts(et,d){et.addFieldOffset(11,d,0)}static createInputArgCountsVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addInt32(d[_]);return et.endVector()}static startInputArgCountsVector(et,d){et.startVector(4,d,4)}static addImplicitInputs(et,d){et.addFieldOffset(12,d,0)}static createImplicitInputsVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startImplicitInputsVector(et,d){et.startVector(4,d,4)}static endNode(et){return et.endObject()}static createNode(et,d,_,tt,lt,ut,ct,ft,dt,ht,gt,yt,vt,mt){return ot.startNode(et),ot.addName(et,d),ot.addDocString(et,_),ot.addDomain(et,tt),ot.addSinceVersion(et,lt),ot.addIndex(et,ut),ot.addOpType(et,ct),ot.addType(et,ft),ot.addExecutionProviderType(et,dt),ot.addInputs(et,ht),ot.addOutputs(et,gt),ot.addAttributes(et,yt),ot.addInputArgCounts(et,vt),ot.addImplicitInputs(et,mt),ot.endNode(et)}}st.Node=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsValueInfo(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsValueInfo(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}name(et){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,et):null}docString(et){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__string(this.bb_pos+d,et):null}type(et){let d=this.bb.__offset(this.bb_pos,8);return d?(et||new rt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}static startValueInfo(et){et.startObject(3)}static addName(et,d){et.addFieldOffset(0,d,0)}static addDocString(et,d){et.addFieldOffset(1,d,0)}static addType(et,d){et.addFieldOffset(2,d,0)}static endValueInfo(et){return et.endObject()}static createValueInfo(et,d,_,tt){return ot.startValueInfo(et),ot.addName(et,d),ot.addDocString(et,_),ot.addType(et,tt),ot.endValueInfo(et)}}st.ValueInfo=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsTypeInfo(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsTypeInfo(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}denotation(et){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,et):null}valueType(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.readUint8(this.bb_pos+et):rt.experimental.fbs.TypeInfoValue.NONE}value(et){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.__union(et,this.bb_pos+d):null}static startTypeInfo(et){et.startObject(3)}static addDenotation(et,d){et.addFieldOffset(0,d,0)}static addValueType(et,d){et.addFieldInt8(1,d,rt.experimental.fbs.TypeInfoValue.NONE)}static addValue(et,d){et.addFieldOffset(2,d,0)}static endTypeInfo(et){return et.endObject()}static createTypeInfo(et,d,_,tt){return ot.startTypeInfo(et),ot.addDenotation(et,d),ot.addValueType(et,_),ot.addValue(et,tt),ot.endTypeInfo(et)}}st.TypeInfo=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsOperatorSetId(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsOperatorSetId(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}domain(et){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,et):null}version(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.readInt64(this.bb_pos+et):this.bb.createLong(0,0)}static startOperatorSetId(et){et.startObject(2)}static addDomain(et,d){et.addFieldOffset(0,d,0)}static addVersion(et,d){et.addFieldInt64(1,d,et.createLong(0,0))}static endOperatorSetId(et){return et.endObject()}static createOperatorSetId(et,d,_){return ot.startOperatorSetId(et),ot.addDomain(et,d),ot.addVersion(et,_),ot.endOperatorSetId(et)}}st.OperatorSetId=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsTensor(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsTensor(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}name(et){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,et):null}docString(et){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__string(this.bb_pos+d,et):null}dims(et){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.readInt64(this.bb.__vector(this.bb_pos+d)+8*et):this.bb.createLong(0,0)}dimsLength(){let et=this.bb.__offset(this.bb_pos,8);return et?this.bb.__vector_len(this.bb_pos+et):0}dataType(){let et=this.bb.__offset(this.bb_pos,10);return et?this.bb.readInt32(this.bb_pos+et):rt.experimental.fbs.TensorDataType.UNDEFINED}rawData(et){let d=this.bb.__offset(this.bb_pos,12);return d?this.bb.readUint8(this.bb.__vector(this.bb_pos+d)+et):0}rawDataLength(){let et=this.bb.__offset(this.bb_pos,12);return et?this.bb.__vector_len(this.bb_pos+et):0}rawDataArray(){let et=this.bb.__offset(this.bb_pos,12);return et?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+et),this.bb.__vector_len(this.bb_pos+et)):null}stringData(et,d){let _=this.bb.__offset(this.bb_pos,14);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+4*et,d):null}stringDataLength(){let et=this.bb.__offset(this.bb_pos,14);return et?this.bb.__vector_len(this.bb_pos+et):0}static startTensor(et){et.startObject(6)}static addName(et,d){et.addFieldOffset(0,d,0)}static addDocString(et,d){et.addFieldOffset(1,d,0)}static addDims(et,d){et.addFieldOffset(2,d,0)}static createDimsVector(et,d){et.startVector(8,d.length,8);for(let _=d.length-1;_>=0;_--)et.addInt64(d[_]);return et.endVector()}static startDimsVector(et,d){et.startVector(8,d,8)}static addDataType(et,d){et.addFieldInt32(3,d,rt.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(et,d){et.addFieldOffset(4,d,0)}static createRawDataVector(et,d){et.startVector(1,d.length,1);for(let _=d.length-1;_>=0;_--)et.addInt8(d[_]);return et.endVector()}static startRawDataVector(et,d){et.startVector(1,d,1)}static addStringData(et,d){et.addFieldOffset(5,d,0)}static createStringDataVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startStringDataVector(et,d){et.startVector(4,d,4)}static endTensor(et){return et.endObject()}static createTensor(et,d,_,tt,lt,ut,ct){return ot.startTensor(et),ot.addName(et,d),ot.addDocString(et,_),ot.addDims(et,tt),ot.addDataType(et,lt),ot.addRawData(et,ut),ot.addStringData(et,ct),ot.endTensor(et)}}st.Tensor=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsSparseTensor(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsSparseTensor(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}values(et){let d=this.bb.__offset(this.bb_pos,4);return d?(et||new rt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}indices(et){let d=this.bb.__offset(this.bb_pos,6);return d?(et||new rt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}dims(et){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.readInt64(this.bb.__vector(this.bb_pos+d)+8*et):this.bb.createLong(0,0)}dimsLength(){let et=this.bb.__offset(this.bb_pos,8);return et?this.bb.__vector_len(this.bb_pos+et):0}static startSparseTensor(et){et.startObject(3)}static addValues(et,d){et.addFieldOffset(0,d,0)}static addIndices(et,d){et.addFieldOffset(1,d,0)}static addDims(et,d){et.addFieldOffset(2,d,0)}static createDimsVector(et,d){et.startVector(8,d.length,8);for(let _=d.length-1;_>=0;_--)et.addInt64(d[_]);return et.endVector()}static startDimsVector(et,d){et.startVector(8,d,8)}static endSparseTensor(et){return et.endObject()}static createSparseTensor(et,d,_,tt){return ot.startSparseTensor(et),ot.addValues(et,d),ot.addIndices(et,_),ot.addDims(et,tt),ot.endSparseTensor(et)}}st.SparseTensor=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsAttribute(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsAttribute(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}name(et){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,et):null}docString(et){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__string(this.bb_pos+d,et):null}type(){let et=this.bb.__offset(this.bb_pos,8);return et?this.bb.readInt32(this.bb_pos+et):rt.experimental.fbs.AttributeType.UNDEFINED}f(){let et=this.bb.__offset(this.bb_pos,10);return et?this.bb.readFloat32(this.bb_pos+et):0}i(){let et=this.bb.__offset(this.bb_pos,12);return et?this.bb.readInt64(this.bb_pos+et):this.bb.createLong(0,0)}s(et){let d=this.bb.__offset(this.bb_pos,14);return d?this.bb.__string(this.bb_pos+d,et):null}t(et){let d=this.bb.__offset(this.bb_pos,16);return d?(et||new rt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}g(et){let d=this.bb.__offset(this.bb_pos,18);return d?(et||new rt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}floats(et){let d=this.bb.__offset(this.bb_pos,20);return d?this.bb.readFloat32(this.bb.__vector(this.bb_pos+d)+4*et):0}floatsLength(){let et=this.bb.__offset(this.bb_pos,20);return et?this.bb.__vector_len(this.bb_pos+et):0}floatsArray(){let et=this.bb.__offset(this.bb_pos,20);return et?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+et),this.bb.__vector_len(this.bb_pos+et)):null}ints(et){let d=this.bb.__offset(this.bb_pos,22);return d?this.bb.readInt64(this.bb.__vector(this.bb_pos+d)+8*et):this.bb.createLong(0,0)}intsLength(){let et=this.bb.__offset(this.bb_pos,22);return et?this.bb.__vector_len(this.bb_pos+et):0}strings(et,d){let _=this.bb.__offset(this.bb_pos,24);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+4*et,d):null}stringsLength(){let et=this.bb.__offset(this.bb_pos,24);return et?this.bb.__vector_len(this.bb_pos+et):0}tensors(et,d){let _=this.bb.__offset(this.bb_pos,26);return _?(d||new rt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+4*et),this.bb):null}tensorsLength(){let et=this.bb.__offset(this.bb_pos,26);return et?this.bb.__vector_len(this.bb_pos+et):0}graphs(et,d){let _=this.bb.__offset(this.bb_pos,28);return _?(d||new rt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+4*et),this.bb):null}graphsLength(){let et=this.bb.__offset(this.bb_pos,28);return et?this.bb.__vector_len(this.bb_pos+et):0}static startAttribute(et){et.startObject(13)}static addName(et,d){et.addFieldOffset(0,d,0)}static addDocString(et,d){et.addFieldOffset(1,d,0)}static addType(et,d){et.addFieldInt32(2,d,rt.experimental.fbs.AttributeType.UNDEFINED)}static addF(et,d){et.addFieldFloat32(3,d,0)}static addI(et,d){et.addFieldInt64(4,d,et.createLong(0,0))}static addS(et,d){et.addFieldOffset(5,d,0)}static addT(et,d){et.addFieldOffset(6,d,0)}static addG(et,d){et.addFieldOffset(7,d,0)}static addFloats(et,d){et.addFieldOffset(8,d,0)}static createFloatsVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addFloat32(d[_]);return et.endVector()}static startFloatsVector(et,d){et.startVector(4,d,4)}static addInts(et,d){et.addFieldOffset(9,d,0)}static createIntsVector(et,d){et.startVector(8,d.length,8);for(let _=d.length-1;_>=0;_--)et.addInt64(d[_]);return et.endVector()}static startIntsVector(et,d){et.startVector(8,d,8)}static addStrings(et,d){et.addFieldOffset(10,d,0)}static createStringsVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startStringsVector(et,d){et.startVector(4,d,4)}static addTensors(et,d){et.addFieldOffset(11,d,0)}static createTensorsVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startTensorsVector(et,d){et.startVector(4,d,4)}static addGraphs(et,d){et.addFieldOffset(12,d,0)}static createGraphsVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startGraphsVector(et,d){et.startVector(4,d,4)}static endAttribute(et){return et.endObject()}static createAttribute(et,d,_,tt,lt,ut,ct,ft,dt,ht,gt,yt,vt,mt){return ot.startAttribute(et),ot.addName(et,d),ot.addDocString(et,_),ot.addType(et,tt),ot.addF(et,lt),ot.addI(et,ut),ot.addS(et,ct),ot.addT(et,ft),ot.addG(et,dt),ot.addFloats(et,ht),ot.addInts(et,gt),ot.addStrings(et,yt),ot.addTensors(et,vt),ot.addGraphs(et,mt),ot.endAttribute(et)}}st.Attribute=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsGraph(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsGraph(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}initializers(et,d){let _=this.bb.__offset(this.bb_pos,4);return _?(d||new rt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+4*et),this.bb):null}initializersLength(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.__vector_len(this.bb_pos+et):0}nodeArgs(et,d){let _=this.bb.__offset(this.bb_pos,6);return _?(d||new rt.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+4*et),this.bb):null}nodeArgsLength(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.__vector_len(this.bb_pos+et):0}nodes(et,d){let _=this.bb.__offset(this.bb_pos,8);return _?(d||new rt.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+4*et),this.bb):null}nodesLength(){let et=this.bb.__offset(this.bb_pos,8);return et?this.bb.__vector_len(this.bb_pos+et):0}maxNodeIndex(){let et=this.bb.__offset(this.bb_pos,10);return et?this.bb.readUint32(this.bb_pos+et):0}nodeEdges(et,d){let _=this.bb.__offset(this.bb_pos,12);return _?(d||new rt.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+4*et),this.bb):null}nodeEdgesLength(){let et=this.bb.__offset(this.bb_pos,12);return et?this.bb.__vector_len(this.bb_pos+et):0}inputs(et,d){let _=this.bb.__offset(this.bb_pos,14);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+4*et,d):null}inputsLength(){let et=this.bb.__offset(this.bb_pos,14);return et?this.bb.__vector_len(this.bb_pos+et):0}outputs(et,d){let _=this.bb.__offset(this.bb_pos,16);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+4*et,d):null}outputsLength(){let et=this.bb.__offset(this.bb_pos,16);return et?this.bb.__vector_len(this.bb_pos+et):0}sparseInitializers(et,d){let _=this.bb.__offset(this.bb_pos,18);return _?(d||new rt.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+4*et),this.bb):null}sparseInitializersLength(){let et=this.bb.__offset(this.bb_pos,18);return et?this.bb.__vector_len(this.bb_pos+et):0}static startGraph(et){et.startObject(8)}static addInitializers(et,d){et.addFieldOffset(0,d,0)}static createInitializersVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startInitializersVector(et,d){et.startVector(4,d,4)}static addNodeArgs(et,d){et.addFieldOffset(1,d,0)}static createNodeArgsVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startNodeArgsVector(et,d){et.startVector(4,d,4)}static addNodes(et,d){et.addFieldOffset(2,d,0)}static createNodesVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startNodesVector(et,d){et.startVector(4,d,4)}static addMaxNodeIndex(et,d){et.addFieldInt32(3,d,0)}static addNodeEdges(et,d){et.addFieldOffset(4,d,0)}static createNodeEdgesVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startNodeEdgesVector(et,d){et.startVector(4,d,4)}static addInputs(et,d){et.addFieldOffset(5,d,0)}static createInputsVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startInputsVector(et,d){et.startVector(4,d,4)}static addOutputs(et,d){et.addFieldOffset(6,d,0)}static createOutputsVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startOutputsVector(et,d){et.startVector(4,d,4)}static addSparseInitializers(et,d){et.addFieldOffset(7,d,0)}static createSparseInitializersVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startSparseInitializersVector(et,d){et.startVector(4,d,4)}static endGraph(et){return et.endObject()}static createGraph(et,d,_,tt,lt,ut,ct,ft,dt){return ot.startGraph(et),ot.addInitializers(et,d),ot.addNodeArgs(et,_),ot.addNodes(et,tt),ot.addMaxNodeIndex(et,lt),ot.addNodeEdges(et,ut),ot.addInputs(et,ct),ot.addOutputs(et,ft),ot.addSparseInitializers(et,dt),ot.endGraph(et)}}st.Graph=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsModel(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsModel(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}irVersion(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.readInt64(this.bb_pos+et):this.bb.createLong(0,0)}opsetImport(et,d){let _=this.bb.__offset(this.bb_pos,6);return _?(d||new rt.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+4*et),this.bb):null}opsetImportLength(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.__vector_len(this.bb_pos+et):0}producerName(et){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.__string(this.bb_pos+d,et):null}producerVersion(et){let d=this.bb.__offset(this.bb_pos,10);return d?this.bb.__string(this.bb_pos+d,et):null}domain(et){let d=this.bb.__offset(this.bb_pos,12);return d?this.bb.__string(this.bb_pos+d,et):null}modelVersion(){let et=this.bb.__offset(this.bb_pos,14);return et?this.bb.readInt64(this.bb_pos+et):this.bb.createLong(0,0)}docString(et){let d=this.bb.__offset(this.bb_pos,16);return d?this.bb.__string(this.bb_pos+d,et):null}graph(et){let d=this.bb.__offset(this.bb_pos,18);return d?(et||new rt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}graphDocString(et){let d=this.bb.__offset(this.bb_pos,20);return d?this.bb.__string(this.bb_pos+d,et):null}static startModel(et){et.startObject(9)}static addIrVersion(et,d){et.addFieldInt64(0,d,et.createLong(0,0))}static addOpsetImport(et,d){et.addFieldOffset(1,d,0)}static createOpsetImportVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startOpsetImportVector(et,d){et.startVector(4,d,4)}static addProducerName(et,d){et.addFieldOffset(2,d,0)}static addProducerVersion(et,d){et.addFieldOffset(3,d,0)}static addDomain(et,d){et.addFieldOffset(4,d,0)}static addModelVersion(et,d){et.addFieldInt64(5,d,et.createLong(0,0))}static addDocString(et,d){et.addFieldOffset(6,d,0)}static addGraph(et,d){et.addFieldOffset(7,d,0)}static addGraphDocString(et,d){et.addFieldOffset(8,d,0)}static endModel(et){return et.endObject()}static createModel(et,d,_,tt,lt,ut,ct,ft,dt,ht){return ot.startModel(et),ot.addIrVersion(et,d),ot.addOpsetImport(et,_),ot.addProducerName(et,tt),ot.addProducerVersion(et,lt),ot.addDomain(et,ut),ot.addModelVersion(et,ct),ot.addDocString(et,ft),ot.addGraph(et,dt),ot.addGraphDocString(et,ht),ot.endModel(et)}}st.Model=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsKernelCreateInfos(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsKernelCreateInfos(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}nodeIndices(et){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.readUint32(this.bb.__vector(this.bb_pos+d)+4*et):0}nodeIndicesLength(){let et=this.bb.__offset(this.bb_pos,4);return et?this.bb.__vector_len(this.bb_pos+et):0}nodeIndicesArray(){let et=this.bb.__offset(this.bb_pos,4);return et?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+et),this.bb.__vector_len(this.bb_pos+et)):null}kernelDefHashes(et){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.readUint64(this.bb.__vector(this.bb_pos+d)+8*et):this.bb.createLong(0,0)}kernelDefHashesLength(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.__vector_len(this.bb_pos+et):0}static startKernelCreateInfos(et){et.startObject(2)}static addNodeIndices(et,d){et.addFieldOffset(0,d,0)}static createNodeIndicesVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addInt32(d[_]);return et.endVector()}static startNodeIndicesVector(et,d){et.startVector(4,d,4)}static addKernelDefHashes(et,d){et.addFieldOffset(1,d,0)}static createKernelDefHashesVector(et,d){et.startVector(8,d.length,8);for(let _=d.length-1;_>=0;_--)et.addInt64(d[_]);return et.endVector()}static startKernelDefHashesVector(et,d){et.startVector(8,d,8)}static endKernelCreateInfos(et){return et.endObject()}static createKernelCreateInfos(et,d,_){return ot.startKernelCreateInfos(et),ot.addNodeIndices(et,d),ot.addKernelDefHashes(et,_),ot.endKernelCreateInfos(et)}}st.KernelCreateInfos=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsSubGraphSessionState(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsSubGraphSessionState(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}graphId(et){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,et):null}sessionState(et){let d=this.bb.__offset(this.bb_pos,6);return d?(et||new rt.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}static startSubGraphSessionState(et){et.startObject(2)}static addGraphId(et,d){et.addFieldOffset(0,d,0)}static addSessionState(et,d){et.addFieldOffset(1,d,0)}static endSubGraphSessionState(et){let d=et.endObject();return et.requiredField(d,4),d}static createSubGraphSessionState(et,d,_){return ot.startSubGraphSessionState(et),ot.addGraphId(et,d),ot.addSessionState(et,_),ot.endSubGraphSessionState(et)}}st.SubGraphSessionState=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsSessionState(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsSessionState(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}kernels(et){let d=this.bb.__offset(this.bb_pos,4);return d?(et||new rt.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}subGraphSessionStates(et,d){let _=this.bb.__offset(this.bb_pos,6);return _?(d||new rt.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+4*et),this.bb):null}subGraphSessionStatesLength(){let et=this.bb.__offset(this.bb_pos,6);return et?this.bb.__vector_len(this.bb_pos+et):0}static startSessionState(et){et.startObject(2)}static addKernels(et,d){et.addFieldOffset(0,d,0)}static addSubGraphSessionStates(et,d){et.addFieldOffset(1,d,0)}static createSubGraphSessionStatesVector(et,d){et.startVector(4,d.length,4);for(let _=d.length-1;_>=0;_--)et.addOffset(d[_]);return et.endVector()}static startSubGraphSessionStatesVector(et,d){et.startVector(4,d,4)}static endSessionState(et){return et.endObject()}static createSessionState(et,d,_){return ot.startSessionState(et),ot.addKernels(et,d),ot.addSubGraphSessionStates(et,_),ot.endSessionState(et)}}st.SessionState=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(rt){(function(at){(function(st){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(et,d){return this.bb_pos=et,this.bb=d,this}static getRootAsInferenceSession(et,d){return(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static getSizePrefixedRootAsInferenceSession(et,d){return et.setPosition(et.position()+h.flatbuffers.SIZE_PREFIX_LENGTH),(d||new ot).__init(et.readInt32(et.position())+et.position(),et)}static bufferHasIdentifier(et){return et.__has_identifier("ORTM")}ortVersion(et){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,et):null}model(et){let d=this.bb.__offset(this.bb_pos,6);return d?(et||new rt.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}sessionState(et){let d=this.bb.__offset(this.bb_pos,8);return d?(et||new rt.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}static startInferenceSession(et){et.startObject(3)}static addOrtVersion(et,d){et.addFieldOffset(0,d,0)}static addModel(et,d){et.addFieldOffset(1,d,0)}static addSessionState(et,d){et.addFieldOffset(2,d,0)}static endInferenceSession(et){return et.endObject()}static finishInferenceSessionBuffer(et,d){et.finish(d,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(et,d){et.finish(d,"ORTM",!0)}static createInferenceSession(et,d,_,tt){return ot.startInferenceSession(et),ot.addOrtVersion(et,d),ot.addModel(et,_),ot.addSessionState(et,tt),ot.endInferenceSession(et)}}st.InferenceSession=ot})(at.fbs||(at.fbs={}))})(rt.experimental||(rt.experimental={}))}(e.onnxruntime||(e.onnxruntime={}))},1723:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OnnxjsSessionHandler=void 0;const h=s(2235),b=s(9240);e.OnnxjsSessionHandler=class{constructor(_e){this.session=_e,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(_e,rt,at){const st=new Map;for(const et in _e)if(Object.hasOwnProperty.call(_e,et)){const d=_e[et];st.set(et,new b.Tensor(d.dims,d.type,void 0,void 0,d.data))}const ot=await this.session.run(st),nt={};return ot.forEach((et,d)=>{nt[d]=new h.Tensor(et.type,et.data,et.dims)}),nt}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Session=void 0;const h=s(7067),b=s(1296),_e=s(1975),rt=s(6496),at=s(1315),st=s(1745);e.Session=class{constructor(ot={}){this._initialized=!1,this.backendHint=ot.backendHint,this.profiler=at.Profiler.create(ot.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(ot,nt,et){await this.profiler.event("session","Session.loadModel",async()=>{const d=await(0,_e.resolveBackend)(this.backendHint);if(this.sessionHandler=d.createSessionHandler(this.context),this._model=new st.Model,typeof ot=="string"){const _=ot.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){const tt=await(0,b.promisify)(h.readFile)(ot);this.initialize(tt,_)}else{const tt=await fetch(ot),lt=await tt.arrayBuffer();this.initialize(new Uint8Array(lt),_)}}else if(ArrayBuffer.isView(ot))this.initialize(ot);else{const _=new Uint8Array(ot,nt||0,et||ot.byteLength);this.initialize(_)}})}initialize(ot,nt){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const et=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(ot,et,nt),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new rt.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(ot){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const nt=this.normalizeAndValidateInputs(ot),et=await this._executionPlan.execute(this.sessionHandler,nt);return this.createOutput(et)})}normalizeAndValidateInputs(ot){const nt=this._model.graph.getInputNames();if(Array.isArray(ot)){if(ot.length!==nt.length)throw new Error(`incorrect input array length: expected ${nt.length} but got ${ot.length}`)}else{if(ot.size!==nt.length)throw new Error(`incorrect input map size: expected ${nt.length} but got ${ot.size}`);const et=new Array(ot.size);let d=0;for(let _=0;_<nt.length;++_){const tt=ot.get(nt[_]);if(!tt)throw new Error(`missing input tensor for: '${name}'`);et[d++]=tt}ot=et}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,ot,!1);else{const et=this._model.graph.getInputIndices(),d=this._model.graph.getValues(),_=new Array(et.length);for(let tt=0;tt<et.length;++tt){const lt=d[et[tt]];_[tt]=lt.type.shape.dims,this.context.graphInputTypes.push(lt.type.tensorType),this.context.graphInputDims.push(ot[tt].dims)}this.validateInputTensorDims(_,ot,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,ot),ot}validateInputTensorTypes(ot,nt){for(let et=0;et<nt.length;et++){const d=ot[et],_=nt[et].type;if(d!==_)throw new Error(`input tensor[${et}] check failed: expected type '${d}' but got ${_}`)}}validateInputTensorDims(ot,nt,et){for(let d=0;d<nt.length;d++){const _=ot[d],tt=nt[d].dims;if(!this.compareTensorDims(_,tt,et))throw new Error(`input tensor[${d}] check failed: expected shape '[${_.join(",")}]' but got [${tt.join(",")}]`)}}compareTensorDims(ot,nt,et){if(ot.length!==nt.length)return!1;for(let d=0;d<ot.length;++d)if(ot[d]!==nt[d]&&(!et||ot[d]!==0))return!1;return!0}createOutput(ot){const nt=this._model.graph.getOutputNames();if(ot.length!==nt.length)throw new Error("expected number of outputs do not match number of generated outputs");const et=new Map;for(let d=0;d<nt.length;++d)et.set(nt[d],ot[d]);return et}initializeOps(ot){const nt=ot.getNodes();this._ops=new Array(nt.length);for(let et=0;et<nt.length;et++)this._ops[et]=this.sessionHandler.resolve(nt[et],this._model.opsets,ot)}}},9240:function(o,e,s){var h=this&&this.__importDefault||function(lt){return lt&&lt.__esModule?lt:{default:lt}};Object.defineProperty(e,"__esModule",{value:!0}),e.Tensor=void 0;const b=s(3442),_e=h(s(1583)),rt=s(5127),at=s(2446),st=s(7273);var ot=rt.onnxruntime.experimental.fbs;class nt{get data(){if(this.cache===void 0){const ut=this.dataProvider(this.dataId);if(ut.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=ut}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(ut){return this.data[st.ShapeUtil.indicesToOffset(ut,this.strides)]}set(ut,ct){this.data[st.ShapeUtil.indicesToOffset(ut,this.strides)]=ct}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=st.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(ut,ct,ft,dt,ht,gt=b.Guid.create()){this.dims=ut,this.type=ct,this.dataProvider=ft,this.asyncDataProvider=dt,this.cache=ht,this.dataId=gt,this.size=st.ShapeUtil.validateDimsAndCalcSize(ut);const yt=this.size,vt=ft===void 0&&dt===void 0&&ht===void 0;if(ht!==void 0&&ht.length!==yt)throw new RangeError("Input dims doesn't match data length.");if(ct==="string"){if(!(ht===void 0||Array.isArray(ht)&&ht.every(mt=>typeof mt=="string")))throw new TypeError("cache should be a string array");vt&&(this.cache=new Array(yt))}else{if(ht!==void 0){const mt=d(ct);if(!(ht instanceof mt))throw new TypeError(`cache should be type ${mt.name}`)}if(vt){const mt=new ArrayBuffer(yt*function(bt){switch(bt){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${bt}`)}}(ct));this.cache=function(bt,$t){return new(d($t))(bt)}(mt,ct)}}}static fromProto(ut){if(!ut)throw new Error("cannot construct Value from an empty tensor");const ct=st.ProtoUtil.tensorDataTypeFromProto(ut.dataType),ft=st.ProtoUtil.tensorDimsFromProto(ut.dims),dt=new nt(ft,ct);if(ct==="string")ut.stringData.forEach((ht,gt)=>{dt.data[gt]=(0,st.decodeUtf8String)(ht)});else if(ut.rawData&&typeof ut.rawData.byteLength=="number"&&ut.rawData.byteLength>0){const ht=dt.data,gt=new DataView(ut.rawData.buffer,ut.rawData.byteOffset,ut.rawData.byteLength),yt=et(ut.dataType),vt=ut.rawData.byteLength/yt;if(ut.rawData.byteLength%yt!=0)throw new Error("invalid buffer length");if(ht.length!==vt)throw new Error("buffer length mismatch");for(let mt=0;mt<vt;mt++){const bt=tt(gt,ut.dataType,mt*yt);ht[mt]=bt}}else{let ht;switch(ut.dataType){case at.onnx.TensorProto.DataType.FLOAT:ht=ut.floatData;break;case at.onnx.TensorProto.DataType.INT32:case at.onnx.TensorProto.DataType.INT16:case at.onnx.TensorProto.DataType.UINT16:case at.onnx.TensorProto.DataType.INT8:case at.onnx.TensorProto.DataType.UINT8:case at.onnx.TensorProto.DataType.BOOL:ht=ut.int32Data;break;case at.onnx.TensorProto.DataType.INT64:ht=ut.int64Data;break;case at.onnx.TensorProto.DataType.DOUBLE:ht=ut.doubleData;break;case at.onnx.TensorProto.DataType.UINT32:case at.onnx.TensorProto.DataType.UINT64:ht=ut.uint64Data;break;default:throw new Error("unspecific error")}if(ht==null)throw new Error("failed to populate data from a tensorproto value");const gt=dt.data;if(gt.length!==ht.length)throw new Error("array length mismatch");for(let yt=0;yt<ht.length;yt++){const vt=ht[yt];_e.default.isLong(vt)?gt[yt]=_(vt,ut.dataType):gt[yt]=vt}}return dt}static fromData(ut,ct,ft){return new nt(ct,ft,void 0,void 0,ut)}static fromOrtTensor(ut){if(!ut)throw new Error("cannot construct Value from an empty tensor");const ct=st.ProtoUtil.tensorDimsFromORTFormat(ut),ft=st.ProtoUtil.tensorDataTypeFromProto(ut.dataType()),dt=new nt(ct,ft);if(ft==="string")for(let ht=0;ht<ut.stringDataLength();ht++)dt.data[ht]=ut.stringData(ht);else if(ut.rawDataArray()&&typeof ut.rawDataLength()=="number"&&ut.rawDataLength()>0){const ht=dt.data,gt=new DataView(ut.rawDataArray().buffer,ut.rawDataArray().byteOffset,ut.rawDataLength()),yt=et(ut.dataType()),vt=ut.rawDataLength()/yt;if(ut.rawDataLength()%yt!=0)throw new Error("invalid buffer length");if(ht.length!==vt)throw new Error("buffer length mismatch");for(let mt=0;mt<vt;mt++){const bt=tt(gt,ut.dataType(),mt*yt);ht[mt]=bt}}return dt}}function et(lt){switch(lt){case at.onnx.TensorProto.DataType.UINT8:case at.onnx.TensorProto.DataType.INT8:case at.onnx.TensorProto.DataType.BOOL:return 1;case at.onnx.TensorProto.DataType.UINT16:case at.onnx.TensorProto.DataType.INT16:return 2;case at.onnx.TensorProto.DataType.FLOAT:case at.onnx.TensorProto.DataType.INT32:case at.onnx.TensorProto.DataType.UINT32:return 4;case at.onnx.TensorProto.DataType.INT64:case at.onnx.TensorProto.DataType.DOUBLE:case at.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${at.onnx.TensorProto.DataType[lt]}`)}}function d(lt){switch(lt){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function _(lt,ut){if(ut===at.onnx.TensorProto.DataType.INT64||ut===ot.TensorDataType.INT64){if(lt.greaterThanOrEqual(2147483648)||lt.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(ut!==at.onnx.TensorProto.DataType.UINT32&&ut!==ot.TensorDataType.UINT32&&ut!==at.onnx.TensorProto.DataType.UINT64&&ut!==ot.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${at.onnx.TensorProto.DataType[ut]}`);if(lt.greaterThanOrEqual(4294967296)||lt.lessThan(0))throw new TypeError("uint64 is not supported")}return lt.toNumber()}function tt(lt,ut,ct){switch(ut){case at.onnx.TensorProto.DataType.BOOL:case at.onnx.TensorProto.DataType.UINT8:return lt.getUint8(ct);case at.onnx.TensorProto.DataType.INT8:return lt.getInt8(ct);case at.onnx.TensorProto.DataType.UINT16:return lt.getUint16(ct,!0);case at.onnx.TensorProto.DataType.INT16:return lt.getInt16(ct,!0);case at.onnx.TensorProto.DataType.FLOAT:return lt.getFloat32(ct,!0);case at.onnx.TensorProto.DataType.INT32:return lt.getInt32(ct,!0);case at.onnx.TensorProto.DataType.UINT32:return lt.getUint32(ct,!0);case at.onnx.TensorProto.DataType.INT64:return _(_e.default.fromBits(lt.getUint32(ct,!0),lt.getUint32(ct+4,!0),!1),ut);case at.onnx.TensorProto.DataType.DOUBLE:return lt.getFloat64(ct,!0);case at.onnx.TensorProto.DataType.UINT64:return _(_e.default.fromBits(lt.getUint32(ct,!0),lt.getUint32(ct+4,!0),!0),ut);default:throw new Error(`cannot read from DataView for type ${at.onnx.TensorProto.DataType[ut]}`)}}e.Tensor=nt},7273:function(o,e,s){var h=this&&this.__importDefault||function(ut){return ut&&ut.__esModule?ut:{default:ut}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUtf8String=e.MAX_CLIP=e.MIN_CLIP=e.PoolConvUtil=e.ReduceUtil=e.SplitUtil=e.MathUtil=e.ShapeUtil=e.LongUtil=e.ProtoUtil=e.GemmUtil=e.arrayCopyHelper=e.BroadcastUtil=e.MatMulUtil=e.ArrayUtil=e.assert=e.checkInputsShape=void 0;const b=s(5686),_e=h(s(1583)),rt=s(2446),at=s(9240);e.checkInputsShape=function(ut,...ct){if(!ut||ut.length!==ct.length)return!1;for(let ft=0;ft<ut.length;ft++)if(!ut[ft].dims||ut[ft].dims.length!==ct[ft])return!1;return!0},e.assert=function(ut,ct){if(!ut)throw new Error(typeof ct=="string"?ct:ct())},e.ArrayUtil=class{static arraysEqual(ut,ct){if(ut.length!==ct.length)return!1;for(let ft=0;ft<ut.length;ft++)if(ut[ft]!==ct[ft])return!1;return!0}};class st{static preprocessInputShapes(ct,ft){return[ct.length===1?[1,ct[0]]:ct,ft.length===1?[ft[0],1]:ft]}static postprocessOutputShape(ct,ft,dt){ft===1&&ct.splice(ct.length-2,1),dt===1&&ct.pop()}static calcMatMulShape(ct,ft){return ct[1]!==ft[0]?void 0:[ct[0],ft[1]]}}e.MatMulUtil=st;class ot{static calcShape(ct,ft,dt=!1){const ht=ct.length,gt=ft.length;if(ht===0)return ft;if(gt===0)return ct;const yt=Math.max(ct.length,ft.length),vt=new Array(yt);if(dt){if(ht<2||gt<2)return;const mt=st.calcMatMulShape([ct[ht-2],ct[ht-1]],[ft[gt-2],ft[gt-1]]);if(mt===void 0)return;[vt[yt-2],vt[yt-1]]=mt}for(let mt=dt?3:1;mt<=yt;mt++){const bt=ht-mt<0?1:ct[ht-mt],$t=gt-mt<0?1:ft[gt-mt];if(bt!==$t&&bt>1&&$t>1)return;vt[yt-mt]=Math.max(bt,$t)}return vt}static index(ct,ft){const dt=new Array(ft.length);return ot.fillIndex(ct,ft,dt),dt}static fillIndex(ct,ft,dt){const ht=ct.length-ft.length;for(let gt=0;gt<ft.length;gt++)dt[gt]=ct[ht+gt]%ft[gt]}static calc(ct,ft,dt,ht,gt){const yt=ot.calcShape(ct.dims,ft.dims);if(yt){if(ht&&!d.areEqual(yt,ct.dims))return;const vt=d.size(yt),mt=ht?ct:new at.Tensor(yt,gt||ct.type);if(yt.length===0)mt.set([],dt(ct.get([]),ft.get([])));else{const bt=new Array(yt.length),$t=new Array(ct.dims.length),St=new Array(ft.dims.length);let Pt,_t=0,wt=0,xt=!1,Tt=!1;ct.dims.length===0&&(_t=ct.get([]),xt=!0),ft.dims.length===0&&(wt=ft.get([]),Tt=!0);for(let It=0;It<vt;It++){Pt=It;for(let Ct=yt.length-1;Ct>=0;Ct--)bt[Ct]=Pt%yt[Ct],Pt=Math.floor(Pt/yt[Ct]);xt||(ot.fillIndex(bt,ct.dims,$t),_t=ct.get($t)),Tt||(ot.fillIndex(bt,ft.dims,St),wt=ft.get(St)),mt.set(bt,dt(_t,wt))}}return mt}}static isValidBroadcast(ct,ft){const dt=ct.length,ht=ft.length;if(dt>ht)return!1;for(let gt=1;gt<=dt;gt++)if(ct[dt-gt]!==1&&ct[dt-gt]!==ft[ht-gt])return!1;return!0}static getBroadcastDims(ct,ft){const dt=ct.length,ht=[];for(let gt=0;gt<dt;gt++){const yt=dt-1-gt,vt=ct[yt]||1;(ft[ft.length-1-gt]||1)>1&&vt===1&&ht.unshift(yt)}return ht}}e.BroadcastUtil=ot,e.arrayCopyHelper=function(ut,ct,ft,dt,ht){if(dt<0||dt>=ct.length)throw new Error("sourceIndex out of bounds");if(ft<0||ft>=ut.length)throw new Error("targetIndex out of bounds");if(dt+ht>ct.length)throw new Error("source indices to be copied are outside bounds");if(ft+ht>ut.length)throw new Error("target array is too small to hold result");for(let gt=0;gt<ht;gt++)ut[ft+gt]=ct[dt+gt]},e.GemmUtil=class{static getShapeOfGemmResult(ut,ct,ft,dt,ht){if(ut.length!==2||ft.length!==2)throw new Error("shape need to be of size 2");let gt,yt,vt;ct?(gt=ut[1],yt=ut[0]):(gt=ut[0],yt=ut[1]);let mt=-1;if(dt?(vt=ft[0],mt=1):(vt=ft[1],mt=0),ft[mt]!==yt)throw new Error("dimension mismatch");if(gt<=0||vt<=0||yt<=0)throw new Error("invalid shape specified");if(ht&&!ot.isValidBroadcast(ht,[gt,vt]))throw new Error("gemm: invalid bias shape for broadcast");return[gt,vt,yt]}};class nt{static tensorDataTypeFromProto(ct){switch(ct){case rt.onnx.TensorProto.DataType.INT8:return"int8";case rt.onnx.TensorProto.DataType.UINT8:return"uint8";case rt.onnx.TensorProto.DataType.BOOL:return"bool";case rt.onnx.TensorProto.DataType.INT16:return"int16";case rt.onnx.TensorProto.DataType.UINT16:return"uint16";case rt.onnx.TensorProto.DataType.INT32:return"int32";case rt.onnx.TensorProto.DataType.UINT32:return"uint32";case rt.onnx.TensorProto.DataType.FLOAT:return"float32";case rt.onnx.TensorProto.DataType.DOUBLE:return"float64";case rt.onnx.TensorProto.DataType.STRING:return"string";case rt.onnx.TensorProto.DataType.INT64:return"int32";case rt.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${rt.onnx.TensorProto.DataType[ct]}`)}}static tensorDataTypeStringToEnum(ct){switch(ct){case"int8":return rt.onnx.TensorProto.DataType.INT8;case"uint8":return rt.onnx.TensorProto.DataType.UINT8;case"bool":return rt.onnx.TensorProto.DataType.BOOL;case"int16":return rt.onnx.TensorProto.DataType.INT16;case"uint16":return rt.onnx.TensorProto.DataType.UINT16;case"int32":return rt.onnx.TensorProto.DataType.INT32;case"uint32":return rt.onnx.TensorProto.DataType.UINT32;case"float32":return rt.onnx.TensorProto.DataType.FLOAT;case"float64":return rt.onnx.TensorProto.DataType.DOUBLE;case"string":return rt.onnx.TensorProto.DataType.STRING;case"int64":return rt.onnx.TensorProto.DataType.INT64;case"uint64":return rt.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${ct}`)}}static tensorDimsFromProto(ct){return ct.map(ft=>_e.default.isLong(ft)?ft.toNumber():ft)}static tensorValueTypeFromProto(ct){return{tensorType:nt.tensorDataTypeFromProto(ct.elemType),shape:{dims:nt.tensorDimsFromProto(ct.shape.dim.map(ft=>ft.dimValue))}}}static tensorDimsFromORTFormat(ct){const ft=[];for(let dt=0;dt<ct.dimsLength();dt++)ft.push(et.longToNumber(ct.dims(dt)));return ft}static tensorAttributesFromORTFormat(ct){const ft=[];for(let dt=0;dt<ct.attributesLength();dt++)ft.push(ct.attributes(dt));return ft}}e.ProtoUtil=nt;class et{static longToNumber(ct,ft){return _e.default.isLong(ct)?ct.toNumber():ct instanceof b.flatbuffers.Long?_e.default.fromValue({low:ct.low,high:ct.high,unsigned:ft!=null&&ft}).toNumber():ct}static isLong(ct){return _e.default.isLong(ct)||ct instanceof b.flatbuffers.Long}}e.LongUtil=et;class d{static size(ct){return d.getSizeFromDimensionRange(ct,0,ct.length)}static sizeFromDimension(ct,ft){if(ft<0||ft>ct.length)throw new Error(`invalid dimension of ${ft} for sizeFromDimension as Tensor has ${ct.length} dimensions.`);return d.getSizeFromDimensionRange(ct,ft,ct.length)}static sizeToDimension(ct,ft){if(ft<0||ft>ct.length)throw new Error(`invalid dimension of ${ft} for sizeToDimension as Tensor has ${ct.length} dimensions.`);return d.getSizeFromDimensionRange(ct,0,ft)}static getSizeFromDimensionRange(ct,ft,dt){let ht=1;for(let gt=ft;gt<dt;gt++){if(ct[gt]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");ht*=ct[gt]}return ht}static computeStrides(ct){const ft=ct.length;if(ft===0)return[];if(ft===1)return[1];const dt=new Array(ft);dt[ft-1]=1,dt[ft-2]=ct[ft-1];for(let ht=ft-3;ht>=0;--ht)dt[ht]=dt[ht+1]*ct[ht+1];return dt}static transpose(ct){return ct.slice().reverse()}static indicesToOffset(ct,ft,dt){dt===void 0&&(dt=ct.length);let ht=0;for(let gt=0;gt<dt;++gt)ht+=ft[gt]*ct[gt];return ht}static offsetToIndices(ct,ft){const dt=ft.length;if(dt===0)return[];if(dt===1)return[ct*ft[0]];const ht=new Array(ft.length);for(let gt=0;gt<ht.length-1;++gt)ht[gt]=Math.floor(ct/ft[gt]),ct-=ht[gt]*ft[gt];return ht[ht.length-1]=ct,ht}static normalizeAxis(ct,ft){if(ct<-ft&&ct>=ft)throw new Error("unsupported axis for this operation.");return ct<0?ct+ft:ct}static normalizeAxes(ct,ft){return ct.map(dt=>this.normalizeAxis(dt,ft))}static incrementIndex(ct,ft,dt){if(ft.length===0||ct.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(dt===void 0)dt=ft.length;else if(dt<=0||dt>ft.length)throw new Error("Incorrect axis to increment on");for(let ht=dt-1;ht>=0&&(ct[ht]++,!(ct[ht]<ft[ht]));--ht)ct[ht]=0}static calculateReshapedDims(ct,ft){if(ft.length===0){if(ct.length===0||d.size(ct)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const dt=ft.length,ht=new Array(dt);let gt=-1,yt=1;for(let mt=0;mt<dt;mt++){if(ft[mt]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(ft[mt]===-1){if(gt!==-1)throw new Error("at most one dimension in shape hints can be -1");gt=mt}else{if(ft[mt]===0){if(mt>=ct.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");ht[mt]=ct[mt]}else ht[mt]=ft[mt];yt*=ht[mt]}}const vt=d.size(ct);if(gt!==-1){if(vt%yt!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${ct}] Output shape: [${ft}]`);ht[gt]=vt/yt}else if(yt!==vt)throw new Error("reshapedDims and originalDims don't have matching sizes");return ht}static sortBasedOnPerm(ct,ft){return ft?ft.map(dt=>ct[dt]):ct.slice().reverse()}static padShape(ct,ft){const dt=ct.length;return ct.map((ht,gt)=>ht+ft[gt]+ft[gt+dt])}static areEqual(ct,ft){return ct.length===ft.length&&ct.every((dt,ht)=>dt===ft[ht])}static validateDimsAndCalcSize(ct){if(ct.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let ft=1;for(const dt of ct){if(!Number.isInteger(dt))throw new TypeError(`Invalid shape: ${dt} is not an integer`);if(dt<0||dt>2147483647)throw new TypeError(`Invalid shape: length ${dt} is not allowed`);ft*=dt}return ft}static flattenShape(ct,ft){ft<0&&(ft+=ct.length);const dt=ct.reduce((gt,yt)=>gt*yt,1),ht=ct.slice(ft).reduce((gt,yt)=>gt*yt,1);return[dt/ht,ht]}static squeezeShape(ct,ft){const dt=new Array;ft=d.normalizeAxes(ft,ct.length);for(let ht=0;ht<ct.length;ht++){const gt=ft.indexOf(ht)>=0;if(gt&&ct[ht]!==1)throw new Error("squeeze an axis of size different than 1");(ft.length===0&&ct[ht]>1||ft.length>0&&!gt)&&dt.push(ct[ht])}return dt}static unsqueezeShape(ct,ft){const dt=new Array(ct.length+ft.length);dt.fill(0);for(let gt=0;gt<ft.length;gt++){const yt=d.normalizeAxis(ft[gt],dt.length);if(yt>=dt.length)throw new Error("'axes' has an out of range axis");if(dt[yt]!==0)throw new Error("'axes' has a duplicate axis");dt[yt]=1}let ht=0;for(let gt=0;gt<dt.length;gt++)dt[gt]===0&&(dt[gt]=ct[ht++]);if(ht!==ct.length)throw new Error("the unsqueezed dimension could not be established");return dt}}e.ShapeUtil=d,e.MathUtil=class{static sqr(ut,ct,ft,dt,ht){if(dt<0||dt>=ct.length)throw new Error("sourceIndex out of bounds");if(ft<0||ft>=ut.length)throw new Error("targetIndex out of bounds");if(dt+ht>ct.length)throw new Error("source indices to be copied are outside bounds");if(ft+ht>ut.length)throw new Error("target array is too small to hold result");for(let gt=0;gt<ht;gt++)ut[ft+gt]+=Math.pow(ct[dt+gt],2)}static axpy(ut,ct,ft,dt,ht,gt){if(dt<0||dt>=ct.length)throw new Error("sourceIndex out of bounds");if(ft<0||ft>=ut.length)throw new Error("targetIndex out of bounds");if(dt+ht>ct.length)throw new Error("source indices to be copied are outside bounds");if(ft+ht>ut.length)throw new Error("target array is too small to hold result");for(let yt=0;yt<ht;yt++)ut[ft+yt]+=gt*ct[dt+yt]}static powx(ut,ct,ft,dt,ht,gt){if(dt<0||dt>=ct.length)throw new Error("sourceIndex out of bounds");if(ft<0||ft>=ut.length)throw new Error("targetIndex out of bounds");if(dt+ht>ct.length)throw new Error("source indices to be copied are outside bounds");if(ft+ht>ut.length)throw new Error("target array is too small to hold result");for(let yt=0;yt<ht;yt++)ut[ft+yt]=Math.pow(ct[dt+yt],gt)}static mul(ut,ct,ft,dt,ht){if(dt<0||dt>=ct.length)throw new Error("sourceIndex out of bounds");if(ft<0||ft>=ut.length)throw new Error("targetIndex out of bounds");if(dt+ht>ct.length)throw new Error("source indices to be copied are outside bounds");if(ft+ht>ut.length)throw new Error("target array is too small to hold result");for(let gt=0;gt<ht;gt++)ut[ft+gt]=ct[dt+gt]*ut[ft+gt]}};class _{static splitShape(ct,ft,dt,ht){if(dt.length===0){if(!ht)throw new Error("need to know number of outputs when the 'split' attribute is not specified");_.determineSplit(ct[ft],ht,dt)}const gt=[],yt=[0];for(let vt=0;vt<dt.length;++vt){vt!==0&&yt.push(yt[vt-1]+dt[vt-1]);const mt=ct.slice();mt[ft]=dt[vt],gt.push(mt)}return[gt,yt]}static determineSplit(ct,ft,dt){if(ct%ft!=0)throw new Error("cannot split tensor to equal sized parts");for(let ht=0;ht<ft;++ht)dt.push(ct/ft)}}e.SplitUtil=_;class tt{static calcReduce(ct,ft,dt,ht,gt){const yt=ct.dims.slice(0);ft.length===0&&yt.forEach((_t,wt)=>ft.push(wt));const vt=tt.calcReduceShape(yt,ft,!0),mt=d.size(vt),bt=new at.Tensor(vt,ct.type),$t=d.computeStrides(vt),St=d.computeStrides(yt),Pt=new Array(yt.length);for(let _t=0;_t<mt;_t++){const wt=d.offsetToIndices(_t,$t);ot.fillIndex(wt,yt,Pt),bt.set(wt,tt.calcReduceByAxis(ct.numberData,ft,yt,0,d.indicesToOffset(Pt,St),ht,gt))}return dt?bt:new at.Tensor(tt.calcReduceShape(yt,ft,dt),bt.type,void 0,void 0,bt.data,bt.dataId)}static calcReduceByAxis(ct,ft,dt,ht,gt,yt,vt){let mt=0;if(ht>=ft.length)return yt(ct[gt]);const bt=ft[ht],$t=bt>=dt.length?1:d.size(dt.slice(bt+1));for(let St=0;St<dt[bt];St++)mt=St===0?tt.calcReduceByAxis(ct,ft,dt,ht+1,gt,yt,vt):vt(mt,tt.calcReduceByAxis(ct,ft,dt,ht+1,gt,yt,vt)),gt+=$t;return mt}static calcReduceShape(ct,ft,dt){const ht=ct.slice();for(let gt=0;gt<ft.length;gt++)ht[ft[gt]]=dt?1:0;return ht.filter(gt=>gt!==0)}}e.ReduceUtil=tt;class lt{static adjustPoolAttributes(ct,ft,dt,ht,gt,yt){if(!ct&&dt.length!==ft.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(ct)for(let vt=0;vt<ft.length-2;vt++)vt>=dt.length?dt.push(ft[vt+2]):dt[vt]=ft[vt+2];for(let vt=0;vt<dt.length;vt++)if(vt<ht.length){if(ht[vt]<0)throw new Error("strides should be greater than or equal to 1")}else ht.push(1);for(let vt=0;vt<dt.length;vt++)if(vt<gt.length){if(gt[vt]<0)throw new Error("dilations should be greater than or equal to 1")}else gt.push(1);for(let vt=0;vt<2*dt.length;vt++)if(vt<yt.length){if(yt[vt]<0)throw new Error("pad should be greater than or equal to 1")}else yt.push(0);for(let vt=0;vt<dt.length;vt++){if(dt[vt]<=0)throw new Error("kernel shapes need to be greater than 0");if(yt[vt]>=dt[vt]||yt[vt+dt.length]>=dt[vt])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(ct,ft,dt,ht,gt,yt){if(yt){if(gt.length!==2*(ct.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(ft.length!==ct.length-2)throw new Error("length of strides should be the length of data dimensions");if(ht.length!==ct.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let vt=0;vt<ct.length-2;vt++)lt.adjustPadAndReturnShape(ct[vt+2],ft[vt],dt[vt],ht[vt],gt,vt,vt+ct.length-2,yt)}}static computePoolOutputShape(ct,ft,dt,ht,gt,yt,vt){if(ft.length<=0)throw new Error("input shape must be of size greater than 0");const mt=[ft[0],ft[1]];return lt.computeShapeHelper(ct,ft,mt,dt,ht,gt,yt,vt),mt}static computeConvOutputShape(ct,ft,dt,ht,gt,yt,vt){if(ct.length<=0||ft.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const mt=[ct[0],ft[0]];return lt.computeShapeHelper(!1,ct,mt,dt,ht,gt,yt,vt),mt}static computeShapeHelper(ct,ft,dt,ht,gt,yt,vt,mt){if(ct)for(let bt=0;bt<ft.length-2;bt++)dt.push(1);else for(let bt=0;bt<ft.length-2;bt++)dt.push(lt.adjustPadAndReturnShape(ft[bt+2],ht[bt],gt[bt],yt[bt],vt,bt,bt+ft.length-2,mt))}static adjustPadAndReturnShape(ct,ft,dt,ht,gt,yt,vt,mt){const bt=dt*(ht-1)+1;if(!mt||mt==="NOTSET")return Math.floor((ct+gt[yt]+gt[vt]-bt)/ft+1);switch(mt){case"VALID":return gt[yt]=0,gt[vt]=0,Math.floor((ct-bt)/ft+1);case"SAME_LOWER":case"SAME_UPPER":if(dt!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const $t=((ct+ft-1)/ft-1)*ft+ht-ct;return gt[yt]=Math.floor(mt==="SAME_LOWER"?($t+1)/2:$t/2),gt[vt]=$t-gt[yt],Math.floor((ct+$t-ht)/ft+1)}default:throw new Error("Unsupported AutoPad type")}}}e.PoolConvUtil=lt,e.MIN_CLIP=-34028234663852886e22,e.MAX_CLIP=34028234663852886e22,e.decodeUtf8String=function(ut){return new TextDecoder().decode(ut)}},8408:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.version=void 0,e.version="1.16.3"},9544:function(o,e,s){var h,b=this&&this.__createBinding||(Object.create?function($t,St,Pt,_t){_t===void 0&&(_t=Pt);var wt=Object.getOwnPropertyDescriptor(St,Pt);wt&&!("get"in wt?!St.__esModule:wt.writable||wt.configurable)||(wt={enumerable:!0,get:function(){return St[Pt]}}),Object.defineProperty($t,_t,wt)}:function($t,St,Pt,_t){_t===void 0&&(_t=Pt),$t[_t]=St[Pt]}),_e=this&&this.__setModuleDefault||(Object.create?function($t,St){Object.defineProperty($t,"default",{enumerable:!0,value:St})}:function($t,St){$t.default=St}),rt=this&&this.__importStar||function($t){if($t&&$t.__esModule)return $t;var St={};if($t!=null)for(var Pt in $t)Pt!=="default"&&Object.prototype.hasOwnProperty.call($t,Pt)&&b(St,$t,Pt);return _e(St,$t),St};Object.defineProperty(e,"__esModule",{value:!0}),e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initializeRuntime=e.initializeWebAssemblyInstance=void 0;const at=s(2235),st=rt(s(1259)),ot=s(263),nt=()=>!!at.env.wasm.proxy&&typeof document<"u";let et,d,_,tt=!1,lt=!1,ut=!1;const ct=[],ft=[],dt=[],ht=[],gt=[],yt=[],vt=()=>{if(tt||!lt||ut||!et)throw new Error("worker not ready")},mt=$t=>{switch($t.data.type){case"init-wasm":tt=!1,$t.data.err?(ut=!0,d[1]($t.data.err)):(lt=!0,d[0]());break;case"init-ort":$t.data.err?_[1]($t.data.err):_[0]();break;case"create_allocate":$t.data.err?ct.shift()[1]($t.data.err):ct.shift()[0]($t.data.out);break;case"create_finalize":$t.data.err?ft.shift()[1]($t.data.err):ft.shift()[0]($t.data.out);break;case"create":$t.data.err?dt.shift()[1]($t.data.err):dt.shift()[0]($t.data.out);break;case"release":$t.data.err?ht.shift()[1]($t.data.err):ht.shift()[0]();break;case"run":$t.data.err?gt.shift()[1]($t.data.err):gt.shift()[0]($t.data.out);break;case"end-profiling":$t.data.err?yt.shift()[1]($t.data.err):yt.shift()[0]()}},bt=typeof document<"u"?(h=document==null?void 0:document.currentScript)===null||h===void 0?void 0:h.src:void 0;e.initializeWebAssemblyInstance=async()=>{if(nt()){if(lt)return;if(tt)throw new Error("multiple calls to 'initWasm()' detected.");if(ut)throw new Error("previous call to 'initWasm()' failed.");return tt=!0,at.env.wasm.wasmPaths===void 0&&bt&&bt.indexOf("blob:")!==0&&(at.env.wasm.wasmPaths=bt.substr(0,+bt.lastIndexOf("/")+1)),new Promise(($t,St)=>{et==null||et.terminate(),et=s(8050).Z(),et.onmessage=mt,d=[$t,St];const Pt={type:"init-wasm",in:at.env.wasm};et.postMessage(Pt)})}return(0,ot.initializeWebAssembly)(at.env.wasm)},e.initializeRuntime=async $t=>{if(nt())return vt(),new Promise((St,Pt)=>{_=[St,Pt];const _t={type:"init-ort",in:$t};et.postMessage(_t)});await st.initRuntime($t)},e.createSessionAllocate=async $t=>nt()?(vt(),new Promise((St,Pt)=>{ct.push([St,Pt]);const _t={type:"create_allocate",in:{model:$t}};et.postMessage(_t,[$t.buffer])})):st.createSessionAllocate($t),e.createSessionFinalize=async($t,St)=>nt()?(vt(),new Promise((Pt,_t)=>{ft.push([Pt,_t]);const wt={type:"create_finalize",in:{modeldata:$t,options:St}};et.postMessage(wt)})):st.createSessionFinalize($t,St),e.createSession=async($t,St)=>nt()?(vt(),new Promise((Pt,_t)=>{dt.push([Pt,_t]);const wt={type:"create",in:{model:$t,options:St}};et.postMessage(wt,[$t.buffer])})):st.createSession($t,St),e.releaseSession=async $t=>{if(nt())return vt(),new Promise((St,Pt)=>{ht.push([St,Pt]);const _t={type:"release",in:$t};et.postMessage(_t)});st.releaseSession($t)},e.run=async($t,St,Pt,_t,wt)=>nt()?(vt(),new Promise((xt,Tt)=>{gt.push([xt,Tt]);const It={type:"run",in:{sessionId:$t,inputIndices:St,inputs:Pt,outputIndices:_t,options:wt}};et.postMessage(It,st.extractTransferableBuffers(Pt))})):st.run($t,St,Pt,_t,wt),e.endProfiling=async $t=>{if(nt())return vt(),new Promise((St,Pt)=>{yt.push([St,Pt]);const _t={type:"end-profiling",in:$t};et.postMessage(_t)});st.endProfiling($t)}},7918:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const h=s(263),b=s(1497);e.setRunOptions=_e=>{const rt=(0,h.getInstance)();let at=0;const st=[],ot=_e||{};try{if((_e==null?void 0:_e.logSeverityLevel)===void 0)ot.logSeverityLevel=2;else if(typeof _e.logSeverityLevel!="number"||!Number.isInteger(_e.logSeverityLevel)||_e.logSeverityLevel<0||_e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${_e.logSeverityLevel}`);if((_e==null?void 0:_e.logVerbosityLevel)===void 0)ot.logVerbosityLevel=0;else if(typeof _e.logVerbosityLevel!="number"||!Number.isInteger(_e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${_e.logVerbosityLevel}`);(_e==null?void 0:_e.terminate)===void 0&&(ot.terminate=!1);let nt=0;return(_e==null?void 0:_e.tag)!==void 0&&(nt=(0,b.allocWasmString)(_e.tag,st)),at=rt._OrtCreateRunOptions(ot.logSeverityLevel,ot.logVerbosityLevel,!!ot.terminate,nt),at===0&&(0,b.checkLastError)("Can't create run options."),(_e==null?void 0:_e.extra)!==void 0&&(0,b.iterateExtraOptions)(_e.extra,"",new WeakSet,(et,d)=>{const _=(0,b.allocWasmString)(et,st),tt=(0,b.allocWasmString)(d,st);rt._OrtAddRunConfigEntry(at,_,tt)!==0&&(0,b.checkLastError)(`Can't set a run config entry: ${et} - ${d}.`)}),[at,st]}catch(nt){throw at!==0&&rt._OrtReleaseRunOptions(at),st.forEach(et=>rt._free(et)),nt}}},6640:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OnnxruntimeWebAssemblySessionHandler=void 0;const h=s(2806),b=s(2235),_e=s(2850),rt=s(9544);let at;e.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(st){const ot=await fetch(st);if(ot.status!==200)throw new Error(`failed to load model: ${st}`);const nt=await ot.arrayBuffer();return(0,rt.createSessionAllocate)(new Uint8Array(nt))}async loadModel(st,ot){if(at||(await(0,rt.initializeRuntime)(b.env),at=!0),typeof st=="string")if(typeof process<"u"&&process.versions&&process.versions.node){const nt=await(0,_e.promisify)(h.readFile)(st);[this.sessionId,this.inputNames,this.outputNames]=await(0,rt.createSession)(nt,ot)}else{const nt=await this.createSessionAllocate(st);[this.sessionId,this.inputNames,this.outputNames]=await(0,rt.createSessionFinalize)(nt,ot)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,rt.createSession)(st,ot)}async dispose(){return(0,rt.releaseSession)(this.sessionId)}async run(st,ot,nt){const et=[],d=[];Object.entries(st).forEach(ut=>{const ct=ut[0],ft=ut[1],dt=this.inputNames.indexOf(ct);if(dt===-1)throw new Error(`invalid input '${ct}'`);et.push(ft),d.push(dt)});const _=[];Object.entries(ot).forEach(ut=>{const ct=ut[0],ft=this.outputNames.indexOf(ct);if(ft===-1)throw new Error(`invalid output '${ct}'`);_.push(ft)});const tt=await(0,rt.run)(this.sessionId,d,et.map(ut=>[ut.type,ut.dims,ut.data]),_,nt),lt={};for(let ut=0;ut<tt.length;ut++)lt[this.outputNames[_[ut]]]=new b.Tensor(tt[ut][0],tt[ut][2],tt[ut][1]);return lt}startProfiling(){}endProfiling(){(0,rt.endProfiling)(this.sessionId)}}},7622:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const h=s(263),b=s(1497);e.setSessionOptions=_e=>{var rt,at,st,ot;const nt=(0,h.getInstance)();let et=0;const d=[],_=_e||{};(tt=>{tt.extra||(tt.extra={}),tt.extra.session||(tt.extra.session={});const lt=tt.extra.session;lt.use_ort_model_bytes_directly||(lt.use_ort_model_bytes_directly="1"),tt.executionProviders&&tt.executionProviders.some(ut=>(typeof ut=="string"?ut:ut.name)==="webgpu")&&(tt.enableMemPattern=!1)})(_);try{const tt=(ht=>{switch(ht){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${ht}`)}})((rt=_.graphOptimizationLevel)!==null&&rt!==void 0?rt:"all"),lt=(ht=>{switch(ht){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${ht}`)}})((at=_.executionMode)!==null&&at!==void 0?at:"sequential"),ut=typeof _.logId=="string"?(0,b.allocWasmString)(_.logId,d):0,ct=(st=_.logSeverityLevel)!==null&&st!==void 0?st:2;if(!Number.isInteger(ct)||ct<0||ct>4)throw new Error(`log serverity level is not valid: ${ct}`);const ft=(ot=_.logVerbosityLevel)!==null&&ot!==void 0?ot:0;if(!Number.isInteger(ft)||ft<0||ft>4)throw new Error(`log verbosity level is not valid: ${ft}`);const dt=typeof _.optimizedModelFilePath=="string"?(0,b.allocWasmString)(_.optimizedModelFilePath,d):0;return et=nt._OrtCreateSessionOptions(tt,!!_.enableCpuMemArena,!!_.enableMemPattern,lt,!!_.enableProfiling,0,ut,ct,ft,dt),et===0&&(0,b.checkLastError)("Can't create session options."),_.executionProviders&&((ht,gt,yt)=>{for(const vt of gt){let mt=typeof vt=="string"?vt:vt.name;switch(mt){case"xnnpack":mt="XNNPACK";break;case"webnn":if(mt="WEBNN",typeof vt!="string"){const $t=vt;if($t!=null&&$t.deviceType){const St=(0,b.allocWasmString)("deviceType",yt),Pt=(0,b.allocWasmString)($t.deviceType,yt);(0,h.getInstance)()._OrtAddSessionConfigEntry(ht,St,Pt)!==0&&(0,b.checkLastError)(`Can't set a session config entry: 'deviceType' - ${$t.deviceType}.`)}if($t!=null&&$t.powerPreference){const St=(0,b.allocWasmString)("powerPreference",yt),Pt=(0,b.allocWasmString)($t.powerPreference,yt);(0,h.getInstance)()._OrtAddSessionConfigEntry(ht,St,Pt)!==0&&(0,b.checkLastError)(`Can't set a session config entry: 'powerPreference' - ${$t.powerPreference}.`)}}break;case"webgpu":mt="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${mt}`)}const bt=(0,b.allocWasmString)(mt,yt);(0,h.getInstance)()._OrtAppendExecutionProvider(ht,bt)!==0&&(0,b.checkLastError)(`Can't append execution provider: ${mt}.`)}})(et,_.executionProviders,d),_.extra!==void 0&&(0,b.iterateExtraOptions)(_.extra,"",new WeakSet,(ht,gt)=>{const yt=(0,b.allocWasmString)(ht,d),vt=(0,b.allocWasmString)(gt,d);nt._OrtAddSessionConfigEntry(et,yt,vt)!==0&&(0,b.checkLastError)(`Can't set a session config entry: ${ht} - ${gt}.`)}),[et,d]}catch(tt){throw et!==0&&nt._OrtReleaseSessionOptions(et),d.forEach(lt=>nt._free(lt)),tt}}},7917:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.logLevelStringToEnum=e.tensorTypeToTypedArrayConstructor=e.getTensorElementSize=e.tensorDataTypeEnumToString=e.tensorDataTypeStringToEnum=void 0,e.tensorDataTypeStringToEnum=s=>{switch(s){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${s}`)}},e.tensorDataTypeEnumToString=s=>{switch(s){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${s}`)}},e.getTensorElementSize=s=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][s],e.tensorTypeToTypedArrayConstructor=s=>{switch(s){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${s}`)}},e.logLevelStringToEnum=s=>{switch(s){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${s}`)}}},1259:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initRuntime=void 0;const h=s(7918),b=s(7622),_e=s(7917),rt=s(263),at=s(1497);e.initRuntime=async ot=>{var nt,et;nt=ot.wasm.numThreads,et=(0,_e.logLevelStringToEnum)(ot.logLevel),(0,rt.getInstance)()._OrtInit(nt,et)!==0&&(0,at.checkLastError)("Can't initialize onnxruntime.")};const st=new Map;e.createSessionAllocate=ot=>{const nt=(0,rt.getInstance)(),et=nt._malloc(ot.byteLength);if(et===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${ot.byteLength}.`);return nt.HEAPU8.set(ot,et),[et,ot.byteLength]},e.createSessionFinalize=(ot,nt)=>{const et=(0,rt.getInstance)();let d=0,_=0,tt=[];const lt=[],ut=[];try{[_,tt]=(0,b.setSessionOptions)(nt),d=et._OrtCreateSession(ot[0],ot[1],_),d===0&&(0,at.checkLastError)("Can't create a session.");const[ct,ft]=(gt=>{const yt=(0,rt.getInstance)(),vt=yt.stackSave();try{const mt=yt.stackAlloc(8);return yt._OrtGetInputOutputCount(gt,mt,mt+4)!==0&&(0,at.checkLastError)("Can't get session input/output count."),[yt.HEAP32[mt/4],yt.HEAP32[mt/4+1]]}finally{yt.stackRestore(vt)}})(d),dt=[],ht=[];for(let gt=0;gt<ct;gt++){const yt=et._OrtGetInputName(d,gt);yt===0&&(0,at.checkLastError)("Can't get an input name."),lt.push(yt),dt.push(et.UTF8ToString(yt))}for(let gt=0;gt<ft;gt++){const yt=et._OrtGetOutputName(d,gt);yt===0&&(0,at.checkLastError)("Can't get an output name."),ut.push(yt),ht.push(et.UTF8ToString(yt))}return st.set(d,[d,lt,ut]),[d,dt,ht]}catch(ct){throw lt.forEach(ft=>et._OrtFree(ft)),ut.forEach(ft=>et._OrtFree(ft)),d!==0&&et._OrtReleaseSession(d),ct}finally{et._free(ot[0]),_!==0&&et._OrtReleaseSessionOptions(_),tt.forEach(ct=>et._free(ct))}},e.createSession=(ot,nt)=>{const et=(0,e.createSessionAllocate)(ot);return(0,e.createSessionFinalize)(et,nt)},e.releaseSession=ot=>{const nt=(0,rt.getInstance)(),et=st.get(ot);if(!et)throw new Error(`cannot release session. invalid session id: ${ot}`);const[d,_,tt]=et;_.forEach(lt=>nt._OrtFree(lt)),tt.forEach(lt=>nt._OrtFree(lt)),nt._OrtReleaseSession(d),st.delete(ot)},e.run=async(ot,nt,et,d,_)=>{const tt=(0,rt.getInstance)(),lt=st.get(ot);if(!lt)throw new Error(`cannot run inference. invalid session id: ${ot}`);const[ut,ct,ft]=lt,dt=nt.length,ht=d.length;let gt=0,yt=[];const vt=[],mt=[];try{[gt,yt]=(0,h.setRunOptions)(_);for(let wt=0;wt<dt;wt++){const xt=et[wt][0],Tt=et[wt][1],It=et[wt][2];let Ct,Rt;if(Array.isArray(It)){Rt=4*It.length,Ct=tt._malloc(Rt),mt.push(Ct);let jt=Ct/4;for(let Vt=0;Vt<It.length;Vt++){if(typeof It[Vt]!="string")throw new TypeError(`tensor data at index ${Vt} is not a string`);tt.HEAPU32[jt++]=(0,at.allocWasmString)(It[Vt],mt)}}else Rt=It.byteLength,Ct=tt._malloc(Rt),mt.push(Ct),tt.HEAPU8.set(new Uint8Array(It.buffer,It.byteOffset,Rt),Ct);const Ut=tt.stackSave(),kt=tt.stackAlloc(4*Tt.length);try{let jt=kt/4;Tt.forEach(Gt=>tt.HEAP32[jt++]=Gt);const Vt=tt._OrtCreateTensor((0,_e.tensorDataTypeStringToEnum)(xt),Ct,Rt,kt,Tt.length);Vt===0&&(0,at.checkLastError)(`Can't create tensor for input[${wt}].`),vt.push(Vt)}finally{tt.stackRestore(Ut)}}const bt=tt.stackSave(),$t=tt.stackAlloc(4*dt),St=tt.stackAlloc(4*dt),Pt=tt.stackAlloc(4*ht),_t=tt.stackAlloc(4*ht);try{let wt=$t/4,xt=St/4,Tt=Pt/4,It=_t/4;for(let kt=0;kt<dt;kt++)tt.HEAPU32[wt++]=vt[kt],tt.HEAPU32[xt++]=ct[nt[kt]];for(let kt=0;kt<ht;kt++)tt.HEAPU32[Tt++]=0,tt.HEAPU32[It++]=ft[d[kt]];let Ct=tt._OrtRun(ut,St,$t,dt,_t,ht,Pt,gt);const Rt=tt.jsepRunPromise;Rt&&Rt.then!==void 0&&(Ct=await Rt);const Ut=[];Ct!==0&&(0,at.checkLastError)("failed to call OrtRun().");for(let kt=0;kt<ht;kt++){const jt=tt.HEAPU32[Pt/4+kt],Vt=tt.stackSave(),Gt=tt.stackAlloc(16);let Yt,er=0;try{Ct=tt._OrtGetTensorData(jt,Gt,Gt+4,Gt+8,Gt+12),Ct!==0&&(0,at.checkLastError)(`Can't access output tensor data on index ${kt}.`);let nr=Gt/4;const Et=tt.HEAPU32[nr++];er=tt.HEAPU32[nr++];const Ot=tt.HEAPU32[nr++],At=tt.HEAPU32[nr++],Nt=[];for(let Lt=0;Lt<At;Lt++)Nt.push(tt.HEAPU32[Ot/4+Lt]);tt._OrtFree(Ot);const Mt=Nt.length===0?1:Nt.reduce((Lt,Wt)=>Lt*Wt);if(Yt=(0,_e.tensorDataTypeEnumToString)(Et),Yt==="string"){const Lt=[];let Wt=er/4;for(let Xt=0;Xt<Mt;Xt++){const ar=tt.HEAPU32[Wt++],Ht=Xt===Mt-1?void 0:tt.HEAPU32[Wt]-ar;Lt.push(tt.UTF8ToString(ar,Ht))}Ut.push([Yt,Nt,Lt])}else{const Lt=new((0,_e.tensorTypeToTypedArrayConstructor)(Yt))(Mt);new Uint8Array(Lt.buffer,Lt.byteOffset,Lt.byteLength).set(tt.HEAPU8.subarray(er,er+Lt.byteLength)),Ut.push([Yt,Nt,Lt])}}finally{tt.stackRestore(Vt),Yt==="string"&&er&&tt._free(er),tt._OrtReleaseTensor(jt)}}return Ut}finally{tt.stackRestore(bt)}}finally{vt.forEach(bt=>tt._OrtReleaseTensor(bt)),mt.forEach(bt=>tt._free(bt)),gt!==0&&tt._OrtReleaseRunOptions(gt),yt.forEach(bt=>tt._free(bt))}},e.endProfiling=ot=>{const nt=(0,rt.getInstance)(),et=st.get(ot);if(!et)throw new Error("invalid session id");const d=et[0],_=nt._OrtEndProfiling(d);_===0&&(0,at.checkLastError)("Can't get an profile file name."),nt._OrtFree(_)},e.extractTransferableBuffers=ot=>{const nt=[];for(const et of ot){const d=et[2];!Array.isArray(d)&&d.buffer&&nt.push(d.buffer)}return nt}},263:function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(_,tt,lt,ut){ut===void 0&&(ut=lt);var ct=Object.getOwnPropertyDescriptor(tt,lt);ct&&!("get"in ct?!tt.__esModule:ct.writable||ct.configurable)||(ct={enumerable:!0,get:function(){return tt[lt]}}),Object.defineProperty(_,ut,ct)}:function(_,tt,lt,ut){ut===void 0&&(ut=lt),_[ut]=tt[lt]}),b=this&&this.__setModuleDefault||(Object.create?function(_,tt){Object.defineProperty(_,"default",{enumerable:!0,value:tt})}:function(_,tt){_.default=tt}),_e=this&&this.__importStar||function(_){if(_&&_.__esModule)return _;var tt={};if(_!=null)for(var lt in _)lt!=="default"&&Object.prototype.hasOwnProperty.call(_,lt)&&h(tt,_,lt);return b(tt,_),tt};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const rt=_e(s(6449)),at=s(932),st=s(3474);let ot,nt=!1,et=!1,d=!1;e.initializeWebAssembly=async _=>{if(nt)return Promise.resolve();if(et)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(d)throw new Error("previous call to 'initializeWebAssembly()' failed.");et=!0;const tt=_.initTimeout,lt=_.numThreads,ut=_.simd,ct=lt>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),ft=ut&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),dt=_.wasmPaths,ht=typeof dt=="string"?dt:void 0,gt=((bt,$t)=>$t?bt?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":bt?"ort-wasm-simd.wasm":"ort-wasm.wasm")(ft,ct),yt=typeof dt=="object"?dt[gt]:void 0;let vt=!1;const mt=[];if(tt>0&&mt.push(new Promise(bt=>{setTimeout(()=>{vt=!0,bt()},tt)})),mt.push(new Promise((bt,$t)=>{const St=ct?st:at,Pt={locateFile:(_t,wt)=>ct&&_t.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([s(4154)],{type:"text/javascript"})):_t.endsWith(".wasm")?yt||(ht??wt)+gt:wt+_t};if(ct)if(typeof Blob>"u")Pt.mainScriptUrlOrBlob=rt.join(__dirname,"ort-wasm-threaded.js");else{const _t=`var ortWasmThreaded=(function(){var _scriptDir;return ${St.toString()}})();`;Pt.mainScriptUrlOrBlob=new Blob([_t],{type:"text/javascript"})}St(Pt).then(_t=>{et=!1,nt=!0,ot=_t,bt()},_t=>{et=!1,d=!0,$t(_t)})})),await Promise.race(mt),vt)throw new Error(`WebAssembly backend initializing failed due to timeout: ${tt}ms`)},e.getInstance=()=>{if(nt&&ot)return ot;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var _;!nt||et||d||(et=!0,(_=ot.PThread)===null||_===void 0||_.terminateAllThreads(),ot=void 0,et=!1,nt=!1,d=!0)}},1497:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.checkLastError=e.iterateExtraOptions=e.allocWasmString=void 0;const h=s(263);e.allocWasmString=(b,_e)=>{const rt=(0,h.getInstance)(),at=rt.lengthBytesUTF8(b)+1,st=rt._malloc(at);return rt.stringToUTF8(b,st,at),_e.push(st),st},e.iterateExtraOptions=(b,_e,rt,at)=>{if(typeof b=="object"&&b!==null){if(rt.has(b))throw new Error("Circular reference in options");rt.add(b)}Object.entries(b).forEach(([st,ot])=>{const nt=_e?_e+st:st;if(typeof ot=="object")(0,e.iterateExtraOptions)(ot,nt+".",rt,at);else if(typeof ot=="string"||typeof ot=="number")at(nt,ot.toString());else{if(typeof ot!="boolean")throw new Error("Can't handle extra config type: "+typeof ot);at(nt,ot?"1":"0")}})},e.checkLastError=b=>{const _e=(0,h.getInstance)(),rt=_e.stackSave();try{const at=_e.stackAlloc(8);_e._OrtGetLastError(at,at+4);const st=_e.HEAP32[at/4],ot=_e.HEAPU32[at/4+1],nt=ot?_e.UTF8ToString(ot):"";throw new Error(`${b} ERROR_CODE: ${st}, ERROR_MESSAGE: ${nt}`)}finally{_e.stackRestore(rt)}}},8050:(o,e,s)=>{s.d(e,{Z:()=>_e});var h=s(6614),b=s.n(h);function _e(){return b()('/*!\n* ONNX Runtime Web v1.16.3\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const n=r(263),a=r(497);t.setRunOptions=e=>{const t=(0,n.getInstance)();let r=0;const o=[],i=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))i.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))i.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(i.terminate=!1);let n=0;return void 0!==(null==e?void 0:e.tag)&&(n=(0,a.allocWasmString)(e.tag,o)),r=t._OrtCreateRunOptions(i.logSeverityLevel,i.logVerbosityLevel,!!i.terminate,n),0===r&&(0,a.checkLastError)("Can\'t create run options."),void 0!==(null==e?void 0:e.extra)&&(0,a.iterateExtraOptions)(e.extra,"",new WeakSet,((e,n)=>{const i=(0,a.allocWasmString)(e,o),s=(0,a.allocWasmString)(n,o);0!==t._OrtAddRunConfigEntry(r,i,s)&&(0,a.checkLastError)(`Can\'t set a run config entry: ${e} - ${n}.`)})),[r,o]}catch(e){throw 0!==r&&t._OrtReleaseRunOptions(r),o.forEach((e=>t._free(e))),e}}},622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const n=r(263),a=r(497);t.setSessionOptions=e=>{var t,r,o,i;const s=(0,n.getInstance)();let u=0;const c=[],l=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(l);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=l.graphOptimizationLevel)&&void 0!==t?t:"all"),f=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(r=l.executionMode)&&void 0!==r?r:"sequential"),d="string"==typeof l.logId?(0,a.allocWasmString)(l.logId,c):0,p=null!==(o=l.logSeverityLevel)&&void 0!==o?o:2;if(!Number.isInteger(p)||p<0||p>4)throw new Error(`log serverity level is not valid: ${p}`);const g=null!==(i=l.logVerbosityLevel)&&void 0!==i?i:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof l.optimizedModelFilePath?(0,a.allocWasmString)(l.optimizedModelFilePath,c):0;return u=s._OrtCreateSessionOptions(e,!!l.enableCpuMemArena,!!l.enableMemPattern,f,!!l.enableProfiling,0,d,p,g,h),0===u&&(0,a.checkLastError)("Can\'t create session options."),l.executionProviders&&((e,t,r)=>{for(const o of t){let t="string"==typeof o?o:o.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof o){const t=o;if(null==t?void 0:t.deviceType){const o=(0,a.allocWasmString)("deviceType",r),i=(0,a.allocWasmString)(t.deviceType,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'deviceType\' - ${t.deviceType}.`)}if(null==t?void 0:t.powerPreference){const o=(0,a.allocWasmString)("powerPreference",r),i=(0,a.allocWasmString)(t.powerPreference,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'powerPreference\' - ${t.powerPreference}.`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${t}`)}const i=(0,a.allocWasmString)(t,r);0!==(0,n.getInstance)()._OrtAppendExecutionProvider(e,i)&&(0,a.checkLastError)(`Can\'t append execution provider: ${t}.`)}})(u,l.executionProviders,c),void 0!==l.extra&&(0,a.iterateExtraOptions)(l.extra,"",new WeakSet,((e,t)=>{const r=(0,a.allocWasmString)(e,c),n=(0,a.allocWasmString)(t,c);0!==s._OrtAddSessionConfigEntry(u,r,n)&&(0,a.checkLastError)(`Can\'t set a session config entry: ${e} - ${t}.`)})),[u,c]}catch(e){throw 0!==u&&s._OrtReleaseSessionOptions(u),c.forEach((e=>s._free(e))),e}}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initRuntime=void 0;const n=r(918),a=r(622),o=r(917),i=r(263),s=r(497);t.initRuntime=async e=>{var t,r;t=e.wasm.numThreads,r=(0,o.logLevelStringToEnum)(e.logLevel),0!==(0,i.getInstance)()._OrtInit(t,r)&&(0,s.checkLastError)("Can\'t initialize onnxruntime.")};const u=new Map;t.createSessionAllocate=e=>{const t=(0,i.getInstance)(),r=t._malloc(e.byteLength);if(0===r)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},t.createSessionFinalize=(e,t)=>{const r=(0,i.getInstance)();let n=0,o=0,c=[];const l=[],f=[];try{[o,c]=(0,a.setSessionOptions)(t),n=r._OrtCreateSession(e[0],e[1],o),0===n&&(0,s.checkLastError)("Can\'t create a session.");const[d,p]=(e=>{const t=(0,i.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);return 0!==t._OrtGetInputOutputCount(e,r,r+4)&&(0,s.checkLastError)("Can\'t get session input/output count."),[t.HEAP32[r/4],t.HEAP32[r/4+1]]}finally{t.stackRestore(r)}})(n),g=[],h=[];for(let e=0;e<d;e++){const t=r._OrtGetInputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an input name."),l.push(t),g.push(r.UTF8ToString(t))}for(let e=0;e<p;e++){const t=r._OrtGetOutputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an output name."),f.push(t),h.push(r.UTF8ToString(t))}return u.set(n,[n,l,f]),[n,g,h]}catch(e){throw l.forEach((e=>r._OrtFree(e))),f.forEach((e=>r._OrtFree(e))),0!==n&&r._OrtReleaseSession(n),e}finally{r._free(e[0]),0!==o&&r._OrtReleaseSessionOptions(o),c.forEach((e=>r._free(e)))}},t.createSession=(e,r)=>{const n=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(n,r)},t.releaseSession=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);const[n,a,o]=r;a.forEach((e=>t._OrtFree(e))),o.forEach((e=>t._OrtFree(e))),t._OrtReleaseSession(n),u.delete(e)},t.run=async(e,t,r,a,c)=>{const l=(0,i.getInstance)(),f=u.get(e);if(!f)throw new Error(`cannot run inference. invalid session id: ${e}`);const[d,p,g]=f,h=t.length,m=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,n.setRunOptions)(c);for(let e=0;e<h;e++){const t=r[e][0],n=r[e][1],a=r[e][2];let i,u;if(Array.isArray(a)){u=4*a.length,i=l._malloc(u),w.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,s.allocWasmString)(a[t],w)}}else u=a.byteLength,i=l._malloc(u),w.push(i),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),i);const c=l.stackSave(),f=l.stackAlloc(4*n.length);try{let r=f/4;n.forEach((e=>l.HEAP32[r++]=e));const a=l._OrtCreateTensor((0,o.tensorDataTypeStringToEnum)(t),i,u,f,n.length);0===a&&(0,s.checkLastError)(`Can\'t create tensor for input[${e}].`),b.push(a)}finally{l.stackRestore(c)}}const e=l.stackSave(),i=l.stackAlloc(4*h),u=l.stackAlloc(4*h),f=l.stackAlloc(4*m),_=l.stackAlloc(4*m);try{let e=i/4,r=u/4,n=f/4,c=_/4;for(let n=0;n<h;n++)l.HEAPU32[e++]=b[n],l.HEAPU32[r++]=p[t[n]];for(let e=0;e<m;e++)l.HEAPU32[n++]=0,l.HEAPU32[c++]=g[a[e]];let v=l._OrtRun(d,u,i,h,_,m,f,y);const w=l.jsepRunPromise;w&&void 0!==w.then&&(v=await w);const O=[];0!==v&&(0,s.checkLastError)("failed to call OrtRun().");for(let e=0;e<m;e++){const t=l.HEAPU32[f/4+e],r=l.stackSave(),n=l.stackAlloc(16);let a,i=0;try{v=l._OrtGetTensorData(t,n,n+4,n+8,n+12),0!==v&&(0,s.checkLastError)(`Can\'t access output tensor data on index ${e}.`);let r=n/4;const u=l.HEAPU32[r++];i=l.HEAPU32[r++];const c=l.HEAPU32[r++],f=l.HEAPU32[r++],d=[];for(let e=0;e<f;e++)d.push(l.HEAPU32[c/4+e]);l._OrtFree(c);const p=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=(0,o.tensorDataTypeEnumToString)(u),"string"===a){const e=[];let t=i/4;for(let r=0;r<p;r++){const n=l.HEAPU32[t++],a=r===p-1?void 0:l.HEAPU32[t]-n;e.push(l.UTF8ToString(n,a))}O.push([a,d,e])}else{const e=new((0,o.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(i,i+e.byteLength)),O.push([a,d,e])}}finally{l.stackRestore(r),"string"===a&&i&&l._free(i),l._OrtReleaseTensor(t)}}return O}finally{l.stackRestore(e)}}finally{b.forEach((e=>l._OrtReleaseTensor(e))),w.forEach((e=>l._free(e))),0!==y&&l._OrtReleaseRunOptions(y),v.forEach((e=>l._free(e)))}},t.endProfiling=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error("invalid session id");const n=r[0],a=t._OrtEndProfiling(n);0===a&&(0,s.checkLastError)("Can\'t get an profile file name."),t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const r of e){const e=r[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(r(449)),s=r(932),u=r(474);let c,l=!1,f=!1,d=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,n=e.numThreads,a=e.simd,o=n>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),p=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g=e.wasmPaths,h="string"==typeof g?g:void 0,m=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(p,o),y="object"==typeof g?g[m]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const n=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([r(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=h?h:t)+m:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join(__dirname,"ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${n.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}n(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,d=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||d||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,d=!0)}},497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkLastError=t.iterateExtraOptions=t.allocWasmString=void 0;const n=r(263);t.allocWasmString=(e,t)=>{const r=(0,n.getInstance)(),a=r.lengthBytesUTF8(e)+1,o=r._malloc(a);return r.stringToUTF8(e,o,a),t.push(o),o},t.iterateExtraOptions=(e,r,n,a)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((([e,o])=>{const i=r?r+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",n,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))},t.checkLastError=e=>{const t=(0,n.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);t._OrtGetLastError(r,r+4);const n=t.HEAP32[r/4],a=t.HEAPU32[r/4+1],o=a?t.UTF8ToString(a):"";throw new Error(`${e} ERROR_CODE: ${n}, ERROR_MESSAGE: ${o}`)}finally{t.stackRestore(r)}}},474:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){function t(){return k.buffer!=x.buffer&&Y(),x}function n(){return k.buffer!=x.buffer&&Y(),I}function a(){return k.buffer!=x.buffer&&Y(),U}function o(){return k.buffer!=x.buffer&&Y(),L}function i(){return k.buffer!=x.buffer&&Y(),W}var s,u,c=e;c.ready=new Promise(((e,t)=>{s=e,u=t}));var l,f,d,p=Object.assign({},c),g="./this.program",h=(e,t)=>{throw t},m="object"==typeof window,y="function"==typeof importScripts,v="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b=c.ENVIRONMENT_IS_PTHREAD||!1,w="";function _(e){return c.locateFile?c.locateFile(e,w):w+e}if(v){var O=r(384),S=r(908);let t;w=y?S.dirname(w)+"/":__dirname+"/",l=(e,t)=>(e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFileSync(e,t?void 0:"utf8")),d=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!c.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),h=(e,t)=>{throw process.exitCode=e,t},c.inspect=()=>"[Emscripten Module object]";try{t=r(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}global.Worker=t.Worker}else(m||y)&&(y?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),_scriptDir&&(w=_scriptDir),w=0!==w.indexOf("blob:")?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",v||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},y&&(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)}));v&&"undefined"==typeof performance&&(global.performance=r(953).performance);var E=console.log.bind(console),A=console.error.bind(console);v&&(E=(...e)=>O.writeSync(1,e.join(" ")+"\\n"),A=(...e)=>O.writeSync(2,e.join(" ")+"\\n"));var T,M=c.print||E,R=c.printErr||A;Object.assign(c,p),p=null,c.thisProgram&&(g=c.thisProgram),c.quit&&(h=c.quit),c.wasmBinary&&(T=c.wasmBinary);var F=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&te("no native wasm support detected");var k,C,P,D,x,I,U,L,W,H=!1;function Y(){var e=k.buffer;c.HEAP8=x=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=U=new Int32Array(e),c.HEAPU8=I=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=L=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=W=new Float64Array(e)}var j=c.INITIAL_MEMORY||16777216;if(5242880<=j||te("INITIAL_MEMORY should be larger than STACK_SIZE, was "+j+"! (STACK_SIZE=5242880)"),b)k=c.wasmMemory;else if(c.wasmMemory)k=c.wasmMemory;else if(!((k=new WebAssembly.Memory({initial:j/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw R("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),v&&R("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Y(),j=k.buffer.byteLength;var z,G=[],N=[],B=[],$=0;function q(){return F||0<$}var V,J,X=0,K=null,Z=null;function Q(){X++,c.monitorRunDependencies&&c.monitorRunDependencies(X)}function ee(){if(X--,c.monitorRunDependencies&&c.monitorRunDependencies(X),0==X&&(null!==K&&(clearInterval(K),K=null),Z)){var e=Z;Z=null,e()}}function te(e){throw c.onAbort&&c.onAbort(e),R(e="Aborted("+e+")"),H=!0,D=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}function re(e){return e.startsWith("data:application/octet-stream;base64,")}function ne(e){if(e==V&&T)return new Uint8Array(T);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}function ae(e,t,r){return function(e){if(!T&&(m||y)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>ne(e)));if(f)return new Promise(((t,r)=>{f(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>ne(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{R("failed to asynchronously prepare wasm: "+e),te(e)}))}function oe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function ie(e){e.terminate(),e.onmessage=()=>{}}function se(e){(e=ge.Fa[e])||te(),ge.fb(e)}function ue(e){var t=ge.Za();if(!t)return 6;ge.Ia.push(t),ge.Fa[e.Ha]=t,t.Ha=e.Ha;var r={cmd:"run",start_routine:e.gb,arg:e.Ya,pthread_ptr:e.Ha};return v&&t.unref(),t.postMessage(r,e.mb),0}re(V="ort-wasm-threaded.wasm")||(V=_(V));var ce="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,le=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&ce)return ce.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},fe=(e,t)=>(e>>>=0)?le(n(),e,t):"";function de(e){if(b)return qe(1,1,e);D=e,q()||(ge.hb(),c.onExit&&c.onExit(e),H=!0),h(e,new oe(e))}var pe=e=>{if(D=e,b)throw me(e),"unwind";de(e)},ge={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){b?ge.ab():ge.$a()},$a:function(){G.unshift((()=>{Q(),ge.bb((()=>ee()))}))},ab:function(){ge.receiveObjectTransfer=ge.eb,ge.threadInitTLS=ge.Sa,ge.setExitStatus=ge.Ra,F=!1},Ra:function(e){D=e},rb:["$terminateWorker"],hb:function(){for(var e of ge.Ia)ie(e);for(e of ge.La)ie(e);ge.La=[],ge.Ia=[],ge.Fa=[]},fb:function(e){var t=e.Ha;delete ge.Fa[t],ge.La.push(e),ge.Ia.splice(ge.Ia.indexOf(e),1),e.Ha=0,yt(t)},eb:function(){},Sa:function(){ge.Ta.forEach((e=>e()))},cb:e=>new Promise((t=>{e.onmessage=r=>{var n=(r=r.data).cmd;if(r.targetThread&&r.targetThread!=dt()){var a=ge.Fa[r.qb];a?a.postMessage(r,r.transferList):R(\'Internal error! Worker sent a message "\'+n+\'" to target pthread \'+r.targetThread+", but that thread no longer exists!")}else"checkMailbox"===n?He():"spawnThread"===n?ue(r):"cleanupThread"===n?se(r.thread):"killThread"===n?(r=r.thread,n=ge.Fa[r],delete ge.Fa[r],ie(n),yt(r),ge.Ia.splice(ge.Ia.indexOf(n),1),n.Ha=0):"cancelThread"===n?ge.Fa[r.thread].postMessage({cmd:"cancel"}):"loaded"===n?(e.loaded=!0,t(e)):"alert"===n?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?e.postMessage(r):"callHandler"===n?c[r.handler](...r.args):n&&R("worker sent an unknown command "+n)},e.onerror=e=>{throw R("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},v&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})));var r,n=[];for(r of["onExit","onAbort","print","printErr"])c.hasOwnProperty(r)&&n.push(r);e.postMessage({cmd:"load",handlers:n,urlOrBlob:c.mainScriptUrlOrBlob||_scriptDir,wasmMemory:k,wasmModule:P})})),bb:function(e){e()},Xa:function(){var e=_("ort-wasm-threaded.worker.js");e=new Worker(e),ge.La.push(e)},Za:function(){return 0==ge.La.length&&(ge.Xa(),ge.cb(ge.La[0])),ge.La.pop()}};c.PThread=ge;var he=e=>{for(;0<e.length;)e.shift()(c)};function me(e){if(b)return qe(2,0,e);pe(e)}c.establishStackSpace=function(){var e=dt(),t=a()[e+52>>2>>>0];e=a()[e+56>>2>>>0],_t(t,t-e),St(t)};var ye=[];function ve(e){this.Oa=e-24,this.Wa=function(e){o()[this.Oa+4>>2>>>0]=e},this.Va=function(e){o()[this.Oa+8>>2>>>0]=e},this.Pa=function(e,t){this.Ua(),this.Wa(e),this.Va(t)},this.Ua=function(){o()[this.Oa+16>>2>>>0]=0}}function be(e,t,r,n){return b?qe(3,1,e,t,r,n):we(e,t,r,n)}function we(e,t,r,n){if(e>>>=0,t>>>=0,r>>>=0,n>>>=0,"undefined"==typeof SharedArrayBuffer)return R("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return b&&0===a.length?be(e,t,r,n):(e={gb:r,Ha:e,Ya:n,mb:a},b?(e.ob="spawnThread",postMessage(e,a),0):ue(e))}function _e(e,t,r){return b?qe(4,1,e,t,r):0}function Oe(e,t){if(b)return qe(5,1,e,t)}c.invokeEntryPoint=function(e,t){var r=ye[e];r||(e>=ye.length&&(ye.length=e+1),ye[e]=r=z.get(e)),e=r(t),q()?ge.Ra(e):vt(e)};var Se=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},Ee=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Ae=(e,t,r)=>Ee(e,n(),t,r);function Te(e,t){if(b)return qe(6,1,e,t)}function Me(e,t,r){if(b)return qe(7,1,e,t,r)}function Re(e,t,r){return b?qe(8,1,e,t,r):0}function Fe(e,t){if(b)return qe(9,1,e,t)}function ke(e,t,r){if(b)return qe(10,1,e,t,r)}function Ce(e,t,r,n){if(b)return qe(11,1,e,t,r,n)}function Pe(e,t,r,n){if(b)return qe(12,1,e,t,r,n)}function De(e,t,r,n){if(b)return qe(13,1,e,t,r,n)}function xe(e){if(b)return qe(14,1,e)}function Ie(e,t){if(b)return qe(15,1,e,t)}function Ue(e,t,r){if(b)return qe(16,1,e,t,r)}var Le=e=>{if(!H)try{if(e(),!q())try{b?vt(D):pe(D)}catch(e){e instanceof oe||"unwind"==e||h(1,e)}}catch(e){e instanceof oe||"unwind"==e||h(1,e)}};function We(e){e>>>=0,"function"==typeof Atomics.nb&&(Atomics.nb(a(),e>>2,e).value.then(He),e+=128,Atomics.store(a(),e>>2,1))}function He(){var e=dt();e&&(We(e),Le((()=>bt())))}c.__emscripten_thread_mailbox_await=We,c.checkMailbox=He;var Ye=e=>0==e%4&&(0!=e%100||0==e%400),je=[0,31,60,91,121,152,182,213,244,274,305,335],ze=[0,31,59,90,120,151,181,212,243,273,304,334];function Ge(e,t,r,n,a,o,i,s){return b?qe(17,1,e,t,r,n,a,o,i,s):-52}function Ne(e,t,r,n,a,o,i){if(b)return qe(18,1,e,t,r,n,a,o,i)}var Be=e=>{var t=Se(e)+1,r=pt(t);return r&&Ae(e,r,t),r},$e=e=>{var t=Ot();return e=e(),St(t),e};function qe(e,t){var r=arguments.length-2,n=arguments;return $e((()=>{for(var a=Et(8*r),o=a>>3,s=0;s<r;s++){var u=n[2+s];i()[o+s>>>0]=u}return mt(e,r,a,t)}))}var Ve,Je=[],Xe={},Ke=()=>{if(!Ve){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(e in Xe)void 0===Xe[e]?delete t[e]:t[e]=Xe[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Ve=r}return Ve};function Ze(e,r){if(b)return qe(19,1,e,r);e>>>=0,r>>>=0;var n=0;return Ke().forEach((function(a,i){var s=r+n;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,n+=a.length+1})),0}function Qe(e,t){if(b)return qe(20,1,e,t);e>>>=0,t>>>=0;var r=Ke();o()[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),o()[t>>2>>>0]=n,0}function et(e){return b?qe(21,1,e):52}function tt(e,t,r,n){return b?qe(22,1,e,t,r,n):52}function rt(e,t,r,n,a){return b?qe(23,1,e,t,r,n,a):70}var nt=[null,[],[]];function at(e,t,r,a){if(b)return qe(24,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var i=0,s=0;s<r;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=n()[u+l>>>0],d=nt[e];0===f||10===f?((1===e?M:R)(le(d,0)),d.length=0):d.push(f)}i+=c}return o()[a>>2>>>0]=i,0}var ot=e=>(ot=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(v)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}te("initRandomDevice")})())(e),it=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31],ut=(e,r)=>{t().set(e,r>>>0)};function ct(e,t,r,n){function o(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function i(e,t){return o(e,t,"0")}function s(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Ja;for(e=new Date(new Date(e.Ka+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Ye(e.getFullYear())?it:st)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),r=u(r),0>=s(t,e)?0>=s(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0,n>>>=0;var l=a()[n+40>>2>>>0];for(var f in n={kb:a()[n>>2>>>0],jb:a()[n+4>>2>>>0],Ma:a()[n+8>>2>>>0],Qa:a()[n+12>>2>>>0],Na:a()[n+16>>2>>>0],Ka:a()[n+20>>2>>>0],Ga:a()[n+24>>2>>>0],Ja:a()[n+28>>2>>>0],sb:a()[n+32>>2>>>0],ib:a()[n+36>>2>>>0],lb:l?fe(l):""},r=fe(r),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),l[f]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(f in l={"%a":e=>d[e.Ga].substring(0,3),"%A":e=>d[e.Ga],"%b":e=>p[e.Na].substring(0,3),"%B":e=>p[e.Na],"%C":e=>i((e.Ka+1900)/100|0,2),"%d":e=>i(e.Qa,2),"%e":e=>o(e.Qa,2," "),"%g":e=>c(e).toString().substring(2),"%G":e=>c(e),"%H":e=>i(e.Ma,2),"%I":e=>(0==(e=e.Ma)?e=12:12<e&&(e-=12),i(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.Na-1;t+=(Ye(e.Ka+1900)?it:st)[r++]);return i(e.Qa+t,3)},"%m":e=>i(e.Na+1,2),"%M":e=>i(e.jb,2),"%n":()=>"\\n","%p":e=>0<=e.Ma&&12>e.Ma?"AM":"PM","%S":e=>i(e.kb,2),"%t":()=>"\\t","%u":e=>e.Ga||7,"%U":e=>i(Math.floor((e.Ja+7-e.Ga)/7),2),"%V":e=>{var t=Math.floor((e.Ja+7-(e.Ga+6)%7)/7);if(2>=(e.Ga+371-e.Ja-2)%7&&t++,t)53==t&&(4==(r=(e.Ga+371-e.Ja)%7)||3==r&&Ye(e.Ka)||(t=1));else{t=52;var r=(e.Ga+7-e.Ja-1)%7;(4==r||5==r&&Ye(e.Ka%400-1))&&t++}return i(t,2)},"%w":e=>e.Ga,"%W":e=>i(Math.floor((e.Ja+7-(e.Ga+6)%7)/7),2),"%y":e=>(e.Ka+1900).toString().substring(2),"%Y":e=>e.Ka+1900,"%z":e=>{var t=0<=(e=e.ib);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.lb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),l)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),l[f](n)));return f=function(e){var t=Array(Se(e)+1);return Ee(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),f.length>t?0:(ut(f,e),f.length-1)}ge.Pa();var lt=[null,de,me,be,_e,Oe,Te,Me,Re,Fe,ke,Ce,Pe,De,xe,Ie,Ue,Ge,Ne,Ze,Qe,et,tt,rt,at],ft={b:function(e,t,r){throw new ve(e>>>=0).Pa(t>>>0,r>>>0),e},N:function(e){gt(e>>>0,!y,1,!m,131072,!1),ge.Sa()},k:function(e){e>>>=0,b?postMessage({cmd:"cleanupThread",thread:e}):se(e)},I:we,h:_e,T:Oe,E:Te,G:Me,U:Re,R:Fe,J:ke,Q:Ce,o:Pe,F:De,C:xe,S:Ie,D:Ue,q:()=>!0,A:function(e,t){(e>>>=0)==t>>>0?setTimeout((()=>He())):b?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=ge.Fa[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:We,p:function(e){v&&ge.Fa[e>>>0].ref()},t:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getUTCSeconds(),a()[r+4>>2>>>0]=e.getUTCMinutes(),a()[r+8>>2>>>0]=e.getUTCHours(),a()[r+12>>2>>>0]=e.getUTCDate(),a()[r+16>>2>>>0]=e.getUTCMonth(),a()[r+20>>2>>>0]=e.getUTCFullYear()-1900,a()[r+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[r+28>>2>>>0]=e},u:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getSeconds(),a()[r+4>>2>>>0]=e.getMinutes(),a()[r+8>>2>>>0]=e.getHours(),a()[r+12>>2>>>0]=e.getDate(),a()[r+16>>2>>>0]=e.getMonth(),a()[r+20>>2>>>0]=e.getFullYear()-1900,a()[r+24>>2>>>0]=e.getDay(),t=(Ye(e.getFullYear())?je:ze)[e.getMonth()]+e.getDate()-1|0,a()[r+28>>2>>>0]=t,a()[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t)),a()[r+32>>2>>>0]=e},v:function(e){e>>>=0;var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),r=a()[e+32>>2>>>0],n=t.getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(i,o);return 0>r?a()[e+32>>2>>>0]=Number(o!=i&&s==n):0<r!=(s==n)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<r?s:o)-n))),a()[e+24>>2>>>0]=t.getDay(),r=(Ye(t.getFullYear())?je:ze)[t.getMonth()]+t.getDate()-1|0,a()[e+28>>2>>>0]=r,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,wt((J=e,1<=+Math.abs(J)?0<J?+Math.floor(J/4294967296)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)),e>>>0},r:Ge,s:Ne,z:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}e>>>=0,t>>>=0,r>>>=0;var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);o()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=n(s),t=n(u),e=Be(e),t=Be(t),c<i?(o()[r>>2>>>0]=e,o()[r+4>>2>>>0]=t):(o()[r>>2>>>0]=t,o()[r+4>>2>>>0]=e)},c:()=>{te("")},l:function(){},i:function(){return Date.now()},V:()=>{throw $+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return v?r(993).cpus().length:navigator.hardwareConcurrency},K:function(e,t,r,n){for(ge.pb=t>>>0,Je.length=r,t=n>>>0>>3,n=0;n<r;n++)Je[n]=i()[t+n>>>0];return lt[e].apply(null,Je)},y:function(e){e>>>=0;var t=n().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a);e:{o=o.min.call(o,4294901760,a+(65536-a%65536)%65536)-k.buffer.byteLength+65535>>>16;try{k.grow(o),Y();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},O:Ze,P:Qe,j:pe,g:et,n:tt,w:rt,m:at,x:function(e,t){return e>>>=0,t>>>=0,ot(n().subarray(e>>>0,e+t>>>0)),0},a:k||c.wasmMemory,H:ct,d:function(e,t,r,n){return ct(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e,t){return e=e.exports,C=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.pthread_self=t(e.pthread_self),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),ge.Ta.push(C.sa),z=C.ta,N.unshift(C.W),P=t,ee(),e}var t={a:ft};if(Q(),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(e){R("Module.instantiateWasm callback failed with error: "+e),u(e)}(function(e,t){var r=V;return T||"function"!=typeof WebAssembly.instantiateStreaming||re(r)||r.startsWith("file://")||v||"function"!=typeof fetch?ae(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return R("wasm streaming compile failed: "+n),R("falling back to ArrayBuffer instantiation"),ae(r,e,t)}))))})(t,(function(t){e(t.instance,t.module)})).catch(u)}(),c._OrtInit=(e,t)=>(c._OrtInit=C.X)(e,t),c._OrtGetLastError=(e,t)=>(c._OrtGetLastError=C.Y)(e,t),c._OrtCreateSessionOptions=(e,t,r,n,a,o,i,s,u,l)=>(c._OrtCreateSessionOptions=C.Z)(e,t,r,n,a,o,i,s,u,l),c._OrtAppendExecutionProvider=(e,t)=>(c._OrtAppendExecutionProvider=C._)(e,t),c._OrtAddSessionConfigEntry=(e,t,r)=>(c._OrtAddSessionConfigEntry=C.$)(e,t,r),c._OrtReleaseSessionOptions=e=>(c._OrtReleaseSessionOptions=C.aa)(e),c._OrtCreateSession=(e,t,r)=>(c._OrtCreateSession=C.ba)(e,t,r),c._OrtReleaseSession=e=>(c._OrtReleaseSession=C.ca)(e),c._OrtGetInputOutputCount=(e,t,r)=>(c._OrtGetInputOutputCount=C.da)(e,t,r),c._OrtGetInputName=(e,t)=>(c._OrtGetInputName=C.ea)(e,t),c._OrtGetOutputName=(e,t)=>(c._OrtGetOutputName=C.fa)(e,t),c._OrtFree=e=>(c._OrtFree=C.ga)(e),c._OrtCreateTensor=(e,t,r,n,a)=>(c._OrtCreateTensor=C.ha)(e,t,r,n,a),c._OrtGetTensorData=(e,t,r,n,a)=>(c._OrtGetTensorData=C.ia)(e,t,r,n,a),c._OrtReleaseTensor=e=>(c._OrtReleaseTensor=C.ja)(e),c._OrtCreateRunOptions=(e,t,r,n)=>(c._OrtCreateRunOptions=C.ka)(e,t,r,n),c._OrtAddRunConfigEntry=(e,t,r)=>(c._OrtAddRunConfigEntry=C.la)(e,t,r),c._OrtReleaseRunOptions=e=>(c._OrtReleaseRunOptions=C.ma)(e),c._OrtRun=(e,t,r,n,a,o,i,s)=>(c._OrtRun=C.na)(e,t,r,n,a,o,i,s),c._OrtEndProfiling=e=>(c._OrtEndProfiling=C.oa)(e);var dt=c._pthread_self=()=>(dt=c._pthread_self=C.pa)(),pt=c._malloc=e=>(pt=c._malloc=C.qa)(e);c._free=e=>(c._free=C.ra)(e),c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=C.sa)();var gt=c.__emscripten_thread_init=(e,t,r,n,a,o)=>(gt=c.__emscripten_thread_init=C.ua)(e,t,r,n,a,o);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=C.va)();var ht,mt=(e,t,r,n)=>(mt=C.wa)(e,t,r,n),yt=e=>(yt=C.xa)(e),vt=c.__emscripten_thread_exit=e=>(vt=c.__emscripten_thread_exit=C.ya)(e),bt=c.__emscripten_check_mailbox=()=>(bt=c.__emscripten_check_mailbox=C.za)(),wt=e=>(wt=C.Aa)(e),_t=(e,t)=>(_t=C.Ba)(e,t),Ot=()=>(Ot=C.Ca)(),St=e=>(St=C.Da)(e),Et=e=>(Et=C.Ea)(e);function At(){function e(){if(!ht&&(ht=!0,c.calledRun=!0,!H)&&(b||he(N),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!b)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();B.unshift(e)}he(B)}}if(!(0<X))if(b)s(c),b||he(N),startWorker(c);else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)G.unshift(c.preRun.shift());he(G),0<X||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}}if(c.keepRuntimeAlive=q,c.wasmMemory=k,c.stackAlloc=Et,c.stackSave=Ot,c.stackRestore=St,c.UTF8ToString=fe,c.stringToUTF8=Ae,c.lengthBytesUTF8=Se,c.ExitStatus=oe,c.PThread=ge,Z=function e(){ht||At(),ht||(Z=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return At(),e.ready});e.exports=n},932:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){var t,n,a=e;a.ready=new Promise(((e,r)=>{t=e,n=r}));var o,i,s,u=Object.assign({},a),c="./this.program",l=(e,t)=>{throw t},f="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,g="";if(p){var h=r(384),m=r(908);g=d?m.dirname(g)+"/":__dirname+"/",o=(e,t)=>(e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!a.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),l=(e,t)=>{throw process.exitCode=e,t},a.inspect=()=>"[Emscripten Module object]"}else(f||d)&&(d?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),_scriptDir&&(g=_scriptDir),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var y,v=a.print||console.log.bind(console),b=a.printErr||console.error.bind(console);Object.assign(a,u),u=null,a.thisProgram&&(c=a.thisProgram),a.quit&&(l=a.quit),a.wasmBinary&&(y=a.wasmBinary);var w=a.noExitRuntime||!0;"object"!=typeof WebAssembly&&W("no native wasm support detected");var _,O,S,E,A,T,M=!1;function R(){var e=_.buffer;a.HEAP8=S=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=A=new Int32Array(e),a.HEAPU8=E=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=T=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}var F=[],k=[],C=[];function P(){var e=a.preRun.shift();F.unshift(e)}var D,x,I=0,U=null,L=null;function W(e){throw a.onAbort&&a.onAbort(e),b(e="Aborted("+e+")"),M=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}function H(e){return e.startsWith("data:application/octet-stream;base64,")}if(!H(D="ort-wasm.wasm")){var Y=D;D=a.locateFile?a.locateFile(Y,g):g+Y}function j(e){if(e==D&&y)return new Uint8Array(y);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}function z(e,t,r){return function(e){if(!y&&(f||d)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>j(e)));if(i)return new Promise(((t,r)=>{i(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>j(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{b("failed to asynchronously prepare wasm: "+e),W(e)}))}function G(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var N=e=>{for(;0<e.length;)e.shift()(a)};function B(e){this.qa=e-24,this.va=function(e){T[this.qa+4>>2>>>0]=e},this.ua=function(e){T[this.qa+8>>2>>>0]=e},this.sa=function(e,t){this.ta(),this.va(e),this.ua(t)},this.ta=function(){T[this.qa+16>>2>>>0]=0}}var $,q="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,V=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&q)return q.decode(e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},J=(e,t)=>(e>>>=0)?V(E,e,t):"",X=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},K=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Z=e=>0==e%4&&(0!=e%100||0==e%400),Q=[0,31,60,91,121,152,182,213,244,274,305,335],ee=[0,31,59,90,120,151,181,212,243,273,304,334],te=e=>{var t=X(e)+1,r=le(t);return r&&K(e,E,r,t),r},re={},ne=()=>{if(!$){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(e in re)void 0===re[e]?delete t[e]:t[e]=re[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);$=r}return $},ae=[null,[],[]],oe=e=>(oe=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);if(p)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}W("initRandomDevice")})())(e),ie=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function ue(e,t,r,n){function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.ma;for(e=new Date(new Date(e.na+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Z(e.getFullYear())?ie:se)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),r=s(r),0>=i(t,e)?0>=i(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0;var c=A[40+(n>>>=0)>>2>>>0];for(var l in n={ya:A[n>>2>>>0],xa:A[n+4>>2>>>0],oa:A[n+8>>2>>>0],ra:A[n+12>>2>>>0],pa:A[n+16>>2>>>0],na:A[n+20>>2>>>0],ha:A[n+24>>2>>>0],ma:A[n+28>>2>>>0],Aa:A[n+32>>2>>>0],wa:A[n+36>>2>>>0],za:c?J(c):""},r=J(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(l in c={"%a":e=>f[e.ha].substring(0,3),"%A":e=>f[e.ha],"%b":e=>d[e.pa].substring(0,3),"%B":e=>d[e.pa],"%C":e=>o((e.na+1900)/100|0,2),"%d":e=>o(e.ra,2),"%e":e=>a(e.ra,2," "),"%g":e=>u(e).toString().substring(2),"%G":e=>u(e),"%H":e=>o(e.oa,2),"%I":e=>(0==(e=e.oa)?e=12:12<e&&(e-=12),o(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.pa-1;t+=(Z(e.na+1900)?ie:se)[r++]);return o(e.ra+t,3)},"%m":e=>o(e.pa+1,2),"%M":e=>o(e.xa,2),"%n":()=>"\\n","%p":e=>0<=e.oa&&12>e.oa?"AM":"PM","%S":e=>o(e.ya,2),"%t":()=>"\\t","%u":e=>e.ha||7,"%U":e=>o(Math.floor((e.ma+7-e.ha)/7),2),"%V":e=>{var t=Math.floor((e.ma+7-(e.ha+6)%7)/7);if(2>=(e.ha+371-e.ma-2)%7&&t++,t)53==t&&(4==(r=(e.ha+371-e.ma)%7)||3==r&&Z(e.na)||(t=1));else{t=52;var r=(e.ha+7-e.ma-1)%7;(4==r||5==r&&Z(e.na%400-1))&&t++}return o(t,2)},"%w":e=>e.ha,"%W":e=>o(Math.floor((e.ma+7-(e.ha+6)%7)/7),2),"%y":e=>(e.na+1900).toString().substring(2),"%Y":e=>e.na+1900,"%z":e=>{var t=0<=(e=e.wa);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.za,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),c)r.includes(l)&&(r=r.replace(new RegExp(l,"g"),c[l](n)));return l=function(e){var t=Array(X(e)+1);return K(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),l.length>t?0:(S.set(l,e>>>0),l.length-1)}var ce={a:function(e,t,r){throw new B(e>>>=0).sa(t>>>0,r>>>0),e},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getUTCSeconds(),A[r+4>>2>>>0]=e.getUTCMinutes(),A[r+8>>2>>>0]=e.getUTCHours(),A[r+12>>2>>>0]=e.getUTCDate(),A[r+16>>2>>>0]=e.getUTCMonth(),A[r+20>>2>>>0]=e.getUTCFullYear()-1900,A[r+24>>2>>>0]=e.getUTCDay(),A[r+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getSeconds(),A[r+4>>2>>>0]=e.getMinutes(),A[r+8>>2>>>0]=e.getHours(),A[r+12>>2>>>0]=e.getDate(),A[r+16>>2>>>0]=e.getMonth(),A[r+20>>2>>>0]=e.getFullYear()-1900,A[r+24>>2>>>0]=e.getDay(),A[r+28>>2>>>0]=(Z(e.getFullYear())?Q:ee)[e.getMonth()]+e.getDate()-1|0,A[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();A[r+32>>2>>>0]=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t))},p:function(e){e>>>=0;var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),r=A[e+32>>2>>>0],n=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(o,a);return 0>r?A[e+32>>2>>>0]=Number(a!=o&&i==n):0<r!=(i==n)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<r?i:a)-n))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(Z(t.getFullYear())?Q:ee)[t.getMonth()]+t.getDate()-1|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),A[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,de((x=e,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)),e>>>0},l:function(){return-52},m:function(){},u:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}r>>>=0;var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();T[e>>>0>>2>>>0]=60*Math.max(a,s),A[t>>>0>>2>>>0]=Number(a!=s),e=n(o),t=n(i),e=te(e),t=te(t),s<a?(T[r>>2>>>0]=e,T[r+4>>2>>>0]=t):(T[r>>2>>>0]=t,T[r+4>>2>>>0]=e)},d:()=>{W("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(e,t,r){return t>>>=0,E.copyWithin(e>>>0>>>0,t>>>0,t+(r>>>0)>>>0)},t:function(e){e>>>=0;var t=E.length;if(4294901760<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var a=Math;n=Math.max(e,n);e:{a=a.min.call(a,4294901760,n+(65536-n%65536)%65536)-_.buffer.byteLength+65535>>>16;try{_.grow(a),R();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){e>>>=0,t>>>=0;var r=0;return ne().forEach((function(n,a){var o=t+r;for(a=T[e+4*a>>2>>>0]=o,o=0;o<n.length;++o)S[a++>>0>>>0]=n.charCodeAt(o);S[a>>0>>>0]=0,r+=n.length+1})),0},E:function(e,t){e>>>=0,t>>>=0;var r=ne();T[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),T[t>>2>>>0]=n,0},s:e=>{w||(a.onExit&&a.onExit(e),M=!0),l(e,new G(e))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;for(var a=0,o=0;o<r;o++){var i=T[t>>2>>>0],s=T[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=E[i+u>>>0],l=ae[e];0===c||10===c?((1===e?v:b)(V(l,0)),l.length=0):l.push(c)}a+=s}return T[n>>2>>>0]=a,0},r:function(e,t){return e>>>=0,oe(E.subarray(e>>>0,e+(t>>>0)>>>0)),0},C:ue,c:function(e,t,r,n){return ue(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e){if(e=e.exports,O=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),_=O.L,R(),k.unshift(O.M),I--,a.monitorRunDependencies&&a.monitorRunDependencies(I),0==I&&(null!==U&&(clearInterval(U),U=null),L)){var t=L;L=null,t()}return e}var t={a:ce};if(I++,a.monitorRunDependencies&&a.monitorRunDependencies(I),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(e){b("Module.instantiateWasm callback failed with error: "+e),n(e)}(function(e,t){var r=D;return y||"function"!=typeof WebAssembly.instantiateStreaming||H(r)||r.startsWith("file://")||p||"function"!=typeof fetch?z(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return b("wasm streaming compile failed: "+n),b("falling back to ArrayBuffer instantiation"),z(r,e,t)}))))})(t,(function(t){e(t.instance)})).catch(n)}(),a._OrtInit=(e,t)=>(a._OrtInit=O.N)(e,t),a._OrtGetLastError=(e,t)=>(a._OrtGetLastError=O.O)(e,t),a._OrtCreateSessionOptions=(e,t,r,n,o,i,s,u,c,l)=>(a._OrtCreateSessionOptions=O.P)(e,t,r,n,o,i,s,u,c,l),a._OrtAppendExecutionProvider=(e,t)=>(a._OrtAppendExecutionProvider=O.Q)(e,t),a._OrtAddSessionConfigEntry=(e,t,r)=>(a._OrtAddSessionConfigEntry=O.R)(e,t,r),a._OrtReleaseSessionOptions=e=>(a._OrtReleaseSessionOptions=O.S)(e),a._OrtCreateSession=(e,t,r)=>(a._OrtCreateSession=O.T)(e,t,r),a._OrtReleaseSession=e=>(a._OrtReleaseSession=O.U)(e),a._OrtGetInputOutputCount=(e,t,r)=>(a._OrtGetInputOutputCount=O.V)(e,t,r),a._OrtGetInputName=(e,t)=>(a._OrtGetInputName=O.W)(e,t),a._OrtGetOutputName=(e,t)=>(a._OrtGetOutputName=O.X)(e,t),a._OrtFree=e=>(a._OrtFree=O.Y)(e),a._OrtCreateTensor=(e,t,r,n,o)=>(a._OrtCreateTensor=O.Z)(e,t,r,n,o),a._OrtGetTensorData=(e,t,r,n,o)=>(a._OrtGetTensorData=O._)(e,t,r,n,o),a._OrtReleaseTensor=e=>(a._OrtReleaseTensor=O.$)(e),a._OrtCreateRunOptions=(e,t,r,n)=>(a._OrtCreateRunOptions=O.aa)(e,t,r,n),a._OrtAddRunConfigEntry=(e,t,r)=>(a._OrtAddRunConfigEntry=O.ba)(e,t,r),a._OrtReleaseRunOptions=e=>(a._OrtReleaseRunOptions=O.ca)(e),a._OrtRun=(e,t,r,n,o,i,s,u)=>(a._OrtRun=O.da)(e,t,r,n,o,i,s,u),a._OrtEndProfiling=e=>(a._OrtEndProfiling=O.ea)(e);var le=a._malloc=e=>(le=a._malloc=O.fa)(e);a._free=e=>(a._free=O.ga)(e);var fe,de=e=>(de=O.ia)(e),pe=()=>(pe=O.ja)(),ge=e=>(ge=O.ka)(e),he=e=>(he=O.la)(e);function me(){function e(){if(!fe&&(fe=!0,a.calledRun=!0,!M)){if(N(k),t(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var e=a.postRun.shift();C.unshift(e)}N(C)}}if(!(0<I)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)P();N(F),0<I||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),e()}),1)):e())}}if(a.stackAlloc=he,a.stackSave=pe,a.stackRestore=ge,a.UTF8ToString=J,a.stringToUTF8=(e,t,r)=>K(e,E,t,r),a.lengthBytesUTF8=X,L=function e(){fe||me(),fe||(L=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return me(),e.ready});e.exports=n},154:e=>{"use strict";e.exports=\'"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(()=>{"use strict";const e=r(259),t=r(263);self.onmessage=r=>{switch(r.data.type){case"init-wasm":try{(0,t.initializeWebAssembly)(r.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})))}catch(e){postMessage({type:"init-wasm",err:e})}break;case"init-ort":try{(0,e.initRuntime)(r.data.in).then((()=>postMessage({type:"init-ort"})),(e=>postMessage({type:"init-ort",err:e}))),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=r.data.in,n=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:n})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:n}=r.data.in,a=(0,e.createSessionFinalize)(t,n);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:n}=r.data.in,a=(0,e.createSession)(t,n);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=r.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:n,inputs:a,outputIndices:o,options:i}=r.data.in;(0,e.run)(t,n,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=r.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:o=>{o.exports=function(e,s,h,b){var _e=self||window;try{try{var rt;try{rt=new _e.Blob([e])}catch{(rt=new(_e.BlobBuilder||_e.WebKitBlobBuilder||_e.MozBlobBuilder||_e.MSBlobBuilder)).append(e),rt=rt.getBlob()}var at=_e.URL||_e.webkitURL,st=at.createObjectURL(rt),ot=new _e[s](st,h);return at.revokeObjectURL(st),ot}catch{return new _e[s]("data:application/javascript,".concat(encodeURIComponent(e)),h)}}catch{if(!b)throw Error("Inline worker is not supported");return new _e[s](b,h)}}},2446:(o,e,s)=>{var h,b,_e,rt=s(2100),at=rt.Reader,st=rt.Writer,ot=rt.util,nt=rt.roots.default||(rt.roots.default={});nt.onnx=((_e={}).Version=(h={},(b=Object.create(h))[h[0]="_START_VERSION"]=0,b[h[1]="IR_VERSION_2017_10_10"]=1,b[h[2]="IR_VERSION_2017_10_30"]=2,b[h[3]="IR_VERSION_2017_11_3"]=3,b[h[4]="IR_VERSION_2019_1_22"]=4,b[h[5]="IR_VERSION_2019_3_18"]=5,b[h[6]="IR_VERSION_2019_9_19"]=6,b[h[7]="IR_VERSION_2020_5_8"]=7,b[h[8]="IR_VERSION_2021_7_30"]=8,b[h[9]="IR_VERSION"]=9,b),_e.AttributeProto=function(){function et(d){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.name="",et.prototype.refAttrName="",et.prototype.docString="",et.prototype.type=0,et.prototype.f=0,et.prototype.i=ot.Long?ot.Long.fromBits(0,0,!1):0,et.prototype.s=ot.newBuffer([]),et.prototype.t=null,et.prototype.g=null,et.prototype.sparseTensor=null,et.prototype.tp=null,et.prototype.floats=ot.emptyArray,et.prototype.ints=ot.emptyArray,et.prototype.strings=ot.emptyArray,et.prototype.tensors=ot.emptyArray,et.prototype.graphs=ot.emptyArray,et.prototype.sparseTensors=ot.emptyArray,et.prototype.typeProtos=ot.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=st.create()),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&_.uint32(10).string(d.name),d.f!=null&&Object.hasOwnProperty.call(d,"f")&&_.uint32(21).float(d.f),d.i!=null&&Object.hasOwnProperty.call(d,"i")&&_.uint32(24).int64(d.i),d.s!=null&&Object.hasOwnProperty.call(d,"s")&&_.uint32(34).bytes(d.s),d.t!=null&&Object.hasOwnProperty.call(d,"t")&&nt.onnx.TensorProto.encode(d.t,_.uint32(42).fork()).ldelim(),d.g!=null&&Object.hasOwnProperty.call(d,"g")&&nt.onnx.GraphProto.encode(d.g,_.uint32(50).fork()).ldelim(),d.floats!=null&&d.floats.length){_.uint32(58).fork();for(var tt=0;tt<d.floats.length;++tt)_.float(d.floats[tt]);_.ldelim()}if(d.ints!=null&&d.ints.length){for(_.uint32(66).fork(),tt=0;tt<d.ints.length;++tt)_.int64(d.ints[tt]);_.ldelim()}if(d.strings!=null&&d.strings.length)for(tt=0;tt<d.strings.length;++tt)_.uint32(74).bytes(d.strings[tt]);if(d.tensors!=null&&d.tensors.length)for(tt=0;tt<d.tensors.length;++tt)nt.onnx.TensorProto.encode(d.tensors[tt],_.uint32(82).fork()).ldelim();if(d.graphs!=null&&d.graphs.length)for(tt=0;tt<d.graphs.length;++tt)nt.onnx.GraphProto.encode(d.graphs[tt],_.uint32(90).fork()).ldelim();if(d.docString!=null&&Object.hasOwnProperty.call(d,"docString")&&_.uint32(106).string(d.docString),d.tp!=null&&Object.hasOwnProperty.call(d,"tp")&&nt.onnx.TypeProto.encode(d.tp,_.uint32(114).fork()).ldelim(),d.typeProtos!=null&&d.typeProtos.length)for(tt=0;tt<d.typeProtos.length;++tt)nt.onnx.TypeProto.encode(d.typeProtos[tt],_.uint32(122).fork()).ldelim();if(d.type!=null&&Object.hasOwnProperty.call(d,"type")&&_.uint32(160).int32(d.type),d.refAttrName!=null&&Object.hasOwnProperty.call(d,"refAttrName")&&_.uint32(170).string(d.refAttrName),d.sparseTensor!=null&&Object.hasOwnProperty.call(d,"sparseTensor")&&nt.onnx.SparseTensorProto.encode(d.sparseTensor,_.uint32(178).fork()).ldelim(),d.sparseTensors!=null&&d.sparseTensors.length)for(tt=0;tt<d.sparseTensors.length;++tt)nt.onnx.SparseTensorProto.encode(d.sparseTensors[tt],_.uint32(186).fork()).ldelim();return _},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.AttributeProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.name=d.string();break;case 21:lt.refAttrName=d.string();break;case 13:lt.docString=d.string();break;case 20:lt.type=d.int32();break;case 2:lt.f=d.float();break;case 3:lt.i=d.int64();break;case 4:lt.s=d.bytes();break;case 5:lt.t=nt.onnx.TensorProto.decode(d,d.uint32());break;case 6:lt.g=nt.onnx.GraphProto.decode(d,d.uint32());break;case 22:lt.sparseTensor=nt.onnx.SparseTensorProto.decode(d,d.uint32());break;case 14:lt.tp=nt.onnx.TypeProto.decode(d,d.uint32());break;case 7:if(lt.floats&&lt.floats.length||(lt.floats=[]),(7&ut)==2)for(var ct=d.uint32()+d.pos;d.pos<ct;)lt.floats.push(d.float());else lt.floats.push(d.float());break;case 8:if(lt.ints&&lt.ints.length||(lt.ints=[]),(7&ut)==2)for(ct=d.uint32()+d.pos;d.pos<ct;)lt.ints.push(d.int64());else lt.ints.push(d.int64());break;case 9:lt.strings&&lt.strings.length||(lt.strings=[]),lt.strings.push(d.bytes());break;case 10:lt.tensors&&lt.tensors.length||(lt.tensors=[]),lt.tensors.push(nt.onnx.TensorProto.decode(d,d.uint32()));break;case 11:lt.graphs&&lt.graphs.length||(lt.graphs=[]),lt.graphs.push(nt.onnx.GraphProto.decode(d,d.uint32()));break;case 23:lt.sparseTensors&&lt.sparseTensors.length||(lt.sparseTensors=[]),lt.sparseTensors.push(nt.onnx.SparseTensorProto.decode(d,d.uint32()));break;case 15:lt.typeProtos&&lt.typeProtos.length||(lt.typeProtos=[]),lt.typeProtos.push(nt.onnx.TypeProto.decode(d,d.uint32()));break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!ot.isString(d.name))return"name: string expected";if(d.refAttrName!=null&&d.hasOwnProperty("refAttrName")&&!ot.isString(d.refAttrName))return"refAttrName: string expected";if(d.docString!=null&&d.hasOwnProperty("docString")&&!ot.isString(d.docString))return"docString: string expected";if(d.type!=null&&d.hasOwnProperty("type"))switch(d.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:}if(d.f!=null&&d.hasOwnProperty("f")&&typeof d.f!="number")return"f: number expected";if(d.i!=null&&d.hasOwnProperty("i")&&!(ot.isInteger(d.i)||d.i&&ot.isInteger(d.i.low)&&ot.isInteger(d.i.high)))return"i: integer|Long expected";if(d.s!=null&&d.hasOwnProperty("s")&&!(d.s&&typeof d.s.length=="number"||ot.isString(d.s)))return"s: buffer expected";if(d.t!=null&&d.hasOwnProperty("t")&&(tt=nt.onnx.TensorProto.verify(d.t)))return"t."+tt;if(d.g!=null&&d.hasOwnProperty("g")&&(tt=nt.onnx.GraphProto.verify(d.g)))return"g."+tt;if(d.sparseTensor!=null&&d.hasOwnProperty("sparseTensor")&&(tt=nt.onnx.SparseTensorProto.verify(d.sparseTensor)))return"sparseTensor."+tt;if(d.tp!=null&&d.hasOwnProperty("tp")&&(tt=nt.onnx.TypeProto.verify(d.tp)))return"tp."+tt;if(d.floats!=null&&d.hasOwnProperty("floats")){if(!Array.isArray(d.floats))return"floats: array expected";for(var _=0;_<d.floats.length;++_)if(typeof d.floats[_]!="number")return"floats: number[] expected"}if(d.ints!=null&&d.hasOwnProperty("ints")){if(!Array.isArray(d.ints))return"ints: array expected";for(_=0;_<d.ints.length;++_)if(!(ot.isInteger(d.ints[_])||d.ints[_]&&ot.isInteger(d.ints[_].low)&&ot.isInteger(d.ints[_].high)))return"ints: integer|Long[] expected"}if(d.strings!=null&&d.hasOwnProperty("strings")){if(!Array.isArray(d.strings))return"strings: array expected";for(_=0;_<d.strings.length;++_)if(!(d.strings[_]&&typeof d.strings[_].length=="number"||ot.isString(d.strings[_])))return"strings: buffer[] expected"}if(d.tensors!=null&&d.hasOwnProperty("tensors")){if(!Array.isArray(d.tensors))return"tensors: array expected";for(_=0;_<d.tensors.length;++_)if(tt=nt.onnx.TensorProto.verify(d.tensors[_]))return"tensors."+tt}if(d.graphs!=null&&d.hasOwnProperty("graphs")){if(!Array.isArray(d.graphs))return"graphs: array expected";for(_=0;_<d.graphs.length;++_)if(tt=nt.onnx.GraphProto.verify(d.graphs[_]))return"graphs."+tt}if(d.sparseTensors!=null&&d.hasOwnProperty("sparseTensors")){if(!Array.isArray(d.sparseTensors))return"sparseTensors: array expected";for(_=0;_<d.sparseTensors.length;++_)if(tt=nt.onnx.SparseTensorProto.verify(d.sparseTensors[_]))return"sparseTensors."+tt}if(d.typeProtos!=null&&d.hasOwnProperty("typeProtos")){if(!Array.isArray(d.typeProtos))return"typeProtos: array expected";for(_=0;_<d.typeProtos.length;++_){var tt;if(tt=nt.onnx.TypeProto.verify(d.typeProtos[_]))return"typeProtos."+tt}}return null},et.fromObject=function(d){if(d instanceof nt.onnx.AttributeProto)return d;var _=new nt.onnx.AttributeProto;switch(d.name!=null&&(_.name=String(d.name)),d.refAttrName!=null&&(_.refAttrName=String(d.refAttrName)),d.docString!=null&&(_.docString=String(d.docString)),d.type){default:if(typeof d.type=="number"){_.type=d.type;break}break;case"UNDEFINED":case 0:_.type=0;break;case"FLOAT":case 1:_.type=1;break;case"INT":case 2:_.type=2;break;case"STRING":case 3:_.type=3;break;case"TENSOR":case 4:_.type=4;break;case"GRAPH":case 5:_.type=5;break;case"SPARSE_TENSOR":case 11:_.type=11;break;case"TYPE_PROTO":case 13:_.type=13;break;case"FLOATS":case 6:_.type=6;break;case"INTS":case 7:_.type=7;break;case"STRINGS":case 8:_.type=8;break;case"TENSORS":case 9:_.type=9;break;case"GRAPHS":case 10:_.type=10;break;case"SPARSE_TENSORS":case 12:_.type=12;break;case"TYPE_PROTOS":case 14:_.type=14}if(d.f!=null&&(_.f=Number(d.f)),d.i!=null&&(ot.Long?(_.i=ot.Long.fromValue(d.i)).unsigned=!1:typeof d.i=="string"?_.i=parseInt(d.i,10):typeof d.i=="number"?_.i=d.i:typeof d.i=="object"&&(_.i=new ot.LongBits(d.i.low>>>0,d.i.high>>>0).toNumber())),d.s!=null&&(typeof d.s=="string"?ot.base64.decode(d.s,_.s=ot.newBuffer(ot.base64.length(d.s)),0):d.s.length>=0&&(_.s=d.s)),d.t!=null){if(typeof d.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");_.t=nt.onnx.TensorProto.fromObject(d.t)}if(d.g!=null){if(typeof d.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");_.g=nt.onnx.GraphProto.fromObject(d.g)}if(d.sparseTensor!=null){if(typeof d.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");_.sparseTensor=nt.onnx.SparseTensorProto.fromObject(d.sparseTensor)}if(d.tp!=null){if(typeof d.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");_.tp=nt.onnx.TypeProto.fromObject(d.tp)}if(d.floats){if(!Array.isArray(d.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");_.floats=[];for(var tt=0;tt<d.floats.length;++tt)_.floats[tt]=Number(d.floats[tt])}if(d.ints){if(!Array.isArray(d.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(_.ints=[],tt=0;tt<d.ints.length;++tt)ot.Long?(_.ints[tt]=ot.Long.fromValue(d.ints[tt])).unsigned=!1:typeof d.ints[tt]=="string"?_.ints[tt]=parseInt(d.ints[tt],10):typeof d.ints[tt]=="number"?_.ints[tt]=d.ints[tt]:typeof d.ints[tt]=="object"&&(_.ints[tt]=new ot.LongBits(d.ints[tt].low>>>0,d.ints[tt].high>>>0).toNumber())}if(d.strings){if(!Array.isArray(d.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(_.strings=[],tt=0;tt<d.strings.length;++tt)typeof d.strings[tt]=="string"?ot.base64.decode(d.strings[tt],_.strings[tt]=ot.newBuffer(ot.base64.length(d.strings[tt])),0):d.strings[tt].length>=0&&(_.strings[tt]=d.strings[tt])}if(d.tensors){if(!Array.isArray(d.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(_.tensors=[],tt=0;tt<d.tensors.length;++tt){if(typeof d.tensors[tt]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");_.tensors[tt]=nt.onnx.TensorProto.fromObject(d.tensors[tt])}}if(d.graphs){if(!Array.isArray(d.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(_.graphs=[],tt=0;tt<d.graphs.length;++tt){if(typeof d.graphs[tt]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");_.graphs[tt]=nt.onnx.GraphProto.fromObject(d.graphs[tt])}}if(d.sparseTensors){if(!Array.isArray(d.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");for(_.sparseTensors=[],tt=0;tt<d.sparseTensors.length;++tt){if(typeof d.sparseTensors[tt]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");_.sparseTensors[tt]=nt.onnx.SparseTensorProto.fromObject(d.sparseTensors[tt])}}if(d.typeProtos){if(!Array.isArray(d.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");for(_.typeProtos=[],tt=0;tt<d.typeProtos.length;++tt){if(typeof d.typeProtos[tt]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");_.typeProtos[tt]=nt.onnx.TypeProto.fromObject(d.typeProtos[tt])}}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.floats=[],tt.ints=[],tt.strings=[],tt.tensors=[],tt.graphs=[],tt.typeProtos=[],tt.sparseTensors=[]),_.defaults){if(tt.name="",tt.f=0,ot.Long){var lt=new ot.Long(0,0,!1);tt.i=_.longs===String?lt.toString():_.longs===Number?lt.toNumber():lt}else tt.i=_.longs===String?"0":0;_.bytes===String?tt.s="":(tt.s=[],_.bytes!==Array&&(tt.s=ot.newBuffer(tt.s))),tt.t=null,tt.g=null,tt.docString="",tt.tp=null,tt.type=_.enums===String?"UNDEFINED":0,tt.refAttrName="",tt.sparseTensor=null}if(d.name!=null&&d.hasOwnProperty("name")&&(tt.name=d.name),d.f!=null&&d.hasOwnProperty("f")&&(tt.f=_.json&&!isFinite(d.f)?String(d.f):d.f),d.i!=null&&d.hasOwnProperty("i")&&(typeof d.i=="number"?tt.i=_.longs===String?String(d.i):d.i:tt.i=_.longs===String?ot.Long.prototype.toString.call(d.i):_.longs===Number?new ot.LongBits(d.i.low>>>0,d.i.high>>>0).toNumber():d.i),d.s!=null&&d.hasOwnProperty("s")&&(tt.s=_.bytes===String?ot.base64.encode(d.s,0,d.s.length):_.bytes===Array?Array.prototype.slice.call(d.s):d.s),d.t!=null&&d.hasOwnProperty("t")&&(tt.t=nt.onnx.TensorProto.toObject(d.t,_)),d.g!=null&&d.hasOwnProperty("g")&&(tt.g=nt.onnx.GraphProto.toObject(d.g,_)),d.floats&&d.floats.length){tt.floats=[];for(var ut=0;ut<d.floats.length;++ut)tt.floats[ut]=_.json&&!isFinite(d.floats[ut])?String(d.floats[ut]):d.floats[ut]}if(d.ints&&d.ints.length)for(tt.ints=[],ut=0;ut<d.ints.length;++ut)typeof d.ints[ut]=="number"?tt.ints[ut]=_.longs===String?String(d.ints[ut]):d.ints[ut]:tt.ints[ut]=_.longs===String?ot.Long.prototype.toString.call(d.ints[ut]):_.longs===Number?new ot.LongBits(d.ints[ut].low>>>0,d.ints[ut].high>>>0).toNumber():d.ints[ut];if(d.strings&&d.strings.length)for(tt.strings=[],ut=0;ut<d.strings.length;++ut)tt.strings[ut]=_.bytes===String?ot.base64.encode(d.strings[ut],0,d.strings[ut].length):_.bytes===Array?Array.prototype.slice.call(d.strings[ut]):d.strings[ut];if(d.tensors&&d.tensors.length)for(tt.tensors=[],ut=0;ut<d.tensors.length;++ut)tt.tensors[ut]=nt.onnx.TensorProto.toObject(d.tensors[ut],_);if(d.graphs&&d.graphs.length)for(tt.graphs=[],ut=0;ut<d.graphs.length;++ut)tt.graphs[ut]=nt.onnx.GraphProto.toObject(d.graphs[ut],_);if(d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),d.tp!=null&&d.hasOwnProperty("tp")&&(tt.tp=nt.onnx.TypeProto.toObject(d.tp,_)),d.typeProtos&&d.typeProtos.length)for(tt.typeProtos=[],ut=0;ut<d.typeProtos.length;++ut)tt.typeProtos[ut]=nt.onnx.TypeProto.toObject(d.typeProtos[ut],_);if(d.type!=null&&d.hasOwnProperty("type")&&(tt.type=_.enums===String?nt.onnx.AttributeProto.AttributeType[d.type]===void 0?d.type:nt.onnx.AttributeProto.AttributeType[d.type]:d.type),d.refAttrName!=null&&d.hasOwnProperty("refAttrName")&&(tt.refAttrName=d.refAttrName),d.sparseTensor!=null&&d.hasOwnProperty("sparseTensor")&&(tt.sparseTensor=nt.onnx.SparseTensorProto.toObject(d.sparseTensor,_)),d.sparseTensors&&d.sparseTensors.length)for(tt.sparseTensors=[],ut=0;ut<d.sparseTensors.length;++ut)tt.sparseTensors[ut]=nt.onnx.SparseTensorProto.toObject(d.sparseTensors[ut],_);return tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.AttributeProto"},et.AttributeType=function(){var d={},_=Object.create(d);return _[d[0]="UNDEFINED"]=0,_[d[1]="FLOAT"]=1,_[d[2]="INT"]=2,_[d[3]="STRING"]=3,_[d[4]="TENSOR"]=4,_[d[5]="GRAPH"]=5,_[d[11]="SPARSE_TENSOR"]=11,_[d[13]="TYPE_PROTO"]=13,_[d[6]="FLOATS"]=6,_[d[7]="INTS"]=7,_[d[8]="STRINGS"]=8,_[d[9]="TENSORS"]=9,_[d[10]="GRAPHS"]=10,_[d[12]="SPARSE_TENSORS"]=12,_[d[14]="TYPE_PROTOS"]=14,_}(),et}(),_e.ValueInfoProto=function(){function et(d){if(d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.name="",et.prototype.type=null,et.prototype.docString="",et.create=function(d){return new et(d)},et.encode=function(d,_){return _||(_=st.create()),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&_.uint32(10).string(d.name),d.type!=null&&Object.hasOwnProperty.call(d,"type")&&nt.onnx.TypeProto.encode(d.type,_.uint32(18).fork()).ldelim(),d.docString!=null&&Object.hasOwnProperty.call(d,"docString")&&_.uint32(26).string(d.docString),_},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.ValueInfoProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.name=d.string();break;case 2:lt.type=nt.onnx.TypeProto.decode(d,d.uint32());break;case 3:lt.docString=d.string();break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!ot.isString(d.name))return"name: string expected";if(d.type!=null&&d.hasOwnProperty("type")){var _=nt.onnx.TypeProto.verify(d.type);if(_)return"type."+_}return d.docString!=null&&d.hasOwnProperty("docString")&&!ot.isString(d.docString)?"docString: string expected":null},et.fromObject=function(d){if(d instanceof nt.onnx.ValueInfoProto)return d;var _=new nt.onnx.ValueInfoProto;if(d.name!=null&&(_.name=String(d.name)),d.type!=null){if(typeof d.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");_.type=nt.onnx.TypeProto.fromObject(d.type)}return d.docString!=null&&(_.docString=String(d.docString)),_},et.toObject=function(d,_){_||(_={});var tt={};return _.defaults&&(tt.name="",tt.type=null,tt.docString=""),d.name!=null&&d.hasOwnProperty("name")&&(tt.name=d.name),d.type!=null&&d.hasOwnProperty("type")&&(tt.type=nt.onnx.TypeProto.toObject(d.type,_)),d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.ValueInfoProto"},et}(),_e.NodeProto=function(){function et(d){if(this.input=[],this.output=[],this.attribute=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.input=ot.emptyArray,et.prototype.output=ot.emptyArray,et.prototype.name="",et.prototype.opType="",et.prototype.domain="",et.prototype.attribute=ot.emptyArray,et.prototype.docString="",et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=st.create()),d.input!=null&&d.input.length)for(var tt=0;tt<d.input.length;++tt)_.uint32(10).string(d.input[tt]);if(d.output!=null&&d.output.length)for(tt=0;tt<d.output.length;++tt)_.uint32(18).string(d.output[tt]);if(d.name!=null&&Object.hasOwnProperty.call(d,"name")&&_.uint32(26).string(d.name),d.opType!=null&&Object.hasOwnProperty.call(d,"opType")&&_.uint32(34).string(d.opType),d.attribute!=null&&d.attribute.length)for(tt=0;tt<d.attribute.length;++tt)nt.onnx.AttributeProto.encode(d.attribute[tt],_.uint32(42).fork()).ldelim();return d.docString!=null&&Object.hasOwnProperty.call(d,"docString")&&_.uint32(50).string(d.docString),d.domain!=null&&Object.hasOwnProperty.call(d,"domain")&&_.uint32(58).string(d.domain),_},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.NodeProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.input&&lt.input.length||(lt.input=[]),lt.input.push(d.string());break;case 2:lt.output&&lt.output.length||(lt.output=[]),lt.output.push(d.string());break;case 3:lt.name=d.string();break;case 4:lt.opType=d.string();break;case 7:lt.domain=d.string();break;case 5:lt.attribute&&lt.attribute.length||(lt.attribute=[]),lt.attribute.push(nt.onnx.AttributeProto.decode(d,d.uint32()));break;case 6:lt.docString=d.string();break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.input!=null&&d.hasOwnProperty("input")){if(!Array.isArray(d.input))return"input: array expected";for(var _=0;_<d.input.length;++_)if(!ot.isString(d.input[_]))return"input: string[] expected"}if(d.output!=null&&d.hasOwnProperty("output")){if(!Array.isArray(d.output))return"output: array expected";for(_=0;_<d.output.length;++_)if(!ot.isString(d.output[_]))return"output: string[] expected"}if(d.name!=null&&d.hasOwnProperty("name")&&!ot.isString(d.name))return"name: string expected";if(d.opType!=null&&d.hasOwnProperty("opType")&&!ot.isString(d.opType))return"opType: string expected";if(d.domain!=null&&d.hasOwnProperty("domain")&&!ot.isString(d.domain))return"domain: string expected";if(d.attribute!=null&&d.hasOwnProperty("attribute")){if(!Array.isArray(d.attribute))return"attribute: array expected";for(_=0;_<d.attribute.length;++_){var tt=nt.onnx.AttributeProto.verify(d.attribute[_]);if(tt)return"attribute."+tt}}return d.docString!=null&&d.hasOwnProperty("docString")&&!ot.isString(d.docString)?"docString: string expected":null},et.fromObject=function(d){if(d instanceof nt.onnx.NodeProto)return d;var _=new nt.onnx.NodeProto;if(d.input){if(!Array.isArray(d.input))throw TypeError(".onnx.NodeProto.input: array expected");_.input=[];for(var tt=0;tt<d.input.length;++tt)_.input[tt]=String(d.input[tt])}if(d.output){if(!Array.isArray(d.output))throw TypeError(".onnx.NodeProto.output: array expected");for(_.output=[],tt=0;tt<d.output.length;++tt)_.output[tt]=String(d.output[tt])}if(d.name!=null&&(_.name=String(d.name)),d.opType!=null&&(_.opType=String(d.opType)),d.domain!=null&&(_.domain=String(d.domain)),d.attribute){if(!Array.isArray(d.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(_.attribute=[],tt=0;tt<d.attribute.length;++tt){if(typeof d.attribute[tt]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");_.attribute[tt]=nt.onnx.AttributeProto.fromObject(d.attribute[tt])}}return d.docString!=null&&(_.docString=String(d.docString)),_},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.input=[],tt.output=[],tt.attribute=[]),_.defaults&&(tt.name="",tt.opType="",tt.docString="",tt.domain=""),d.input&&d.input.length){tt.input=[];for(var lt=0;lt<d.input.length;++lt)tt.input[lt]=d.input[lt]}if(d.output&&d.output.length)for(tt.output=[],lt=0;lt<d.output.length;++lt)tt.output[lt]=d.output[lt];if(d.name!=null&&d.hasOwnProperty("name")&&(tt.name=d.name),d.opType!=null&&d.hasOwnProperty("opType")&&(tt.opType=d.opType),d.attribute&&d.attribute.length)for(tt.attribute=[],lt=0;lt<d.attribute.length;++lt)tt.attribute[lt]=nt.onnx.AttributeProto.toObject(d.attribute[lt],_);return d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),d.domain!=null&&d.hasOwnProperty("domain")&&(tt.domain=d.domain),tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.NodeProto"},et}(),_e.TrainingInfoProto=function(){function et(d){if(this.initializationBinding=[],this.updateBinding=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.initialization=null,et.prototype.algorithm=null,et.prototype.initializationBinding=ot.emptyArray,et.prototype.updateBinding=ot.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=st.create()),d.initialization!=null&&Object.hasOwnProperty.call(d,"initialization")&&nt.onnx.GraphProto.encode(d.initialization,_.uint32(10).fork()).ldelim(),d.algorithm!=null&&Object.hasOwnProperty.call(d,"algorithm")&&nt.onnx.GraphProto.encode(d.algorithm,_.uint32(18).fork()).ldelim(),d.initializationBinding!=null&&d.initializationBinding.length)for(var tt=0;tt<d.initializationBinding.length;++tt)nt.onnx.StringStringEntryProto.encode(d.initializationBinding[tt],_.uint32(26).fork()).ldelim();if(d.updateBinding!=null&&d.updateBinding.length)for(tt=0;tt<d.updateBinding.length;++tt)nt.onnx.StringStringEntryProto.encode(d.updateBinding[tt],_.uint32(34).fork()).ldelim();return _},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.TrainingInfoProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.initialization=nt.onnx.GraphProto.decode(d,d.uint32());break;case 2:lt.algorithm=nt.onnx.GraphProto.decode(d,d.uint32());break;case 3:lt.initializationBinding&&lt.initializationBinding.length||(lt.initializationBinding=[]),lt.initializationBinding.push(nt.onnx.StringStringEntryProto.decode(d,d.uint32()));break;case 4:lt.updateBinding&&lt.updateBinding.length||(lt.updateBinding=[]),lt.updateBinding.push(nt.onnx.StringStringEntryProto.decode(d,d.uint32()));break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.initialization!=null&&d.hasOwnProperty("initialization")&&(tt=nt.onnx.GraphProto.verify(d.initialization)))return"initialization."+tt;if(d.algorithm!=null&&d.hasOwnProperty("algorithm")&&(tt=nt.onnx.GraphProto.verify(d.algorithm)))return"algorithm."+tt;if(d.initializationBinding!=null&&d.hasOwnProperty("initializationBinding")){if(!Array.isArray(d.initializationBinding))return"initializationBinding: array expected";for(var _=0;_<d.initializationBinding.length;++_)if(tt=nt.onnx.StringStringEntryProto.verify(d.initializationBinding[_]))return"initializationBinding."+tt}if(d.updateBinding!=null&&d.hasOwnProperty("updateBinding")){if(!Array.isArray(d.updateBinding))return"updateBinding: array expected";for(_=0;_<d.updateBinding.length;++_){var tt;if(tt=nt.onnx.StringStringEntryProto.verify(d.updateBinding[_]))return"updateBinding."+tt}}return null},et.fromObject=function(d){if(d instanceof nt.onnx.TrainingInfoProto)return d;var _=new nt.onnx.TrainingInfoProto;if(d.initialization!=null){if(typeof d.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");_.initialization=nt.onnx.GraphProto.fromObject(d.initialization)}if(d.algorithm!=null){if(typeof d.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");_.algorithm=nt.onnx.GraphProto.fromObject(d.algorithm)}if(d.initializationBinding){if(!Array.isArray(d.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");_.initializationBinding=[];for(var tt=0;tt<d.initializationBinding.length;++tt){if(typeof d.initializationBinding[tt]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");_.initializationBinding[tt]=nt.onnx.StringStringEntryProto.fromObject(d.initializationBinding[tt])}}if(d.updateBinding){if(!Array.isArray(d.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");for(_.updateBinding=[],tt=0;tt<d.updateBinding.length;++tt){if(typeof d.updateBinding[tt]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");_.updateBinding[tt]=nt.onnx.StringStringEntryProto.fromObject(d.updateBinding[tt])}}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.initializationBinding=[],tt.updateBinding=[]),_.defaults&&(tt.initialization=null,tt.algorithm=null),d.initialization!=null&&d.hasOwnProperty("initialization")&&(tt.initialization=nt.onnx.GraphProto.toObject(d.initialization,_)),d.algorithm!=null&&d.hasOwnProperty("algorithm")&&(tt.algorithm=nt.onnx.GraphProto.toObject(d.algorithm,_)),d.initializationBinding&&d.initializationBinding.length){tt.initializationBinding=[];for(var lt=0;lt<d.initializationBinding.length;++lt)tt.initializationBinding[lt]=nt.onnx.StringStringEntryProto.toObject(d.initializationBinding[lt],_)}if(d.updateBinding&&d.updateBinding.length)for(tt.updateBinding=[],lt=0;lt<d.updateBinding.length;++lt)tt.updateBinding[lt]=nt.onnx.StringStringEntryProto.toObject(d.updateBinding[lt],_);return tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.TrainingInfoProto"},et}(),_e.ModelProto=function(){function et(d){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.irVersion=ot.Long?ot.Long.fromBits(0,0,!1):0,et.prototype.opsetImport=ot.emptyArray,et.prototype.producerName="",et.prototype.producerVersion="",et.prototype.domain="",et.prototype.modelVersion=ot.Long?ot.Long.fromBits(0,0,!1):0,et.prototype.docString="",et.prototype.graph=null,et.prototype.metadataProps=ot.emptyArray,et.prototype.trainingInfo=ot.emptyArray,et.prototype.functions=ot.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=st.create()),d.irVersion!=null&&Object.hasOwnProperty.call(d,"irVersion")&&_.uint32(8).int64(d.irVersion),d.producerName!=null&&Object.hasOwnProperty.call(d,"producerName")&&_.uint32(18).string(d.producerName),d.producerVersion!=null&&Object.hasOwnProperty.call(d,"producerVersion")&&_.uint32(26).string(d.producerVersion),d.domain!=null&&Object.hasOwnProperty.call(d,"domain")&&_.uint32(34).string(d.domain),d.modelVersion!=null&&Object.hasOwnProperty.call(d,"modelVersion")&&_.uint32(40).int64(d.modelVersion),d.docString!=null&&Object.hasOwnProperty.call(d,"docString")&&_.uint32(50).string(d.docString),d.graph!=null&&Object.hasOwnProperty.call(d,"graph")&&nt.onnx.GraphProto.encode(d.graph,_.uint32(58).fork()).ldelim(),d.opsetImport!=null&&d.opsetImport.length)for(var tt=0;tt<d.opsetImport.length;++tt)nt.onnx.OperatorSetIdProto.encode(d.opsetImport[tt],_.uint32(66).fork()).ldelim();if(d.metadataProps!=null&&d.metadataProps.length)for(tt=0;tt<d.metadataProps.length;++tt)nt.onnx.StringStringEntryProto.encode(d.metadataProps[tt],_.uint32(114).fork()).ldelim();if(d.trainingInfo!=null&&d.trainingInfo.length)for(tt=0;tt<d.trainingInfo.length;++tt)nt.onnx.TrainingInfoProto.encode(d.trainingInfo[tt],_.uint32(162).fork()).ldelim();if(d.functions!=null&&d.functions.length)for(tt=0;tt<d.functions.length;++tt)nt.onnx.FunctionProto.encode(d.functions[tt],_.uint32(202).fork()).ldelim();return _},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.ModelProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.irVersion=d.int64();break;case 8:lt.opsetImport&&lt.opsetImport.length||(lt.opsetImport=[]),lt.opsetImport.push(nt.onnx.OperatorSetIdProto.decode(d,d.uint32()));break;case 2:lt.producerName=d.string();break;case 3:lt.producerVersion=d.string();break;case 4:lt.domain=d.string();break;case 5:lt.modelVersion=d.int64();break;case 6:lt.docString=d.string();break;case 7:lt.graph=nt.onnx.GraphProto.decode(d,d.uint32());break;case 14:lt.metadataProps&&lt.metadataProps.length||(lt.metadataProps=[]),lt.metadataProps.push(nt.onnx.StringStringEntryProto.decode(d,d.uint32()));break;case 20:lt.trainingInfo&&lt.trainingInfo.length||(lt.trainingInfo=[]),lt.trainingInfo.push(nt.onnx.TrainingInfoProto.decode(d,d.uint32()));break;case 25:lt.functions&&lt.functions.length||(lt.functions=[]),lt.functions.push(nt.onnx.FunctionProto.decode(d,d.uint32()));break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.irVersion!=null&&d.hasOwnProperty("irVersion")&&!(ot.isInteger(d.irVersion)||d.irVersion&&ot.isInteger(d.irVersion.low)&&ot.isInteger(d.irVersion.high)))return"irVersion: integer|Long expected";if(d.opsetImport!=null&&d.hasOwnProperty("opsetImport")){if(!Array.isArray(d.opsetImport))return"opsetImport: array expected";for(var _=0;_<d.opsetImport.length;++_)if(tt=nt.onnx.OperatorSetIdProto.verify(d.opsetImport[_]))return"opsetImport."+tt}if(d.producerName!=null&&d.hasOwnProperty("producerName")&&!ot.isString(d.producerName))return"producerName: string expected";if(d.producerVersion!=null&&d.hasOwnProperty("producerVersion")&&!ot.isString(d.producerVersion))return"producerVersion: string expected";if(d.domain!=null&&d.hasOwnProperty("domain")&&!ot.isString(d.domain))return"domain: string expected";if(d.modelVersion!=null&&d.hasOwnProperty("modelVersion")&&!(ot.isInteger(d.modelVersion)||d.modelVersion&&ot.isInteger(d.modelVersion.low)&&ot.isInteger(d.modelVersion.high)))return"modelVersion: integer|Long expected";if(d.docString!=null&&d.hasOwnProperty("docString")&&!ot.isString(d.docString))return"docString: string expected";if(d.graph!=null&&d.hasOwnProperty("graph")&&(tt=nt.onnx.GraphProto.verify(d.graph)))return"graph."+tt;if(d.metadataProps!=null&&d.hasOwnProperty("metadataProps")){if(!Array.isArray(d.metadataProps))return"metadataProps: array expected";for(_=0;_<d.metadataProps.length;++_)if(tt=nt.onnx.StringStringEntryProto.verify(d.metadataProps[_]))return"metadataProps."+tt}if(d.trainingInfo!=null&&d.hasOwnProperty("trainingInfo")){if(!Array.isArray(d.trainingInfo))return"trainingInfo: array expected";for(_=0;_<d.trainingInfo.length;++_)if(tt=nt.onnx.TrainingInfoProto.verify(d.trainingInfo[_]))return"trainingInfo."+tt}if(d.functions!=null&&d.hasOwnProperty("functions")){if(!Array.isArray(d.functions))return"functions: array expected";for(_=0;_<d.functions.length;++_){var tt;if(tt=nt.onnx.FunctionProto.verify(d.functions[_]))return"functions."+tt}}return null},et.fromObject=function(d){if(d instanceof nt.onnx.ModelProto)return d;var _=new nt.onnx.ModelProto;if(d.irVersion!=null&&(ot.Long?(_.irVersion=ot.Long.fromValue(d.irVersion)).unsigned=!1:typeof d.irVersion=="string"?_.irVersion=parseInt(d.irVersion,10):typeof d.irVersion=="number"?_.irVersion=d.irVersion:typeof d.irVersion=="object"&&(_.irVersion=new ot.LongBits(d.irVersion.low>>>0,d.irVersion.high>>>0).toNumber())),d.opsetImport){if(!Array.isArray(d.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");_.opsetImport=[];for(var tt=0;tt<d.opsetImport.length;++tt){if(typeof d.opsetImport[tt]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");_.opsetImport[tt]=nt.onnx.OperatorSetIdProto.fromObject(d.opsetImport[tt])}}if(d.producerName!=null&&(_.producerName=String(d.producerName)),d.producerVersion!=null&&(_.producerVersion=String(d.producerVersion)),d.domain!=null&&(_.domain=String(d.domain)),d.modelVersion!=null&&(ot.Long?(_.modelVersion=ot.Long.fromValue(d.modelVersion)).unsigned=!1:typeof d.modelVersion=="string"?_.modelVersion=parseInt(d.modelVersion,10):typeof d.modelVersion=="number"?_.modelVersion=d.modelVersion:typeof d.modelVersion=="object"&&(_.modelVersion=new ot.LongBits(d.modelVersion.low>>>0,d.modelVersion.high>>>0).toNumber())),d.docString!=null&&(_.docString=String(d.docString)),d.graph!=null){if(typeof d.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");_.graph=nt.onnx.GraphProto.fromObject(d.graph)}if(d.metadataProps){if(!Array.isArray(d.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(_.metadataProps=[],tt=0;tt<d.metadataProps.length;++tt){if(typeof d.metadataProps[tt]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");_.metadataProps[tt]=nt.onnx.StringStringEntryProto.fromObject(d.metadataProps[tt])}}if(d.trainingInfo){if(!Array.isArray(d.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");for(_.trainingInfo=[],tt=0;tt<d.trainingInfo.length;++tt){if(typeof d.trainingInfo[tt]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");_.trainingInfo[tt]=nt.onnx.TrainingInfoProto.fromObject(d.trainingInfo[tt])}}if(d.functions){if(!Array.isArray(d.functions))throw TypeError(".onnx.ModelProto.functions: array expected");for(_.functions=[],tt=0;tt<d.functions.length;++tt){if(typeof d.functions[tt]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");_.functions[tt]=nt.onnx.FunctionProto.fromObject(d.functions[tt])}}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.opsetImport=[],tt.metadataProps=[],tt.trainingInfo=[],tt.functions=[]),_.defaults){if(ot.Long){var lt=new ot.Long(0,0,!1);tt.irVersion=_.longs===String?lt.toString():_.longs===Number?lt.toNumber():lt}else tt.irVersion=_.longs===String?"0":0;tt.producerName="",tt.producerVersion="",tt.domain="",ot.Long?(lt=new ot.Long(0,0,!1),tt.modelVersion=_.longs===String?lt.toString():_.longs===Number?lt.toNumber():lt):tt.modelVersion=_.longs===String?"0":0,tt.docString="",tt.graph=null}if(d.irVersion!=null&&d.hasOwnProperty("irVersion")&&(typeof d.irVersion=="number"?tt.irVersion=_.longs===String?String(d.irVersion):d.irVersion:tt.irVersion=_.longs===String?ot.Long.prototype.toString.call(d.irVersion):_.longs===Number?new ot.LongBits(d.irVersion.low>>>0,d.irVersion.high>>>0).toNumber():d.irVersion),d.producerName!=null&&d.hasOwnProperty("producerName")&&(tt.producerName=d.producerName),d.producerVersion!=null&&d.hasOwnProperty("producerVersion")&&(tt.producerVersion=d.producerVersion),d.domain!=null&&d.hasOwnProperty("domain")&&(tt.domain=d.domain),d.modelVersion!=null&&d.hasOwnProperty("modelVersion")&&(typeof d.modelVersion=="number"?tt.modelVersion=_.longs===String?String(d.modelVersion):d.modelVersion:tt.modelVersion=_.longs===String?ot.Long.prototype.toString.call(d.modelVersion):_.longs===Number?new ot.LongBits(d.modelVersion.low>>>0,d.modelVersion.high>>>0).toNumber():d.modelVersion),d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),d.graph!=null&&d.hasOwnProperty("graph")&&(tt.graph=nt.onnx.GraphProto.toObject(d.graph,_)),d.opsetImport&&d.opsetImport.length){tt.opsetImport=[];for(var ut=0;ut<d.opsetImport.length;++ut)tt.opsetImport[ut]=nt.onnx.OperatorSetIdProto.toObject(d.opsetImport[ut],_)}if(d.metadataProps&&d.metadataProps.length)for(tt.metadataProps=[],ut=0;ut<d.metadataProps.length;++ut)tt.metadataProps[ut]=nt.onnx.StringStringEntryProto.toObject(d.metadataProps[ut],_);if(d.trainingInfo&&d.trainingInfo.length)for(tt.trainingInfo=[],ut=0;ut<d.trainingInfo.length;++ut)tt.trainingInfo[ut]=nt.onnx.TrainingInfoProto.toObject(d.trainingInfo[ut],_);if(d.functions&&d.functions.length)for(tt.functions=[],ut=0;ut<d.functions.length;++ut)tt.functions[ut]=nt.onnx.FunctionProto.toObject(d.functions[ut],_);return tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.ModelProto"},et}(),_e.StringStringEntryProto=function(){function et(d){if(d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.key="",et.prototype.value="",et.create=function(d){return new et(d)},et.encode=function(d,_){return _||(_=st.create()),d.key!=null&&Object.hasOwnProperty.call(d,"key")&&_.uint32(10).string(d.key),d.value!=null&&Object.hasOwnProperty.call(d,"value")&&_.uint32(18).string(d.value),_},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.StringStringEntryProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.key=d.string();break;case 2:lt.value=d.string();break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){return typeof d!="object"||d===null?"object expected":d.key!=null&&d.hasOwnProperty("key")&&!ot.isString(d.key)?"key: string expected":d.value!=null&&d.hasOwnProperty("value")&&!ot.isString(d.value)?"value: string expected":null},et.fromObject=function(d){if(d instanceof nt.onnx.StringStringEntryProto)return d;var _=new nt.onnx.StringStringEntryProto;return d.key!=null&&(_.key=String(d.key)),d.value!=null&&(_.value=String(d.value)),_},et.toObject=function(d,_){_||(_={});var tt={};return _.defaults&&(tt.key="",tt.value=""),d.key!=null&&d.hasOwnProperty("key")&&(tt.key=d.key),d.value!=null&&d.hasOwnProperty("value")&&(tt.value=d.value),tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.StringStringEntryProto"},et}(),_e.TensorAnnotation=function(){function et(d){if(this.quantParameterTensorNames=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.tensorName="",et.prototype.quantParameterTensorNames=ot.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=st.create()),d.tensorName!=null&&Object.hasOwnProperty.call(d,"tensorName")&&_.uint32(10).string(d.tensorName),d.quantParameterTensorNames!=null&&d.quantParameterTensorNames.length)for(var tt=0;tt<d.quantParameterTensorNames.length;++tt)nt.onnx.StringStringEntryProto.encode(d.quantParameterTensorNames[tt],_.uint32(18).fork()).ldelim();return _},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.TensorAnnotation;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.tensorName=d.string();break;case 2:lt.quantParameterTensorNames&&lt.quantParameterTensorNames.length||(lt.quantParameterTensorNames=[]),lt.quantParameterTensorNames.push(nt.onnx.StringStringEntryProto.decode(d,d.uint32()));break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.tensorName!=null&&d.hasOwnProperty("tensorName")&&!ot.isString(d.tensorName))return"tensorName: string expected";if(d.quantParameterTensorNames!=null&&d.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(d.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var _=0;_<d.quantParameterTensorNames.length;++_){var tt=nt.onnx.StringStringEntryProto.verify(d.quantParameterTensorNames[_]);if(tt)return"quantParameterTensorNames."+tt}}return null},et.fromObject=function(d){if(d instanceof nt.onnx.TensorAnnotation)return d;var _=new nt.onnx.TensorAnnotation;if(d.tensorName!=null&&(_.tensorName=String(d.tensorName)),d.quantParameterTensorNames){if(!Array.isArray(d.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");_.quantParameterTensorNames=[];for(var tt=0;tt<d.quantParameterTensorNames.length;++tt){if(typeof d.quantParameterTensorNames[tt]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");_.quantParameterTensorNames[tt]=nt.onnx.StringStringEntryProto.fromObject(d.quantParameterTensorNames[tt])}}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.quantParameterTensorNames=[]),_.defaults&&(tt.tensorName=""),d.tensorName!=null&&d.hasOwnProperty("tensorName")&&(tt.tensorName=d.tensorName),d.quantParameterTensorNames&&d.quantParameterTensorNames.length){tt.quantParameterTensorNames=[];for(var lt=0;lt<d.quantParameterTensorNames.length;++lt)tt.quantParameterTensorNames[lt]=nt.onnx.StringStringEntryProto.toObject(d.quantParameterTensorNames[lt],_)}return tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.TensorAnnotation"},et}(),_e.GraphProto=function(){function et(d){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.node=ot.emptyArray,et.prototype.name="",et.prototype.initializer=ot.emptyArray,et.prototype.sparseInitializer=ot.emptyArray,et.prototype.docString="",et.prototype.input=ot.emptyArray,et.prototype.output=ot.emptyArray,et.prototype.valueInfo=ot.emptyArray,et.prototype.quantizationAnnotation=ot.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=st.create()),d.node!=null&&d.node.length)for(var tt=0;tt<d.node.length;++tt)nt.onnx.NodeProto.encode(d.node[tt],_.uint32(10).fork()).ldelim();if(d.name!=null&&Object.hasOwnProperty.call(d,"name")&&_.uint32(18).string(d.name),d.initializer!=null&&d.initializer.length)for(tt=0;tt<d.initializer.length;++tt)nt.onnx.TensorProto.encode(d.initializer[tt],_.uint32(42).fork()).ldelim();if(d.docString!=null&&Object.hasOwnProperty.call(d,"docString")&&_.uint32(82).string(d.docString),d.input!=null&&d.input.length)for(tt=0;tt<d.input.length;++tt)nt.onnx.ValueInfoProto.encode(d.input[tt],_.uint32(90).fork()).ldelim();if(d.output!=null&&d.output.length)for(tt=0;tt<d.output.length;++tt)nt.onnx.ValueInfoProto.encode(d.output[tt],_.uint32(98).fork()).ldelim();if(d.valueInfo!=null&&d.valueInfo.length)for(tt=0;tt<d.valueInfo.length;++tt)nt.onnx.ValueInfoProto.encode(d.valueInfo[tt],_.uint32(106).fork()).ldelim();if(d.quantizationAnnotation!=null&&d.quantizationAnnotation.length)for(tt=0;tt<d.quantizationAnnotation.length;++tt)nt.onnx.TensorAnnotation.encode(d.quantizationAnnotation[tt],_.uint32(114).fork()).ldelim();if(d.sparseInitializer!=null&&d.sparseInitializer.length)for(tt=0;tt<d.sparseInitializer.length;++tt)nt.onnx.SparseTensorProto.encode(d.sparseInitializer[tt],_.uint32(122).fork()).ldelim();return _},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.GraphProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.node&&lt.node.length||(lt.node=[]),lt.node.push(nt.onnx.NodeProto.decode(d,d.uint32()));break;case 2:lt.name=d.string();break;case 5:lt.initializer&&lt.initializer.length||(lt.initializer=[]),lt.initializer.push(nt.onnx.TensorProto.decode(d,d.uint32()));break;case 15:lt.sparseInitializer&&lt.sparseInitializer.length||(lt.sparseInitializer=[]),lt.sparseInitializer.push(nt.onnx.SparseTensorProto.decode(d,d.uint32()));break;case 10:lt.docString=d.string();break;case 11:lt.input&&lt.input.length||(lt.input=[]),lt.input.push(nt.onnx.ValueInfoProto.decode(d,d.uint32()));break;case 12:lt.output&&lt.output.length||(lt.output=[]),lt.output.push(nt.onnx.ValueInfoProto.decode(d,d.uint32()));break;case 13:lt.valueInfo&&lt.valueInfo.length||(lt.valueInfo=[]),lt.valueInfo.push(nt.onnx.ValueInfoProto.decode(d,d.uint32()));break;case 14:lt.quantizationAnnotation&&lt.quantizationAnnotation.length||(lt.quantizationAnnotation=[]),lt.quantizationAnnotation.push(nt.onnx.TensorAnnotation.decode(d,d.uint32()));break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.node!=null&&d.hasOwnProperty("node")){if(!Array.isArray(d.node))return"node: array expected";for(var _=0;_<d.node.length;++_)if(tt=nt.onnx.NodeProto.verify(d.node[_]))return"node."+tt}if(d.name!=null&&d.hasOwnProperty("name")&&!ot.isString(d.name))return"name: string expected";if(d.initializer!=null&&d.hasOwnProperty("initializer")){if(!Array.isArray(d.initializer))return"initializer: array expected";for(_=0;_<d.initializer.length;++_)if(tt=nt.onnx.TensorProto.verify(d.initializer[_]))return"initializer."+tt}if(d.sparseInitializer!=null&&d.hasOwnProperty("sparseInitializer")){if(!Array.isArray(d.sparseInitializer))return"sparseInitializer: array expected";for(_=0;_<d.sparseInitializer.length;++_)if(tt=nt.onnx.SparseTensorProto.verify(d.sparseInitializer[_]))return"sparseInitializer."+tt}if(d.docString!=null&&d.hasOwnProperty("docString")&&!ot.isString(d.docString))return"docString: string expected";if(d.input!=null&&d.hasOwnProperty("input")){if(!Array.isArray(d.input))return"input: array expected";for(_=0;_<d.input.length;++_)if(tt=nt.onnx.ValueInfoProto.verify(d.input[_]))return"input."+tt}if(d.output!=null&&d.hasOwnProperty("output")){if(!Array.isArray(d.output))return"output: array expected";for(_=0;_<d.output.length;++_)if(tt=nt.onnx.ValueInfoProto.verify(d.output[_]))return"output."+tt}if(d.valueInfo!=null&&d.hasOwnProperty("valueInfo")){if(!Array.isArray(d.valueInfo))return"valueInfo: array expected";for(_=0;_<d.valueInfo.length;++_)if(tt=nt.onnx.ValueInfoProto.verify(d.valueInfo[_]))return"valueInfo."+tt}if(d.quantizationAnnotation!=null&&d.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(d.quantizationAnnotation))return"quantizationAnnotation: array expected";for(_=0;_<d.quantizationAnnotation.length;++_){var tt;if(tt=nt.onnx.TensorAnnotation.verify(d.quantizationAnnotation[_]))return"quantizationAnnotation."+tt}}return null},et.fromObject=function(d){if(d instanceof nt.onnx.GraphProto)return d;var _=new nt.onnx.GraphProto;if(d.node){if(!Array.isArray(d.node))throw TypeError(".onnx.GraphProto.node: array expected");_.node=[];for(var tt=0;tt<d.node.length;++tt){if(typeof d.node[tt]!="object")throw TypeError(".onnx.GraphProto.node: object expected");_.node[tt]=nt.onnx.NodeProto.fromObject(d.node[tt])}}if(d.name!=null&&(_.name=String(d.name)),d.initializer){if(!Array.isArray(d.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(_.initializer=[],tt=0;tt<d.initializer.length;++tt){if(typeof d.initializer[tt]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");_.initializer[tt]=nt.onnx.TensorProto.fromObject(d.initializer[tt])}}if(d.sparseInitializer){if(!Array.isArray(d.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");for(_.sparseInitializer=[],tt=0;tt<d.sparseInitializer.length;++tt){if(typeof d.sparseInitializer[tt]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");_.sparseInitializer[tt]=nt.onnx.SparseTensorProto.fromObject(d.sparseInitializer[tt])}}if(d.docString!=null&&(_.docString=String(d.docString)),d.input){if(!Array.isArray(d.input))throw TypeError(".onnx.GraphProto.input: array expected");for(_.input=[],tt=0;tt<d.input.length;++tt){if(typeof d.input[tt]!="object")throw TypeError(".onnx.GraphProto.input: object expected");_.input[tt]=nt.onnx.ValueInfoProto.fromObject(d.input[tt])}}if(d.output){if(!Array.isArray(d.output))throw TypeError(".onnx.GraphProto.output: array expected");for(_.output=[],tt=0;tt<d.output.length;++tt){if(typeof d.output[tt]!="object")throw TypeError(".onnx.GraphProto.output: object expected");_.output[tt]=nt.onnx.ValueInfoProto.fromObject(d.output[tt])}}if(d.valueInfo){if(!Array.isArray(d.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(_.valueInfo=[],tt=0;tt<d.valueInfo.length;++tt){if(typeof d.valueInfo[tt]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");_.valueInfo[tt]=nt.onnx.ValueInfoProto.fromObject(d.valueInfo[tt])}}if(d.quantizationAnnotation){if(!Array.isArray(d.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(_.quantizationAnnotation=[],tt=0;tt<d.quantizationAnnotation.length;++tt){if(typeof d.quantizationAnnotation[tt]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");_.quantizationAnnotation[tt]=nt.onnx.TensorAnnotation.fromObject(d.quantizationAnnotation[tt])}}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.node=[],tt.initializer=[],tt.input=[],tt.output=[],tt.valueInfo=[],tt.quantizationAnnotation=[],tt.sparseInitializer=[]),_.defaults&&(tt.name="",tt.docString=""),d.node&&d.node.length){tt.node=[];for(var lt=0;lt<d.node.length;++lt)tt.node[lt]=nt.onnx.NodeProto.toObject(d.node[lt],_)}if(d.name!=null&&d.hasOwnProperty("name")&&(tt.name=d.name),d.initializer&&d.initializer.length)for(tt.initializer=[],lt=0;lt<d.initializer.length;++lt)tt.initializer[lt]=nt.onnx.TensorProto.toObject(d.initializer[lt],_);if(d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),d.input&&d.input.length)for(tt.input=[],lt=0;lt<d.input.length;++lt)tt.input[lt]=nt.onnx.ValueInfoProto.toObject(d.input[lt],_);if(d.output&&d.output.length)for(tt.output=[],lt=0;lt<d.output.length;++lt)tt.output[lt]=nt.onnx.ValueInfoProto.toObject(d.output[lt],_);if(d.valueInfo&&d.valueInfo.length)for(tt.valueInfo=[],lt=0;lt<d.valueInfo.length;++lt)tt.valueInfo[lt]=nt.onnx.ValueInfoProto.toObject(d.valueInfo[lt],_);if(d.quantizationAnnotation&&d.quantizationAnnotation.length)for(tt.quantizationAnnotation=[],lt=0;lt<d.quantizationAnnotation.length;++lt)tt.quantizationAnnotation[lt]=nt.onnx.TensorAnnotation.toObject(d.quantizationAnnotation[lt],_);if(d.sparseInitializer&&d.sparseInitializer.length)for(tt.sparseInitializer=[],lt=0;lt<d.sparseInitializer.length;++lt)tt.sparseInitializer[lt]=nt.onnx.SparseTensorProto.toObject(d.sparseInitializer[lt],_);return tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.GraphProto"},et}(),_e.TensorProto=function(){function et(d){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.dims=ot.emptyArray,et.prototype.dataType=0,et.prototype.segment=null,et.prototype.floatData=ot.emptyArray,et.prototype.int32Data=ot.emptyArray,et.prototype.stringData=ot.emptyArray,et.prototype.int64Data=ot.emptyArray,et.prototype.name="",et.prototype.docString="",et.prototype.rawData=ot.newBuffer([]),et.prototype.externalData=ot.emptyArray,et.prototype.dataLocation=0,et.prototype.doubleData=ot.emptyArray,et.prototype.uint64Data=ot.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=st.create()),d.dims!=null&&d.dims.length){_.uint32(10).fork();for(var tt=0;tt<d.dims.length;++tt)_.int64(d.dims[tt]);_.ldelim()}if(d.dataType!=null&&Object.hasOwnProperty.call(d,"dataType")&&_.uint32(16).int32(d.dataType),d.segment!=null&&Object.hasOwnProperty.call(d,"segment")&&nt.onnx.TensorProto.Segment.encode(d.segment,_.uint32(26).fork()).ldelim(),d.floatData!=null&&d.floatData.length){for(_.uint32(34).fork(),tt=0;tt<d.floatData.length;++tt)_.float(d.floatData[tt]);_.ldelim()}if(d.int32Data!=null&&d.int32Data.length){for(_.uint32(42).fork(),tt=0;tt<d.int32Data.length;++tt)_.int32(d.int32Data[tt]);_.ldelim()}if(d.stringData!=null&&d.stringData.length)for(tt=0;tt<d.stringData.length;++tt)_.uint32(50).bytes(d.stringData[tt]);if(d.int64Data!=null&&d.int64Data.length){for(_.uint32(58).fork(),tt=0;tt<d.int64Data.length;++tt)_.int64(d.int64Data[tt]);_.ldelim()}if(d.name!=null&&Object.hasOwnProperty.call(d,"name")&&_.uint32(66).string(d.name),d.rawData!=null&&Object.hasOwnProperty.call(d,"rawData")&&_.uint32(74).bytes(d.rawData),d.doubleData!=null&&d.doubleData.length){for(_.uint32(82).fork(),tt=0;tt<d.doubleData.length;++tt)_.double(d.doubleData[tt]);_.ldelim()}if(d.uint64Data!=null&&d.uint64Data.length){for(_.uint32(90).fork(),tt=0;tt<d.uint64Data.length;++tt)_.uint64(d.uint64Data[tt]);_.ldelim()}if(d.docString!=null&&Object.hasOwnProperty.call(d,"docString")&&_.uint32(98).string(d.docString),d.externalData!=null&&d.externalData.length)for(tt=0;tt<d.externalData.length;++tt)nt.onnx.StringStringEntryProto.encode(d.externalData[tt],_.uint32(106).fork()).ldelim();return d.dataLocation!=null&&Object.hasOwnProperty.call(d,"dataLocation")&&_.uint32(112).int32(d.dataLocation),_},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.TensorProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:if(lt.dims&&lt.dims.length||(lt.dims=[]),(7&ut)==2)for(var ct=d.uint32()+d.pos;d.pos<ct;)lt.dims.push(d.int64());else lt.dims.push(d.int64());break;case 2:lt.dataType=d.int32();break;case 3:lt.segment=nt.onnx.TensorProto.Segment.decode(d,d.uint32());break;case 4:if(lt.floatData&&lt.floatData.length||(lt.floatData=[]),(7&ut)==2)for(ct=d.uint32()+d.pos;d.pos<ct;)lt.floatData.push(d.float());else lt.floatData.push(d.float());break;case 5:if(lt.int32Data&&lt.int32Data.length||(lt.int32Data=[]),(7&ut)==2)for(ct=d.uint32()+d.pos;d.pos<ct;)lt.int32Data.push(d.int32());else lt.int32Data.push(d.int32());break;case 6:lt.stringData&&lt.stringData.length||(lt.stringData=[]),lt.stringData.push(d.bytes());break;case 7:if(lt.int64Data&&lt.int64Data.length||(lt.int64Data=[]),(7&ut)==2)for(ct=d.uint32()+d.pos;d.pos<ct;)lt.int64Data.push(d.int64());else lt.int64Data.push(d.int64());break;case 8:lt.name=d.string();break;case 12:lt.docString=d.string();break;case 9:lt.rawData=d.bytes();break;case 13:lt.externalData&&lt.externalData.length||(lt.externalData=[]),lt.externalData.push(nt.onnx.StringStringEntryProto.decode(d,d.uint32()));break;case 14:lt.dataLocation=d.int32();break;case 10:if(lt.doubleData&&lt.doubleData.length||(lt.doubleData=[]),(7&ut)==2)for(ct=d.uint32()+d.pos;d.pos<ct;)lt.doubleData.push(d.double());else lt.doubleData.push(d.double());break;case 11:if(lt.uint64Data&&lt.uint64Data.length||(lt.uint64Data=[]),(7&ut)==2)for(ct=d.uint32()+d.pos;d.pos<ct;)lt.uint64Data.push(d.uint64());else lt.uint64Data.push(d.uint64());break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.dims!=null&&d.hasOwnProperty("dims")){if(!Array.isArray(d.dims))return"dims: array expected";for(var _=0;_<d.dims.length;++_)if(!(ot.isInteger(d.dims[_])||d.dims[_]&&ot.isInteger(d.dims[_].low)&&ot.isInteger(d.dims[_].high)))return"dims: integer|Long[] expected"}if(d.dataType!=null&&d.hasOwnProperty("dataType")&&!ot.isInteger(d.dataType))return"dataType: integer expected";if(d.segment!=null&&d.hasOwnProperty("segment")&&(tt=nt.onnx.TensorProto.Segment.verify(d.segment)))return"segment."+tt;if(d.floatData!=null&&d.hasOwnProperty("floatData")){if(!Array.isArray(d.floatData))return"floatData: array expected";for(_=0;_<d.floatData.length;++_)if(typeof d.floatData[_]!="number")return"floatData: number[] expected"}if(d.int32Data!=null&&d.hasOwnProperty("int32Data")){if(!Array.isArray(d.int32Data))return"int32Data: array expected";for(_=0;_<d.int32Data.length;++_)if(!ot.isInteger(d.int32Data[_]))return"int32Data: integer[] expected"}if(d.stringData!=null&&d.hasOwnProperty("stringData")){if(!Array.isArray(d.stringData))return"stringData: array expected";for(_=0;_<d.stringData.length;++_)if(!(d.stringData[_]&&typeof d.stringData[_].length=="number"||ot.isString(d.stringData[_])))return"stringData: buffer[] expected"}if(d.int64Data!=null&&d.hasOwnProperty("int64Data")){if(!Array.isArray(d.int64Data))return"int64Data: array expected";for(_=0;_<d.int64Data.length;++_)if(!(ot.isInteger(d.int64Data[_])||d.int64Data[_]&&ot.isInteger(d.int64Data[_].low)&&ot.isInteger(d.int64Data[_].high)))return"int64Data: integer|Long[] expected"}if(d.name!=null&&d.hasOwnProperty("name")&&!ot.isString(d.name))return"name: string expected";if(d.docString!=null&&d.hasOwnProperty("docString")&&!ot.isString(d.docString))return"docString: string expected";if(d.rawData!=null&&d.hasOwnProperty("rawData")&&!(d.rawData&&typeof d.rawData.length=="number"||ot.isString(d.rawData)))return"rawData: buffer expected";if(d.externalData!=null&&d.hasOwnProperty("externalData")){if(!Array.isArray(d.externalData))return"externalData: array expected";for(_=0;_<d.externalData.length;++_){var tt;if(tt=nt.onnx.StringStringEntryProto.verify(d.externalData[_]))return"externalData."+tt}}if(d.dataLocation!=null&&d.hasOwnProperty("dataLocation"))switch(d.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(d.doubleData!=null&&d.hasOwnProperty("doubleData")){if(!Array.isArray(d.doubleData))return"doubleData: array expected";for(_=0;_<d.doubleData.length;++_)if(typeof d.doubleData[_]!="number")return"doubleData: number[] expected"}if(d.uint64Data!=null&&d.hasOwnProperty("uint64Data")){if(!Array.isArray(d.uint64Data))return"uint64Data: array expected";for(_=0;_<d.uint64Data.length;++_)if(!(ot.isInteger(d.uint64Data[_])||d.uint64Data[_]&&ot.isInteger(d.uint64Data[_].low)&&ot.isInteger(d.uint64Data[_].high)))return"uint64Data: integer|Long[] expected"}return null},et.fromObject=function(d){if(d instanceof nt.onnx.TensorProto)return d;var _=new nt.onnx.TensorProto;if(d.dims){if(!Array.isArray(d.dims))throw TypeError(".onnx.TensorProto.dims: array expected");_.dims=[];for(var tt=0;tt<d.dims.length;++tt)ot.Long?(_.dims[tt]=ot.Long.fromValue(d.dims[tt])).unsigned=!1:typeof d.dims[tt]=="string"?_.dims[tt]=parseInt(d.dims[tt],10):typeof d.dims[tt]=="number"?_.dims[tt]=d.dims[tt]:typeof d.dims[tt]=="object"&&(_.dims[tt]=new ot.LongBits(d.dims[tt].low>>>0,d.dims[tt].high>>>0).toNumber())}if(d.dataType!=null&&(_.dataType=0|d.dataType),d.segment!=null){if(typeof d.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");_.segment=nt.onnx.TensorProto.Segment.fromObject(d.segment)}if(d.floatData){if(!Array.isArray(d.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(_.floatData=[],tt=0;tt<d.floatData.length;++tt)_.floatData[tt]=Number(d.floatData[tt])}if(d.int32Data){if(!Array.isArray(d.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(_.int32Data=[],tt=0;tt<d.int32Data.length;++tt)_.int32Data[tt]=0|d.int32Data[tt]}if(d.stringData){if(!Array.isArray(d.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(_.stringData=[],tt=0;tt<d.stringData.length;++tt)typeof d.stringData[tt]=="string"?ot.base64.decode(d.stringData[tt],_.stringData[tt]=ot.newBuffer(ot.base64.length(d.stringData[tt])),0):d.stringData[tt].length>=0&&(_.stringData[tt]=d.stringData[tt])}if(d.int64Data){if(!Array.isArray(d.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(_.int64Data=[],tt=0;tt<d.int64Data.length;++tt)ot.Long?(_.int64Data[tt]=ot.Long.fromValue(d.int64Data[tt])).unsigned=!1:typeof d.int64Data[tt]=="string"?_.int64Data[tt]=parseInt(d.int64Data[tt],10):typeof d.int64Data[tt]=="number"?_.int64Data[tt]=d.int64Data[tt]:typeof d.int64Data[tt]=="object"&&(_.int64Data[tt]=new ot.LongBits(d.int64Data[tt].low>>>0,d.int64Data[tt].high>>>0).toNumber())}if(d.name!=null&&(_.name=String(d.name)),d.docString!=null&&(_.docString=String(d.docString)),d.rawData!=null&&(typeof d.rawData=="string"?ot.base64.decode(d.rawData,_.rawData=ot.newBuffer(ot.base64.length(d.rawData)),0):d.rawData.length>=0&&(_.rawData=d.rawData)),d.externalData){if(!Array.isArray(d.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(_.externalData=[],tt=0;tt<d.externalData.length;++tt){if(typeof d.externalData[tt]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");_.externalData[tt]=nt.onnx.StringStringEntryProto.fromObject(d.externalData[tt])}}switch(d.dataLocation){default:if(typeof d.dataLocation=="number"){_.dataLocation=d.dataLocation;break}break;case"DEFAULT":case 0:_.dataLocation=0;break;case"EXTERNAL":case 1:_.dataLocation=1}if(d.doubleData){if(!Array.isArray(d.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(_.doubleData=[],tt=0;tt<d.doubleData.length;++tt)_.doubleData[tt]=Number(d.doubleData[tt])}if(d.uint64Data){if(!Array.isArray(d.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(_.uint64Data=[],tt=0;tt<d.uint64Data.length;++tt)ot.Long?(_.uint64Data[tt]=ot.Long.fromValue(d.uint64Data[tt])).unsigned=!0:typeof d.uint64Data[tt]=="string"?_.uint64Data[tt]=parseInt(d.uint64Data[tt],10):typeof d.uint64Data[tt]=="number"?_.uint64Data[tt]=d.uint64Data[tt]:typeof d.uint64Data[tt]=="object"&&(_.uint64Data[tt]=new ot.LongBits(d.uint64Data[tt].low>>>0,d.uint64Data[tt].high>>>0).toNumber(!0))}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.dims=[],tt.floatData=[],tt.int32Data=[],tt.stringData=[],tt.int64Data=[],tt.doubleData=[],tt.uint64Data=[],tt.externalData=[]),_.defaults&&(tt.dataType=0,tt.segment=null,tt.name="",_.bytes===String?tt.rawData="":(tt.rawData=[],_.bytes!==Array&&(tt.rawData=ot.newBuffer(tt.rawData))),tt.docString="",tt.dataLocation=_.enums===String?"DEFAULT":0),d.dims&&d.dims.length){tt.dims=[];for(var lt=0;lt<d.dims.length;++lt)typeof d.dims[lt]=="number"?tt.dims[lt]=_.longs===String?String(d.dims[lt]):d.dims[lt]:tt.dims[lt]=_.longs===String?ot.Long.prototype.toString.call(d.dims[lt]):_.longs===Number?new ot.LongBits(d.dims[lt].low>>>0,d.dims[lt].high>>>0).toNumber():d.dims[lt]}if(d.dataType!=null&&d.hasOwnProperty("dataType")&&(tt.dataType=d.dataType),d.segment!=null&&d.hasOwnProperty("segment")&&(tt.segment=nt.onnx.TensorProto.Segment.toObject(d.segment,_)),d.floatData&&d.floatData.length)for(tt.floatData=[],lt=0;lt<d.floatData.length;++lt)tt.floatData[lt]=_.json&&!isFinite(d.floatData[lt])?String(d.floatData[lt]):d.floatData[lt];if(d.int32Data&&d.int32Data.length)for(tt.int32Data=[],lt=0;lt<d.int32Data.length;++lt)tt.int32Data[lt]=d.int32Data[lt];if(d.stringData&&d.stringData.length)for(tt.stringData=[],lt=0;lt<d.stringData.length;++lt)tt.stringData[lt]=_.bytes===String?ot.base64.encode(d.stringData[lt],0,d.stringData[lt].length):_.bytes===Array?Array.prototype.slice.call(d.stringData[lt]):d.stringData[lt];if(d.int64Data&&d.int64Data.length)for(tt.int64Data=[],lt=0;lt<d.int64Data.length;++lt)typeof d.int64Data[lt]=="number"?tt.int64Data[lt]=_.longs===String?String(d.int64Data[lt]):d.int64Data[lt]:tt.int64Data[lt]=_.longs===String?ot.Long.prototype.toString.call(d.int64Data[lt]):_.longs===Number?new ot.LongBits(d.int64Data[lt].low>>>0,d.int64Data[lt].high>>>0).toNumber():d.int64Data[lt];if(d.name!=null&&d.hasOwnProperty("name")&&(tt.name=d.name),d.rawData!=null&&d.hasOwnProperty("rawData")&&(tt.rawData=_.bytes===String?ot.base64.encode(d.rawData,0,d.rawData.length):_.bytes===Array?Array.prototype.slice.call(d.rawData):d.rawData),d.doubleData&&d.doubleData.length)for(tt.doubleData=[],lt=0;lt<d.doubleData.length;++lt)tt.doubleData[lt]=_.json&&!isFinite(d.doubleData[lt])?String(d.doubleData[lt]):d.doubleData[lt];if(d.uint64Data&&d.uint64Data.length)for(tt.uint64Data=[],lt=0;lt<d.uint64Data.length;++lt)typeof d.uint64Data[lt]=="number"?tt.uint64Data[lt]=_.longs===String?String(d.uint64Data[lt]):d.uint64Data[lt]:tt.uint64Data[lt]=_.longs===String?ot.Long.prototype.toString.call(d.uint64Data[lt]):_.longs===Number?new ot.LongBits(d.uint64Data[lt].low>>>0,d.uint64Data[lt].high>>>0).toNumber(!0):d.uint64Data[lt];if(d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),d.externalData&&d.externalData.length)for(tt.externalData=[],lt=0;lt<d.externalData.length;++lt)tt.externalData[lt]=nt.onnx.StringStringEntryProto.toObject(d.externalData[lt],_);return d.dataLocation!=null&&d.hasOwnProperty("dataLocation")&&(tt.dataLocation=_.enums===String?nt.onnx.TensorProto.DataLocation[d.dataLocation]===void 0?d.dataLocation:nt.onnx.TensorProto.DataLocation[d.dataLocation]:d.dataLocation),tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.TensorProto"},et.DataType=function(){var d={},_=Object.create(d);return _[d[0]="UNDEFINED"]=0,_[d[1]="FLOAT"]=1,_[d[2]="UINT8"]=2,_[d[3]="INT8"]=3,_[d[4]="UINT16"]=4,_[d[5]="INT16"]=5,_[d[6]="INT32"]=6,_[d[7]="INT64"]=7,_[d[8]="STRING"]=8,_[d[9]="BOOL"]=9,_[d[10]="FLOAT16"]=10,_[d[11]="DOUBLE"]=11,_[d[12]="UINT32"]=12,_[d[13]="UINT64"]=13,_[d[14]="COMPLEX64"]=14,_[d[15]="COMPLEX128"]=15,_[d[16]="BFLOAT16"]=16,_[d[17]="FLOAT8E4M3FN"]=17,_[d[18]="FLOAT8E4M3FNUZ"]=18,_[d[19]="FLOAT8E5M2"]=19,_[d[20]="FLOAT8E5M2FNUZ"]=20,_}(),et.Segment=function(){function d(_){if(_)for(var tt=Object.keys(_),lt=0;lt<tt.length;++lt)_[tt[lt]]!=null&&(this[tt[lt]]=_[tt[lt]])}return d.prototype.begin=ot.Long?ot.Long.fromBits(0,0,!1):0,d.prototype.end=ot.Long?ot.Long.fromBits(0,0,!1):0,d.create=function(_){return new d(_)},d.encode=function(_,tt){return tt||(tt=st.create()),_.begin!=null&&Object.hasOwnProperty.call(_,"begin")&&tt.uint32(8).int64(_.begin),_.end!=null&&Object.hasOwnProperty.call(_,"end")&&tt.uint32(16).int64(_.end),tt},d.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},d.decode=function(_,tt){_ instanceof at||(_=at.create(_));for(var lt=tt===void 0?_.len:_.pos+tt,ut=new nt.onnx.TensorProto.Segment;_.pos<lt;){var ct=_.uint32();switch(ct>>>3){case 1:ut.begin=_.int64();break;case 2:ut.end=_.int64();break;default:_.skipType(7&ct)}}return ut},d.decodeDelimited=function(_){return _ instanceof at||(_=new at(_)),this.decode(_,_.uint32())},d.verify=function(_){return typeof _!="object"||_===null?"object expected":_.begin!=null&&_.hasOwnProperty("begin")&&!(ot.isInteger(_.begin)||_.begin&&ot.isInteger(_.begin.low)&&ot.isInteger(_.begin.high))?"begin: integer|Long expected":_.end!=null&&_.hasOwnProperty("end")&&!(ot.isInteger(_.end)||_.end&&ot.isInteger(_.end.low)&&ot.isInteger(_.end.high))?"end: integer|Long expected":null},d.fromObject=function(_){if(_ instanceof nt.onnx.TensorProto.Segment)return _;var tt=new nt.onnx.TensorProto.Segment;return _.begin!=null&&(ot.Long?(tt.begin=ot.Long.fromValue(_.begin)).unsigned=!1:typeof _.begin=="string"?tt.begin=parseInt(_.begin,10):typeof _.begin=="number"?tt.begin=_.begin:typeof _.begin=="object"&&(tt.begin=new ot.LongBits(_.begin.low>>>0,_.begin.high>>>0).toNumber())),_.end!=null&&(ot.Long?(tt.end=ot.Long.fromValue(_.end)).unsigned=!1:typeof _.end=="string"?tt.end=parseInt(_.end,10):typeof _.end=="number"?tt.end=_.end:typeof _.end=="object"&&(tt.end=new ot.LongBits(_.end.low>>>0,_.end.high>>>0).toNumber())),tt},d.toObject=function(_,tt){tt||(tt={});var lt={};if(tt.defaults){if(ot.Long){var ut=new ot.Long(0,0,!1);lt.begin=tt.longs===String?ut.toString():tt.longs===Number?ut.toNumber():ut}else lt.begin=tt.longs===String?"0":0;ot.Long?(ut=new ot.Long(0,0,!1),lt.end=tt.longs===String?ut.toString():tt.longs===Number?ut.toNumber():ut):lt.end=tt.longs===String?"0":0}return _.begin!=null&&_.hasOwnProperty("begin")&&(typeof _.begin=="number"?lt.begin=tt.longs===String?String(_.begin):_.begin:lt.begin=tt.longs===String?ot.Long.prototype.toString.call(_.begin):tt.longs===Number?new ot.LongBits(_.begin.low>>>0,_.begin.high>>>0).toNumber():_.begin),_.end!=null&&_.hasOwnProperty("end")&&(typeof _.end=="number"?lt.end=tt.longs===String?String(_.end):_.end:lt.end=tt.longs===String?ot.Long.prototype.toString.call(_.end):tt.longs===Number?new ot.LongBits(_.end.low>>>0,_.end.high>>>0).toNumber():_.end),lt},d.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},d.getTypeUrl=function(_){return _===void 0&&(_="type.googleapis.com"),_+"/onnx.TensorProto.Segment"},d}(),et.DataLocation=function(){var d={},_=Object.create(d);return _[d[0]="DEFAULT"]=0,_[d[1]="EXTERNAL"]=1,_}(),et}(),_e.SparseTensorProto=function(){function et(d){if(this.dims=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.values=null,et.prototype.indices=null,et.prototype.dims=ot.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=st.create()),d.values!=null&&Object.hasOwnProperty.call(d,"values")&&nt.onnx.TensorProto.encode(d.values,_.uint32(10).fork()).ldelim(),d.indices!=null&&Object.hasOwnProperty.call(d,"indices")&&nt.onnx.TensorProto.encode(d.indices,_.uint32(18).fork()).ldelim(),d.dims!=null&&d.dims.length){_.uint32(26).fork();for(var tt=0;tt<d.dims.length;++tt)_.int64(d.dims[tt]);_.ldelim()}return _},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.SparseTensorProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.values=nt.onnx.TensorProto.decode(d,d.uint32());break;case 2:lt.indices=nt.onnx.TensorProto.decode(d,d.uint32());break;case 3:if(lt.dims&&lt.dims.length||(lt.dims=[]),(7&ut)==2)for(var ct=d.uint32()+d.pos;d.pos<ct;)lt.dims.push(d.int64());else lt.dims.push(d.int64());break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";var _;if(d.values!=null&&d.hasOwnProperty("values")&&(_=nt.onnx.TensorProto.verify(d.values)))return"values."+_;if(d.indices!=null&&d.hasOwnProperty("indices")&&(_=nt.onnx.TensorProto.verify(d.indices)))return"indices."+_;if(d.dims!=null&&d.hasOwnProperty("dims")){if(!Array.isArray(d.dims))return"dims: array expected";for(var tt=0;tt<d.dims.length;++tt)if(!(ot.isInteger(d.dims[tt])||d.dims[tt]&&ot.isInteger(d.dims[tt].low)&&ot.isInteger(d.dims[tt].high)))return"dims: integer|Long[] expected"}return null},et.fromObject=function(d){if(d instanceof nt.onnx.SparseTensorProto)return d;var _=new nt.onnx.SparseTensorProto;if(d.values!=null){if(typeof d.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");_.values=nt.onnx.TensorProto.fromObject(d.values)}if(d.indices!=null){if(typeof d.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");_.indices=nt.onnx.TensorProto.fromObject(d.indices)}if(d.dims){if(!Array.isArray(d.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");_.dims=[];for(var tt=0;tt<d.dims.length;++tt)ot.Long?(_.dims[tt]=ot.Long.fromValue(d.dims[tt])).unsigned=!1:typeof d.dims[tt]=="string"?_.dims[tt]=parseInt(d.dims[tt],10):typeof d.dims[tt]=="number"?_.dims[tt]=d.dims[tt]:typeof d.dims[tt]=="object"&&(_.dims[tt]=new ot.LongBits(d.dims[tt].low>>>0,d.dims[tt].high>>>0).toNumber())}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.dims=[]),_.defaults&&(tt.values=null,tt.indices=null),d.values!=null&&d.hasOwnProperty("values")&&(tt.values=nt.onnx.TensorProto.toObject(d.values,_)),d.indices!=null&&d.hasOwnProperty("indices")&&(tt.indices=nt.onnx.TensorProto.toObject(d.indices,_)),d.dims&&d.dims.length){tt.dims=[];for(var lt=0;lt<d.dims.length;++lt)typeof d.dims[lt]=="number"?tt.dims[lt]=_.longs===String?String(d.dims[lt]):d.dims[lt]:tt.dims[lt]=_.longs===String?ot.Long.prototype.toString.call(d.dims[lt]):_.longs===Number?new ot.LongBits(d.dims[lt].low>>>0,d.dims[lt].high>>>0).toNumber():d.dims[lt]}return tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.SparseTensorProto"},et}(),_e.TensorShapeProto=function(){function et(d){if(this.dim=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.dim=ot.emptyArray,et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=st.create()),d.dim!=null&&d.dim.length)for(var tt=0;tt<d.dim.length;++tt)nt.onnx.TensorShapeProto.Dimension.encode(d.dim[tt],_.uint32(10).fork()).ldelim();return _},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.TensorShapeProto;d.pos<tt;){var ut=d.uint32();ut>>>3==1?(lt.dim&&lt.dim.length||(lt.dim=[]),lt.dim.push(nt.onnx.TensorShapeProto.Dimension.decode(d,d.uint32()))):d.skipType(7&ut)}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.dim!=null&&d.hasOwnProperty("dim")){if(!Array.isArray(d.dim))return"dim: array expected";for(var _=0;_<d.dim.length;++_){var tt=nt.onnx.TensorShapeProto.Dimension.verify(d.dim[_]);if(tt)return"dim."+tt}}return null},et.fromObject=function(d){if(d instanceof nt.onnx.TensorShapeProto)return d;var _=new nt.onnx.TensorShapeProto;if(d.dim){if(!Array.isArray(d.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");_.dim=[];for(var tt=0;tt<d.dim.length;++tt){if(typeof d.dim[tt]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");_.dim[tt]=nt.onnx.TensorShapeProto.Dimension.fromObject(d.dim[tt])}}return _},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.dim=[]),d.dim&&d.dim.length){tt.dim=[];for(var lt=0;lt<d.dim.length;++lt)tt.dim[lt]=nt.onnx.TensorShapeProto.Dimension.toObject(d.dim[lt],_)}return tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.TensorShapeProto"},et.Dimension=function(){function d(tt){if(tt)for(var lt=Object.keys(tt),ut=0;ut<lt.length;++ut)tt[lt[ut]]!=null&&(this[lt[ut]]=tt[lt[ut]])}var _;return d.prototype.dimValue=null,d.prototype.dimParam=null,d.prototype.denotation="",Object.defineProperty(d.prototype,"value",{get:ot.oneOfGetter(_=["dimValue","dimParam"]),set:ot.oneOfSetter(_)}),d.create=function(tt){return new d(tt)},d.encode=function(tt,lt){return lt||(lt=st.create()),tt.dimValue!=null&&Object.hasOwnProperty.call(tt,"dimValue")&&lt.uint32(8).int64(tt.dimValue),tt.dimParam!=null&&Object.hasOwnProperty.call(tt,"dimParam")&&lt.uint32(18).string(tt.dimParam),tt.denotation!=null&&Object.hasOwnProperty.call(tt,"denotation")&&lt.uint32(26).string(tt.denotation),lt},d.encodeDelimited=function(tt,lt){return this.encode(tt,lt).ldelim()},d.decode=function(tt,lt){tt instanceof at||(tt=at.create(tt));for(var ut=lt===void 0?tt.len:tt.pos+lt,ct=new nt.onnx.TensorShapeProto.Dimension;tt.pos<ut;){var ft=tt.uint32();switch(ft>>>3){case 1:ct.dimValue=tt.int64();break;case 2:ct.dimParam=tt.string();break;case 3:ct.denotation=tt.string();break;default:tt.skipType(7&ft)}}return ct},d.decodeDelimited=function(tt){return tt instanceof at||(tt=new at(tt)),this.decode(tt,tt.uint32())},d.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";var lt={};if(tt.dimValue!=null&&tt.hasOwnProperty("dimValue")&&(lt.value=1,!(ot.isInteger(tt.dimValue)||tt.dimValue&&ot.isInteger(tt.dimValue.low)&&ot.isInteger(tt.dimValue.high))))return"dimValue: integer|Long expected";if(tt.dimParam!=null&&tt.hasOwnProperty("dimParam")){if(lt.value===1)return"value: multiple values";if(lt.value=1,!ot.isString(tt.dimParam))return"dimParam: string expected"}return tt.denotation!=null&&tt.hasOwnProperty("denotation")&&!ot.isString(tt.denotation)?"denotation: string expected":null},d.fromObject=function(tt){if(tt instanceof nt.onnx.TensorShapeProto.Dimension)return tt;var lt=new nt.onnx.TensorShapeProto.Dimension;return tt.dimValue!=null&&(ot.Long?(lt.dimValue=ot.Long.fromValue(tt.dimValue)).unsigned=!1:typeof tt.dimValue=="string"?lt.dimValue=parseInt(tt.dimValue,10):typeof tt.dimValue=="number"?lt.dimValue=tt.dimValue:typeof tt.dimValue=="object"&&(lt.dimValue=new ot.LongBits(tt.dimValue.low>>>0,tt.dimValue.high>>>0).toNumber())),tt.dimParam!=null&&(lt.dimParam=String(tt.dimParam)),tt.denotation!=null&&(lt.denotation=String(tt.denotation)),lt},d.toObject=function(tt,lt){lt||(lt={});var ut={};return lt.defaults&&(ut.denotation=""),tt.dimValue!=null&&tt.hasOwnProperty("dimValue")&&(typeof tt.dimValue=="number"?ut.dimValue=lt.longs===String?String(tt.dimValue):tt.dimValue:ut.dimValue=lt.longs===String?ot.Long.prototype.toString.call(tt.dimValue):lt.longs===Number?new ot.LongBits(tt.dimValue.low>>>0,tt.dimValue.high>>>0).toNumber():tt.dimValue,lt.oneofs&&(ut.value="dimValue")),tt.dimParam!=null&&tt.hasOwnProperty("dimParam")&&(ut.dimParam=tt.dimParam,lt.oneofs&&(ut.value="dimParam")),tt.denotation!=null&&tt.hasOwnProperty("denotation")&&(ut.denotation=tt.denotation),ut},d.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},d.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.TensorShapeProto.Dimension"},d}(),et}(),_e.TypeProto=function(){function et(_){if(_)for(var tt=Object.keys(_),lt=0;lt<tt.length;++lt)_[tt[lt]]!=null&&(this[tt[lt]]=_[tt[lt]])}var d;return et.prototype.tensorType=null,et.prototype.sequenceType=null,et.prototype.mapType=null,et.prototype.optionalType=null,et.prototype.sparseTensorType=null,et.prototype.denotation="",Object.defineProperty(et.prototype,"value",{get:ot.oneOfGetter(d=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:ot.oneOfSetter(d)}),et.create=function(_){return new et(_)},et.encode=function(_,tt){return tt||(tt=st.create()),_.tensorType!=null&&Object.hasOwnProperty.call(_,"tensorType")&&nt.onnx.TypeProto.Tensor.encode(_.tensorType,tt.uint32(10).fork()).ldelim(),_.sequenceType!=null&&Object.hasOwnProperty.call(_,"sequenceType")&&nt.onnx.TypeProto.Sequence.encode(_.sequenceType,tt.uint32(34).fork()).ldelim(),_.mapType!=null&&Object.hasOwnProperty.call(_,"mapType")&&nt.onnx.TypeProto.Map.encode(_.mapType,tt.uint32(42).fork()).ldelim(),_.denotation!=null&&Object.hasOwnProperty.call(_,"denotation")&&tt.uint32(50).string(_.denotation),_.sparseTensorType!=null&&Object.hasOwnProperty.call(_,"sparseTensorType")&&nt.onnx.TypeProto.SparseTensor.encode(_.sparseTensorType,tt.uint32(66).fork()).ldelim(),_.optionalType!=null&&Object.hasOwnProperty.call(_,"optionalType")&&nt.onnx.TypeProto.Optional.encode(_.optionalType,tt.uint32(74).fork()).ldelim(),tt},et.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},et.decode=function(_,tt){_ instanceof at||(_=at.create(_));for(var lt=tt===void 0?_.len:_.pos+tt,ut=new nt.onnx.TypeProto;_.pos<lt;){var ct=_.uint32();switch(ct>>>3){case 1:ut.tensorType=nt.onnx.TypeProto.Tensor.decode(_,_.uint32());break;case 4:ut.sequenceType=nt.onnx.TypeProto.Sequence.decode(_,_.uint32());break;case 5:ut.mapType=nt.onnx.TypeProto.Map.decode(_,_.uint32());break;case 9:ut.optionalType=nt.onnx.TypeProto.Optional.decode(_,_.uint32());break;case 8:ut.sparseTensorType=nt.onnx.TypeProto.SparseTensor.decode(_,_.uint32());break;case 6:ut.denotation=_.string();break;default:_.skipType(7&ct)}}return ut},et.decodeDelimited=function(_){return _ instanceof at||(_=new at(_)),this.decode(_,_.uint32())},et.verify=function(_){if(typeof _!="object"||_===null)return"object expected";var tt={};if(_.tensorType!=null&&_.hasOwnProperty("tensorType")&&(tt.value=1,lt=nt.onnx.TypeProto.Tensor.verify(_.tensorType)))return"tensorType."+lt;if(_.sequenceType!=null&&_.hasOwnProperty("sequenceType")){if(tt.value===1)return"value: multiple values";if(tt.value=1,lt=nt.onnx.TypeProto.Sequence.verify(_.sequenceType))return"sequenceType."+lt}if(_.mapType!=null&&_.hasOwnProperty("mapType")){if(tt.value===1)return"value: multiple values";if(tt.value=1,lt=nt.onnx.TypeProto.Map.verify(_.mapType))return"mapType."+lt}if(_.optionalType!=null&&_.hasOwnProperty("optionalType")){if(tt.value===1)return"value: multiple values";if(tt.value=1,lt=nt.onnx.TypeProto.Optional.verify(_.optionalType))return"optionalType."+lt}if(_.sparseTensorType!=null&&_.hasOwnProperty("sparseTensorType")){if(tt.value===1)return"value: multiple values";var lt;if(tt.value=1,lt=nt.onnx.TypeProto.SparseTensor.verify(_.sparseTensorType))return"sparseTensorType."+lt}return _.denotation!=null&&_.hasOwnProperty("denotation")&&!ot.isString(_.denotation)?"denotation: string expected":null},et.fromObject=function(_){if(_ instanceof nt.onnx.TypeProto)return _;var tt=new nt.onnx.TypeProto;if(_.tensorType!=null){if(typeof _.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");tt.tensorType=nt.onnx.TypeProto.Tensor.fromObject(_.tensorType)}if(_.sequenceType!=null){if(typeof _.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");tt.sequenceType=nt.onnx.TypeProto.Sequence.fromObject(_.sequenceType)}if(_.mapType!=null){if(typeof _.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");tt.mapType=nt.onnx.TypeProto.Map.fromObject(_.mapType)}if(_.optionalType!=null){if(typeof _.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");tt.optionalType=nt.onnx.TypeProto.Optional.fromObject(_.optionalType)}if(_.sparseTensorType!=null){if(typeof _.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");tt.sparseTensorType=nt.onnx.TypeProto.SparseTensor.fromObject(_.sparseTensorType)}return _.denotation!=null&&(tt.denotation=String(_.denotation)),tt},et.toObject=function(_,tt){tt||(tt={});var lt={};return tt.defaults&&(lt.denotation=""),_.tensorType!=null&&_.hasOwnProperty("tensorType")&&(lt.tensorType=nt.onnx.TypeProto.Tensor.toObject(_.tensorType,tt),tt.oneofs&&(lt.value="tensorType")),_.sequenceType!=null&&_.hasOwnProperty("sequenceType")&&(lt.sequenceType=nt.onnx.TypeProto.Sequence.toObject(_.sequenceType,tt),tt.oneofs&&(lt.value="sequenceType")),_.mapType!=null&&_.hasOwnProperty("mapType")&&(lt.mapType=nt.onnx.TypeProto.Map.toObject(_.mapType,tt),tt.oneofs&&(lt.value="mapType")),_.denotation!=null&&_.hasOwnProperty("denotation")&&(lt.denotation=_.denotation),_.sparseTensorType!=null&&_.hasOwnProperty("sparseTensorType")&&(lt.sparseTensorType=nt.onnx.TypeProto.SparseTensor.toObject(_.sparseTensorType,tt),tt.oneofs&&(lt.value="sparseTensorType")),_.optionalType!=null&&_.hasOwnProperty("optionalType")&&(lt.optionalType=nt.onnx.TypeProto.Optional.toObject(_.optionalType,tt),tt.oneofs&&(lt.value="optionalType")),lt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(_){return _===void 0&&(_="type.googleapis.com"),_+"/onnx.TypeProto"},et.Tensor=function(){function _(tt){if(tt)for(var lt=Object.keys(tt),ut=0;ut<lt.length;++ut)tt[lt[ut]]!=null&&(this[lt[ut]]=tt[lt[ut]])}return _.prototype.elemType=0,_.prototype.shape=null,_.create=function(tt){return new _(tt)},_.encode=function(tt,lt){return lt||(lt=st.create()),tt.elemType!=null&&Object.hasOwnProperty.call(tt,"elemType")&&lt.uint32(8).int32(tt.elemType),tt.shape!=null&&Object.hasOwnProperty.call(tt,"shape")&&nt.onnx.TensorShapeProto.encode(tt.shape,lt.uint32(18).fork()).ldelim(),lt},_.encodeDelimited=function(tt,lt){return this.encode(tt,lt).ldelim()},_.decode=function(tt,lt){tt instanceof at||(tt=at.create(tt));for(var ut=lt===void 0?tt.len:tt.pos+lt,ct=new nt.onnx.TypeProto.Tensor;tt.pos<ut;){var ft=tt.uint32();switch(ft>>>3){case 1:ct.elemType=tt.int32();break;case 2:ct.shape=nt.onnx.TensorShapeProto.decode(tt,tt.uint32());break;default:tt.skipType(7&ft)}}return ct},_.decodeDelimited=function(tt){return tt instanceof at||(tt=new at(tt)),this.decode(tt,tt.uint32())},_.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.elemType!=null&&tt.hasOwnProperty("elemType")&&!ot.isInteger(tt.elemType))return"elemType: integer expected";if(tt.shape!=null&&tt.hasOwnProperty("shape")){var lt=nt.onnx.TensorShapeProto.verify(tt.shape);if(lt)return"shape."+lt}return null},_.fromObject=function(tt){if(tt instanceof nt.onnx.TypeProto.Tensor)return tt;var lt=new nt.onnx.TypeProto.Tensor;if(tt.elemType!=null&&(lt.elemType=0|tt.elemType),tt.shape!=null){if(typeof tt.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");lt.shape=nt.onnx.TensorShapeProto.fromObject(tt.shape)}return lt},_.toObject=function(tt,lt){lt||(lt={});var ut={};return lt.defaults&&(ut.elemType=0,ut.shape=null),tt.elemType!=null&&tt.hasOwnProperty("elemType")&&(ut.elemType=tt.elemType),tt.shape!=null&&tt.hasOwnProperty("shape")&&(ut.shape=nt.onnx.TensorShapeProto.toObject(tt.shape,lt)),ut},_.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},_.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.TypeProto.Tensor"},_}(),et.Sequence=function(){function _(tt){if(tt)for(var lt=Object.keys(tt),ut=0;ut<lt.length;++ut)tt[lt[ut]]!=null&&(this[lt[ut]]=tt[lt[ut]])}return _.prototype.elemType=null,_.create=function(tt){return new _(tt)},_.encode=function(tt,lt){return lt||(lt=st.create()),tt.elemType!=null&&Object.hasOwnProperty.call(tt,"elemType")&&nt.onnx.TypeProto.encode(tt.elemType,lt.uint32(10).fork()).ldelim(),lt},_.encodeDelimited=function(tt,lt){return this.encode(tt,lt).ldelim()},_.decode=function(tt,lt){tt instanceof at||(tt=at.create(tt));for(var ut=lt===void 0?tt.len:tt.pos+lt,ct=new nt.onnx.TypeProto.Sequence;tt.pos<ut;){var ft=tt.uint32();ft>>>3==1?ct.elemType=nt.onnx.TypeProto.decode(tt,tt.uint32()):tt.skipType(7&ft)}return ct},_.decodeDelimited=function(tt){return tt instanceof at||(tt=new at(tt)),this.decode(tt,tt.uint32())},_.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.elemType!=null&&tt.hasOwnProperty("elemType")){var lt=nt.onnx.TypeProto.verify(tt.elemType);if(lt)return"elemType."+lt}return null},_.fromObject=function(tt){if(tt instanceof nt.onnx.TypeProto.Sequence)return tt;var lt=new nt.onnx.TypeProto.Sequence;if(tt.elemType!=null){if(typeof tt.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");lt.elemType=nt.onnx.TypeProto.fromObject(tt.elemType)}return lt},_.toObject=function(tt,lt){lt||(lt={});var ut={};return lt.defaults&&(ut.elemType=null),tt.elemType!=null&&tt.hasOwnProperty("elemType")&&(ut.elemType=nt.onnx.TypeProto.toObject(tt.elemType,lt)),ut},_.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},_.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.TypeProto.Sequence"},_}(),et.Map=function(){function _(tt){if(tt)for(var lt=Object.keys(tt),ut=0;ut<lt.length;++ut)tt[lt[ut]]!=null&&(this[lt[ut]]=tt[lt[ut]])}return _.prototype.keyType=0,_.prototype.valueType=null,_.create=function(tt){return new _(tt)},_.encode=function(tt,lt){return lt||(lt=st.create()),tt.keyType!=null&&Object.hasOwnProperty.call(tt,"keyType")&&lt.uint32(8).int32(tt.keyType),tt.valueType!=null&&Object.hasOwnProperty.call(tt,"valueType")&&nt.onnx.TypeProto.encode(tt.valueType,lt.uint32(18).fork()).ldelim(),lt},_.encodeDelimited=function(tt,lt){return this.encode(tt,lt).ldelim()},_.decode=function(tt,lt){tt instanceof at||(tt=at.create(tt));for(var ut=lt===void 0?tt.len:tt.pos+lt,ct=new nt.onnx.TypeProto.Map;tt.pos<ut;){var ft=tt.uint32();switch(ft>>>3){case 1:ct.keyType=tt.int32();break;case 2:ct.valueType=nt.onnx.TypeProto.decode(tt,tt.uint32());break;default:tt.skipType(7&ft)}}return ct},_.decodeDelimited=function(tt){return tt instanceof at||(tt=new at(tt)),this.decode(tt,tt.uint32())},_.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.keyType!=null&&tt.hasOwnProperty("keyType")&&!ot.isInteger(tt.keyType))return"keyType: integer expected";if(tt.valueType!=null&&tt.hasOwnProperty("valueType")){var lt=nt.onnx.TypeProto.verify(tt.valueType);if(lt)return"valueType."+lt}return null},_.fromObject=function(tt){if(tt instanceof nt.onnx.TypeProto.Map)return tt;var lt=new nt.onnx.TypeProto.Map;if(tt.keyType!=null&&(lt.keyType=0|tt.keyType),tt.valueType!=null){if(typeof tt.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");lt.valueType=nt.onnx.TypeProto.fromObject(tt.valueType)}return lt},_.toObject=function(tt,lt){lt||(lt={});var ut={};return lt.defaults&&(ut.keyType=0,ut.valueType=null),tt.keyType!=null&&tt.hasOwnProperty("keyType")&&(ut.keyType=tt.keyType),tt.valueType!=null&&tt.hasOwnProperty("valueType")&&(ut.valueType=nt.onnx.TypeProto.toObject(tt.valueType,lt)),ut},_.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},_.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.TypeProto.Map"},_}(),et.Optional=function(){function _(tt){if(tt)for(var lt=Object.keys(tt),ut=0;ut<lt.length;++ut)tt[lt[ut]]!=null&&(this[lt[ut]]=tt[lt[ut]])}return _.prototype.elemType=null,_.create=function(tt){return new _(tt)},_.encode=function(tt,lt){return lt||(lt=st.create()),tt.elemType!=null&&Object.hasOwnProperty.call(tt,"elemType")&&nt.onnx.TypeProto.encode(tt.elemType,lt.uint32(10).fork()).ldelim(),lt},_.encodeDelimited=function(tt,lt){return this.encode(tt,lt).ldelim()},_.decode=function(tt,lt){tt instanceof at||(tt=at.create(tt));for(var ut=lt===void 0?tt.len:tt.pos+lt,ct=new nt.onnx.TypeProto.Optional;tt.pos<ut;){var ft=tt.uint32();ft>>>3==1?ct.elemType=nt.onnx.TypeProto.decode(tt,tt.uint32()):tt.skipType(7&ft)}return ct},_.decodeDelimited=function(tt){return tt instanceof at||(tt=new at(tt)),this.decode(tt,tt.uint32())},_.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.elemType!=null&&tt.hasOwnProperty("elemType")){var lt=nt.onnx.TypeProto.verify(tt.elemType);if(lt)return"elemType."+lt}return null},_.fromObject=function(tt){if(tt instanceof nt.onnx.TypeProto.Optional)return tt;var lt=new nt.onnx.TypeProto.Optional;if(tt.elemType!=null){if(typeof tt.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");lt.elemType=nt.onnx.TypeProto.fromObject(tt.elemType)}return lt},_.toObject=function(tt,lt){lt||(lt={});var ut={};return lt.defaults&&(ut.elemType=null),tt.elemType!=null&&tt.hasOwnProperty("elemType")&&(ut.elemType=nt.onnx.TypeProto.toObject(tt.elemType,lt)),ut},_.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},_.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.TypeProto.Optional"},_}(),et.SparseTensor=function(){function _(tt){if(tt)for(var lt=Object.keys(tt),ut=0;ut<lt.length;++ut)tt[lt[ut]]!=null&&(this[lt[ut]]=tt[lt[ut]])}return _.prototype.elemType=0,_.prototype.shape=null,_.create=function(tt){return new _(tt)},_.encode=function(tt,lt){return lt||(lt=st.create()),tt.elemType!=null&&Object.hasOwnProperty.call(tt,"elemType")&&lt.uint32(8).int32(tt.elemType),tt.shape!=null&&Object.hasOwnProperty.call(tt,"shape")&&nt.onnx.TensorShapeProto.encode(tt.shape,lt.uint32(18).fork()).ldelim(),lt},_.encodeDelimited=function(tt,lt){return this.encode(tt,lt).ldelim()},_.decode=function(tt,lt){tt instanceof at||(tt=at.create(tt));for(var ut=lt===void 0?tt.len:tt.pos+lt,ct=new nt.onnx.TypeProto.SparseTensor;tt.pos<ut;){var ft=tt.uint32();switch(ft>>>3){case 1:ct.elemType=tt.int32();break;case 2:ct.shape=nt.onnx.TensorShapeProto.decode(tt,tt.uint32());break;default:tt.skipType(7&ft)}}return ct},_.decodeDelimited=function(tt){return tt instanceof at||(tt=new at(tt)),this.decode(tt,tt.uint32())},_.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.elemType!=null&&tt.hasOwnProperty("elemType")&&!ot.isInteger(tt.elemType))return"elemType: integer expected";if(tt.shape!=null&&tt.hasOwnProperty("shape")){var lt=nt.onnx.TensorShapeProto.verify(tt.shape);if(lt)return"shape."+lt}return null},_.fromObject=function(tt){if(tt instanceof nt.onnx.TypeProto.SparseTensor)return tt;var lt=new nt.onnx.TypeProto.SparseTensor;if(tt.elemType!=null&&(lt.elemType=0|tt.elemType),tt.shape!=null){if(typeof tt.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");lt.shape=nt.onnx.TensorShapeProto.fromObject(tt.shape)}return lt},_.toObject=function(tt,lt){lt||(lt={});var ut={};return lt.defaults&&(ut.elemType=0,ut.shape=null),tt.elemType!=null&&tt.hasOwnProperty("elemType")&&(ut.elemType=tt.elemType),tt.shape!=null&&tt.hasOwnProperty("shape")&&(ut.shape=nt.onnx.TensorShapeProto.toObject(tt.shape,lt)),ut},_.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},_.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.TypeProto.SparseTensor"},_}(),et}(),_e.OperatorSetIdProto=function(){function et(d){if(d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.domain="",et.prototype.version=ot.Long?ot.Long.fromBits(0,0,!1):0,et.create=function(d){return new et(d)},et.encode=function(d,_){return _||(_=st.create()),d.domain!=null&&Object.hasOwnProperty.call(d,"domain")&&_.uint32(10).string(d.domain),d.version!=null&&Object.hasOwnProperty.call(d,"version")&&_.uint32(16).int64(d.version),_},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.OperatorSetIdProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.domain=d.string();break;case 2:lt.version=d.int64();break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){return typeof d!="object"||d===null?"object expected":d.domain!=null&&d.hasOwnProperty("domain")&&!ot.isString(d.domain)?"domain: string expected":d.version!=null&&d.hasOwnProperty("version")&&!(ot.isInteger(d.version)||d.version&&ot.isInteger(d.version.low)&&ot.isInteger(d.version.high))?"version: integer|Long expected":null},et.fromObject=function(d){if(d instanceof nt.onnx.OperatorSetIdProto)return d;var _=new nt.onnx.OperatorSetIdProto;return d.domain!=null&&(_.domain=String(d.domain)),d.version!=null&&(ot.Long?(_.version=ot.Long.fromValue(d.version)).unsigned=!1:typeof d.version=="string"?_.version=parseInt(d.version,10):typeof d.version=="number"?_.version=d.version:typeof d.version=="object"&&(_.version=new ot.LongBits(d.version.low>>>0,d.version.high>>>0).toNumber())),_},et.toObject=function(d,_){_||(_={});var tt={};if(_.defaults)if(tt.domain="",ot.Long){var lt=new ot.Long(0,0,!1);tt.version=_.longs===String?lt.toString():_.longs===Number?lt.toNumber():lt}else tt.version=_.longs===String?"0":0;return d.domain!=null&&d.hasOwnProperty("domain")&&(tt.domain=d.domain),d.version!=null&&d.hasOwnProperty("version")&&(typeof d.version=="number"?tt.version=_.longs===String?String(d.version):d.version:tt.version=_.longs===String?ot.Long.prototype.toString.call(d.version):_.longs===Number?new ot.LongBits(d.version.low>>>0,d.version.high>>>0).toNumber():d.version),tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.OperatorSetIdProto"},et}(),_e.OperatorStatus=function(){var et={},d=Object.create(et);return d[et[0]="EXPERIMENTAL"]=0,d[et[1]="STABLE"]=1,d}(),_e.FunctionProto=function(){function et(d){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],d)for(var _=Object.keys(d),tt=0;tt<_.length;++tt)d[_[tt]]!=null&&(this[_[tt]]=d[_[tt]])}return et.prototype.name="",et.prototype.input=ot.emptyArray,et.prototype.output=ot.emptyArray,et.prototype.attribute=ot.emptyArray,et.prototype.attributeProto=ot.emptyArray,et.prototype.node=ot.emptyArray,et.prototype.docString="",et.prototype.opsetImport=ot.emptyArray,et.prototype.domain="",et.create=function(d){return new et(d)},et.encode=function(d,_){if(_||(_=st.create()),d.name!=null&&Object.hasOwnProperty.call(d,"name")&&_.uint32(10).string(d.name),d.input!=null&&d.input.length)for(var tt=0;tt<d.input.length;++tt)_.uint32(34).string(d.input[tt]);if(d.output!=null&&d.output.length)for(tt=0;tt<d.output.length;++tt)_.uint32(42).string(d.output[tt]);if(d.attribute!=null&&d.attribute.length)for(tt=0;tt<d.attribute.length;++tt)_.uint32(50).string(d.attribute[tt]);if(d.node!=null&&d.node.length)for(tt=0;tt<d.node.length;++tt)nt.onnx.NodeProto.encode(d.node[tt],_.uint32(58).fork()).ldelim();if(d.docString!=null&&Object.hasOwnProperty.call(d,"docString")&&_.uint32(66).string(d.docString),d.opsetImport!=null&&d.opsetImport.length)for(tt=0;tt<d.opsetImport.length;++tt)nt.onnx.OperatorSetIdProto.encode(d.opsetImport[tt],_.uint32(74).fork()).ldelim();if(d.domain!=null&&Object.hasOwnProperty.call(d,"domain")&&_.uint32(82).string(d.domain),d.attributeProto!=null&&d.attributeProto.length)for(tt=0;tt<d.attributeProto.length;++tt)nt.onnx.AttributeProto.encode(d.attributeProto[tt],_.uint32(90).fork()).ldelim();return _},et.encodeDelimited=function(d,_){return this.encode(d,_).ldelim()},et.decode=function(d,_){d instanceof at||(d=at.create(d));for(var tt=_===void 0?d.len:d.pos+_,lt=new nt.onnx.FunctionProto;d.pos<tt;){var ut=d.uint32();switch(ut>>>3){case 1:lt.name=d.string();break;case 4:lt.input&&lt.input.length||(lt.input=[]),lt.input.push(d.string());break;case 5:lt.output&&lt.output.length||(lt.output=[]),lt.output.push(d.string());break;case 6:lt.attribute&&lt.attribute.length||(lt.attribute=[]),lt.attribute.push(d.string());break;case 11:lt.attributeProto&&lt.attributeProto.length||(lt.attributeProto=[]),lt.attributeProto.push(nt.onnx.AttributeProto.decode(d,d.uint32()));break;case 7:lt.node&&lt.node.length||(lt.node=[]),lt.node.push(nt.onnx.NodeProto.decode(d,d.uint32()));break;case 8:lt.docString=d.string();break;case 9:lt.opsetImport&&lt.opsetImport.length||(lt.opsetImport=[]),lt.opsetImport.push(nt.onnx.OperatorSetIdProto.decode(d,d.uint32()));break;case 10:lt.domain=d.string();break;default:d.skipType(7&ut)}}return lt},et.decodeDelimited=function(d){return d instanceof at||(d=new at(d)),this.decode(d,d.uint32())},et.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!ot.isString(d.name))return"name: string expected";if(d.input!=null&&d.hasOwnProperty("input")){if(!Array.isArray(d.input))return"input: array expected";for(var _=0;_<d.input.length;++_)if(!ot.isString(d.input[_]))return"input: string[] expected"}if(d.output!=null&&d.hasOwnProperty("output")){if(!Array.isArray(d.output))return"output: array expected";for(_=0;_<d.output.length;++_)if(!ot.isString(d.output[_]))return"output: string[] expected"}if(d.attribute!=null&&d.hasOwnProperty("attribute")){if(!Array.isArray(d.attribute))return"attribute: array expected";for(_=0;_<d.attribute.length;++_)if(!ot.isString(d.attribute[_]))return"attribute: string[] expected"}if(d.attributeProto!=null&&d.hasOwnProperty("attributeProto")){if(!Array.isArray(d.attributeProto))return"attributeProto: array expected";for(_=0;_<d.attributeProto.length;++_)if(tt=nt.onnx.AttributeProto.verify(d.attributeProto[_]))return"attributeProto."+tt}if(d.node!=null&&d.hasOwnProperty("node")){if(!Array.isArray(d.node))return"node: array expected";for(_=0;_<d.node.length;++_)if(tt=nt.onnx.NodeProto.verify(d.node[_]))return"node."+tt}if(d.docString!=null&&d.hasOwnProperty("docString")&&!ot.isString(d.docString))return"docString: string expected";if(d.opsetImport!=null&&d.hasOwnProperty("opsetImport")){if(!Array.isArray(d.opsetImport))return"opsetImport: array expected";for(_=0;_<d.opsetImport.length;++_){var tt;if(tt=nt.onnx.OperatorSetIdProto.verify(d.opsetImport[_]))return"opsetImport."+tt}}return d.domain!=null&&d.hasOwnProperty("domain")&&!ot.isString(d.domain)?"domain: string expected":null},et.fromObject=function(d){if(d instanceof nt.onnx.FunctionProto)return d;var _=new nt.onnx.FunctionProto;if(d.name!=null&&(_.name=String(d.name)),d.input){if(!Array.isArray(d.input))throw TypeError(".onnx.FunctionProto.input: array expected");_.input=[];for(var tt=0;tt<d.input.length;++tt)_.input[tt]=String(d.input[tt])}if(d.output){if(!Array.isArray(d.output))throw TypeError(".onnx.FunctionProto.output: array expected");for(_.output=[],tt=0;tt<d.output.length;++tt)_.output[tt]=String(d.output[tt])}if(d.attribute){if(!Array.isArray(d.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");for(_.attribute=[],tt=0;tt<d.attribute.length;++tt)_.attribute[tt]=String(d.attribute[tt])}if(d.attributeProto){if(!Array.isArray(d.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");for(_.attributeProto=[],tt=0;tt<d.attributeProto.length;++tt){if(typeof d.attributeProto[tt]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");_.attributeProto[tt]=nt.onnx.AttributeProto.fromObject(d.attributeProto[tt])}}if(d.node){if(!Array.isArray(d.node))throw TypeError(".onnx.FunctionProto.node: array expected");for(_.node=[],tt=0;tt<d.node.length;++tt){if(typeof d.node[tt]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");_.node[tt]=nt.onnx.NodeProto.fromObject(d.node[tt])}}if(d.docString!=null&&(_.docString=String(d.docString)),d.opsetImport){if(!Array.isArray(d.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");for(_.opsetImport=[],tt=0;tt<d.opsetImport.length;++tt){if(typeof d.opsetImport[tt]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");_.opsetImport[tt]=nt.onnx.OperatorSetIdProto.fromObject(d.opsetImport[tt])}}return d.domain!=null&&(_.domain=String(d.domain)),_},et.toObject=function(d,_){_||(_={});var tt={};if((_.arrays||_.defaults)&&(tt.input=[],tt.output=[],tt.attribute=[],tt.node=[],tt.opsetImport=[],tt.attributeProto=[]),_.defaults&&(tt.name="",tt.docString="",tt.domain=""),d.name!=null&&d.hasOwnProperty("name")&&(tt.name=d.name),d.input&&d.input.length){tt.input=[];for(var lt=0;lt<d.input.length;++lt)tt.input[lt]=d.input[lt]}if(d.output&&d.output.length)for(tt.output=[],lt=0;lt<d.output.length;++lt)tt.output[lt]=d.output[lt];if(d.attribute&&d.attribute.length)for(tt.attribute=[],lt=0;lt<d.attribute.length;++lt)tt.attribute[lt]=d.attribute[lt];if(d.node&&d.node.length)for(tt.node=[],lt=0;lt<d.node.length;++lt)tt.node[lt]=nt.onnx.NodeProto.toObject(d.node[lt],_);if(d.docString!=null&&d.hasOwnProperty("docString")&&(tt.docString=d.docString),d.opsetImport&&d.opsetImport.length)for(tt.opsetImport=[],lt=0;lt<d.opsetImport.length;++lt)tt.opsetImport[lt]=nt.onnx.OperatorSetIdProto.toObject(d.opsetImport[lt],_);if(d.domain!=null&&d.hasOwnProperty("domain")&&(tt.domain=d.domain),d.attributeProto&&d.attributeProto.length)for(tt.attributeProto=[],lt=0;lt<d.attributeProto.length;++lt)tt.attributeProto[lt]=nt.onnx.AttributeProto.toObject(d.attributeProto[lt],_);return tt},et.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},et.getTypeUrl=function(d){return d===void 0&&(d="type.googleapis.com"),d+"/onnx.FunctionProto"},et}(),_e),o.exports=nt},3474:(o,e,s)=>{var h,b=(h=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(h=h||__filename),function(_e={}){function rt(){return Ct.buffer!=jt.buffer&&Et(),jt}function at(){return Ct.buffer!=jt.buffer&&Et(),Vt}function st(){return Ct.buffer!=jt.buffer&&Et(),Gt}function ot(){return Ct.buffer!=jt.buffer&&Et(),Yt}function nt(){return Ct.buffer!=jt.buffer&&Et(),er}var et,d,_=_e;_.ready=new Promise((Dt,Ft)=>{et=Dt,d=Ft});var tt,lt,ut,ct=Object.assign({},_),ft="./this.program",dt=(Dt,Ft)=>{throw Ft},ht=typeof window=="object",gt=typeof importScripts=="function",yt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",vt=_.ENVIRONMENT_IS_PTHREAD||!1,mt="";function bt(Dt){return _.locateFile?_.locateFile(Dt,mt):mt+Dt}if(yt){var $t=s(1384),St=s(908);let Dt;mt=gt?St.dirname(mt)+"/":__dirname+"/",tt=(Ft,zt)=>(Ft=Ft.startsWith("file://")?new URL(Ft):St.normalize(Ft),$t.readFileSync(Ft,zt?void 0:"utf8")),ut=Ft=>((Ft=tt(Ft,!0)).buffer||(Ft=new Uint8Array(Ft)),Ft),lt=(Ft,zt,qt,tr=!0)=>{Ft=Ft.startsWith("file://")?new URL(Ft):St.normalize(Ft),$t.readFile(Ft,tr?void 0:"utf8",(cr,hr)=>{cr?qt(cr):zt(tr?hr.buffer:hr)})},!_.thisProgram&&1<process.argv.length&&(ft=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),dt=(Ft,zt)=>{throw process.exitCode=Ft,zt},_.inspect=()=>"[Emscripten Module object]";try{Dt=s(9925)}catch(Ft){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),Ft}commonjsGlobal$2.Worker=Dt.Worker}else(ht||gt)&&(gt?mt=self.location.href:typeof document<"u"&&document.currentScript&&(mt=document.currentScript.src),h&&(mt=h),mt=mt.indexOf("blob:")!==0?mt.substr(0,mt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",yt||(tt=Dt=>{var Ft=new XMLHttpRequest;return Ft.open("GET",Dt,!1),Ft.send(null),Ft.responseText},gt&&(ut=Dt=>{var Ft=new XMLHttpRequest;return Ft.open("GET",Dt,!1),Ft.responseType="arraybuffer",Ft.send(null),new Uint8Array(Ft.response)}),lt=(Dt,Ft,zt)=>{var qt=new XMLHttpRequest;qt.open("GET",Dt,!0),qt.responseType="arraybuffer",qt.onload=()=>{qt.status==200||qt.status==0&&qt.response?Ft(qt.response):zt()},qt.onerror=zt,qt.send(null)}));yt&&typeof performance>"u"&&(commonjsGlobal$2.performance=s(6953).performance);var Pt=console.log.bind(console),_t=console.error.bind(console);yt&&(Pt=(...Dt)=>$t.writeSync(1,Dt.join(" ")+`
`),_t=(...Dt)=>$t.writeSync(2,Dt.join(" ")+`
`));var wt,xt=_.print||Pt,Tt=_.printErr||_t;Object.assign(_,ct),ct=null,_.thisProgram&&(ft=_.thisProgram),_.quit&&(dt=_.quit),_.wasmBinary&&(wt=_.wasmBinary);var It=_.noExitRuntime||!0;typeof WebAssembly!="object"&&$r("no native wasm support detected");var Ct,Rt,Ut,kt,jt,Vt,Gt,Yt,er,nr=!1;function Et(){var Dt=Ct.buffer;_.HEAP8=jt=new Int8Array(Dt),_.HEAP16=new Int16Array(Dt),_.HEAP32=Gt=new Int32Array(Dt),_.HEAPU8=Vt=new Uint8Array(Dt),_.HEAPU16=new Uint16Array(Dt),_.HEAPU32=Yt=new Uint32Array(Dt),_.HEAPF32=new Float32Array(Dt),_.HEAPF64=er=new Float64Array(Dt)}var Ot=_.INITIAL_MEMORY||16777216;if(5242880<=Ot||$r("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Ot+"! (STACK_SIZE=5242880)"),vt)Ct=_.wasmMemory;else if(_.wasmMemory)Ct=_.wasmMemory;else if(!((Ct=new WebAssembly.Memory({initial:Ot/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw Tt("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),yt&&Tt("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Et(),Ot=Ct.buffer.byteLength;var At,Nt=[],Mt=[],Lt=[],Wt=0;function Xt(){return It||0<Wt}var ar,Ht,sr=0,dr=null;function ir(){sr++,_.monitorRunDependencies&&_.monitorRunDependencies(sr)}function Pr(){if(sr--,_.monitorRunDependencies&&_.monitorRunDependencies(sr),sr==0&&dr){var Dt=dr;dr=null,Dt()}}function $r(Dt){throw _.onAbort&&_.onAbort(Dt),Tt(Dt="Aborted("+Dt+")"),nr=!0,kt=1,Dt=new WebAssembly.RuntimeError(Dt+". Build with -sASSERTIONS for more info."),d(Dt),Dt}function wr(Dt){return Dt.startsWith("data:application/octet-stream;base64,")}function xr(Dt){if(Dt==ar&&wt)return new Uint8Array(wt);if(ut)return ut(Dt);throw"both async and sync fetching of the wasm failed"}function _r(Dt,Ft,zt){return function(qt){if(!wt&&(ht||gt)){if(typeof fetch=="function"&&!qt.startsWith("file://"))return fetch(qt,{credentials:"same-origin"}).then(tr=>{if(!tr.ok)throw"failed to load wasm binary file at '"+qt+"'";return tr.arrayBuffer()}).catch(()=>xr(qt));if(lt)return new Promise((tr,cr)=>{lt(qt,hr=>tr(new Uint8Array(hr)),cr)})}return Promise.resolve().then(()=>xr(qt))}(Dt).then(qt=>WebAssembly.instantiate(qt,Ft)).then(qt=>qt).then(zt,qt=>{Tt("failed to asynchronously prepare wasm: "+qt),$r(qt)})}function br(Dt){this.name="ExitStatus",this.message=`Program terminated with exit(${Dt})`,this.status=Dt}function kr(Dt){Dt.terminate(),Dt.onmessage=()=>{}}function Ar(Dt){(Dt=yr.Fa[Dt])||$r(),yr.fb(Dt)}function Ur(Dt){var Ft=yr.Za();if(!Ft)return 6;yr.Ia.push(Ft),yr.Fa[Dt.Ha]=Ft,Ft.Ha=Dt.Ha;var zt={cmd:"run",start_routine:Dt.gb,arg:Dt.Ya,pthread_ptr:Dt.Ha};return yt&&Ft.unref(),Ft.postMessage(zt,Dt.mb),0}wr(ar="ort-wasm-threaded.wasm")||(ar=bt(ar));var zr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Vr=(Dt,Ft,zt)=>{var qt=(Ft>>>=0)+zt;for(zt=Ft;Dt[zt]&&!(zt>=qt);)++zt;if(16<zt-Ft&&Dt.buffer&&zr)return zr.decode(Dt.buffer instanceof SharedArrayBuffer?Dt.slice(Ft,zt):Dt.subarray(Ft,zt));for(qt="";Ft<zt;){var tr=Dt[Ft++];if(128&tr){var cr=63&Dt[Ft++];if((224&tr)==192)qt+=String.fromCharCode((31&tr)<<6|cr);else{var hr=63&Dt[Ft++];65536>(tr=(240&tr)==224?(15&tr)<<12|cr<<6|hr:(7&tr)<<18|cr<<12|hr<<6|63&Dt[Ft++])?qt+=String.fromCharCode(tr):(tr-=65536,qt+=String.fromCharCode(55296|tr>>10,56320|1023&tr))}}else qt+=String.fromCharCode(tr)}return qt},Gr=(Dt,Ft)=>(Dt>>>=0)?Vr(at(),Dt,Ft):"";function Kr(Dt){if(vt)return Er(1,1,Dt);kt=Dt,Xt()||(yr.hb(),_.onExit&&_.onExit(Dt),nr=!0),dt(Dt,new br(Dt))}var Hr=Dt=>{if(kt=Dt,vt)throw qr(Dt),"unwind";Kr(Dt)},yr={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){vt?yr.ab():yr.$a()},$a:function(){Nt.unshift(()=>{ir(),yr.bb(()=>Pr())})},ab:function(){yr.receiveObjectTransfer=yr.eb,yr.threadInitTLS=yr.Sa,yr.setExitStatus=yr.Ra,It=!1},Ra:function(Dt){kt=Dt},rb:["$terminateWorker"],hb:function(){for(var Dt of yr.Ia)kr(Dt);for(Dt of yr.La)kr(Dt);yr.La=[],yr.Ia=[],yr.Fa=[]},fb:function(Dt){var Ft=Dt.Ha;delete yr.Fa[Ft],yr.La.push(Dt),yr.Ia.splice(yr.Ia.indexOf(Dt),1),Dt.Ha=0,ln(Ft)},eb:function(){},Sa:function(){yr.Ta.forEach(Dt=>Dt())},cb:Dt=>new Promise(Ft=>{Dt.onmessage=tr=>{var cr=(tr=tr.data).cmd;if(tr.targetThread&&tr.targetThread!=Qr()){var hr=yr.Fa[tr.qb];hr?hr.postMessage(tr,tr.transferList):Tt('Internal error! Worker sent a message "'+cr+'" to target pthread '+tr.targetThread+", but that thread no longer exists!")}else cr==="checkMailbox"?Jr():cr==="spawnThread"?Ur(tr):cr==="cleanupThread"?Ar(tr.thread):cr==="killThread"?(tr=tr.thread,cr=yr.Fa[tr],delete yr.Fa[tr],kr(cr),ln(tr),yr.Ia.splice(yr.Ia.indexOf(cr),1),cr.Ha=0):cr==="cancelThread"?yr.Fa[tr.thread].postMessage({cmd:"cancel"}):cr==="loaded"?(Dt.loaded=!0,Ft(Dt)):cr==="alert"?alert("Thread "+tr.threadId+": "+tr.text):tr.target==="setimmediate"?Dt.postMessage(tr):cr==="callHandler"?_[tr.handler](...tr.args):cr&&Tt("worker sent an unknown command "+cr)},Dt.onerror=tr=>{throw Tt("worker sent an error! "+tr.filename+":"+tr.lineno+": "+tr.message),tr},yt&&(Dt.on("message",function(tr){Dt.onmessage({data:tr})}),Dt.on("error",function(tr){Dt.onerror(tr)}));var zt,qt=[];for(zt of["onExit","onAbort","print","printErr"])_.hasOwnProperty(zt)&&qt.push(zt);Dt.postMessage({cmd:"load",handlers:qt,urlOrBlob:_.mainScriptUrlOrBlob||h,wasmMemory:Ct,wasmModule:Ut})}),bb:function(Dt){Dt()},Xa:function(){var Dt=bt("ort-wasm-threaded.worker.js");Dt=new Worker(Dt),yr.La.push(Dt)},Za:function(){return yr.La.length==0&&(yr.Xa(),yr.cb(yr.La[0])),yr.La.pop()}};_.PThread=yr;var Lr=Dt=>{for(;0<Dt.length;)Dt.shift()(_)};function qr(Dt){if(vt)return Er(2,0,Dt);Hr(Dt)}_.establishStackSpace=function(){var Dt=Qr(),Ft=st()[Dt+52>>2>>>0];Dt=st()[Dt+56>>2>>>0],Rn(Ft,Ft-Dt),rn(Ft)};var Bt=[];function Kt(Dt){this.Oa=Dt-24,this.Wa=function(Ft){ot()[this.Oa+4>>2>>>0]=Ft},this.Va=function(Ft){ot()[this.Oa+8>>2>>>0]=Ft},this.Pa=function(Ft,zt){this.Ua(),this.Wa(Ft),this.Va(zt)},this.Ua=function(){ot()[this.Oa+16>>2>>>0]=0}}function Zt(Dt,Ft,zt,qt){return vt?Er(3,1,Dt,Ft,zt,qt):or(Dt,Ft,zt,qt)}function or(Dt,Ft,zt,qt){if(Dt>>>=0,Ft>>>=0,zt>>>=0,qt>>>=0,typeof SharedArrayBuffer>"u")return Tt("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var tr=[];return vt&&tr.length===0?Zt(Dt,Ft,zt,qt):(Dt={gb:zt,Ha:Dt,Ya:qt,mb:tr},vt?(Dt.ob="spawnThread",postMessage(Dt,tr),0):Ur(Dt))}function lr(Dt,Ft,zt){return vt?Er(4,1,Dt,Ft,zt):0}function pr(Dt,Ft){if(vt)return Er(5,1,Dt,Ft)}_.invokeEntryPoint=function(Dt,Ft){var zt=Bt[Dt];zt||(Dt>=Bt.length&&(Bt.length=Dt+1),Bt[Dt]=zt=At.get(Dt)),Dt=zt(Ft),Xt()?yr.Ra(Dt):un(Dt)};var vr=Dt=>{for(var Ft=0,zt=0;zt<Dt.length;++zt){var qt=Dt.charCodeAt(zt);127>=qt?Ft++:2047>=qt?Ft+=2:55296<=qt&&57343>=qt?(Ft+=4,++zt):Ft+=3}return Ft},Ir=(Dt,Ft,zt,qt)=>{if(!(0<qt))return 0;var tr=zt>>>=0;qt=zt+qt-1;for(var cr=0;cr<Dt.length;++cr){var hr=Dt.charCodeAt(cr);if(55296<=hr&&57343>=hr&&(hr=65536+((1023&hr)<<10)|1023&Dt.charCodeAt(++cr)),127>=hr){if(zt>=qt)break;Ft[zt++>>>0]=hr}else{if(2047>=hr){if(zt+1>=qt)break;Ft[zt++>>>0]=192|hr>>6}else{if(65535>=hr){if(zt+2>=qt)break;Ft[zt++>>>0]=224|hr>>12}else{if(zt+3>=qt)break;Ft[zt++>>>0]=240|hr>>18,Ft[zt++>>>0]=128|hr>>12&63}Ft[zt++>>>0]=128|hr>>6&63}Ft[zt++>>>0]=128|63&hr}}return Ft[zt>>>0]=0,zt-tr},Nr=(Dt,Ft,zt)=>Ir(Dt,at(),Ft,zt);function Rr(Dt,Ft){if(vt)return Er(6,1,Dt,Ft)}function Qt(Dt,Ft,zt){if(vt)return Er(7,1,Dt,Ft,zt)}function ur(Dt,Ft,zt){return vt?Er(8,1,Dt,Ft,zt):0}function Tr(Dt,Ft){if(vt)return Er(9,1,Dt,Ft)}function Jt(Dt,Ft,zt){if(vt)return Er(10,1,Dt,Ft,zt)}function gr(Dt,Ft,zt,qt){if(vt)return Er(11,1,Dt,Ft,zt,qt)}function mr(Dt,Ft,zt,qt){if(vt)return Er(12,1,Dt,Ft,zt,qt)}function Or(Dt,Ft,zt,qt){if(vt)return Er(13,1,Dt,Ft,zt,qt)}function Fr(Dt){if(vt)return Er(14,1,Dt)}function Wr(Dt,Ft){if(vt)return Er(15,1,Dt,Ft)}function Zr(Dt,Ft,zt){if(vt)return Er(16,1,Dt,Ft,zt)}var Fn=Dt=>{if(!nr)try{if(Dt(),!Xt())try{vt?un(kt):Hr(kt)}catch(Ft){Ft instanceof br||Ft=="unwind"||dt(1,Ft)}}catch(Ft){Ft instanceof br||Ft=="unwind"||dt(1,Ft)}};function nn(Dt){Dt>>>=0,typeof Atomics.nb=="function"&&(Atomics.nb(st(),Dt>>2,Dt).value.then(Jr),Dt+=128,Atomics.store(st(),Dt>>2,1))}function Jr(){var Dt=Qr();Dt&&(nn(Dt),Fn(()=>Dn()))}_.__emscripten_thread_mailbox_await=nn,_.checkMailbox=Jr;var Xr=Dt=>Dt%4==0&&(Dt%100!=0||Dt%400==0),pn=[0,31,60,91,121,152,182,213,244,274,305,335],hn=[0,31,59,90,120,151,181,212,243,273,304,334];function gn(Dt,Ft,zt,qt,tr,cr,hr,Cr){return vt?Er(17,1,Dt,Ft,zt,qt,tr,cr,hr,Cr):-52}function yn(Dt,Ft,zt,qt,tr,cr,hr){if(vt)return Er(18,1,Dt,Ft,zt,qt,tr,cr,hr)}var vn=Dt=>{var Ft=vr(Dt)+1,zt=In(Ft);return zt&&Nr(Dt,zt,Ft),zt},Bn=Dt=>{var Ft=fn();return Dt=Dt(),rn(Ft),Dt};function Er(Dt,Ft){var zt=arguments.length-2,qt=arguments;return Bn(()=>{for(var tr=dn(8*zt),cr=tr>>3,hr=0;hr<zt;hr++){var Cr=qt[2+hr];nt()[cr+hr>>>0]=Cr}return Cn(Dt,zt,tr,Ft)})}var on,an=[],sn={},mn=()=>{if(!on){var Dt,Ft={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ft||"./this.program"};for(Dt in sn)sn[Dt]===void 0?delete Ft[Dt]:Ft[Dt]=sn[Dt];var zt=[];for(Dt in Ft)zt.push(`${Dt}=${Ft[Dt]}`);on=zt}return on};function bn(Dt,Ft){if(vt)return Er(19,1,Dt,Ft);Dt>>>=0,Ft>>>=0;var zt=0;return mn().forEach(function(qt,tr){var cr=Ft+zt;for(tr=ot()[Dt+4*tr>>2>>>0]=cr,cr=0;cr<qt.length;++cr)rt()[tr++>>0>>>0]=qt.charCodeAt(cr);rt()[tr>>0>>>0]=0,zt+=qt.length+1}),0}function $n(Dt,Ft){if(vt)return Er(20,1,Dt,Ft);Dt>>>=0,Ft>>>=0;var zt=mn();ot()[Dt>>2>>>0]=zt.length;var qt=0;return zt.forEach(function(tr){qt+=tr.length+1}),ot()[Ft>>2>>>0]=qt,0}function _n(Dt){return vt?Er(21,1,Dt):52}function wn(Dt,Ft,zt,qt){return vt?Er(22,1,Dt,Ft,zt,qt):52}function Tn(Dt,Ft,zt,qt,tr){return vt?Er(23,1,Dt,Ft,zt,qt,tr):70}var Un=[null,[],[]];function Sn(Dt,Ft,zt,qt){if(vt)return Er(24,1,Dt,Ft,zt,qt);Ft>>>=0,zt>>>=0,qt>>>=0;for(var tr=0,cr=0;cr<zt;cr++){var hr=ot()[Ft>>2>>>0],Cr=ot()[Ft+4>>2>>>0];Ft+=8;for(var Br=0;Br<Cr;Br++){var Mr=at()[hr+Br>>>0],jr=Un[Dt];Mr===0||Mr===10?((Dt===1?xt:Tt)(Vr(jr,0)),jr.length=0):jr.push(Mr)}tr+=Cr}return ot()[qt>>2>>>0]=tr,0}var xn=Dt=>(xn=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return qt=>(qt.set(crypto.getRandomValues(new Uint8Array(qt.byteLength))),qt);if(yt)try{var Ft=s(760);if(Ft.randomFillSync)return qt=>Ft.randomFillSync(qt);var zt=Ft.randomBytes;return qt=>(qt.set(zt(qt.byteLength)),qt)}catch{}$r("initRandomDevice")})())(Dt),On=[31,29,31,30,31,30,31,31,30,31,30,31],En=[31,28,31,30,31,30,31,31,30,31,30,31],Vn=(Dt,Ft)=>{rt().set(Dt,Ft>>>0)};function Pn(Dt,Ft,zt,qt){function tr(rr,Sr,Dr){for(rr=typeof rr=="number"?rr.toString():rr||"";rr.length<Sr;)rr=Dr[0]+rr;return rr}function cr(rr,Sr){return tr(rr,Sr,"0")}function hr(rr,Sr){function Dr(Ln){return 0>Ln?-1:0<Ln?1:0}var Yr;return(Yr=Dr(rr.getFullYear()-Sr.getFullYear()))===0&&(Yr=Dr(rr.getMonth()-Sr.getMonth()))===0&&(Yr=Dr(rr.getDate()-Sr.getDate())),Yr}function Cr(rr){switch(rr.getDay()){case 0:return new Date(rr.getFullYear()-1,11,29);case 1:return rr;case 2:return new Date(rr.getFullYear(),0,3);case 3:return new Date(rr.getFullYear(),0,2);case 4:return new Date(rr.getFullYear(),0,1);case 5:return new Date(rr.getFullYear()-1,11,31);case 6:return new Date(rr.getFullYear()-1,11,30)}}function Br(rr){var Sr=rr.Ja;for(rr=new Date(new Date(rr.Ka+1900,0,1).getTime());0<Sr;){var Dr=rr.getMonth(),Yr=(Xr(rr.getFullYear())?On:En)[Dr];if(!(Sr>Yr-rr.getDate())){rr.setDate(rr.getDate()+Sr);break}Sr-=Yr-rr.getDate()+1,rr.setDate(1),11>Dr?rr.setMonth(Dr+1):(rr.setMonth(0),rr.setFullYear(rr.getFullYear()+1))}return Dr=new Date(rr.getFullYear()+1,0,4),Sr=Cr(new Date(rr.getFullYear(),0,4)),Dr=Cr(Dr),0>=hr(Sr,rr)?0>=hr(Dr,rr)?rr.getFullYear()+1:rr.getFullYear():rr.getFullYear()-1}Dt>>>=0,Ft>>>=0,zt>>>=0,qt>>>=0;var Mr=st()[qt+40>>2>>>0];for(var jr in qt={kb:st()[qt>>2>>>0],jb:st()[qt+4>>2>>>0],Ma:st()[qt+8>>2>>>0],Qa:st()[qt+12>>2>>>0],Na:st()[qt+16>>2>>>0],Ka:st()[qt+20>>2>>>0],Ga:st()[qt+24>>2>>>0],Ja:st()[qt+28>>2>>>0],sb:st()[qt+32>>2>>>0],ib:st()[qt+36>>2>>>0],lb:Mr?Gr(Mr):""},zt=Gr(zt),Mr={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})zt=zt.replace(new RegExp(jr,"g"),Mr[jr]);var Mn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),jn="January February March April May June July August September October November December".split(" ");for(jr in Mr={"%a":rr=>Mn[rr.Ga].substring(0,3),"%A":rr=>Mn[rr.Ga],"%b":rr=>jn[rr.Na].substring(0,3),"%B":rr=>jn[rr.Na],"%C":rr=>cr((rr.Ka+1900)/100|0,2),"%d":rr=>cr(rr.Qa,2),"%e":rr=>tr(rr.Qa,2," "),"%g":rr=>Br(rr).toString().substring(2),"%G":rr=>Br(rr),"%H":rr=>cr(rr.Ma,2),"%I":rr=>((rr=rr.Ma)==0?rr=12:12<rr&&(rr-=12),cr(rr,2)),"%j":rr=>{for(var Sr=0,Dr=0;Dr<=rr.Na-1;Sr+=(Xr(rr.Ka+1900)?On:En)[Dr++]);return cr(rr.Qa+Sr,3)},"%m":rr=>cr(rr.Na+1,2),"%M":rr=>cr(rr.jb,2),"%n":()=>`
`,"%p":rr=>0<=rr.Ma&&12>rr.Ma?"AM":"PM","%S":rr=>cr(rr.kb,2),"%t":()=>"	","%u":rr=>rr.Ga||7,"%U":rr=>cr(Math.floor((rr.Ja+7-rr.Ga)/7),2),"%V":rr=>{var Sr=Math.floor((rr.Ja+7-(rr.Ga+6)%7)/7);if(2>=(rr.Ga+371-rr.Ja-2)%7&&Sr++,Sr)Sr==53&&((Dr=(rr.Ga+371-rr.Ja)%7)==4||Dr==3&&Xr(rr.Ka)||(Sr=1));else{Sr=52;var Dr=(rr.Ga+7-rr.Ja-1)%7;(Dr==4||Dr==5&&Xr(rr.Ka%400-1))&&Sr++}return cr(Sr,2)},"%w":rr=>rr.Ga,"%W":rr=>cr(Math.floor((rr.Ja+7-(rr.Ga+6)%7)/7),2),"%y":rr=>(rr.Ka+1900).toString().substring(2),"%Y":rr=>rr.Ka+1900,"%z":rr=>{var Sr=0<=(rr=rr.ib);return rr=Math.abs(rr)/60,(Sr?"+":"-")+("0000"+(rr/60*100+rr%60)).slice(-4)},"%Z":rr=>rr.lb,"%%":()=>"%"},zt=zt.replace(/%%/g,"\0\0"),Mr)zt.includes(jr)&&(zt=zt.replace(new RegExp(jr,"g"),Mr[jr](qt)));return jr=function(rr){var Sr=Array(vr(rr)+1);return Ir(rr,Sr,0,Sr.length),Sr}(zt=zt.replace(/\0\0/g,"%")),jr.length>Ft?0:(Vn(jr,Dt),jr.length-1)}yr.Pa();var zn=[null,Kr,qr,Zt,lr,pr,Rr,Qt,ur,Tr,Jt,gr,mr,Or,Fr,Wr,Zr,gn,yn,bn,$n,_n,wn,Tn,Sn],Gn={b:function(Dt,Ft,zt){throw new Kt(Dt>>>=0).Pa(Ft>>>0,zt>>>0),Dt},N:function(Dt){An(Dt>>>0,!gt,1,!ht,131072,!1),yr.Sa()},k:function(Dt){Dt>>>=0,vt?postMessage({cmd:"cleanupThread",thread:Dt}):Ar(Dt)},I:or,h:lr,T:pr,E:Rr,G:Qt,U:ur,R:Tr,J:Jt,Q:gr,o:mr,F:Or,C:Fr,S:Wr,D:Zr,q:()=>!0,A:function(Dt,Ft){(Dt>>>=0)==Ft>>>0?setTimeout(()=>Jr()):vt?postMessage({targetThread:Dt,cmd:"checkMailbox"}):(Dt=yr.Fa[Dt])&&Dt.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:nn,p:function(Dt){yt&&yr.Fa[Dt>>>0].ref()},t:function(Dt,Ft,zt){Dt=Ft+2097152>>>0<4194305-!!Dt?(Dt>>>0)+4294967296*Ft:NaN,zt>>>=0,Dt=new Date(1e3*Dt),st()[zt>>2>>>0]=Dt.getUTCSeconds(),st()[zt+4>>2>>>0]=Dt.getUTCMinutes(),st()[zt+8>>2>>>0]=Dt.getUTCHours(),st()[zt+12>>2>>>0]=Dt.getUTCDate(),st()[zt+16>>2>>>0]=Dt.getUTCMonth(),st()[zt+20>>2>>>0]=Dt.getUTCFullYear()-1900,st()[zt+24>>2>>>0]=Dt.getUTCDay(),Dt=(Dt.getTime()-Date.UTC(Dt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,st()[zt+28>>2>>>0]=Dt},u:function(Dt,Ft,zt){Dt=Ft+2097152>>>0<4194305-!!Dt?(Dt>>>0)+4294967296*Ft:NaN,zt>>>=0,Dt=new Date(1e3*Dt),st()[zt>>2>>>0]=Dt.getSeconds(),st()[zt+4>>2>>>0]=Dt.getMinutes(),st()[zt+8>>2>>>0]=Dt.getHours(),st()[zt+12>>2>>>0]=Dt.getDate(),st()[zt+16>>2>>>0]=Dt.getMonth(),st()[zt+20>>2>>>0]=Dt.getFullYear()-1900,st()[zt+24>>2>>>0]=Dt.getDay(),Ft=(Xr(Dt.getFullYear())?pn:hn)[Dt.getMonth()]+Dt.getDate()-1|0,st()[zt+28>>2>>>0]=Ft,st()[zt+36>>2>>>0]=-60*Dt.getTimezoneOffset(),Ft=new Date(Dt.getFullYear(),6,1).getTimezoneOffset();var qt=new Date(Dt.getFullYear(),0,1).getTimezoneOffset();Dt=0|(Ft!=qt&&Dt.getTimezoneOffset()==Math.min(qt,Ft)),st()[zt+32>>2>>>0]=Dt},v:function(Dt){Dt>>>=0;var Ft=new Date(st()[Dt+20>>2>>>0]+1900,st()[Dt+16>>2>>>0],st()[Dt+12>>2>>>0],st()[Dt+8>>2>>>0],st()[Dt+4>>2>>>0],st()[Dt>>2>>>0],0),zt=st()[Dt+32>>2>>>0],qt=Ft.getTimezoneOffset(),tr=new Date(Ft.getFullYear(),6,1).getTimezoneOffset(),cr=new Date(Ft.getFullYear(),0,1).getTimezoneOffset(),hr=Math.min(cr,tr);return 0>zt?st()[Dt+32>>2>>>0]=+(tr!=cr&&hr==qt):0<zt!=(hr==qt)&&(tr=Math.max(cr,tr),Ft.setTime(Ft.getTime()+6e4*((0<zt?hr:tr)-qt))),st()[Dt+24>>2>>>0]=Ft.getDay(),zt=(Xr(Ft.getFullYear())?pn:hn)[Ft.getMonth()]+Ft.getDate()-1|0,st()[Dt+28>>2>>>0]=zt,st()[Dt>>2>>>0]=Ft.getSeconds(),st()[Dt+4>>2>>>0]=Ft.getMinutes(),st()[Dt+8>>2>>>0]=Ft.getHours(),st()[Dt+12>>2>>>0]=Ft.getDate(),st()[Dt+16>>2>>>0]=Ft.getMonth(),st()[Dt+20>>2>>>0]=Ft.getYear(),Dt=Ft.getTime()/1e3,kn((Ht=Dt,1<=+Math.abs(Ht)?0<Ht?+Math.floor(Ht/4294967296)>>>0:~~+Math.ceil((Ht-+(~~Ht>>>0))/4294967296)>>>0:0)),Dt>>>0},r:gn,s:yn,z:function(Dt,Ft,zt){function qt(Mr){return(Mr=Mr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Mr[1]:"GMT"}Dt>>>=0,Ft>>>=0,zt>>>=0;var tr=new Date().getFullYear(),cr=new Date(tr,0,1),hr=new Date(tr,6,1);tr=cr.getTimezoneOffset();var Cr=hr.getTimezoneOffset(),Br=Math.max(tr,Cr);ot()[Dt>>2>>>0]=60*Br,st()[Ft>>2>>>0]=+(tr!=Cr),Dt=qt(cr),Ft=qt(hr),Dt=vn(Dt),Ft=vn(Ft),Cr<tr?(ot()[zt>>2>>>0]=Dt,ot()[zt+4>>2>>>0]=Ft):(ot()[zt>>2>>>0]=Ft,ot()[zt+4>>2>>>0]=Dt)},c:()=>{$r("")},l:function(){},i:function(){return Date.now()},V:()=>{throw Wt+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return yt?s(3993).cpus().length:navigator.hardwareConcurrency},K:function(Dt,Ft,zt,qt){for(yr.pb=Ft>>>0,an.length=zt,Ft=qt>>>0>>3,qt=0;qt<zt;qt++)an[qt]=nt()[Ft+qt>>>0];return zn[Dt].apply(null,an)},y:function(Dt){Dt>>>=0;var Ft=at().length;if(Dt<=Ft||4294901760<Dt)return!1;for(var zt=1;4>=zt;zt*=2){var qt=Ft*(1+.2/zt);qt=Math.min(qt,Dt+100663296);var tr=Math;qt=Math.max(Dt,qt);e:{tr=tr.min.call(tr,4294901760,qt+(65536-qt%65536)%65536)-Ct.buffer.byteLength+65535>>>16;try{Ct.grow(tr),Et();var cr=1;break e}catch{}cr=void 0}if(cr)return!0}return!1},O:bn,P:$n,j:Hr,g:_n,n:wn,w:Tn,m:Sn,x:function(Dt,Ft){return Dt>>>=0,Ft>>>=0,xn(at().subarray(Dt>>>0,Dt+Ft>>>0)),0},a:Ct||_.wasmMemory,H:Pn,d:function(Dt,Ft,zt,qt){return Pn(Dt>>>0,Ft>>>0,zt>>>0,qt>>>0)}};(function(){function Dt(zt,qt){return zt=zt.exports,Rt=zt=function(tr){var cr=Cr=>()=>Cr()>>>0,hr=Cr=>Br=>Cr(Br)>>>0;return(tr=Object.assign({},tr)).__errno_location=cr(tr.__errno_location),tr.pthread_self=cr(tr.pthread_self),tr.malloc=hr(tr.malloc),tr.stackSave=cr(tr.stackSave),tr.stackAlloc=hr(tr.stackAlloc),tr}(zt),yr.Ta.push(Rt.sa),At=Rt.ta,Mt.unshift(Rt.W),Ut=qt,Pr(),zt}var Ft={a:Gn};if(ir(),_.instantiateWasm)try{return _.instantiateWasm(Ft,Dt)}catch(zt){Tt("Module.instantiateWasm callback failed with error: "+zt),d(zt)}(function(zt,qt){var tr=ar;return wt||typeof WebAssembly.instantiateStreaming!="function"||wr(tr)||tr.startsWith("file://")||yt||typeof fetch!="function"?_r(tr,zt,qt):fetch(tr,{credentials:"same-origin"}).then(cr=>WebAssembly.instantiateStreaming(cr,zt).then(qt,function(hr){return Tt("wasm streaming compile failed: "+hr),Tt("falling back to ArrayBuffer instantiation"),_r(tr,zt,qt)}))})(Ft,function(zt){Dt(zt.instance,zt.module)}).catch(d)})(),_._OrtInit=(Dt,Ft)=>(_._OrtInit=Rt.X)(Dt,Ft),_._OrtGetLastError=(Dt,Ft)=>(_._OrtGetLastError=Rt.Y)(Dt,Ft),_._OrtCreateSessionOptions=(Dt,Ft,zt,qt,tr,cr,hr,Cr,Br,Mr)=>(_._OrtCreateSessionOptions=Rt.Z)(Dt,Ft,zt,qt,tr,cr,hr,Cr,Br,Mr),_._OrtAppendExecutionProvider=(Dt,Ft)=>(_._OrtAppendExecutionProvider=Rt._)(Dt,Ft),_._OrtAddSessionConfigEntry=(Dt,Ft,zt)=>(_._OrtAddSessionConfigEntry=Rt.$)(Dt,Ft,zt),_._OrtReleaseSessionOptions=Dt=>(_._OrtReleaseSessionOptions=Rt.aa)(Dt),_._OrtCreateSession=(Dt,Ft,zt)=>(_._OrtCreateSession=Rt.ba)(Dt,Ft,zt),_._OrtReleaseSession=Dt=>(_._OrtReleaseSession=Rt.ca)(Dt),_._OrtGetInputOutputCount=(Dt,Ft,zt)=>(_._OrtGetInputOutputCount=Rt.da)(Dt,Ft,zt),_._OrtGetInputName=(Dt,Ft)=>(_._OrtGetInputName=Rt.ea)(Dt,Ft),_._OrtGetOutputName=(Dt,Ft)=>(_._OrtGetOutputName=Rt.fa)(Dt,Ft),_._OrtFree=Dt=>(_._OrtFree=Rt.ga)(Dt),_._OrtCreateTensor=(Dt,Ft,zt,qt,tr)=>(_._OrtCreateTensor=Rt.ha)(Dt,Ft,zt,qt,tr),_._OrtGetTensorData=(Dt,Ft,zt,qt,tr)=>(_._OrtGetTensorData=Rt.ia)(Dt,Ft,zt,qt,tr),_._OrtReleaseTensor=Dt=>(_._OrtReleaseTensor=Rt.ja)(Dt),_._OrtCreateRunOptions=(Dt,Ft,zt,qt)=>(_._OrtCreateRunOptions=Rt.ka)(Dt,Ft,zt,qt),_._OrtAddRunConfigEntry=(Dt,Ft,zt)=>(_._OrtAddRunConfigEntry=Rt.la)(Dt,Ft,zt),_._OrtReleaseRunOptions=Dt=>(_._OrtReleaseRunOptions=Rt.ma)(Dt),_._OrtRun=(Dt,Ft,zt,qt,tr,cr,hr,Cr)=>(_._OrtRun=Rt.na)(Dt,Ft,zt,qt,tr,cr,hr,Cr),_._OrtEndProfiling=Dt=>(_._OrtEndProfiling=Rt.oa)(Dt);var Qr=_._pthread_self=()=>(Qr=_._pthread_self=Rt.pa)(),In=_._malloc=Dt=>(In=_._malloc=Rt.qa)(Dt);_._free=Dt=>(_._free=Rt.ra)(Dt),_.__emscripten_tls_init=()=>(_.__emscripten_tls_init=Rt.sa)();var An=_.__emscripten_thread_init=(Dt,Ft,zt,qt,tr,cr)=>(An=_.__emscripten_thread_init=Rt.ua)(Dt,Ft,zt,qt,tr,cr);_.__emscripten_thread_crashed=()=>(_.__emscripten_thread_crashed=Rt.va)();var tn,Cn=(Dt,Ft,zt,qt)=>(Cn=Rt.wa)(Dt,Ft,zt,qt),ln=Dt=>(ln=Rt.xa)(Dt),un=_.__emscripten_thread_exit=Dt=>(un=_.__emscripten_thread_exit=Rt.ya)(Dt),Dn=_.__emscripten_check_mailbox=()=>(Dn=_.__emscripten_check_mailbox=Rt.za)(),kn=Dt=>(kn=Rt.Aa)(Dt),Rn=(Dt,Ft)=>(Rn=Rt.Ba)(Dt,Ft),fn=()=>(fn=Rt.Ca)(),rn=Dt=>(rn=Rt.Da)(Dt),dn=Dt=>(dn=Rt.Ea)(Dt);function Nn(){function Dt(){if(!tn&&(tn=!0,_.calledRun=!0,!nr)&&(vt||Lr(Mt),et(_),_.onRuntimeInitialized&&_.onRuntimeInitialized(),!vt)){if(_.postRun)for(typeof _.postRun=="function"&&(_.postRun=[_.postRun]);_.postRun.length;){var Ft=_.postRun.shift();Lt.unshift(Ft)}Lr(Lt)}}if(!(0<sr))if(vt)et(_),vt||Lr(Mt),startWorker(_);else{if(_.preRun)for(typeof _.preRun=="function"&&(_.preRun=[_.preRun]);_.preRun.length;)Nt.unshift(_.preRun.shift());Lr(Nt),0<sr||(_.setStatus?(_.setStatus("Running..."),setTimeout(function(){setTimeout(function(){_.setStatus("")},1),Dt()},1)):Dt())}}if(_.keepRuntimeAlive=Xt,_.wasmMemory=Ct,_.stackAlloc=dn,_.stackSave=fn,_.stackRestore=rn,_.UTF8ToString=Gr,_.stringToUTF8=Nr,_.lengthBytesUTF8=vr,_.ExitStatus=br,_.PThread=yr,dr=function Dt(){tn||Nn(),tn||(dr=Dt)},_.preInit)for(typeof _.preInit=="function"&&(_.preInit=[_.preInit]);0<_.preInit.length;)_.preInit.pop()();return Nn(),_e.ready});o.exports=b},932:(o,e,s)=>{var h,b=(h=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(h=h||__filename),function(_e={}){var rt,at,st=_e;st.ready=new Promise((Bt,Kt)=>{rt=Bt,at=Kt});var ot,nt,et,d=Object.assign({},st),_="./this.program",tt=(Bt,Kt)=>{throw Kt},lt=typeof window=="object",ut=typeof importScripts=="function",ct=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",ft="";if(ct){var dt=s(1384),ht=s(908);ft=ut?ht.dirname(ft)+"/":__dirname+"/",ot=(Bt,Kt)=>(Bt=Bt.startsWith("file://")?new URL(Bt):ht.normalize(Bt),dt.readFileSync(Bt,Kt?void 0:"utf8")),et=Bt=>((Bt=ot(Bt,!0)).buffer||(Bt=new Uint8Array(Bt)),Bt),nt=(Bt,Kt,Zt,or=!0)=>{Bt=Bt.startsWith("file://")?new URL(Bt):ht.normalize(Bt),dt.readFile(Bt,or?void 0:"utf8",(lr,pr)=>{lr?Zt(lr):Kt(or?pr.buffer:pr)})},!st.thisProgram&&1<process.argv.length&&(_=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),tt=(Bt,Kt)=>{throw process.exitCode=Bt,Kt},st.inspect=()=>"[Emscripten Module object]"}else(lt||ut)&&(ut?ft=self.location.href:typeof document<"u"&&document.currentScript&&(ft=document.currentScript.src),h&&(ft=h),ft=ft.indexOf("blob:")!==0?ft.substr(0,ft.replace(/[?#].*/,"").lastIndexOf("/")+1):"",ot=Bt=>{var Kt=new XMLHttpRequest;return Kt.open("GET",Bt,!1),Kt.send(null),Kt.responseText},ut&&(et=Bt=>{var Kt=new XMLHttpRequest;return Kt.open("GET",Bt,!1),Kt.responseType="arraybuffer",Kt.send(null),new Uint8Array(Kt.response)}),nt=(Bt,Kt,Zt)=>{var or=new XMLHttpRequest;or.open("GET",Bt,!0),or.responseType="arraybuffer",or.onload=()=>{or.status==200||or.status==0&&or.response?Kt(or.response):Zt()},or.onerror=Zt,or.send(null)});var gt,yt=st.print||console.log.bind(console),vt=st.printErr||console.error.bind(console);Object.assign(st,d),d=null,st.thisProgram&&(_=st.thisProgram),st.quit&&(tt=st.quit),st.wasmBinary&&(gt=st.wasmBinary);var mt=st.noExitRuntime||!0;typeof WebAssembly!="object"&&Yt("no native wasm support detected");var bt,$t,St,Pt,_t,wt,xt=!1;function Tt(){var Bt=bt.buffer;st.HEAP8=St=new Int8Array(Bt),st.HEAP16=new Int16Array(Bt),st.HEAP32=_t=new Int32Array(Bt),st.HEAPU8=Pt=new Uint8Array(Bt),st.HEAPU16=new Uint16Array(Bt),st.HEAPU32=wt=new Uint32Array(Bt),st.HEAPF32=new Float32Array(Bt),st.HEAPF64=new Float64Array(Bt)}var It=[],Ct=[],Rt=[];function Ut(){var Bt=st.preRun.shift();It.unshift(Bt)}var kt,jt,Vt=0,Gt=null;function Yt(Bt){throw st.onAbort&&st.onAbort(Bt),vt(Bt="Aborted("+Bt+")"),xt=!0,Bt=new WebAssembly.RuntimeError(Bt+". Build with -sASSERTIONS for more info."),at(Bt),Bt}function er(Bt){return Bt.startsWith("data:application/octet-stream;base64,")}if(!er(kt="ort-wasm.wasm")){var nr=kt;kt=st.locateFile?st.locateFile(nr,ft):ft+nr}function Et(Bt){if(Bt==kt&&gt)return new Uint8Array(gt);if(et)return et(Bt);throw"both async and sync fetching of the wasm failed"}function Ot(Bt,Kt,Zt){return function(or){if(!gt&&(lt||ut)){if(typeof fetch=="function"&&!or.startsWith("file://"))return fetch(or,{credentials:"same-origin"}).then(lr=>{if(!lr.ok)throw"failed to load wasm binary file at '"+or+"'";return lr.arrayBuffer()}).catch(()=>Et(or));if(nt)return new Promise((lr,pr)=>{nt(or,vr=>lr(new Uint8Array(vr)),pr)})}return Promise.resolve().then(()=>Et(or))}(Bt).then(or=>WebAssembly.instantiate(or,Kt)).then(or=>or).then(Zt,or=>{vt("failed to asynchronously prepare wasm: "+or),Yt(or)})}function At(Bt){this.name="ExitStatus",this.message=`Program terminated with exit(${Bt})`,this.status=Bt}var Nt=Bt=>{for(;0<Bt.length;)Bt.shift()(st)};function Mt(Bt){this.qa=Bt-24,this.va=function(Kt){wt[this.qa+4>>2>>>0]=Kt},this.ua=function(Kt){wt[this.qa+8>>2>>>0]=Kt},this.sa=function(Kt,Zt){this.ta(),this.va(Kt),this.ua(Zt)},this.ta=function(){wt[this.qa+16>>2>>>0]=0}}var Lt,Wt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Xt=(Bt,Kt,Zt)=>{var or=(Kt>>>=0)+Zt;for(Zt=Kt;Bt[Zt]&&!(Zt>=or);)++Zt;if(16<Zt-Kt&&Bt.buffer&&Wt)return Wt.decode(Bt.subarray(Kt,Zt));for(or="";Kt<Zt;){var lr=Bt[Kt++];if(128&lr){var pr=63&Bt[Kt++];if((224&lr)==192)or+=String.fromCharCode((31&lr)<<6|pr);else{var vr=63&Bt[Kt++];65536>(lr=(240&lr)==224?(15&lr)<<12|pr<<6|vr:(7&lr)<<18|pr<<12|vr<<6|63&Bt[Kt++])?or+=String.fromCharCode(lr):(lr-=65536,or+=String.fromCharCode(55296|lr>>10,56320|1023&lr))}}else or+=String.fromCharCode(lr)}return or},ar=(Bt,Kt)=>(Bt>>>=0)?Xt(Pt,Bt,Kt):"",Ht=Bt=>{for(var Kt=0,Zt=0;Zt<Bt.length;++Zt){var or=Bt.charCodeAt(Zt);127>=or?Kt++:2047>=or?Kt+=2:55296<=or&&57343>=or?(Kt+=4,++Zt):Kt+=3}return Kt},sr=(Bt,Kt,Zt,or)=>{if(!(0<or))return 0;var lr=Zt>>>=0;or=Zt+or-1;for(var pr=0;pr<Bt.length;++pr){var vr=Bt.charCodeAt(pr);if(55296<=vr&&57343>=vr&&(vr=65536+((1023&vr)<<10)|1023&Bt.charCodeAt(++pr)),127>=vr){if(Zt>=or)break;Kt[Zt++>>>0]=vr}else{if(2047>=vr){if(Zt+1>=or)break;Kt[Zt++>>>0]=192|vr>>6}else{if(65535>=vr){if(Zt+2>=or)break;Kt[Zt++>>>0]=224|vr>>12}else{if(Zt+3>=or)break;Kt[Zt++>>>0]=240|vr>>18,Kt[Zt++>>>0]=128|vr>>12&63}Kt[Zt++>>>0]=128|vr>>6&63}Kt[Zt++>>>0]=128|63&vr}}return Kt[Zt>>>0]=0,Zt-lr},dr=Bt=>Bt%4==0&&(Bt%100!=0||Bt%400==0),ir=[0,31,60,91,121,152,182,213,244,274,305,335],Pr=[0,31,59,90,120,151,181,212,243,273,304,334],$r=Bt=>{var Kt=Ht(Bt)+1,Zt=Vr(Kt);return Zt&&sr(Bt,Pt,Zt,Kt),Zt},wr={},xr=()=>{if(!Lt){var Bt,Kt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_||"./this.program"};for(Bt in wr)wr[Bt]===void 0?delete Kt[Bt]:Kt[Bt]=wr[Bt];var Zt=[];for(Bt in Kt)Zt.push(`${Bt}=${Kt[Bt]}`);Lt=Zt}return Lt},_r=[null,[],[]],br=Bt=>(br=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return or=>crypto.getRandomValues(or);if(ct)try{var Kt=s(760);if(Kt.randomFillSync)return or=>Kt.randomFillSync(or);var Zt=Kt.randomBytes;return or=>(or.set(Zt(or.byteLength)),or)}catch{}Yt("initRandomDevice")})())(Bt),kr=[31,29,31,30,31,30,31,31,30,31,30,31],Ar=[31,28,31,30,31,30,31,31,30,31,30,31];function Ur(Bt,Kt,Zt,or){function lr(Jt,gr,mr){for(Jt=typeof Jt=="number"?Jt.toString():Jt||"";Jt.length<gr;)Jt=mr[0]+Jt;return Jt}function pr(Jt,gr){return lr(Jt,gr,"0")}function vr(Jt,gr){function mr(Fr){return 0>Fr?-1:0<Fr?1:0}var Or;return(Or=mr(Jt.getFullYear()-gr.getFullYear()))===0&&(Or=mr(Jt.getMonth()-gr.getMonth()))===0&&(Or=mr(Jt.getDate()-gr.getDate())),Or}function Ir(Jt){switch(Jt.getDay()){case 0:return new Date(Jt.getFullYear()-1,11,29);case 1:return Jt;case 2:return new Date(Jt.getFullYear(),0,3);case 3:return new Date(Jt.getFullYear(),0,2);case 4:return new Date(Jt.getFullYear(),0,1);case 5:return new Date(Jt.getFullYear()-1,11,31);case 6:return new Date(Jt.getFullYear()-1,11,30)}}function Nr(Jt){var gr=Jt.ma;for(Jt=new Date(new Date(Jt.na+1900,0,1).getTime());0<gr;){var mr=Jt.getMonth(),Or=(dr(Jt.getFullYear())?kr:Ar)[mr];if(!(gr>Or-Jt.getDate())){Jt.setDate(Jt.getDate()+gr);break}gr-=Or-Jt.getDate()+1,Jt.setDate(1),11>mr?Jt.setMonth(mr+1):(Jt.setMonth(0),Jt.setFullYear(Jt.getFullYear()+1))}return mr=new Date(Jt.getFullYear()+1,0,4),gr=Ir(new Date(Jt.getFullYear(),0,4)),mr=Ir(mr),0>=vr(gr,Jt)?0>=vr(mr,Jt)?Jt.getFullYear()+1:Jt.getFullYear():Jt.getFullYear()-1}Bt>>>=0,Kt>>>=0,Zt>>>=0;var Rr=_t[40+(or>>>=0)>>2>>>0];for(var Qt in or={ya:_t[or>>2>>>0],xa:_t[or+4>>2>>>0],oa:_t[or+8>>2>>>0],ra:_t[or+12>>2>>>0],pa:_t[or+16>>2>>>0],na:_t[or+20>>2>>>0],ha:_t[or+24>>2>>>0],ma:_t[or+28>>2>>>0],Aa:_t[or+32>>2>>>0],wa:_t[or+36>>2>>>0],za:Rr?ar(Rr):""},Zt=ar(Zt),Rr={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Zt=Zt.replace(new RegExp(Qt,"g"),Rr[Qt]);var ur="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Tr="January February March April May June July August September October November December".split(" ");for(Qt in Rr={"%a":Jt=>ur[Jt.ha].substring(0,3),"%A":Jt=>ur[Jt.ha],"%b":Jt=>Tr[Jt.pa].substring(0,3),"%B":Jt=>Tr[Jt.pa],"%C":Jt=>pr((Jt.na+1900)/100|0,2),"%d":Jt=>pr(Jt.ra,2),"%e":Jt=>lr(Jt.ra,2," "),"%g":Jt=>Nr(Jt).toString().substring(2),"%G":Jt=>Nr(Jt),"%H":Jt=>pr(Jt.oa,2),"%I":Jt=>((Jt=Jt.oa)==0?Jt=12:12<Jt&&(Jt-=12),pr(Jt,2)),"%j":Jt=>{for(var gr=0,mr=0;mr<=Jt.pa-1;gr+=(dr(Jt.na+1900)?kr:Ar)[mr++]);return pr(Jt.ra+gr,3)},"%m":Jt=>pr(Jt.pa+1,2),"%M":Jt=>pr(Jt.xa,2),"%n":()=>`
`,"%p":Jt=>0<=Jt.oa&&12>Jt.oa?"AM":"PM","%S":Jt=>pr(Jt.ya,2),"%t":()=>"	","%u":Jt=>Jt.ha||7,"%U":Jt=>pr(Math.floor((Jt.ma+7-Jt.ha)/7),2),"%V":Jt=>{var gr=Math.floor((Jt.ma+7-(Jt.ha+6)%7)/7);if(2>=(Jt.ha+371-Jt.ma-2)%7&&gr++,gr)gr==53&&((mr=(Jt.ha+371-Jt.ma)%7)==4||mr==3&&dr(Jt.na)||(gr=1));else{gr=52;var mr=(Jt.ha+7-Jt.ma-1)%7;(mr==4||mr==5&&dr(Jt.na%400-1))&&gr++}return pr(gr,2)},"%w":Jt=>Jt.ha,"%W":Jt=>pr(Math.floor((Jt.ma+7-(Jt.ha+6)%7)/7),2),"%y":Jt=>(Jt.na+1900).toString().substring(2),"%Y":Jt=>Jt.na+1900,"%z":Jt=>{var gr=0<=(Jt=Jt.wa);return Jt=Math.abs(Jt)/60,(gr?"+":"-")+("0000"+(Jt/60*100+Jt%60)).slice(-4)},"%Z":Jt=>Jt.za,"%%":()=>"%"},Zt=Zt.replace(/%%/g,"\0\0"),Rr)Zt.includes(Qt)&&(Zt=Zt.replace(new RegExp(Qt,"g"),Rr[Qt](or)));return Qt=function(Jt){var gr=Array(Ht(Jt)+1);return sr(Jt,gr,0,gr.length),gr}(Zt=Zt.replace(/\0\0/g,"%")),Qt.length>Kt?0:(St.set(Qt,Bt>>>0),Qt.length-1)}var zr={a:function(Bt,Kt,Zt){throw new Mt(Bt>>>=0).sa(Kt>>>0,Zt>>>0),Bt},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(Bt,Kt,Zt){Bt=Kt+2097152>>>0<4194305-!!Bt?(Bt>>>0)+4294967296*Kt:NaN,Zt>>>=0,Bt=new Date(1e3*Bt),_t[Zt>>2>>>0]=Bt.getUTCSeconds(),_t[Zt+4>>2>>>0]=Bt.getUTCMinutes(),_t[Zt+8>>2>>>0]=Bt.getUTCHours(),_t[Zt+12>>2>>>0]=Bt.getUTCDate(),_t[Zt+16>>2>>>0]=Bt.getUTCMonth(),_t[Zt+20>>2>>>0]=Bt.getUTCFullYear()-1900,_t[Zt+24>>2>>>0]=Bt.getUTCDay(),_t[Zt+28>>2>>>0]=(Bt.getTime()-Date.UTC(Bt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(Bt,Kt,Zt){Bt=Kt+2097152>>>0<4194305-!!Bt?(Bt>>>0)+4294967296*Kt:NaN,Zt>>>=0,Bt=new Date(1e3*Bt),_t[Zt>>2>>>0]=Bt.getSeconds(),_t[Zt+4>>2>>>0]=Bt.getMinutes(),_t[Zt+8>>2>>>0]=Bt.getHours(),_t[Zt+12>>2>>>0]=Bt.getDate(),_t[Zt+16>>2>>>0]=Bt.getMonth(),_t[Zt+20>>2>>>0]=Bt.getFullYear()-1900,_t[Zt+24>>2>>>0]=Bt.getDay(),_t[Zt+28>>2>>>0]=(dr(Bt.getFullYear())?ir:Pr)[Bt.getMonth()]+Bt.getDate()-1|0,_t[Zt+36>>2>>>0]=-60*Bt.getTimezoneOffset(),Kt=new Date(Bt.getFullYear(),6,1).getTimezoneOffset();var or=new Date(Bt.getFullYear(),0,1).getTimezoneOffset();_t[Zt+32>>2>>>0]=0|(Kt!=or&&Bt.getTimezoneOffset()==Math.min(or,Kt))},p:function(Bt){Bt>>>=0;var Kt=new Date(_t[Bt+20>>2>>>0]+1900,_t[Bt+16>>2>>>0],_t[Bt+12>>2>>>0],_t[Bt+8>>2>>>0],_t[Bt+4>>2>>>0],_t[Bt>>2>>>0],0),Zt=_t[Bt+32>>2>>>0],or=Kt.getTimezoneOffset(),lr=new Date(Kt.getFullYear(),6,1).getTimezoneOffset(),pr=new Date(Kt.getFullYear(),0,1).getTimezoneOffset(),vr=Math.min(pr,lr);return 0>Zt?_t[Bt+32>>2>>>0]=+(lr!=pr&&vr==or):0<Zt!=(vr==or)&&(lr=Math.max(pr,lr),Kt.setTime(Kt.getTime()+6e4*((0<Zt?vr:lr)-or))),_t[Bt+24>>2>>>0]=Kt.getDay(),_t[Bt+28>>2>>>0]=(dr(Kt.getFullYear())?ir:Pr)[Kt.getMonth()]+Kt.getDate()-1|0,_t[Bt>>2>>>0]=Kt.getSeconds(),_t[Bt+4>>2>>>0]=Kt.getMinutes(),_t[Bt+8>>2>>>0]=Kt.getHours(),_t[Bt+12>>2>>>0]=Kt.getDate(),_t[Bt+16>>2>>>0]=Kt.getMonth(),_t[Bt+20>>2>>>0]=Kt.getYear(),Bt=Kt.getTime()/1e3,Kr((jt=Bt,1<=+Math.abs(jt)?0<jt?+Math.floor(jt/4294967296)>>>0:~~+Math.ceil((jt-+(~~jt>>>0))/4294967296)>>>0:0)),Bt>>>0},l:function(){return-52},m:function(){},u:function(Bt,Kt,Zt){function or(Nr){return(Nr=Nr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Nr[1]:"GMT"}Zt>>>=0;var lr=new Date().getFullYear(),pr=new Date(lr,0,1),vr=new Date(lr,6,1);lr=pr.getTimezoneOffset();var Ir=vr.getTimezoneOffset();wt[Bt>>>0>>2>>>0]=60*Math.max(lr,Ir),_t[Kt>>>0>>2>>>0]=+(lr!=Ir),Bt=or(pr),Kt=or(vr),Bt=$r(Bt),Kt=$r(Kt),Ir<lr?(wt[Zt>>2>>>0]=Bt,wt[Zt+4>>2>>>0]=Kt):(wt[Zt>>2>>>0]=Kt,wt[Zt+4>>2>>>0]=Bt)},d:()=>{Yt("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(Bt,Kt,Zt){return Kt>>>=0,Pt.copyWithin(Bt>>>0>>>0,Kt>>>0,Kt+(Zt>>>0)>>>0)},t:function(Bt){Bt>>>=0;var Kt=Pt.length;if(4294901760<Bt)return!1;for(var Zt=1;4>=Zt;Zt*=2){var or=Kt*(1+.2/Zt);or=Math.min(or,Bt+100663296);var lr=Math;or=Math.max(Bt,or);e:{lr=lr.min.call(lr,4294901760,or+(65536-or%65536)%65536)-bt.buffer.byteLength+65535>>>16;try{bt.grow(lr),Tt();var pr=1;break e}catch{}pr=void 0}if(pr)return!0}return!1},D:function(Bt,Kt){Bt>>>=0,Kt>>>=0;var Zt=0;return xr().forEach(function(or,lr){var pr=Kt+Zt;for(lr=wt[Bt+4*lr>>2>>>0]=pr,pr=0;pr<or.length;++pr)St[lr++>>0>>>0]=or.charCodeAt(pr);St[lr>>0>>>0]=0,Zt+=or.length+1}),0},E:function(Bt,Kt){Bt>>>=0,Kt>>>=0;var Zt=xr();wt[Bt>>2>>>0]=Zt.length;var or=0;return Zt.forEach(function(lr){or+=lr.length+1}),wt[Kt>>2>>>0]=or,0},s:Bt=>{mt||(st.onExit&&st.onExit(Bt),xt=!0),tt(Bt,new At(Bt))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(Bt,Kt,Zt,or){Kt>>>=0,Zt>>>=0,or>>>=0;for(var lr=0,pr=0;pr<Zt;pr++){var vr=wt[Kt>>2>>>0],Ir=wt[Kt+4>>2>>>0];Kt+=8;for(var Nr=0;Nr<Ir;Nr++){var Rr=Pt[vr+Nr>>>0],Qt=_r[Bt];Rr===0||Rr===10?((Bt===1?yt:vt)(Xt(Qt,0)),Qt.length=0):Qt.push(Rr)}lr+=Ir}return wt[or>>2>>>0]=lr,0},r:function(Bt,Kt){return Bt>>>=0,br(Pt.subarray(Bt>>>0,Bt+(Kt>>>0)>>>0)),0},C:Ur,c:function(Bt,Kt,Zt,or){return Ur(Bt>>>0,Kt>>>0,Zt>>>0,or>>>0)}};(function(){function Bt(Zt){if(Zt=Zt.exports,$t=Zt=function(lr){var pr=Ir=>()=>Ir()>>>0,vr=Ir=>Nr=>Ir(Nr)>>>0;return(lr=Object.assign({},lr)).__errno_location=pr(lr.__errno_location),lr.malloc=vr(lr.malloc),lr.stackSave=pr(lr.stackSave),lr.stackAlloc=vr(lr.stackAlloc),lr}(Zt),bt=$t.L,Tt(),Ct.unshift($t.M),Vt--,st.monitorRunDependencies&&st.monitorRunDependencies(Vt),Vt==0&&Gt){var or=Gt;Gt=null,or()}return Zt}var Kt={a:zr};if(Vt++,st.monitorRunDependencies&&st.monitorRunDependencies(Vt),st.instantiateWasm)try{return st.instantiateWasm(Kt,Bt)}catch(Zt){vt("Module.instantiateWasm callback failed with error: "+Zt),at(Zt)}(function(Zt,or){var lr=kt;return gt||typeof WebAssembly.instantiateStreaming!="function"||er(lr)||lr.startsWith("file://")||ct||typeof fetch!="function"?Ot(lr,Zt,or):fetch(lr,{credentials:"same-origin"}).then(pr=>WebAssembly.instantiateStreaming(pr,Zt).then(or,function(vr){return vt("wasm streaming compile failed: "+vr),vt("falling back to ArrayBuffer instantiation"),Ot(lr,Zt,or)}))})(Kt,function(Zt){Bt(Zt.instance)}).catch(at)})(),st._OrtInit=(Bt,Kt)=>(st._OrtInit=$t.N)(Bt,Kt),st._OrtGetLastError=(Bt,Kt)=>(st._OrtGetLastError=$t.O)(Bt,Kt),st._OrtCreateSessionOptions=(Bt,Kt,Zt,or,lr,pr,vr,Ir,Nr,Rr)=>(st._OrtCreateSessionOptions=$t.P)(Bt,Kt,Zt,or,lr,pr,vr,Ir,Nr,Rr),st._OrtAppendExecutionProvider=(Bt,Kt)=>(st._OrtAppendExecutionProvider=$t.Q)(Bt,Kt),st._OrtAddSessionConfigEntry=(Bt,Kt,Zt)=>(st._OrtAddSessionConfigEntry=$t.R)(Bt,Kt,Zt),st._OrtReleaseSessionOptions=Bt=>(st._OrtReleaseSessionOptions=$t.S)(Bt),st._OrtCreateSession=(Bt,Kt,Zt)=>(st._OrtCreateSession=$t.T)(Bt,Kt,Zt),st._OrtReleaseSession=Bt=>(st._OrtReleaseSession=$t.U)(Bt),st._OrtGetInputOutputCount=(Bt,Kt,Zt)=>(st._OrtGetInputOutputCount=$t.V)(Bt,Kt,Zt),st._OrtGetInputName=(Bt,Kt)=>(st._OrtGetInputName=$t.W)(Bt,Kt),st._OrtGetOutputName=(Bt,Kt)=>(st._OrtGetOutputName=$t.X)(Bt,Kt),st._OrtFree=Bt=>(st._OrtFree=$t.Y)(Bt),st._OrtCreateTensor=(Bt,Kt,Zt,or,lr)=>(st._OrtCreateTensor=$t.Z)(Bt,Kt,Zt,or,lr),st._OrtGetTensorData=(Bt,Kt,Zt,or,lr)=>(st._OrtGetTensorData=$t._)(Bt,Kt,Zt,or,lr),st._OrtReleaseTensor=Bt=>(st._OrtReleaseTensor=$t.$)(Bt),st._OrtCreateRunOptions=(Bt,Kt,Zt,or)=>(st._OrtCreateRunOptions=$t.aa)(Bt,Kt,Zt,or),st._OrtAddRunConfigEntry=(Bt,Kt,Zt)=>(st._OrtAddRunConfigEntry=$t.ba)(Bt,Kt,Zt),st._OrtReleaseRunOptions=Bt=>(st._OrtReleaseRunOptions=$t.ca)(Bt),st._OrtRun=(Bt,Kt,Zt,or,lr,pr,vr,Ir)=>(st._OrtRun=$t.da)(Bt,Kt,Zt,or,lr,pr,vr,Ir),st._OrtEndProfiling=Bt=>(st._OrtEndProfiling=$t.ea)(Bt);var Vr=st._malloc=Bt=>(Vr=st._malloc=$t.fa)(Bt);st._free=Bt=>(st._free=$t.ga)(Bt);var Gr,Kr=Bt=>(Kr=$t.ia)(Bt),Hr=()=>(Hr=$t.ja)(),yr=Bt=>(yr=$t.ka)(Bt),Lr=Bt=>(Lr=$t.la)(Bt);function qr(){function Bt(){if(!Gr&&(Gr=!0,st.calledRun=!0,!xt)){if(Nt(Ct),rt(st),st.onRuntimeInitialized&&st.onRuntimeInitialized(),st.postRun)for(typeof st.postRun=="function"&&(st.postRun=[st.postRun]);st.postRun.length;){var Kt=st.postRun.shift();Rt.unshift(Kt)}Nt(Rt)}}if(!(0<Vt)){if(st.preRun)for(typeof st.preRun=="function"&&(st.preRun=[st.preRun]);st.preRun.length;)Ut();Nt(It),0<Vt||(st.setStatus?(st.setStatus("Running..."),setTimeout(function(){setTimeout(function(){st.setStatus("")},1),Bt()},1)):Bt())}}if(st.stackAlloc=Lr,st.stackSave=Hr,st.stackRestore=yr,st.UTF8ToString=ar,st.stringToUTF8=(Bt,Kt,Zt)=>sr(Bt,Pt,Kt,Zt),st.lengthBytesUTF8=Ht,Gt=function Bt(){Gr||qr(),Gr||(Gt=Bt)},st.preInit)for(typeof st.preInit=="function"&&(st.preInit=[st.preInit]);0<st.preInit.length;)st.preInit.pop()();return qr(),_e.ready});o.exports=b},4537:o=>{o.exports=function(e,s){for(var h=new Array(arguments.length-1),b=0,_e=2,rt=!0;_e<arguments.length;)h[b++]=arguments[_e++];return new Promise(function(at,st){h[b]=function(ot){if(rt)if(rt=!1,ot)st(ot);else{for(var nt=new Array(arguments.length-1),et=0;et<nt.length;)nt[et++]=arguments[et];at.apply(null,nt)}};try{e.apply(s||null,h)}catch(ot){rt&&(rt=!1,st(ot))}})}},7419:(o,e)=>{var s=e;s.length=function(at){var st=at.length;if(!st)return 0;for(var ot=0;--st%4>1&&at.charAt(st)==="=";)++ot;return Math.ceil(3*at.length)/4-ot};for(var h=new Array(64),b=new Array(123),_e=0;_e<64;)b[h[_e]=_e<26?_e+65:_e<52?_e+71:_e<62?_e-4:_e-59|43]=_e++;s.encode=function(at,st,ot){for(var nt,et=null,d=[],_=0,tt=0;st<ot;){var lt=at[st++];switch(tt){case 0:d[_++]=h[lt>>2],nt=(3&lt)<<4,tt=1;break;case 1:d[_++]=h[nt|lt>>4],nt=(15&lt)<<2,tt=2;break;case 2:d[_++]=h[nt|lt>>6],d[_++]=h[63&lt],tt=0}_>8191&&((et||(et=[])).push(String.fromCharCode.apply(String,d)),_=0)}return tt&&(d[_++]=h[nt],d[_++]=61,tt===1&&(d[_++]=61)),et?(_&&et.push(String.fromCharCode.apply(String,d.slice(0,_))),et.join("")):String.fromCharCode.apply(String,d.slice(0,_))};var rt="invalid encoding";s.decode=function(at,st,ot){for(var nt,et=ot,d=0,_=0;_<at.length;){var tt=at.charCodeAt(_++);if(tt===61&&d>1)break;if((tt=b[tt])===void 0)throw Error(rt);switch(d){case 0:nt=tt,d=1;break;case 1:st[ot++]=nt<<2|(48&tt)>>4,nt=tt,d=2;break;case 2:st[ot++]=(15&nt)<<4|(60&tt)>>2,nt=tt,d=3;break;case 3:st[ot++]=(3&nt)<<6|tt,d=0}}if(d===1)throw Error(rt);return ot-et},s.test=function(at){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(at)}},9211:o=>{function e(){this._listeners={}}o.exports=e,e.prototype.on=function(s,h,b){return(this._listeners[s]||(this._listeners[s]=[])).push({fn:h,ctx:b||this}),this},e.prototype.off=function(s,h){if(s===void 0)this._listeners={};else if(h===void 0)this._listeners[s]=[];else for(var b=this._listeners[s],_e=0;_e<b.length;)b[_e].fn===h?b.splice(_e,1):++_e;return this},e.prototype.emit=function(s){var h=this._listeners[s];if(h){for(var b=[],_e=1;_e<arguments.length;)b.push(arguments[_e++]);for(_e=0;_e<h.length;)h[_e].fn.apply(h[_e++].ctx,b)}return this}},945:o=>{function e(rt){return typeof Float32Array<"u"?function(){var at=new Float32Array([-0]),st=new Uint8Array(at.buffer),ot=st[3]===128;function nt(tt,lt,ut){at[0]=tt,lt[ut]=st[0],lt[ut+1]=st[1],lt[ut+2]=st[2],lt[ut+3]=st[3]}function et(tt,lt,ut){at[0]=tt,lt[ut]=st[3],lt[ut+1]=st[2],lt[ut+2]=st[1],lt[ut+3]=st[0]}function d(tt,lt){return st[0]=tt[lt],st[1]=tt[lt+1],st[2]=tt[lt+2],st[3]=tt[lt+3],at[0]}function _(tt,lt){return st[3]=tt[lt],st[2]=tt[lt+1],st[1]=tt[lt+2],st[0]=tt[lt+3],at[0]}rt.writeFloatLE=ot?nt:et,rt.writeFloatBE=ot?et:nt,rt.readFloatLE=ot?d:_,rt.readFloatBE=ot?_:d}():function(){function at(ot,nt,et,d){var _=nt<0?1:0;if(_&&(nt=-nt),nt===0)ot(1/nt>0?0:2147483648,et,d);else if(isNaN(nt))ot(2143289344,et,d);else if(nt>34028234663852886e22)ot((_<<31|2139095040)>>>0,et,d);else if(nt<11754943508222875e-54)ot((_<<31|Math.round(nt/1401298464324817e-60))>>>0,et,d);else{var tt=Math.floor(Math.log(nt)/Math.LN2);ot((_<<31|tt+127<<23|8388607&Math.round(nt*Math.pow(2,-tt)*8388608))>>>0,et,d)}}function st(ot,nt,et){var d=ot(nt,et),_=2*(d>>31)+1,tt=d>>>23&255,lt=8388607&d;return tt===255?lt?NaN:_*(1/0):tt===0?1401298464324817e-60*_*lt:_*Math.pow(2,tt-150)*(lt+8388608)}rt.writeFloatLE=at.bind(null,s),rt.writeFloatBE=at.bind(null,h),rt.readFloatLE=st.bind(null,b),rt.readFloatBE=st.bind(null,_e)}(),typeof Float64Array<"u"?function(){var at=new Float64Array([-0]),st=new Uint8Array(at.buffer),ot=st[7]===128;function nt(tt,lt,ut){at[0]=tt,lt[ut]=st[0],lt[ut+1]=st[1],lt[ut+2]=st[2],lt[ut+3]=st[3],lt[ut+4]=st[4],lt[ut+5]=st[5],lt[ut+6]=st[6],lt[ut+7]=st[7]}function et(tt,lt,ut){at[0]=tt,lt[ut]=st[7],lt[ut+1]=st[6],lt[ut+2]=st[5],lt[ut+3]=st[4],lt[ut+4]=st[3],lt[ut+5]=st[2],lt[ut+6]=st[1],lt[ut+7]=st[0]}function d(tt,lt){return st[0]=tt[lt],st[1]=tt[lt+1],st[2]=tt[lt+2],st[3]=tt[lt+3],st[4]=tt[lt+4],st[5]=tt[lt+5],st[6]=tt[lt+6],st[7]=tt[lt+7],at[0]}function _(tt,lt){return st[7]=tt[lt],st[6]=tt[lt+1],st[5]=tt[lt+2],st[4]=tt[lt+3],st[3]=tt[lt+4],st[2]=tt[lt+5],st[1]=tt[lt+6],st[0]=tt[lt+7],at[0]}rt.writeDoubleLE=ot?nt:et,rt.writeDoubleBE=ot?et:nt,rt.readDoubleLE=ot?d:_,rt.readDoubleBE=ot?_:d}():function(){function at(ot,nt,et,d,_,tt){var lt=d<0?1:0;if(lt&&(d=-d),d===0)ot(0,_,tt+nt),ot(1/d>0?0:2147483648,_,tt+et);else if(isNaN(d))ot(0,_,tt+nt),ot(2146959360,_,tt+et);else if(d>17976931348623157e292)ot(0,_,tt+nt),ot((lt<<31|2146435072)>>>0,_,tt+et);else{var ut;if(d<22250738585072014e-324)ot((ut=d/5e-324)>>>0,_,tt+nt),ot((lt<<31|ut/4294967296)>>>0,_,tt+et);else{var ct=Math.floor(Math.log(d)/Math.LN2);ct===1024&&(ct=1023),ot(4503599627370496*(ut=d*Math.pow(2,-ct))>>>0,_,tt+nt),ot((lt<<31|ct+1023<<20|1048576*ut&1048575)>>>0,_,tt+et)}}}function st(ot,nt,et,d,_){var tt=ot(d,_+nt),lt=ot(d,_+et),ut=2*(lt>>31)+1,ct=lt>>>20&2047,ft=4294967296*(1048575&lt)+tt;return ct===2047?ft?NaN:ut*(1/0):ct===0?5e-324*ut*ft:ut*Math.pow(2,ct-1075)*(ft+4503599627370496)}rt.writeDoubleLE=at.bind(null,s,0,4),rt.writeDoubleBE=at.bind(null,h,4,0),rt.readDoubleLE=st.bind(null,b,0,4),rt.readDoubleBE=st.bind(null,_e,4,0)}(),rt}function s(rt,at,st){at[st]=255&rt,at[st+1]=rt>>>8&255,at[st+2]=rt>>>16&255,at[st+3]=rt>>>24}function h(rt,at,st){at[st]=rt>>>24,at[st+1]=rt>>>16&255,at[st+2]=rt>>>8&255,at[st+3]=255&rt}function b(rt,at){return(rt[at]|rt[at+1]<<8|rt[at+2]<<16|rt[at+3]<<24)>>>0}function _e(rt,at){return(rt[at]<<24|rt[at+1]<<16|rt[at+2]<<8|rt[at+3])>>>0}o.exports=e(e)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}module.exports=inquire},6662:o=>{o.exports=function(e,s,h){var b=h||8192,_e=b>>>1,rt=null,at=b;return function(st){if(st<1||st>_e)return e(st);at+st>b&&(rt=e(b),at=0);var ot=s.call(rt,at,at+=st);return 7&at&&(at=1+(7|at)),ot}}},4997:(o,e)=>{var s=e;s.length=function(h){for(var b=0,_e=0,rt=0;rt<h.length;++rt)(_e=h.charCodeAt(rt))<128?b+=1:_e<2048?b+=2:(64512&_e)==55296&&(64512&h.charCodeAt(rt+1))==56320?(++rt,b+=4):b+=3;return b},s.read=function(h,b,_e){if(_e-b<1)return"";for(var rt,at=null,st=[],ot=0;b<_e;)(rt=h[b++])<128?st[ot++]=rt:rt>191&&rt<224?st[ot++]=(31&rt)<<6|63&h[b++]:rt>239&&rt<365?(rt=((7&rt)<<18|(63&h[b++])<<12|(63&h[b++])<<6|63&h[b++])-65536,st[ot++]=55296+(rt>>10),st[ot++]=56320+(1023&rt)):st[ot++]=(15&rt)<<12|(63&h[b++])<<6|63&h[b++],ot>8191&&((at||(at=[])).push(String.fromCharCode.apply(String,st)),ot=0);return at?(ot&&at.push(String.fromCharCode.apply(String,st.slice(0,ot))),at.join("")):String.fromCharCode.apply(String,st.slice(0,ot))},s.write=function(h,b,_e){for(var rt,at,st=_e,ot=0;ot<h.length;++ot)(rt=h.charCodeAt(ot))<128?b[_e++]=rt:rt<2048?(b[_e++]=rt>>6|192,b[_e++]=63&rt|128):(64512&rt)==55296&&(64512&(at=h.charCodeAt(ot+1)))==56320?(rt=65536+((1023&rt)<<10)+(1023&at),++ot,b[_e++]=rt>>18|240,b[_e++]=rt>>12&63|128,b[_e++]=rt>>6&63|128,b[_e++]=63&rt|128):(b[_e++]=rt>>12|224,b[_e++]=rt>>6&63|128,b[_e++]=63&rt|128);return _e-st}},3442:(o,e)=>{e.__esModule=!0;var s=function(){function h(b){if(!b)throw new TypeError("Invalid argument; `value` has no value.");this.value=h.EMPTY,b&&h.isGuid(b)&&(this.value=b)}return h.isGuid=function(b){var _e=b.toString();return b&&(b instanceof h||h.validator.test(_e))},h.create=function(){return new h([h.gen(2),h.gen(1),h.gen(1),h.gen(1),h.gen(3)].join("-"))},h.createEmpty=function(){return new h("emptyguid")},h.parse=function(b){return new h(b)},h.raw=function(){return[h.gen(2),h.gen(1),h.gen(1),h.gen(1),h.gen(3)].join("-")},h.gen=function(b){for(var _e="",rt=0;rt<b;rt++)_e+=(65536*(1+Math.random())|0).toString(16).substring(1);return _e},h.prototype.equals=function(b){return h.isGuid(b)&&this.value===b.toString()},h.prototype.isEmpty=function(){return this.value===h.EMPTY},h.prototype.toString=function(){return this.value},h.prototype.toJSON=function(){return{value:this.value}},h.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),h.EMPTY="00000000-0000-0000-0000-000000000000",h}();e.Guid=s},2100:(o,e,s)=>{o.exports=s(9482)},9482:(o,e,s)=>{var h=e;function b(){h.util._configure(),h.Writer._configure(h.BufferWriter),h.Reader._configure(h.BufferReader)}h.build="minimal",h.Writer=s(1173),h.BufferWriter=s(3155),h.Reader=s(1408),h.BufferReader=s(593),h.util=s(9693),h.rpc=s(5994),h.roots=s(5054),h.configure=b,b()},1408:(o,e,s)=>{o.exports=st;var h,b=s(9693),_e=b.LongBits,rt=b.utf8;function at(lt,ut){return RangeError("index out of range: "+lt.pos+" + "+(ut||1)+" > "+lt.len)}function st(lt){this.buf=lt,this.pos=0,this.len=lt.length}var ot,nt=typeof Uint8Array<"u"?function(lt){if(lt instanceof Uint8Array||Array.isArray(lt))return new st(lt);throw Error("illegal buffer")}:function(lt){if(Array.isArray(lt))return new st(lt);throw Error("illegal buffer")},et=function(){return b.Buffer?function(lt){return(st.create=function(ut){return b.Buffer.isBuffer(ut)?new h(ut):nt(ut)})(lt)}:nt};function d(){var lt=new _e(0,0),ut=0;if(!(this.len-this.pos>4)){for(;ut<3;++ut){if(this.pos>=this.len)throw at(this);if(lt.lo=(lt.lo|(127&this.buf[this.pos])<<7*ut)>>>0,this.buf[this.pos++]<128)return lt}return lt.lo=(lt.lo|(127&this.buf[this.pos++])<<7*ut)>>>0,lt}for(;ut<4;++ut)if(lt.lo=(lt.lo|(127&this.buf[this.pos])<<7*ut)>>>0,this.buf[this.pos++]<128)return lt;if(lt.lo=(lt.lo|(127&this.buf[this.pos])<<28)>>>0,lt.hi=(lt.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return lt;if(ut=0,this.len-this.pos>4){for(;ut<5;++ut)if(lt.hi=(lt.hi|(127&this.buf[this.pos])<<7*ut+3)>>>0,this.buf[this.pos++]<128)return lt}else for(;ut<5;++ut){if(this.pos>=this.len)throw at(this);if(lt.hi=(lt.hi|(127&this.buf[this.pos])<<7*ut+3)>>>0,this.buf[this.pos++]<128)return lt}throw Error("invalid varint encoding")}function _(lt,ut){return(lt[ut-4]|lt[ut-3]<<8|lt[ut-2]<<16|lt[ut-1]<<24)>>>0}function tt(){if(this.pos+8>this.len)throw at(this,8);return new _e(_(this.buf,this.pos+=4),_(this.buf,this.pos+=4))}st.create=et(),st.prototype._slice=b.Array.prototype.subarray||b.Array.prototype.slice,st.prototype.uint32=(ot=4294967295,function(){if(ot=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(ot=(ot|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(ot=(ot|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(ot=(ot|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(ot=(ot|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return ot;if((this.pos+=5)>this.len)throw this.pos=this.len,at(this,10);return ot}),st.prototype.int32=function(){return 0|this.uint32()},st.prototype.sint32=function(){var lt=this.uint32();return lt>>>1^-(1&lt)|0},st.prototype.bool=function(){return this.uint32()!==0},st.prototype.fixed32=function(){if(this.pos+4>this.len)throw at(this,4);return _(this.buf,this.pos+=4)},st.prototype.sfixed32=function(){if(this.pos+4>this.len)throw at(this,4);return 0|_(this.buf,this.pos+=4)},st.prototype.float=function(){if(this.pos+4>this.len)throw at(this,4);var lt=b.float.readFloatLE(this.buf,this.pos);return this.pos+=4,lt},st.prototype.double=function(){if(this.pos+8>this.len)throw at(this,4);var lt=b.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,lt},st.prototype.bytes=function(){var lt=this.uint32(),ut=this.pos,ct=this.pos+lt;if(ct>this.len)throw at(this,lt);return this.pos+=lt,Array.isArray(this.buf)?this.buf.slice(ut,ct):ut===ct?new this.buf.constructor(0):this._slice.call(this.buf,ut,ct)},st.prototype.string=function(){var lt=this.bytes();return rt.read(lt,0,lt.length)},st.prototype.skip=function(lt){if(typeof lt=="number"){if(this.pos+lt>this.len)throw at(this,lt);this.pos+=lt}else do if(this.pos>=this.len)throw at(this);while(128&this.buf[this.pos++]);return this},st.prototype.skipType=function(lt){switch(lt){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(lt=7&this.uint32())!=4;)this.skipType(lt);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+lt+" at offset "+this.pos)}return this},st._configure=function(lt){h=lt,st.create=et(),h._configure();var ut=b.Long?"toLong":"toNumber";b.merge(st.prototype,{int64:function(){return d.call(this)[ut](!1)},uint64:function(){return d.call(this)[ut](!0)},sint64:function(){return d.call(this).zzDecode()[ut](!1)},fixed64:function(){return tt.call(this)[ut](!0)},sfixed64:function(){return tt.call(this)[ut](!1)}})}},593:(o,e,s)=>{o.exports=_e;var h=s(1408);(_e.prototype=Object.create(h.prototype)).constructor=_e;var b=s(9693);function _e(rt){h.call(this,rt)}_e._configure=function(){b.Buffer&&(_e.prototype._slice=b.Buffer.prototype.slice)},_e.prototype.string=function(){var rt=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+rt,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+rt,this.len))},_e._configure()},5054:o=>{o.exports={}},5994:(o,e,s)=>{e.Service=s(7948)},7948:(o,e,s)=>{o.exports=b;var h=s(9693);function b(_e,rt,at){if(typeof _e!="function")throw TypeError("rpcImpl must be a function");h.EventEmitter.call(this),this.rpcImpl=_e,this.requestDelimited=!!rt,this.responseDelimited=!!at}(b.prototype=Object.create(h.EventEmitter.prototype)).constructor=b,b.prototype.rpcCall=function _e(rt,at,st,ot,nt){if(!ot)throw TypeError("request must be specified");var et=this;if(!nt)return h.asPromise(_e,et,rt,at,st,ot);if(et.rpcImpl)try{return et.rpcImpl(rt,at[et.requestDelimited?"encodeDelimited":"encode"](ot).finish(),function(d,_){if(d)return et.emit("error",d,rt),nt(d);if(_!==null){if(!(_ instanceof st))try{_=st[et.responseDelimited?"decodeDelimited":"decode"](_)}catch(tt){return et.emit("error",tt,rt),nt(tt)}return et.emit("data",_,rt),nt(null,_)}et.end(!0)})}catch(d){return et.emit("error",d,rt),void setTimeout(function(){nt(d)},0)}else setTimeout(function(){nt(Error("already ended"))},0)},b.prototype.end=function(_e){return this.rpcImpl&&(_e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(o,e,s)=>{o.exports=b;var h=s(9693);function b(st,ot){this.lo=st>>>0,this.hi=ot>>>0}var _e=b.zero=new b(0,0);_e.toNumber=function(){return 0},_e.zzEncode=_e.zzDecode=function(){return this},_e.length=function(){return 1};var rt=b.zeroHash="\0\0\0\0\0\0\0\0";b.fromNumber=function(st){if(st===0)return _e;var ot=st<0;ot&&(st=-st);var nt=st>>>0,et=(st-nt)/4294967296>>>0;return ot&&(et=~et>>>0,nt=~nt>>>0,++nt>4294967295&&(nt=0,++et>4294967295&&(et=0))),new b(nt,et)},b.from=function(st){if(typeof st=="number")return b.fromNumber(st);if(h.isString(st)){if(!h.Long)return b.fromNumber(parseInt(st,10));st=h.Long.fromString(st)}return st.low||st.high?new b(st.low>>>0,st.high>>>0):_e},b.prototype.toNumber=function(st){if(!st&&this.hi>>>31){var ot=1+~this.lo>>>0,nt=~this.hi>>>0;return ot||(nt=nt+1>>>0),-(ot+4294967296*nt)}return this.lo+4294967296*this.hi},b.prototype.toLong=function(st){return h.Long?new h.Long(0|this.lo,0|this.hi,!!st):{low:0|this.lo,high:0|this.hi,unsigned:!!st}};var at=String.prototype.charCodeAt;b.fromHash=function(st){return st===rt?_e:new b((at.call(st,0)|at.call(st,1)<<8|at.call(st,2)<<16|at.call(st,3)<<24)>>>0,(at.call(st,4)|at.call(st,5)<<8|at.call(st,6)<<16|at.call(st,7)<<24)>>>0)},b.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},b.prototype.zzEncode=function(){var st=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^st)>>>0,this.lo=(this.lo<<1^st)>>>0,this},b.prototype.zzDecode=function(){var st=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^st)>>>0,this.hi=(this.hi>>>1^st)>>>0,this},b.prototype.length=function(){var st=this.lo,ot=(this.lo>>>28|this.hi<<4)>>>0,nt=this.hi>>>24;return nt===0?ot===0?st<16384?st<128?1:2:st<2097152?3:4:ot<16384?ot<128?5:6:ot<2097152?7:8:nt<128?9:10}},9693:function(o,e,s){var h=e;function b(rt,at,st){for(var ot=Object.keys(at),nt=0;nt<ot.length;++nt)rt[ot[nt]]!==void 0&&st||(rt[ot[nt]]=at[ot[nt]]);return rt}function _e(rt){function at(st,ot){if(!(this instanceof at))return new at(st,ot);Object.defineProperty(this,"message",{get:function(){return st}}),Error.captureStackTrace?Error.captureStackTrace(this,at):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ot&&b(this,ot)}return at.prototype=Object.create(Error.prototype,{constructor:{value:at,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return rt},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),at}h.asPromise=s(4537),h.base64=s(7419),h.EventEmitter=s(9211),h.float=s(945),h.inquire=s(7199),h.utf8=s(4997),h.pool=s(6662),h.LongBits=s(1945),h.isNode=!!(typeof commonjsGlobal$2<"u"&&commonjsGlobal$2&&commonjsGlobal$2.process&&commonjsGlobal$2.process.versions&&commonjsGlobal$2.process.versions.node),h.global=h.isNode&&commonjsGlobal$2||typeof window<"u"&&window||typeof self<"u"&&self||this,h.emptyArray=Object.freeze?Object.freeze([]):[],h.emptyObject=Object.freeze?Object.freeze({}):{},h.isInteger=Number.isInteger||function(rt){return typeof rt=="number"&&isFinite(rt)&&Math.floor(rt)===rt},h.isString=function(rt){return typeof rt=="string"||rt instanceof String},h.isObject=function(rt){return rt&&typeof rt=="object"},h.isset=h.isSet=function(rt,at){var st=rt[at];return!(st==null||!rt.hasOwnProperty(at))&&(typeof st!="object"||(Array.isArray(st)?st.length:Object.keys(st).length)>0)},h.Buffer=function(){try{var rt=h.inquire("buffer").Buffer;return rt.prototype.utf8Write?rt:null}catch{return null}}(),h._Buffer_from=null,h._Buffer_allocUnsafe=null,h.newBuffer=function(rt){return typeof rt=="number"?h.Buffer?h._Buffer_allocUnsafe(rt):new h.Array(rt):h.Buffer?h._Buffer_from(rt):typeof Uint8Array>"u"?rt:new Uint8Array(rt)},h.Array=typeof Uint8Array<"u"?Uint8Array:Array,h.Long=h.global.dcodeIO&&h.global.dcodeIO.Long||h.global.Long||h.inquire("long"),h.key2Re=/^true|false|0|1$/,h.key32Re=/^-?(?:0|[1-9][0-9]*)$/,h.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,h.longToHash=function(rt){return rt?h.LongBits.from(rt).toHash():h.LongBits.zeroHash},h.longFromHash=function(rt,at){var st=h.LongBits.fromHash(rt);return h.Long?h.Long.fromBits(st.lo,st.hi,at):st.toNumber(!!at)},h.merge=b,h.lcFirst=function(rt){return rt.charAt(0).toLowerCase()+rt.substring(1)},h.newError=_e,h.ProtocolError=_e("ProtocolError"),h.oneOfGetter=function(rt){for(var at={},st=0;st<rt.length;++st)at[rt[st]]=1;return function(){for(var ot=Object.keys(this),nt=ot.length-1;nt>-1;--nt)if(at[ot[nt]]===1&&this[ot[nt]]!==void 0&&this[ot[nt]]!==null)return ot[nt]}},h.oneOfSetter=function(rt){return function(at){for(var st=0;st<rt.length;++st)rt[st]!==at&&delete this[rt[st]]}},h.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},h._configure=function(){var rt=h.Buffer;rt?(h._Buffer_from=rt.from!==Uint8Array.from&&rt.from||function(at,st){return new rt(at,st)},h._Buffer_allocUnsafe=rt.allocUnsafe||function(at){return new rt(at)}):h._Buffer_from=h._Buffer_allocUnsafe=null}},1173:(o,e,s)=>{o.exports=et;var h,b=s(9693),_e=b.LongBits,rt=b.base64,at=b.utf8;function st(ft,dt,ht){this.fn=ft,this.len=dt,this.next=void 0,this.val=ht}function ot(){}function nt(ft){this.head=ft.head,this.tail=ft.tail,this.len=ft.len,this.next=ft.states}function et(){this.len=0,this.head=new st(ot,0,0),this.tail=this.head,this.states=null}var d=function(){return b.Buffer?function(){return(et.create=function(){return new h})()}:function(){return new et}};function _(ft,dt,ht){dt[ht]=255&ft}function tt(ft,dt){this.len=ft,this.next=void 0,this.val=dt}function lt(ft,dt,ht){for(;ft.hi;)dt[ht++]=127&ft.lo|128,ft.lo=(ft.lo>>>7|ft.hi<<25)>>>0,ft.hi>>>=7;for(;ft.lo>127;)dt[ht++]=127&ft.lo|128,ft.lo=ft.lo>>>7;dt[ht++]=ft.lo}function ut(ft,dt,ht){dt[ht]=255&ft,dt[ht+1]=ft>>>8&255,dt[ht+2]=ft>>>16&255,dt[ht+3]=ft>>>24}et.create=d(),et.alloc=function(ft){return new b.Array(ft)},b.Array!==Array&&(et.alloc=b.pool(et.alloc,b.Array.prototype.subarray)),et.prototype._push=function(ft,dt,ht){return this.tail=this.tail.next=new st(ft,dt,ht),this.len+=dt,this},tt.prototype=Object.create(st.prototype),tt.prototype.fn=function(ft,dt,ht){for(;ft>127;)dt[ht++]=127&ft|128,ft>>>=7;dt[ht]=ft},et.prototype.uint32=function(ft){return this.len+=(this.tail=this.tail.next=new tt((ft>>>=0)<128?1:ft<16384?2:ft<2097152?3:ft<268435456?4:5,ft)).len,this},et.prototype.int32=function(ft){return ft<0?this._push(lt,10,_e.fromNumber(ft)):this.uint32(ft)},et.prototype.sint32=function(ft){return this.uint32((ft<<1^ft>>31)>>>0)},et.prototype.uint64=function(ft){var dt=_e.from(ft);return this._push(lt,dt.length(),dt)},et.prototype.int64=et.prototype.uint64,et.prototype.sint64=function(ft){var dt=_e.from(ft).zzEncode();return this._push(lt,dt.length(),dt)},et.prototype.bool=function(ft){return this._push(_,1,ft?1:0)},et.prototype.fixed32=function(ft){return this._push(ut,4,ft>>>0)},et.prototype.sfixed32=et.prototype.fixed32,et.prototype.fixed64=function(ft){var dt=_e.from(ft);return this._push(ut,4,dt.lo)._push(ut,4,dt.hi)},et.prototype.sfixed64=et.prototype.fixed64,et.prototype.float=function(ft){return this._push(b.float.writeFloatLE,4,ft)},et.prototype.double=function(ft){return this._push(b.float.writeDoubleLE,8,ft)};var ct=b.Array.prototype.set?function(ft,dt,ht){dt.set(ft,ht)}:function(ft,dt,ht){for(var gt=0;gt<ft.length;++gt)dt[ht+gt]=ft[gt]};et.prototype.bytes=function(ft){var dt=ft.length>>>0;if(!dt)return this._push(_,1,0);if(b.isString(ft)){var ht=et.alloc(dt=rt.length(ft));rt.decode(ft,ht,0),ft=ht}return this.uint32(dt)._push(ct,dt,ft)},et.prototype.string=function(ft){var dt=at.length(ft);return dt?this.uint32(dt)._push(at.write,dt,ft):this._push(_,1,0)},et.prototype.fork=function(){return this.states=new nt(this),this.head=this.tail=new st(ot,0,0),this.len=0,this},et.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new st(ot,0,0),this.len=0),this},et.prototype.ldelim=function(){var ft=this.head,dt=this.tail,ht=this.len;return this.reset().uint32(ht),ht&&(this.tail.next=ft.next,this.tail=dt,this.len+=ht),this},et.prototype.finish=function(){for(var ft=this.head.next,dt=this.constructor.alloc(this.len),ht=0;ft;)ft.fn(ft.val,dt,ht),ht+=ft.len,ft=ft.next;return dt},et._configure=function(ft){h=ft,et.create=d(),h._configure()}},3155:(o,e,s)=>{o.exports=_e;var h=s(1173);(_e.prototype=Object.create(h.prototype)).constructor=_e;var b=s(9693);function _e(){h.call(this)}function rt(at,st,ot){at.length<40?b.utf8.write(at,st,ot):st.utf8Write?st.utf8Write(at,ot):st.write(at,ot)}_e._configure=function(){_e.alloc=b._Buffer_allocUnsafe,_e.writeBytesBuffer=b.Buffer&&b.Buffer.prototype instanceof Uint8Array&&b.Buffer.prototype.set.name==="set"?function(at,st,ot){st.set(at,ot)}:function(at,st,ot){if(at.copy)at.copy(st,ot,0,at.length);else for(var nt=0;nt<at.length;)st[ot++]=at[nt++]}},_e.prototype.bytes=function(at){b.isString(at)&&(at=b._Buffer_from(at,"base64"));var st=at.length>>>0;return this.uint32(st),st&&this._push(_e.writeBytesBuffer,st,at),this},_e.prototype.string=function(at){var st=b.Buffer.byteLength(at);return this.uint32(st),st&&this._push(rt,st,at),this},_e._configure()},4154:o=>{o.exports=`"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};
`},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},685:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.resolveBackend=e.registerBackend=void 0;const s={},h=[];e.registerBackend=(b,_e,rt)=>{if(!_e||typeof _e.init!="function"||typeof _e.createSessionHandler!="function")throw new TypeError("not a valid backend");{const at=s[b];if(at===void 0)s[b]={backend:_e,priority:rt};else{if(at.priority>rt)return;if(at.priority===rt&&at.backend!==_e)throw new Error(`cannot register backend "${b}" using priority ${rt}`)}if(rt>=0){const st=h.indexOf(b);st!==-1&&h.splice(st,1);for(let ot=0;ot<h.length;ot++)if(s[h[ot]].priority<=rt)return void h.splice(ot,0,b);h.push(b)}}},e.resolveBackend=async b=>{const _e=b.length===0?h:b,rt=[];for(const at of _e){const st=s[at];if(st){if(st.initialized)return st.backend;if(st.aborted)continue;const ot=!!st.initPromise;try{return ot||(st.initPromise=st.backend.init()),await st.initPromise,st.initialized=!0,st.backend}catch(nt){ot||rt.push({name:at,err:nt}),st.aborted=!0}finally{delete st.initPromise}}}throw new Error(`no available backend found. ERR: ${rt.map(at=>`[${at.name}] ${at.err}`).join(", ")}`)}},4798:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.registerBackend=void 0;var h=s(685);Object.defineProperty(e,"registerBackend",{enumerable:!0,get:function(){return h.registerBackend}})},3121:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.env=void 0;const h=s(9104);let b="warning";e.env={wasm:{},webgl:{},webgpu:{},versions:{common:h.version},set logLevel(_e){if(_e!==void 0){if(typeof _e!="string"||["verbose","info","warning","error","fatal"].indexOf(_e)===-1)throw new Error(`Unsupported logging level: ${_e}`);b=_e}},get logLevel(){return b}},Object.defineProperty(e.env,"logLevel",{enumerable:!0})},2457:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.env=void 0;const h=s(3121);e.env=h.env},2235:function(o,e,s){var h=this&&this.__createBinding||(Object.create?function(_e,rt,at,st){st===void 0&&(st=at);var ot=Object.getOwnPropertyDescriptor(rt,at);ot&&!("get"in ot?!rt.__esModule:ot.writable||ot.configurable)||(ot={enumerable:!0,get:function(){return rt[at]}}),Object.defineProperty(_e,st,ot)}:function(_e,rt,at,st){st===void 0&&(st=at),_e[st]=rt[at]}),b=this&&this.__exportStar||function(_e,rt){for(var at in _e)at==="default"||Object.prototype.hasOwnProperty.call(rt,at)||h(rt,_e,at)};Object.defineProperty(e,"__esModule",{value:!0}),b(s(4798),e),b(s(2457),e),b(s(3974),e),b(s(963),e),b(s(7852),e)},8036:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InferenceSession=void 0;const h=s(685),b=s(963);class _e{constructor(at){this.handler=at}async run(at,st,ot){const nt={};let et={};if(typeof at!="object"||at===null||at instanceof b.Tensor||Array.isArray(at))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let d=!0;if(typeof st=="object"){if(st===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(st instanceof b.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(st)){if(st.length===0)throw new TypeError("'fetches' cannot be an empty array.");d=!1;for(const lt of st){if(typeof lt!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(lt)===-1)throw new RangeError(`'fetches' contains invalid output name: ${lt}.`);nt[lt]=null}if(typeof ot=="object"&&ot!==null)et=ot;else if(ot!==void 0)throw new TypeError("'options' must be an object.")}else{let lt=!1;const ut=Object.getOwnPropertyNames(st);for(const ct of this.outputNames)if(ut.indexOf(ct)!==-1){const ft=st[ct];(ft===null||ft instanceof b.Tensor)&&(lt=!0,d=!1,nt[ct]=ft)}if(lt){if(typeof ot=="object"&&ot!==null)et=ot;else if(ot!==void 0)throw new TypeError("'options' must be an object.")}else et=st}}else if(st!==void 0)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const lt of this.inputNames)if(at[lt]===void 0)throw new Error(`input '${lt}' is missing in 'feeds'.`);if(d)for(const lt of this.outputNames)nt[lt]=null;const _=await this.handler.run(at,nt,et),tt={};for(const lt in _)Object.hasOwnProperty.call(_,lt)&&(tt[lt]=new b.Tensor(_[lt].type,_[lt].data,_[lt].dims));return tt}async release(){return this.handler.dispose()}static async create(at,st,ot,nt){let et,d={};if(typeof at=="string"){if(et=at,typeof st=="object"&&st!==null)d=st;else if(st!==void 0)throw new TypeError("'options' must be an object.")}else if(at instanceof Uint8Array){if(et=at,typeof st=="object"&&st!==null)d=st;else if(st!==void 0)throw new TypeError("'options' must be an object.")}else{if(!(at instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&at instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const ut=at;let ct=0,ft=at.byteLength;if(typeof st=="object"&&st!==null)d=st;else if(typeof st=="number"){if(ct=st,!Number.isSafeInteger(ct))throw new RangeError("'byteOffset' must be an integer.");if(ct<0||ct>=ut.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${ut.byteLength}).`);if(ft=at.byteLength-ct,typeof ot=="number"){if(ft=ot,!Number.isSafeInteger(ft))throw new RangeError("'byteLength' must be an integer.");if(ft<=0||ct+ft>ut.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${ut.byteLength-ct}].`);if(typeof nt=="object"&&nt!==null)d=nt;else if(nt!==void 0)throw new TypeError("'options' must be an object.")}else if(ot!==void 0)throw new TypeError("'byteLength' must be a number.")}else if(st!==void 0)throw new TypeError("'options' must be an object.");et=new Uint8Array(ut,ct,ft)}}const _=(d.executionProviders||[]).map(ut=>typeof ut=="string"?ut:ut.name),tt=await(0,h.resolveBackend)(_),lt=await tt.createSessionHandler(et,d);return new _e(lt)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}e.InferenceSession=_e},3974:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InferenceSession=void 0;const h=s(8036);e.InferenceSession=h.InferenceSession},7852:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},2350:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tensorToImageData=e.tensorToDataURL=void 0,e.tensorToDataURL=(s,h)=>{const b=document.createElement("canvas");b.width=s.dims[3],b.height=s.dims[2];const _e=b.getContext("2d");if(_e!=null){let rt,at;(h==null?void 0:h.tensorLayout)!==void 0&&h.tensorLayout==="NHWC"?(rt=s.dims[2],at=s.dims[3]):(rt=s.dims[3],at=s.dims[2]);const st=(h==null?void 0:h.format)!==void 0?h.format:"RGB",ot=h==null?void 0:h.norm;let nt,et;ot===void 0||ot.mean===void 0?nt=[255,255,255,255]:typeof ot.mean=="number"?nt=[ot.mean,ot.mean,ot.mean,ot.mean]:(nt=[ot.mean[0],ot.mean[1],ot.mean[2],0],ot.mean[3]!==void 0&&(nt[3]=ot.mean[3])),ot===void 0||ot.bias===void 0?et=[0,0,0,0]:typeof ot.bias=="number"?et=[ot.bias,ot.bias,ot.bias,ot.bias]:(et=[ot.bias[0],ot.bias[1],ot.bias[2],0],ot.bias[3]!==void 0&&(et[3]=ot.bias[3]));const d=at*rt;let _=0,tt=d,lt=2*d,ut=-1;st==="RGBA"?(_=0,tt=d,lt=2*d,ut=3*d):st==="RGB"?(_=0,tt=d,lt=2*d):st==="RBG"&&(_=0,lt=d,tt=2*d);for(let ct=0;ct<at;ct++)for(let ft=0;ft<rt;ft++){const dt=(s.data[_++]-et[0])*nt[0],ht=(s.data[tt++]-et[1])*nt[1],gt=(s.data[lt++]-et[2])*nt[2],yt=ut===-1?255:(s.data[ut++]-et[3])*nt[3];_e.fillStyle="rgba("+dt+","+ht+","+gt+","+yt+")",_e.fillRect(ft,ct,1,1)}return b.toDataURL()}throw new Error("Can not access image data")},e.tensorToImageData=(s,h)=>{const b=document.createElement("canvas").getContext("2d");let _e;if(b==null)throw new Error("Can not access image data");{let rt,at,st;(h==null?void 0:h.tensorLayout)!==void 0&&h.tensorLayout==="NHWC"?(rt=s.dims[2],at=s.dims[1],st=s.dims[3]):(rt=s.dims[3],at=s.dims[2],st=s.dims[1]);const ot=h!==void 0&&h.format!==void 0?h.format:"RGB",nt=h==null?void 0:h.norm;let et,d;nt===void 0||nt.mean===void 0?et=[255,255,255,255]:typeof nt.mean=="number"?et=[nt.mean,nt.mean,nt.mean,nt.mean]:(et=[nt.mean[0],nt.mean[1],nt.mean[2],255],nt.mean[3]!==void 0&&(et[3]=nt.mean[3])),nt===void 0||nt.bias===void 0?d=[0,0,0,0]:typeof nt.bias=="number"?d=[nt.bias,nt.bias,nt.bias,nt.bias]:(d=[nt.bias[0],nt.bias[1],nt.bias[2],0],nt.bias[3]!==void 0&&(d[3]=nt.bias[3]));const _=at*rt;if(h!==void 0&&(h.format!==void 0&&st===4&&h.format!=="RGBA"||st===3&&h.format!=="RGB"&&h.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");const tt=4;let lt=0,ut=1,ct=2,ft=3,dt=0,ht=_,gt=2*_,yt=-1;ot==="RGBA"?(dt=0,ht=_,gt=2*_,yt=3*_):ot==="RGB"?(dt=0,ht=_,gt=2*_):ot==="RBG"&&(dt=0,gt=_,ht=2*_),_e=b.createImageData(rt,at);for(let vt=0;vt<at*rt;lt+=tt,ut+=tt,ct+=tt,ft+=tt,vt++)_e.data[lt]=(s.data[dt++]-d[0])*et[0],_e.data[ut]=(s.data[ht++]-d[1])*et[1],_e.data[ct]=(s.data[gt++]-d[2])*et[2],_e.data[ft]=yt===-1?255:(s.data[yt++]-d[3])*et[3]}return _e}},4866:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tensorFromImage=e.bufferToTensor=void 0;const h=s(963);e.bufferToTensor=(b,_e)=>{if(b===void 0)throw new Error("Image buffer must be defined");if(_e.height===void 0||_e.width===void 0)throw new Error("Image height and width must be defined");if(_e.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");const{height:rt,width:at}=_e,st=_e.norm??{mean:255,bias:0};let ot,nt;ot=typeof st.mean=="number"?[st.mean,st.mean,st.mean,st.mean]:[st.mean[0],st.mean[1],st.mean[2],st.mean[3]??255],nt=typeof st.bias=="number"?[st.bias,st.bias,st.bias,st.bias]:[st.bias[0],st.bias[1],st.bias[2],st.bias[3]??0];const et=_e.format!==void 0?_e.format:"RGBA",d=_e.tensorFormat!==void 0&&_e.tensorFormat!==void 0?_e.tensorFormat:"RGB",_=rt*at,tt=d==="RGBA"?new Float32Array(4*_):new Float32Array(3*_);let lt=4,ut=0,ct=1,ft=2,dt=3,ht=0,gt=_,yt=2*_,vt=-1;et==="RGB"&&(lt=3,ut=0,ct=1,ft=2,dt=-1),d==="RGBA"?vt=3*_:d==="RBG"?(ht=0,yt=_,gt=2*_):d==="BGR"&&(yt=0,gt=_,ht=2*_);for(let mt=0;mt<_;mt++,ut+=lt,ft+=lt,ct+=lt,dt+=lt)tt[ht++]=(b[ut]+nt[0])/ot[0],tt[gt++]=(b[ct]+nt[1])/ot[1],tt[yt++]=(b[ft]+nt[2])/ot[2],vt!==-1&&dt!==-1&&(tt[vt++]=(b[dt]+nt[3])/ot[3]);return d==="RGBA"?new h.Tensor("float32",tt,[1,4,rt,at]):new h.Tensor("float32",tt,[1,3,rt,at])},e.tensorFromImage=async(b,_e)=>{const rt=typeof HTMLImageElement<"u"&&b instanceof HTMLImageElement,at=typeof ImageData<"u"&&b instanceof ImageData,st=typeof ImageBitmap<"u"&&b instanceof ImageBitmap,ot=typeof b=="string";let nt,et=_e??{};if(rt){const d=document.createElement("canvas");d.width=b.width,d.height=b.height;const _=d.getContext("2d");if(_==null)throw new Error("Can not access image data");{let tt=b.height,lt=b.width;if(_e!==void 0&&_e.resizedHeight!==void 0&&_e.resizedWidth!==void 0&&(tt=_e.resizedHeight,lt=_e.resizedWidth),_e!==void 0){if(et=_e,_e.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");et.tensorFormat="RGBA",et.height=tt,et.width=lt}else et.tensorFormat="RGBA",et.height=tt,et.width=lt;_.drawImage(b,0,0),nt=_.getImageData(0,0,lt,tt).data}}else{if(!at){if(st){if(_e===void 0)throw new Error("Please provide image config with format for Imagebitmap");const d=document.createElement("canvas");d.width=b.width,d.height=b.height;const _=d.getContext("2d");if(_!=null){const tt=b.height,lt=b.width;return _.drawImage(b,0,0,lt,tt),nt=_.getImageData(0,0,lt,tt).data,et.height=tt,et.width=lt,(0,e.bufferToTensor)(nt,et)}throw new Error("Can not access image data")}if(ot)return new Promise((d,_)=>{const tt=document.createElement("canvas"),lt=tt.getContext("2d");if(!b||!lt)return _();const ut=new Image;ut.crossOrigin="Anonymous",ut.src=b,ut.onload=()=>{tt.width=ut.width,tt.height=ut.height,lt.drawImage(ut,0,0,tt.width,tt.height);const ct=lt.getImageData(0,0,tt.width,tt.height);et.height=tt.height,et.width=tt.width,d((0,e.bufferToTensor)(ct.data,et))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{let d,_;if(_e!==void 0&&_e.resizedWidth!==void 0&&_e.resizedHeight!==void 0?(d=_e.resizedHeight,_=_e.resizedWidth):(d=b.height,_=b.width),_e!==void 0&&(et=_e),et.format="RGBA",et.height=d,et.width=_,_e!==void 0){const tt=document.createElement("canvas");tt.width=_,tt.height=d;const lt=tt.getContext("2d");if(lt==null)throw new Error("Can not access image data");lt.putImageData(b,0,0),nt=lt.getImageData(0,0,_,d).data}else nt=b.data}}if(nt!==void 0)return(0,e.bufferToTensor)(nt,et);throw new Error("Input data provided is not supported - aborted tensor creation")}},5957:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Tensor=void 0;const h=s(2350),b=s(4866),_e=s(106),rt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),at=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let st=!1;e.Tensor=class{constructor(ot,nt,et){let d,_,tt;if((()=>{if(!st){st=!0;const ut=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",ct=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";ut&&(rt.set("int64",BigInt64Array),at.set(BigInt64Array,"int64")),ct&&(rt.set("uint64",BigUint64Array),at.set(BigUint64Array,"uint64"))}})(),typeof ot=="string")if(d=ot,tt=et,ot==="string"){if(!Array.isArray(nt))throw new TypeError("A string tensor's data must be a string array.");_=nt}else{const ut=rt.get(ot);if(ut===void 0)throw new TypeError(`Unsupported tensor type: ${ot}.`);if(Array.isArray(nt)){if(ot==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");_=ot==="uint64"||ot==="int64"?ut.from(nt,BigInt):ut.from(nt)}else{if(!(nt instanceof ut))throw new TypeError(`A ${d} tensor's data must be type of ${ut}`);_=nt}}else if(tt=nt,Array.isArray(ot)){if(ot.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const ut=typeof ot[0];if(ut==="string")d="string",_=ot;else{if(ut!=="boolean")throw new TypeError(`Invalid element type of data array: ${ut}.`);d="bool",_=Uint8Array.from(ot)}}else{const ut=at.get(ot.constructor);if(ut===void 0)throw new TypeError(`Unsupported type for tensor data: ${ot.constructor}.`);d=ut,_=ot}if(tt===void 0)tt=[_.length];else if(!Array.isArray(tt))throw new TypeError("A tensor's dims must be a number array");const lt=(0,_e.calculateSize)(tt);if(lt!==_.length)throw new Error(`Tensor's size(${lt}) does not match data length(${_.length}).`);this.dims=tt,this.type=d,this.data=_,this.size=lt}static async fromImage(ot,nt){return(0,b.tensorFromImage)(ot,nt)}toDataURL(ot){return(0,h.tensorToDataURL)(this,ot)}toImageData(ot){return(0,h.tensorToImageData)(this,ot)}reshape(ot){return(0,_e.tensorReshape)(this,ot)}}},106:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tensorReshape=e.calculateSize=void 0;const h=s(963);e.calculateSize=b=>{let _e=1;for(let rt=0;rt<b.length;rt++){const at=b[rt];if(typeof at!="number"||!Number.isSafeInteger(at))throw new TypeError(`dims[${rt}] must be an integer, got: ${at}`);if(at<0)throw new RangeError(`dims[${rt}] must be a non-negative integer, got: ${at}`);_e*=at}return _e},e.tensorReshape=(b,_e)=>new h.Tensor(b.type,b.data,_e)},963:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Tensor=void 0;const h=s(5957);e.Tensor=h.Tensor},9104:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.version=void 0,e.version="1.16.3"},1583:(o,e)=>{var s,h=function(b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var _e=null;try{_e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function rt(xt,Tt,It){this.low=0|xt,this.high=0|Tt,this.unsigned=!!It}function at(xt){return(xt&&xt.__isLong__)===!0}function st(xt){var Tt=Math.clz32(xt&-xt);return xt?31-Tt:Tt}rt.prototype.__isLong__,Object.defineProperty(rt.prototype,"__isLong__",{value:!0}),rt.isLong=at;var ot={},nt={};function et(xt,Tt){var It,Ct,Rt;return Tt?(Rt=0<=(xt>>>=0)&&xt<256)&&(Ct=nt[xt])?Ct:(It=_(xt,0,!0),Rt&&(nt[xt]=It),It):(Rt=-128<=(xt|=0)&&xt<128)&&(Ct=ot[xt])?Ct:(It=_(xt,xt<0?-1:0,!1),Rt&&(ot[xt]=It),It)}function d(xt,Tt){if(isNaN(xt))return Tt?yt:gt;if(Tt){if(xt<0)return yt;if(xt>=ft)return St}else{if(xt<=-dt)return Pt;if(xt+1>=dt)return $t}return xt<0?d(-xt,Tt).neg():_(xt%ct|0,xt/ct|0,Tt)}function _(xt,Tt,It){return new rt(xt,Tt,It)}rt.fromInt=et,rt.fromNumber=d,rt.fromBits=_;var tt=Math.pow;function lt(xt,Tt,It){if(xt.length===0)throw Error("empty string");if(typeof Tt=="number"?(It=Tt,Tt=!1):Tt=!!Tt,xt==="NaN"||xt==="Infinity"||xt==="+Infinity"||xt==="-Infinity")return Tt?yt:gt;if((It=It||10)<2||36<It)throw RangeError("radix");var Ct;if((Ct=xt.indexOf("-"))>0)throw Error("interior hyphen");if(Ct===0)return lt(xt.substring(1),Tt,It).neg();for(var Rt=d(tt(It,8)),Ut=gt,kt=0;kt<xt.length;kt+=8){var jt=Math.min(8,xt.length-kt),Vt=parseInt(xt.substring(kt,kt+jt),It);if(jt<8){var Gt=d(tt(It,jt));Ut=Ut.mul(Gt).add(d(Vt))}else Ut=(Ut=Ut.mul(Rt)).add(d(Vt))}return Ut.unsigned=Tt,Ut}function ut(xt,Tt){return typeof xt=="number"?d(xt,Tt):typeof xt=="string"?lt(xt,Tt):_(xt.low,xt.high,typeof Tt=="boolean"?Tt:xt.unsigned)}rt.fromString=lt,rt.fromValue=ut;var ct=4294967296,ft=ct*ct,dt=ft/2,ht=et(1<<24),gt=et(0);rt.ZERO=gt;var yt=et(0,!0);rt.UZERO=yt;var vt=et(1);rt.ONE=vt;var mt=et(1,!0);rt.UONE=mt;var bt=et(-1);rt.NEG_ONE=bt;var $t=_(-1,2147483647,!1);rt.MAX_VALUE=$t;var St=_(-1,-1,!0);rt.MAX_UNSIGNED_VALUE=St;var Pt=_(0,-2147483648,!1);rt.MIN_VALUE=Pt;var _t=rt.prototype;_t.toInt=function(){return this.unsigned?this.low>>>0:this.low},_t.toNumber=function(){return this.unsigned?(this.high>>>0)*ct+(this.low>>>0):this.high*ct+(this.low>>>0)},_t.toString=function(xt){if((xt=xt||10)<2||36<xt)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Pt)){var Tt=d(xt),It=this.div(Tt),Ct=It.mul(Tt).sub(this);return It.toString(xt)+Ct.toInt().toString(xt)}return"-"+this.neg().toString(xt)}for(var Rt=d(tt(xt,6),this.unsigned),Ut=this,kt="";;){var jt=Ut.div(Rt),Vt=(Ut.sub(jt.mul(Rt)).toInt()>>>0).toString(xt);if((Ut=jt).isZero())return Vt+kt;for(;Vt.length<6;)Vt="0"+Vt;kt=""+Vt+kt}},_t.getHighBits=function(){return this.high},_t.getHighBitsUnsigned=function(){return this.high>>>0},_t.getLowBits=function(){return this.low},_t.getLowBitsUnsigned=function(){return this.low>>>0},_t.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Pt)?64:this.neg().getNumBitsAbs();for(var xt=this.high!=0?this.high:this.low,Tt=31;Tt>0&&!(xt&1<<Tt);Tt--);return this.high!=0?Tt+33:Tt+1},_t.isZero=function(){return this.high===0&&this.low===0},_t.eqz=_t.isZero,_t.isNegative=function(){return!this.unsigned&&this.high<0},_t.isPositive=function(){return this.unsigned||this.high>=0},_t.isOdd=function(){return(1&this.low)==1},_t.isEven=function(){return(1&this.low)==0},_t.equals=function(xt){return at(xt)||(xt=ut(xt)),(this.unsigned===xt.unsigned||this.high>>>31!=1||xt.high>>>31!=1)&&this.high===xt.high&&this.low===xt.low},_t.eq=_t.equals,_t.notEquals=function(xt){return!this.eq(xt)},_t.neq=_t.notEquals,_t.ne=_t.notEquals,_t.lessThan=function(xt){return this.comp(xt)<0},_t.lt=_t.lessThan,_t.lessThanOrEqual=function(xt){return this.comp(xt)<=0},_t.lte=_t.lessThanOrEqual,_t.le=_t.lessThanOrEqual,_t.greaterThan=function(xt){return this.comp(xt)>0},_t.gt=_t.greaterThan,_t.greaterThanOrEqual=function(xt){return this.comp(xt)>=0},_t.gte=_t.greaterThanOrEqual,_t.ge=_t.greaterThanOrEqual,_t.compare=function(xt){if(at(xt)||(xt=ut(xt)),this.eq(xt))return 0;var Tt=this.isNegative(),It=xt.isNegative();return Tt&&!It?-1:!Tt&&It?1:this.unsigned?xt.high>>>0>this.high>>>0||xt.high===this.high&&xt.low>>>0>this.low>>>0?-1:1:this.sub(xt).isNegative()?-1:1},_t.comp=_t.compare,_t.negate=function(){return!this.unsigned&&this.eq(Pt)?Pt:this.not().add(vt)},_t.neg=_t.negate,_t.add=function(xt){at(xt)||(xt=ut(xt));var Tt=this.high>>>16,It=65535&this.high,Ct=this.low>>>16,Rt=65535&this.low,Ut=xt.high>>>16,kt=65535&xt.high,jt=xt.low>>>16,Vt=0,Gt=0,Yt=0,er=0;return Yt+=(er+=Rt+(65535&xt.low))>>>16,Gt+=(Yt+=Ct+jt)>>>16,Vt+=(Gt+=It+kt)>>>16,Vt+=Tt+Ut,_((Yt&=65535)<<16|(er&=65535),(Vt&=65535)<<16|(Gt&=65535),this.unsigned)},_t.subtract=function(xt){return at(xt)||(xt=ut(xt)),this.add(xt.neg())},_t.sub=_t.subtract,_t.multiply=function(xt){if(this.isZero())return this;if(at(xt)||(xt=ut(xt)),_e)return _(_e.mul(this.low,this.high,xt.low,xt.high),_e.get_high(),this.unsigned);if(xt.isZero())return this.unsigned?yt:gt;if(this.eq(Pt))return xt.isOdd()?Pt:gt;if(xt.eq(Pt))return this.isOdd()?Pt:gt;if(this.isNegative())return xt.isNegative()?this.neg().mul(xt.neg()):this.neg().mul(xt).neg();if(xt.isNegative())return this.mul(xt.neg()).neg();if(this.lt(ht)&&xt.lt(ht))return d(this.toNumber()*xt.toNumber(),this.unsigned);var Tt=this.high>>>16,It=65535&this.high,Ct=this.low>>>16,Rt=65535&this.low,Ut=xt.high>>>16,kt=65535&xt.high,jt=xt.low>>>16,Vt=65535&xt.low,Gt=0,Yt=0,er=0,nr=0;return er+=(nr+=Rt*Vt)>>>16,Yt+=(er+=Ct*Vt)>>>16,er&=65535,Yt+=(er+=Rt*jt)>>>16,Gt+=(Yt+=It*Vt)>>>16,Yt&=65535,Gt+=(Yt+=Ct*jt)>>>16,Yt&=65535,Gt+=(Yt+=Rt*kt)>>>16,Gt+=Tt*Vt+It*jt+Ct*kt+Rt*Ut,_((er&=65535)<<16|(nr&=65535),(Gt&=65535)<<16|(Yt&=65535),this.unsigned)},_t.mul=_t.multiply,_t.divide=function(xt){if(at(xt)||(xt=ut(xt)),xt.isZero())throw Error("division by zero");var Tt,It,Ct;if(_e)return this.unsigned||this.high!==-2147483648||xt.low!==-1||xt.high!==-1?_((this.unsigned?_e.div_u:_e.div_s)(this.low,this.high,xt.low,xt.high),_e.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?yt:gt;if(this.unsigned){if(xt.unsigned||(xt=xt.toUnsigned()),xt.gt(this))return yt;if(xt.gt(this.shru(1)))return mt;Ct=yt}else{if(this.eq(Pt))return xt.eq(vt)||xt.eq(bt)?Pt:xt.eq(Pt)?vt:(Tt=this.shr(1).div(xt).shl(1)).eq(gt)?xt.isNegative()?vt:bt:(It=this.sub(xt.mul(Tt)),Ct=Tt.add(It.div(xt)));if(xt.eq(Pt))return this.unsigned?yt:gt;if(this.isNegative())return xt.isNegative()?this.neg().div(xt.neg()):this.neg().div(xt).neg();if(xt.isNegative())return this.div(xt.neg()).neg();Ct=gt}for(It=this;It.gte(xt);){Tt=Math.max(1,Math.floor(It.toNumber()/xt.toNumber()));for(var Rt=Math.ceil(Math.log(Tt)/Math.LN2),Ut=Rt<=48?1:tt(2,Rt-48),kt=d(Tt),jt=kt.mul(xt);jt.isNegative()||jt.gt(It);)jt=(kt=d(Tt-=Ut,this.unsigned)).mul(xt);kt.isZero()&&(kt=vt),Ct=Ct.add(kt),It=It.sub(jt)}return Ct},_t.div=_t.divide,_t.modulo=function(xt){return at(xt)||(xt=ut(xt)),_e?_((this.unsigned?_e.rem_u:_e.rem_s)(this.low,this.high,xt.low,xt.high),_e.get_high(),this.unsigned):this.sub(this.div(xt).mul(xt))},_t.mod=_t.modulo,_t.rem=_t.modulo,_t.not=function(){return _(~this.low,~this.high,this.unsigned)},_t.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},_t.clz=_t.countLeadingZeros,_t.countTrailingZeros=function(){return this.low?st(this.low):st(this.high)+32},_t.ctz=_t.countTrailingZeros,_t.and=function(xt){return at(xt)||(xt=ut(xt)),_(this.low&xt.low,this.high&xt.high,this.unsigned)},_t.or=function(xt){return at(xt)||(xt=ut(xt)),_(this.low|xt.low,this.high|xt.high,this.unsigned)},_t.xor=function(xt){return at(xt)||(xt=ut(xt)),_(this.low^xt.low,this.high^xt.high,this.unsigned)},_t.shiftLeft=function(xt){return at(xt)&&(xt=xt.toInt()),(xt&=63)==0?this:xt<32?_(this.low<<xt,this.high<<xt|this.low>>>32-xt,this.unsigned):_(0,this.low<<xt-32,this.unsigned)},_t.shl=_t.shiftLeft,_t.shiftRight=function(xt){return at(xt)&&(xt=xt.toInt()),(xt&=63)==0?this:xt<32?_(this.low>>>xt|this.high<<32-xt,this.high>>xt,this.unsigned):_(this.high>>xt-32,this.high>=0?0:-1,this.unsigned)},_t.shr=_t.shiftRight,_t.shiftRightUnsigned=function(xt){return at(xt)&&(xt=xt.toInt()),(xt&=63)==0?this:xt<32?_(this.low>>>xt|this.high<<32-xt,this.high>>>xt,this.unsigned):_(xt===32?this.high:this.high>>>xt-32,0,this.unsigned)},_t.shru=_t.shiftRightUnsigned,_t.shr_u=_t.shiftRightUnsigned,_t.rotateLeft=function(xt){var Tt;return at(xt)&&(xt=xt.toInt()),(xt&=63)==0?this:xt===32?_(this.high,this.low,this.unsigned):xt<32?(Tt=32-xt,_(this.low<<xt|this.high>>>Tt,this.high<<xt|this.low>>>Tt,this.unsigned)):(Tt=32-(xt-=32),_(this.high<<xt|this.low>>>Tt,this.low<<xt|this.high>>>Tt,this.unsigned))},_t.rotl=_t.rotateLeft,_t.rotateRight=function(xt){var Tt;return at(xt)&&(xt=xt.toInt()),(xt&=63)==0?this:xt===32?_(this.high,this.low,this.unsigned):xt<32?(Tt=32-xt,_(this.high<<Tt|this.low>>>xt,this.low<<Tt|this.high>>>xt,this.unsigned)):(Tt=32-(xt-=32),_(this.low<<Tt|this.high>>>xt,this.high<<Tt|this.low>>>xt,this.unsigned))},_t.rotr=_t.rotateRight,_t.toSigned=function(){return this.unsigned?_(this.low,this.high,!1):this},_t.toUnsigned=function(){return this.unsigned?this:_(this.low,this.high,!0)},_t.toBytes=function(xt){return xt?this.toBytesLE():this.toBytesBE()},_t.toBytesLE=function(){var xt=this.high,Tt=this.low;return[255&Tt,Tt>>>8&255,Tt>>>16&255,Tt>>>24,255&xt,xt>>>8&255,xt>>>16&255,xt>>>24]},_t.toBytesBE=function(){var xt=this.high,Tt=this.low;return[xt>>>24,xt>>>16&255,xt>>>8&255,255&xt,Tt>>>24,Tt>>>16&255,Tt>>>8&255,255&Tt]},rt.fromBytes=function(xt,Tt,It){return It?rt.fromBytesLE(xt,Tt):rt.fromBytesBE(xt,Tt)},rt.fromBytesLE=function(xt,Tt){return new rt(xt[0]|xt[1]<<8|xt[2]<<16|xt[3]<<24,xt[4]|xt[5]<<8|xt[6]<<16|xt[7]<<24,Tt)},rt.fromBytesBE=function(xt,Tt){return new rt(xt[4]<<24|xt[5]<<16|xt[6]<<8|xt[7],xt[0]<<24|xt[1]<<16|xt[2]<<8|xt[3],Tt)};var wt=rt;return b.default=wt,"default"in b?b.default:b}({});(s=(function(){return h}).apply(e,[]))===void 0||(o.exports=s)},5686:(o,e,s)=>{s.r(e),s.d(e,{flatbuffers:()=>h});var h={};h.Offset,h.Table,h.SIZEOF_SHORT=2,h.SIZEOF_INT=4,h.FILE_IDENTIFIER_LENGTH=4,h.SIZE_PREFIX_LENGTH=4,h.Encoding={UTF8_BYTES:1,UTF16_STRING:2},h.int32=new Int32Array(2),h.float32=new Float32Array(h.int32.buffer),h.float64=new Float64Array(h.int32.buffer),h.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,h.Long=function(b,_e){this.low=0|b,this.high=0|_e},h.Long.create=function(b,_e){return b==0&&_e==0?h.Long.ZERO:new h.Long(b,_e)},h.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},h.Long.prototype.equals=function(b){return this.low==b.low&&this.high==b.high},h.Long.ZERO=new h.Long(0,0),h.Builder=function(b){if(b)_e=b;else var _e=1024;this.bb=h.ByteBuffer.allocate(_e),this.space=_e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},h.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},h.Builder.prototype.forceDefaults=function(b){this.force_defaults=b},h.Builder.prototype.dataBuffer=function(){return this.bb},h.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},h.Builder.prototype.prep=function(b,_e){b>this.minalign&&(this.minalign=b);for(var rt=1+~(this.bb.capacity()-this.space+_e)&b-1;this.space<rt+b+_e;){var at=this.bb.capacity();this.bb=h.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-at}this.pad(rt)},h.Builder.prototype.pad=function(b){for(var _e=0;_e<b;_e++)this.bb.writeInt8(--this.space,0)},h.Builder.prototype.writeInt8=function(b){this.bb.writeInt8(this.space-=1,b)},h.Builder.prototype.writeInt16=function(b){this.bb.writeInt16(this.space-=2,b)},h.Builder.prototype.writeInt32=function(b){this.bb.writeInt32(this.space-=4,b)},h.Builder.prototype.writeInt64=function(b){this.bb.writeInt64(this.space-=8,b)},h.Builder.prototype.writeFloat32=function(b){this.bb.writeFloat32(this.space-=4,b)},h.Builder.prototype.writeFloat64=function(b){this.bb.writeFloat64(this.space-=8,b)},h.Builder.prototype.addInt8=function(b){this.prep(1,0),this.writeInt8(b)},h.Builder.prototype.addInt16=function(b){this.prep(2,0),this.writeInt16(b)},h.Builder.prototype.addInt32=function(b){this.prep(4,0),this.writeInt32(b)},h.Builder.prototype.addInt64=function(b){this.prep(8,0),this.writeInt64(b)},h.Builder.prototype.addFloat32=function(b){this.prep(4,0),this.writeFloat32(b)},h.Builder.prototype.addFloat64=function(b){this.prep(8,0),this.writeFloat64(b)},h.Builder.prototype.addFieldInt8=function(b,_e,rt){(this.force_defaults||_e!=rt)&&(this.addInt8(_e),this.slot(b))},h.Builder.prototype.addFieldInt16=function(b,_e,rt){(this.force_defaults||_e!=rt)&&(this.addInt16(_e),this.slot(b))},h.Builder.prototype.addFieldInt32=function(b,_e,rt){(this.force_defaults||_e!=rt)&&(this.addInt32(_e),this.slot(b))},h.Builder.prototype.addFieldInt64=function(b,_e,rt){!this.force_defaults&&_e.equals(rt)||(this.addInt64(_e),this.slot(b))},h.Builder.prototype.addFieldFloat32=function(b,_e,rt){(this.force_defaults||_e!=rt)&&(this.addFloat32(_e),this.slot(b))},h.Builder.prototype.addFieldFloat64=function(b,_e,rt){(this.force_defaults||_e!=rt)&&(this.addFloat64(_e),this.slot(b))},h.Builder.prototype.addFieldOffset=function(b,_e,rt){(this.force_defaults||_e!=rt)&&(this.addOffset(_e),this.slot(b))},h.Builder.prototype.addFieldStruct=function(b,_e,rt){_e!=rt&&(this.nested(_e),this.slot(b))},h.Builder.prototype.nested=function(b){if(b!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},h.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},h.Builder.prototype.slot=function(b){this.vtable[b]=this.offset()},h.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},h.Builder.growByteBuffer=function(b){var _e=b.capacity();if(3221225472&_e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var rt=_e<<1,at=h.ByteBuffer.allocate(rt);return at.setPosition(rt-_e),at.bytes().set(b.bytes(),rt-_e),at},h.Builder.prototype.addOffset=function(b){this.prep(h.SIZEOF_INT,0),this.writeInt32(this.offset()-b+h.SIZEOF_INT)},h.Builder.prototype.startObject=function(b){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=b;for(var _e=0;_e<b;_e++)this.vtable[_e]=0;this.isNested=!0,this.object_start=this.offset()},h.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var b=this.offset(),_e=this.vtable_in_use-1;_e>=0&&this.vtable[_e]==0;_e--);for(var rt=_e+1;_e>=0;_e--)this.addInt16(this.vtable[_e]!=0?b-this.vtable[_e]:0);this.addInt16(b-this.object_start);var at=(rt+2)*h.SIZEOF_SHORT;this.addInt16(at);var st=0,ot=this.space;e:for(_e=0;_e<this.vtables.length;_e++){var nt=this.bb.capacity()-this.vtables[_e];if(at==this.bb.readInt16(nt)){for(var et=h.SIZEOF_SHORT;et<at;et+=h.SIZEOF_SHORT)if(this.bb.readInt16(ot+et)!=this.bb.readInt16(nt+et))continue e;st=this.vtables[_e];break}}return st?(this.space=this.bb.capacity()-b,this.bb.writeInt32(this.space,st-b)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-b,this.offset()-b)),this.isNested=!1,b},h.Builder.prototype.finish=function(b,_e,rt){var at=rt?h.SIZE_PREFIX_LENGTH:0;if(_e){var st=_e;if(this.prep(this.minalign,h.SIZEOF_INT+h.FILE_IDENTIFIER_LENGTH+at),st.length!=h.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+h.FILE_IDENTIFIER_LENGTH);for(var ot=h.FILE_IDENTIFIER_LENGTH-1;ot>=0;ot--)this.writeInt8(st.charCodeAt(ot))}this.prep(this.minalign,h.SIZEOF_INT+at),this.addOffset(b),at&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},h.Builder.prototype.finishSizePrefixed=function(b,_e){this.finish(b,_e,!0)},h.Builder.prototype.requiredField=function(b,_e){var rt=this.bb.capacity()-b,at=rt-this.bb.readInt32(rt);if(this.bb.readInt16(at+_e)==0)throw new Error("FlatBuffers: field "+_e+" must be set")},h.Builder.prototype.startVector=function(b,_e,rt){this.notNested(),this.vector_num_elems=_e,this.prep(h.SIZEOF_INT,b*_e),this.prep(rt,b*_e)},h.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},h.Builder.prototype.createString=function(b){if(b instanceof Uint8Array)var _e=b;else{_e=[];for(var rt=0;rt<b.length;){var at,st=b.charCodeAt(rt++);(at=st<55296||st>=56320?st:(st<<10)+b.charCodeAt(rt++)+-56613888)<128?_e.push(at):(at<2048?_e.push(at>>6&31|192):(at<65536?_e.push(at>>12&15|224):_e.push(at>>18&7|240,at>>12&63|128),_e.push(at>>6&63|128)),_e.push(63&at|128))}}this.addInt8(0),this.startVector(1,_e.length,1),this.bb.setPosition(this.space-=_e.length),rt=0;for(var ot=this.space,nt=this.bb.bytes();rt<_e.length;rt++)nt[ot++]=_e[rt];return this.endVector()},h.Builder.prototype.createLong=function(b,_e){return h.Long.create(b,_e)},h.ByteBuffer=function(b){this.bytes_=b,this.position_=0},h.ByteBuffer.allocate=function(b){return new h.ByteBuffer(new Uint8Array(b))},h.ByteBuffer.prototype.clear=function(){this.position_=0},h.ByteBuffer.prototype.bytes=function(){return this.bytes_},h.ByteBuffer.prototype.position=function(){return this.position_},h.ByteBuffer.prototype.setPosition=function(b){this.position_=b},h.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},h.ByteBuffer.prototype.readInt8=function(b){return this.readUint8(b)<<24>>24},h.ByteBuffer.prototype.readUint8=function(b){return this.bytes_[b]},h.ByteBuffer.prototype.readInt16=function(b){return this.readUint16(b)<<16>>16},h.ByteBuffer.prototype.readUint16=function(b){return this.bytes_[b]|this.bytes_[b+1]<<8},h.ByteBuffer.prototype.readInt32=function(b){return this.bytes_[b]|this.bytes_[b+1]<<8|this.bytes_[b+2]<<16|this.bytes_[b+3]<<24},h.ByteBuffer.prototype.readUint32=function(b){return this.readInt32(b)>>>0},h.ByteBuffer.prototype.readInt64=function(b){return new h.Long(this.readInt32(b),this.readInt32(b+4))},h.ByteBuffer.prototype.readUint64=function(b){return new h.Long(this.readUint32(b),this.readUint32(b+4))},h.ByteBuffer.prototype.readFloat32=function(b){return h.int32[0]=this.readInt32(b),h.float32[0]},h.ByteBuffer.prototype.readFloat64=function(b){return h.int32[h.isLittleEndian?0:1]=this.readInt32(b),h.int32[h.isLittleEndian?1:0]=this.readInt32(b+4),h.float64[0]},h.ByteBuffer.prototype.writeInt8=function(b,_e){this.bytes_[b]=_e},h.ByteBuffer.prototype.writeUint8=function(b,_e){this.bytes_[b]=_e},h.ByteBuffer.prototype.writeInt16=function(b,_e){this.bytes_[b]=_e,this.bytes_[b+1]=_e>>8},h.ByteBuffer.prototype.writeUint16=function(b,_e){this.bytes_[b]=_e,this.bytes_[b+1]=_e>>8},h.ByteBuffer.prototype.writeInt32=function(b,_e){this.bytes_[b]=_e,this.bytes_[b+1]=_e>>8,this.bytes_[b+2]=_e>>16,this.bytes_[b+3]=_e>>24},h.ByteBuffer.prototype.writeUint32=function(b,_e){this.bytes_[b]=_e,this.bytes_[b+1]=_e>>8,this.bytes_[b+2]=_e>>16,this.bytes_[b+3]=_e>>24},h.ByteBuffer.prototype.writeInt64=function(b,_e){this.writeInt32(b,_e.low),this.writeInt32(b+4,_e.high)},h.ByteBuffer.prototype.writeUint64=function(b,_e){this.writeUint32(b,_e.low),this.writeUint32(b+4,_e.high)},h.ByteBuffer.prototype.writeFloat32=function(b,_e){h.float32[0]=_e,this.writeInt32(b,h.int32[0])},h.ByteBuffer.prototype.writeFloat64=function(b,_e){h.float64[0]=_e,this.writeInt32(b,h.int32[h.isLittleEndian?0:1]),this.writeInt32(b+4,h.int32[h.isLittleEndian?1:0])},h.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+h.SIZEOF_INT+h.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var b="",_e=0;_e<h.FILE_IDENTIFIER_LENGTH;_e++)b+=String.fromCharCode(this.readInt8(this.position_+h.SIZEOF_INT+_e));return b},h.ByteBuffer.prototype.__offset=function(b,_e){var rt=b-this.readInt32(b);return _e<this.readInt16(rt)?this.readInt16(rt+_e):0},h.ByteBuffer.prototype.__union=function(b,_e){return b.bb_pos=_e+this.readInt32(_e),b.bb=this,b},h.ByteBuffer.prototype.__string=function(b,_e){b+=this.readInt32(b);var rt=this.readInt32(b),at="",st=0;if(b+=h.SIZEOF_INT,_e===h.Encoding.UTF8_BYTES)return this.bytes_.subarray(b,b+rt);for(;st<rt;){var ot,nt=this.readUint8(b+st++);if(nt<192)ot=nt;else{var et=this.readUint8(b+st++);if(nt<224)ot=(31&nt)<<6|63&et;else{var d=this.readUint8(b+st++);ot=nt<240?(15&nt)<<12|(63&et)<<6|63&d:(7&nt)<<18|(63&et)<<12|(63&d)<<6|63&this.readUint8(b+st++)}}ot<65536?at+=String.fromCharCode(ot):(ot-=65536,at+=String.fromCharCode(55296+(ot>>10),56320+(1023&ot)))}return at},h.ByteBuffer.prototype.__indirect=function(b){return b+this.readInt32(b)},h.ByteBuffer.prototype.__vector=function(b){return b+this.readInt32(b)+h.SIZEOF_INT},h.ByteBuffer.prototype.__vector_len=function(b){return this.readInt32(b+this.readInt32(b))},h.ByteBuffer.prototype.__has_identifier=function(b){if(b.length!=h.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+h.FILE_IDENTIFIER_LENGTH);for(var _e=0;_e<h.FILE_IDENTIFIER_LENGTH;_e++)if(b.charCodeAt(_e)!=this.readInt8(this.position_+h.SIZEOF_INT+_e))return!1;return!0},h.ByteBuffer.prototype.createLong=function(b,_e){return h.Long.create(b,_e)}}},__webpack_module_cache__={};function __webpack_require__(o){var e=__webpack_module_cache__[o];if(e!==void 0)return e.exports;var s=__webpack_module_cache__[o]={exports:{}};return __webpack_modules__[o].call(s.exports,s,s.exports,__webpack_require__),s.exports}__webpack_require__.n=o=>{var e=o&&o.__esModule?()=>o.default:()=>o;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(o,e)=>{for(var s in e)__webpack_require__.o(e,s)&&!__webpack_require__.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:e[s]})},__webpack_require__.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e),__webpack_require__.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(1057);return __webpack_exports__})())})(ort_min);var ort_minExports=ort_min.exports;async function testORTWeb(){const o={executionProviders:["wasm"],graphOptimizationLevel:"all"};try{console.log("Creating ONNX Runtime Web session...");const e=await ort_minExports.InferenceSession.create("../models/encoder_L12_float16.onnx",o);console.log("Model loaded");const s=new ort_minExports.Tensor("float32",new Float32Array(128*128),[1,1,128,128]);console.log("Tensor created"),console.log("Running inference...");const h={input:s},b=await e.run(h);console.log("Inference completed");const _e=b.values().next().value;console.log("Output Tensor: ",_e)}catch(e){console.error("Error during ONNX Runtime Web test:",e)}}function TestONNXButton(){const o=async()=>{await testORTWeb()};return jsxRuntimeExports.jsx(button_default,{color:"primary",variant:"flat",onClick:o,children:"Test ONNX"})}const SearchBar_module={},FontMap_module={};/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.9
 * @date    2023-11-24T17:53:34.179Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function _classCallCheck$1(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var defineProperty$f$1={exports:{}},check$1=function(o){return o&&o.Math===Math&&o},global$p=check$1(typeof globalThis=="object"&&globalThis)||check$1(typeof window=="object"&&window)||check$1(typeof self=="object"&&self)||check$1(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||function(){return this}()||commonjsGlobal$1||Function("return this")(),fails$u$1=function(o){try{return!!o()}catch{return!0}},fails$t$1=fails$u$1,functionBindNative$1=!fails$t$1(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")}),NATIVE_BIND$4$1=functionBindNative$1,FunctionPrototype$4$1=Function.prototype,apply$6=FunctionPrototype$4$1.apply,call$k=FunctionPrototype$4$1.call,functionApply$1=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$4$1?call$k.bind(apply$6):function(){return call$k.apply(apply$6,arguments)}),NATIVE_BIND$3$1=functionBindNative$1,FunctionPrototype$3$1=Function.prototype,call$j=FunctionPrototype$3$1.call,uncurryThisWithBind$1=NATIVE_BIND$3$1&&FunctionPrototype$3$1.bind.bind(call$j,call$j),functionUncurryThis$1=NATIVE_BIND$3$1?uncurryThisWithBind$1:function(o){return function(){return call$j.apply(o,arguments)}},uncurryThis$q$1=functionUncurryThis$1,toString$9$1=uncurryThis$q$1({}.toString),stringSlice$1$1=uncurryThis$q$1("".slice),classofRaw$2$1=function(o){return stringSlice$1$1(toString$9$1(o),8,-1)},classofRaw$1$1=classofRaw$2$1,uncurryThis$p$1=functionUncurryThis$1,functionUncurryThisClause$1=function(o){if(classofRaw$1$1(o)==="Function")return uncurryThis$p$1(o)},documentAll$2$1=typeof document=="object"&&document.all,IS_HTMLDDA$1=typeof documentAll$2$1>"u"&&documentAll$2$1!==void 0,documentAll_1$1={all:documentAll$2$1,IS_HTMLDDA:IS_HTMLDDA$1},$documentAll$1$1=documentAll_1$1,documentAll$1$1=$documentAll$1$1.all,isCallable$m=$documentAll$1$1.IS_HTMLDDA?function(o){return typeof o=="function"||o===documentAll$1$1}:function(o){return typeof o=="function"},objectGetOwnPropertyDescriptor$1={},fails$s$1=fails$u$1,descriptors$1=!fails$s$1(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),NATIVE_BIND$2$1=functionBindNative$1,call$i=Function.prototype.call,functionCall$1=NATIVE_BIND$2$1?call$i.bind(call$i):function(){return call$i.apply(call$i,arguments)},objectPropertyIsEnumerable$1={},$propertyIsEnumerable$1$1={}.propertyIsEnumerable,getOwnPropertyDescriptor$7$1=Object.getOwnPropertyDescriptor,NASHORN_BUG$1=getOwnPropertyDescriptor$7$1&&!$propertyIsEnumerable$1$1.call({1:2},1);objectPropertyIsEnumerable$1.f=NASHORN_BUG$1?function o(e){var s=getOwnPropertyDescriptor$7$1(this,e);return!!s&&s.enumerable}:$propertyIsEnumerable$1$1;var createPropertyDescriptor$7=function(o,e){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:e}},uncurryThis$o$1=functionUncurryThis$1,fails$r$1=fails$u$1,classof$f=classofRaw$2$1,$Object$4$1=Object,split$1=uncurryThis$o$1("".split),indexedObject$1=fails$r$1(function(){return!$Object$4$1("z").propertyIsEnumerable(0)})?function(o){return classof$f(o)==="String"?split$1(o,""):$Object$4$1(o)}:$Object$4$1,isNullOrUndefined$6$1=function(o){return o==null},isNullOrUndefined$5$1=isNullOrUndefined$6$1,$TypeError$g$1=TypeError,requireObjectCoercible$3$1=function(o){if(isNullOrUndefined$5$1(o))throw new $TypeError$g$1("Can't call method on "+o);return o},IndexedObject$3$1=indexedObject$1,requireObjectCoercible$2$1=requireObjectCoercible$3$1,toIndexedObject$a$1=function(o){return IndexedObject$3$1(requireObjectCoercible$2$1(o))},isCallable$l=isCallable$m,$documentAll$2=documentAll_1$1,documentAll$3=$documentAll$2.all,isObject$h$1=$documentAll$2.IS_HTMLDDA?function(o){return typeof o=="object"?o!==null:isCallable$l(o)||o===documentAll$3}:function(o){return typeof o=="object"?o!==null:isCallable$l(o)},path$o$1={},path$n$1=path$o$1,global$o=global$p,isCallable$k=isCallable$m,aFunction$1=function(o){return isCallable$k(o)?o:void 0},getBuiltIn$f=function(o,e){return arguments.length<2?aFunction$1(path$n$1[o])||aFunction$1(global$o[o]):path$n$1[o]&&path$n$1[o][e]||global$o[o]&&global$o[o][e]},uncurryThis$n$1=functionUncurryThis$1,objectIsPrototypeOf$1=uncurryThis$n$1({}.isPrototypeOf),engineUserAgent$1=typeof navigator<"u"&&String(navigator.userAgent)||"",global$n$1=global$p,userAgent$5=engineUserAgent$1,process$3=global$n$1.process,Deno$1$1=global$n$1.Deno,versions$1=process$3&&process$3.versions||Deno$1$1&&Deno$1$1.version,v8$1=versions$1&&versions$1.v8,match$1,version$1;v8$1&&(match$1=v8$1.split("."),version$1=match$1[0]>0&&match$1[0]<4?1:+(match$1[0]+match$1[1]));!version$1&&userAgent$5&&(match$1=userAgent$5.match(/Edge\/(\d+)/),(!match$1||match$1[1]>=74)&&(match$1=userAgent$5.match(/Chrome\/(\d+)/),match$1&&(version$1=+match$1[1])));var engineV8Version$1=version$1,V8_VERSION$3=engineV8Version$1,fails$q$1=fails$u$1,global$m$1=global$p,$String$5$1=global$m$1.String,symbolConstructorDetection$1=!!Object.getOwnPropertySymbols&&!fails$q$1(function(){var o=Symbol("symbol detection");return!$String$5$1(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&V8_VERSION$3&&V8_VERSION$3<41}),NATIVE_SYMBOL$5$1=symbolConstructorDetection$1,useSymbolAsUid$1=NATIVE_SYMBOL$5$1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$e=getBuiltIn$f,isCallable$j=isCallable$m,isPrototypeOf$k$1=objectIsPrototypeOf$1,USE_SYMBOL_AS_UID$1$1=useSymbolAsUid$1,$Object$3$1=Object,isSymbol$5$1=USE_SYMBOL_AS_UID$1$1?function(o){return typeof o=="symbol"}:function(o){var e=getBuiltIn$e("Symbol");return isCallable$j(e)&&isPrototypeOf$k$1(e.prototype,$Object$3$1(o))},$String$4$1=String,tryToString$6$1=function(o){try{return $String$4$1(o)}catch{return"Object"}},isCallable$i$1=isCallable$m,tryToString$5$1=tryToString$6$1,$TypeError$f$1=TypeError,aCallable$e=function(o){if(isCallable$i$1(o))return o;throw new $TypeError$f$1(tryToString$5$1(o)+" is not a function")},aCallable$d=aCallable$e,isNullOrUndefined$4$1=isNullOrUndefined$6$1,getMethod$3$1=function(o,e){var s=o[e];return isNullOrUndefined$4$1(s)?void 0:aCallable$d(s)},call$h=functionCall$1,isCallable$h$1=isCallable$m,isObject$g$1=isObject$h$1,$TypeError$e$1=TypeError,ordinaryToPrimitive$1$1=function(o,e){var s,h;if(e==="string"&&isCallable$h$1(s=o.toString)&&!isObject$g$1(h=call$h(s,o))||isCallable$h$1(s=o.valueOf)&&!isObject$g$1(h=call$h(s,o))||e!=="string"&&isCallable$h$1(s=o.toString)&&!isObject$g$1(h=call$h(s,o)))return h;throw new $TypeError$e$1("Can't convert object to primitive value")},shared$7$1={exports:{}},isPure=!0,global$l$1=global$p,defineProperty$e$1=Object.defineProperty,defineGlobalProperty$1$1=function(o,e){try{defineProperty$e$1(global$l$1,o,{value:e,configurable:!0,writable:!0})}catch{global$l$1[o]=e}return e},global$k$1=global$p,defineGlobalProperty$2=defineGlobalProperty$1$1,SHARED$1="__core-js_shared__",store$3$1=global$k$1[SHARED$1]||defineGlobalProperty$2(SHARED$1,{}),sharedStore$1=store$3$1,store$2$1=sharedStore$1;(shared$7$1.exports=function(o,e){return store$2$1[o]||(store$2$1[o]=e!==void 0?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var sharedExports$1=shared$7$1.exports,requireObjectCoercible$1$1=requireObjectCoercible$3$1,$Object$2$1=Object,toObject$e$1=function(o){return $Object$2$1(requireObjectCoercible$1$1(o))},uncurryThis$m$1=functionUncurryThis$1,toObject$d$1=toObject$e$1,hasOwnProperty$1=uncurryThis$m$1({}.hasOwnProperty),hasOwnProperty_1$1=Object.hasOwn||function o(e,s){return hasOwnProperty$1(toObject$d$1(e),s)},uncurryThis$l$1=functionUncurryThis$1,id$1$1=0,postfix$1=Math.random(),toString$8$1=uncurryThis$l$1(1 .toString),uid$4$1=function(o){return"Symbol("+(o===void 0?"":o)+")_"+toString$8$1(++id$1$1+postfix$1,36)},global$j$1=global$p,shared$6$1=sharedExports$1,hasOwn$j=hasOwnProperty_1$1,uid$3$1=uid$4$1,NATIVE_SYMBOL$4$1=symbolConstructorDetection$1,USE_SYMBOL_AS_UID$2=useSymbolAsUid$1,Symbol$3$1=global$j$1.Symbol,WellKnownSymbolsStore$2$1=shared$6$1("wks"),createWellKnownSymbol$1=USE_SYMBOL_AS_UID$2?Symbol$3$1.for||Symbol$3$1:Symbol$3$1&&Symbol$3$1.withoutSetter||uid$3$1,wellKnownSymbol$n=function(o){return hasOwn$j(WellKnownSymbolsStore$2$1,o)||(WellKnownSymbolsStore$2$1[o]=NATIVE_SYMBOL$4$1&&hasOwn$j(Symbol$3$1,o)?Symbol$3$1[o]:createWellKnownSymbol$1("Symbol."+o)),WellKnownSymbolsStore$2$1[o]},call$g=functionCall$1,isObject$f$1=isObject$h$1,isSymbol$4$1=isSymbol$5$1,getMethod$2$1=getMethod$3$1,ordinaryToPrimitive$2=ordinaryToPrimitive$1$1,wellKnownSymbol$m$1=wellKnownSymbol$n,$TypeError$d$1=TypeError,TO_PRIMITIVE$1=wellKnownSymbol$m$1("toPrimitive"),toPrimitive$6$1=function(o,e){if(!isObject$f$1(o)||isSymbol$4$1(o))return o;var s=getMethod$2$1(o,TO_PRIMITIVE$1),h;if(s){if(e===void 0&&(e="default"),h=call$g(s,o,e),!isObject$f$1(h)||isSymbol$4$1(h))return h;throw new $TypeError$d$1("Can't convert object to primitive value")}return e===void 0&&(e="number"),ordinaryToPrimitive$2(o,e)},toPrimitive$5$1=toPrimitive$6$1,isSymbol$3$1=isSymbol$5$1,toPropertyKey$4$1=function(o){var e=toPrimitive$5$1(o,"string");return isSymbol$3$1(e)?e:e+""},global$i$1=global$p,isObject$e$1=isObject$h$1,document$3=global$i$1.document,EXISTS$1$1=isObject$e$1(document$3)&&isObject$e$1(document$3.createElement),documentCreateElement$1$1=function(o){return EXISTS$1$1?document$3.createElement(o):{}},DESCRIPTORS$h$1=descriptors$1,fails$p$1=fails$u$1,createElement$1=documentCreateElement$1$1,ie8DomDefine$1=!DESCRIPTORS$h$1&&!fails$p$1(function(){return Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a!==7}),DESCRIPTORS$g$1=descriptors$1,call$f$1=functionCall$1,propertyIsEnumerableModule$2$1=objectPropertyIsEnumerable$1,createPropertyDescriptor$6=createPropertyDescriptor$7,toIndexedObject$9$1=toIndexedObject$a$1,toPropertyKey$3$1=toPropertyKey$4$1,hasOwn$i=hasOwnProperty_1$1,IE8_DOM_DEFINE$1$1=ie8DomDefine$1,$getOwnPropertyDescriptor$2$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor$1.f=DESCRIPTORS$g$1?$getOwnPropertyDescriptor$2$1:function o(e,s){if(e=toIndexedObject$9$1(e),s=toPropertyKey$3$1(s),IE8_DOM_DEFINE$1$1)try{return $getOwnPropertyDescriptor$2$1(e,s)}catch{}if(hasOwn$i(e,s))return createPropertyDescriptor$6(!call$f$1(propertyIsEnumerableModule$2$1.f,e,s),e[s])};var fails$o$1=fails$u$1,isCallable$g$1=isCallable$m,replacement$1=/#|\.prototype\./,isForced$2=function(o,e){var s=data$1[normalize$1(o)];return s===POLYFILL$1?!0:s===NATIVE$1?!1:isCallable$g$1(e)?fails$o$1(e):!!e},normalize$1=isForced$2.normalize=function(o){return String(o).replace(replacement$1,".").toLowerCase()},data$1=isForced$2.data={},NATIVE$1=isForced$2.NATIVE="N",POLYFILL$1=isForced$2.POLYFILL="P",isForced_1$1=isForced$2,uncurryThis$k$1=functionUncurryThisClause$1,aCallable$c=aCallable$e,NATIVE_BIND$1$1=functionBindNative$1,bind$i=uncurryThis$k$1(uncurryThis$k$1.bind),functionBindContext$1=function(o,e){return aCallable$c(o),e===void 0?o:NATIVE_BIND$1$1?bind$i(o,e):function(){return o.apply(e,arguments)}},objectDefineProperty$1={},DESCRIPTORS$f$1=descriptors$1,fails$n$1=fails$u$1,v8PrototypeDefineBug$1=DESCRIPTORS$f$1&&fails$n$1(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),isObject$d$1=isObject$h$1,$String$3$1=String,$TypeError$c$1=TypeError,anObject$d$1=function(o){if(isObject$d$1(o))return o;throw new $TypeError$c$1($String$3$1(o)+" is not an object")},DESCRIPTORS$e$1=descriptors$1,IE8_DOM_DEFINE$2=ie8DomDefine$1,V8_PROTOTYPE_DEFINE_BUG$1$1=v8PrototypeDefineBug$1,anObject$c$1=anObject$d$1,toPropertyKey$2$1=toPropertyKey$4$1,$TypeError$b$1=TypeError,$defineProperty$1$1=Object.defineProperty,$getOwnPropertyDescriptor$1$1=Object.getOwnPropertyDescriptor,ENUMERABLE$1="enumerable",CONFIGURABLE$1$1="configurable",WRITABLE$1="writable";objectDefineProperty$1.f=DESCRIPTORS$e$1?V8_PROTOTYPE_DEFINE_BUG$1$1?function o(e,s,h){if(anObject$c$1(e),s=toPropertyKey$2$1(s),anObject$c$1(h),typeof e=="function"&&s==="prototype"&&"value"in h&&WRITABLE$1 in h&&!h[WRITABLE$1]){var b=$getOwnPropertyDescriptor$1$1(e,s);b&&b[WRITABLE$1]&&(e[s]=h.value,h={configurable:CONFIGURABLE$1$1 in h?h[CONFIGURABLE$1$1]:b[CONFIGURABLE$1$1],enumerable:ENUMERABLE$1 in h?h[ENUMERABLE$1]:b[ENUMERABLE$1],writable:!1})}return $defineProperty$1$1(e,s,h)}:$defineProperty$1$1:function o(e,s,h){if(anObject$c$1(e),s=toPropertyKey$2$1(s),anObject$c$1(h),IE8_DOM_DEFINE$2)try{return $defineProperty$1$1(e,s,h)}catch{}if("get"in h||"set"in h)throw new $TypeError$b$1("Accessors not supported");return"value"in h&&(e[s]=h.value),e};var DESCRIPTORS$d$1=descriptors$1,definePropertyModule$4=objectDefineProperty$1,createPropertyDescriptor$5$1=createPropertyDescriptor$7,createNonEnumerableProperty$9=DESCRIPTORS$d$1?function(o,e,s){return definePropertyModule$4.f(o,e,createPropertyDescriptor$5$1(1,s))}:function(o,e,s){return o[e]=s,o},global$h$1=global$p,apply$5$1=functionApply$1,uncurryThis$j$1=functionUncurryThisClause$1,isCallable$f$1=isCallable$m,getOwnPropertyDescriptor$6$1=objectGetOwnPropertyDescriptor$1.f,isForced$1$1=isForced_1$1,path$m$1=path$o$1,bind$h=functionBindContext$1,createNonEnumerableProperty$8=createNonEnumerableProperty$9,hasOwn$h$1=hasOwnProperty_1$1,wrapConstructor$1=function(o){var e=function(s,h,b){if(this instanceof e){switch(arguments.length){case 0:return new o;case 1:return new o(s);case 2:return new o(s,h)}return new o(s,h,b)}return apply$5$1(o,this,arguments)};return e.prototype=o.prototype,e},_export$1=function(o,e){var s=o.target,h=o.global,b=o.stat,_e=o.proto,rt=h?global$h$1:b?global$h$1[s]:(global$h$1[s]||{}).prototype,at=h?path$m$1:path$m$1[s]||createNonEnumerableProperty$8(path$m$1,s,{})[s],st=at.prototype,ot,nt,et,d,_,tt,lt,ut,ct;for(d in e)ot=isForced$1$1(h?d:s+(b?".":"#")+d,o.forced),nt=!ot&&rt&&hasOwn$h$1(rt,d),tt=at[d],nt&&(o.dontCallGetSet?(ct=getOwnPropertyDescriptor$6$1(rt,d),lt=ct&&ct.value):lt=rt[d]),_=nt&&lt?lt:e[d],!(nt&&typeof tt==typeof _)&&(o.bind&&nt?ut=bind$h(_,global$h$1):o.wrap&&nt?ut=wrapConstructor$1(_):_e&&isCallable$f$1(_)?ut=uncurryThis$j$1(_):ut=_,(o.sham||_&&_.sham||tt&&tt.sham)&&createNonEnumerableProperty$8(ut,"sham",!0),createNonEnumerableProperty$8(at,d,ut),_e&&(et=s+"Prototype",hasOwn$h$1(path$m$1,et)||createNonEnumerableProperty$8(path$m$1,et,{}),createNonEnumerableProperty$8(path$m$1[et],d,_),o.real&&st&&(ot||!st[d])&&createNonEnumerableProperty$8(st,d,_)))},$$P=_export$1,DESCRIPTORS$c$1=descriptors$1,defineProperty$d$1=objectDefineProperty$1.f;$$P({target:"Object",stat:!0,forced:Object.defineProperty!==defineProperty$d$1,sham:!DESCRIPTORS$c$1},{defineProperty:defineProperty$d$1});var path$l$1=path$o$1,Object$4$1=path$l$1.Object,defineProperty$c$1=defineProperty$f$1.exports=function o(e,s,h){return Object$4$1.defineProperty(e,s,h)};Object$4$1.defineProperty.sham&&(defineProperty$c$1.sham=!0);var definePropertyExports$1=defineProperty$f$1.exports,parent$18$1=definePropertyExports$1,defineProperty$b$1=parent$18$1,parent$17$1=defineProperty$b$1,defineProperty$a$1=parent$17$1,parent$16$1=defineProperty$a$1,defineProperty$9$1=parent$16$1,defineProperty$8$1=defineProperty$9$1,_Object$defineProperty$1$1=getDefaultExportFromCjs$1(defineProperty$8$1),classof$e$1=classofRaw$2$1,isArray$e$1=Array.isArray||function o(e){return classof$e$1(e)==="Array"},ceil$1=Math.ceil,floor$1$1=Math.floor,mathTrunc$1=Math.trunc||function o(e){var s=+e;return(s>0?floor$1$1:ceil$1)(s)},trunc$1=mathTrunc$1,toIntegerOrInfinity$4$1=function(o){var e=+o;return e!==e||e===0?0:trunc$1(e)},toIntegerOrInfinity$3$1=toIntegerOrInfinity$4$1,min$2$1=Math.min,toLength$1$1=function(o){return o>0?min$2$1(toIntegerOrInfinity$3$1(o),9007199254740991):0},toLength$2=toLength$1$1,lengthOfArrayLike$d=function(o){return toLength$2(o.length)},$TypeError$a$1=TypeError,MAX_SAFE_INTEGER$1=9007199254740991,doesNotExceedSafeInteger$4=function(o){if(o>MAX_SAFE_INTEGER$1)throw $TypeError$a$1("Maximum allowed index exceeded");return o},toPropertyKey$1$1=toPropertyKey$4$1,definePropertyModule$3$1=objectDefineProperty$1,createPropertyDescriptor$4$1=createPropertyDescriptor$7,createProperty$6$1=function(o,e,s){var h=toPropertyKey$1$1(e);h in o?definePropertyModule$3$1.f(o,h,createPropertyDescriptor$4$1(0,s)):o[h]=s},wellKnownSymbol$l$1=wellKnownSymbol$n,TO_STRING_TAG$4=wellKnownSymbol$l$1("toStringTag"),test$2$1={};test$2$1[TO_STRING_TAG$4]="z";var toStringTagSupport$1=String(test$2$1)==="[object z]",TO_STRING_TAG_SUPPORT$2$1=toStringTagSupport$1,isCallable$e$1=isCallable$m,classofRaw$3=classofRaw$2$1,wellKnownSymbol$k$1=wellKnownSymbol$n,TO_STRING_TAG$3$1=wellKnownSymbol$k$1("toStringTag"),$Object$1$1=Object,CORRECT_ARGUMENTS$1=classofRaw$3(function(){return arguments}())==="Arguments",tryGet$1=function(o,e){try{return o[e]}catch{}},classof$d$1=TO_STRING_TAG_SUPPORT$2$1?classofRaw$3:function(o){var e,s,h;return o===void 0?"Undefined":o===null?"Null":typeof(s=tryGet$1(e=$Object$1$1(o),TO_STRING_TAG$3$1))=="string"?s:CORRECT_ARGUMENTS$1?classofRaw$3(e):(h=classofRaw$3(e))==="Object"&&isCallable$e$1(e.callee)?"Arguments":h},uncurryThis$i$1=functionUncurryThis$1,isCallable$d$1=isCallable$m,store$1$1=sharedStore$1,functionToString$1=uncurryThis$i$1(Function.toString);isCallable$d$1(store$1$1.inspectSource)||(store$1$1.inspectSource=function(o){return functionToString$1(o)});var inspectSource$2=store$1$1.inspectSource,uncurryThis$h$1=functionUncurryThis$1,fails$m$1=fails$u$1,isCallable$c$1=isCallable$m,classof$c$1=classof$d$1,getBuiltIn$d=getBuiltIn$f,inspectSource$1$1=inspectSource$2,noop$1=function(){},empty$1=[],construct$4$1=getBuiltIn$d("Reflect","construct"),constructorRegExp$1=/^\s*(?:class|function)\b/,exec$1$1=uncurryThis$h$1(constructorRegExp$1.exec),INCORRECT_TO_STRING$1=!constructorRegExp$1.test(noop$1),isConstructorModern$1=function o(e){if(!isCallable$c$1(e))return!1;try{return construct$4$1(noop$1,empty$1,e),!0}catch{return!1}},isConstructorLegacy$1=function o(e){if(!isCallable$c$1(e))return!1;switch(classof$c$1(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$1||!!exec$1$1(constructorRegExp$1,inspectSource$1$1(e))}catch{return!0}};isConstructorLegacy$1.sham=!0;var isConstructor$4$1=!construct$4$1||fails$m$1(function(){var o;return isConstructorModern$1(isConstructorModern$1.call)||!isConstructorModern$1(Object)||!isConstructorModern$1(function(){o=!0})||o})?isConstructorLegacy$1:isConstructorModern$1,isArray$d$1=isArray$e$1,isConstructor$3$1=isConstructor$4$1,isObject$c$1=isObject$h$1,wellKnownSymbol$j$1=wellKnownSymbol$n,SPECIES$5=wellKnownSymbol$j$1("species"),$Array$3$1=Array,arraySpeciesConstructor$1$1=function(o){var e;return isArray$d$1(o)&&(e=o.constructor,isConstructor$3$1(e)&&(e===$Array$3$1||isArray$d$1(e.prototype))?e=void 0:isObject$c$1(e)&&(e=e[SPECIES$5],e===null&&(e=void 0))),e===void 0?$Array$3$1:e},arraySpeciesConstructor$2=arraySpeciesConstructor$1$1,arraySpeciesCreate$4=function(o,e){return new(arraySpeciesConstructor$2(o))(e===0?0:e)},fails$l$1=fails$u$1,wellKnownSymbol$i$1=wellKnownSymbol$n,V8_VERSION$2$1=engineV8Version$1,SPECIES$4=wellKnownSymbol$i$1("species"),arrayMethodHasSpeciesSupport$5$1=function(o){return V8_VERSION$2$1>=51||!fails$l$1(function(){var e=[],s=e.constructor={};return s[SPECIES$4]=function(){return{foo:1}},e[o](Boolean).foo!==1})},$$O$1=_export$1,fails$k$1=fails$u$1,isArray$c$1=isArray$e$1,isObject$b$1=isObject$h$1,toObject$c$1=toObject$e$1,lengthOfArrayLike$c$1=lengthOfArrayLike$d,doesNotExceedSafeInteger$3$1=doesNotExceedSafeInteger$4,createProperty$5$1=createProperty$6$1,arraySpeciesCreate$3$1=arraySpeciesCreate$4,arrayMethodHasSpeciesSupport$4$1=arrayMethodHasSpeciesSupport$5$1,wellKnownSymbol$h$1=wellKnownSymbol$n,V8_VERSION$1$1=engineV8Version$1,IS_CONCAT_SPREADABLE$1=wellKnownSymbol$h$1("isConcatSpreadable"),IS_CONCAT_SPREADABLE_SUPPORT$1=V8_VERSION$1$1>=51||!fails$k$1(function(){var o=[];return o[IS_CONCAT_SPREADABLE$1]=!1,o.concat()[0]!==o}),isConcatSpreadable$1=function(o){if(!isObject$b$1(o))return!1;var e=o[IS_CONCAT_SPREADABLE$1];return e!==void 0?!!e:isArray$c$1(o)},FORCED$6$1=!IS_CONCAT_SPREADABLE_SUPPORT$1||!arrayMethodHasSpeciesSupport$4$1("concat");$$O$1({target:"Array",proto:!0,arity:1,forced:FORCED$6$1},{concat:function o(e){var s=toObject$c$1(this),h=arraySpeciesCreate$3$1(s,0),b=0,_e,rt,at,st,ot;for(_e=-1,at=arguments.length;_e<at;_e++)if(ot=_e===-1?s:arguments[_e],isConcatSpreadable$1(ot))for(st=lengthOfArrayLike$c$1(ot),doesNotExceedSafeInteger$3$1(b+st),rt=0;rt<st;rt++,b++)rt in ot&&createProperty$5$1(h,b,ot[rt]);else doesNotExceedSafeInteger$3$1(b+1),createProperty$5$1(h,b++,ot);return h.length=b,h}});var classof$b$1=classof$d$1,$String$2$1=String,toString$7$1=function(o){if(classof$b$1(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return $String$2$1(o)},objectDefineProperties$1={},toIntegerOrInfinity$2$1=toIntegerOrInfinity$4$1,max$3$1=Math.max,min$1$1=Math.min,toAbsoluteIndex$4$1=function(o,e){var s=toIntegerOrInfinity$2$1(o);return s<0?max$3$1(s+e,0):min$1$1(s,e)},toIndexedObject$8$1=toIndexedObject$a$1,toAbsoluteIndex$3$1=toAbsoluteIndex$4$1,lengthOfArrayLike$b$1=lengthOfArrayLike$d,createMethod$3$1=function(o){return function(e,s,h){var b=toIndexedObject$8$1(e),_e=lengthOfArrayLike$b$1(b),rt=toAbsoluteIndex$3$1(h,_e),at;if(o&&s!==s){for(;_e>rt;)if(at=b[rt++],at!==at)return!0}else for(;_e>rt;rt++)if((o||rt in b)&&b[rt]===s)return o||rt||0;return!o&&-1}},arrayIncludes$1={includes:createMethod$3$1(!0),indexOf:createMethod$3$1(!1)},hiddenKeys$6$1={},uncurryThis$g$1=functionUncurryThis$1,hasOwn$g$1=hasOwnProperty_1$1,toIndexedObject$7$1=toIndexedObject$a$1,indexOf$5=arrayIncludes$1.indexOf,hiddenKeys$5$1=hiddenKeys$6$1,push$c=uncurryThis$g$1([].push),objectKeysInternal$1=function(o,e){var s=toIndexedObject$7$1(o),h=0,b=[],_e;for(_e in s)!hasOwn$g$1(hiddenKeys$5$1,_e)&&hasOwn$g$1(s,_e)&&push$c(b,_e);for(;e.length>h;)hasOwn$g$1(s,_e=e[h++])&&(~indexOf$5(b,_e)||push$c(b,_e));return b},enumBugKeys$3$1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1$1=objectKeysInternal$1,enumBugKeys$2$1=enumBugKeys$3$1,objectKeys$3$1=Object.keys||function o(e){return internalObjectKeys$1$1(e,enumBugKeys$2$1)},DESCRIPTORS$b$1=descriptors$1,V8_PROTOTYPE_DEFINE_BUG$2=v8PrototypeDefineBug$1,definePropertyModule$2$1=objectDefineProperty$1,anObject$b$1=anObject$d$1,toIndexedObject$6$1=toIndexedObject$a$1,objectKeys$2$1=objectKeys$3$1;objectDefineProperties$1.f=DESCRIPTORS$b$1&&!V8_PROTOTYPE_DEFINE_BUG$2?Object.defineProperties:function o(e,s){anObject$b$1(e);for(var h=toIndexedObject$6$1(s),b=objectKeys$2$1(s),_e=b.length,rt=0,at;_e>rt;)definePropertyModule$2$1.f(e,at=b[rt++],h[at]);return e};var getBuiltIn$c$1=getBuiltIn$f,html$2=getBuiltIn$c$1("document","documentElement"),shared$5$1=sharedExports$1,uid$2$1=uid$4$1,keys$7=shared$5$1("keys"),sharedKey$4$1=function(o){return keys$7[o]||(keys$7[o]=uid$2$1(o))},anObject$a$1=anObject$d$1,definePropertiesModule$1$1=objectDefineProperties$1,enumBugKeys$1$1=enumBugKeys$3$1,hiddenKeys$4$1=hiddenKeys$6$1,html$1$1=html$2,documentCreateElement$2=documentCreateElement$1$1,sharedKey$3$1=sharedKey$4$1,GT$1=">",LT$1="<",PROTOTYPE$1$1="prototype",SCRIPT$1="script",IE_PROTO$1$1=sharedKey$3$1("IE_PROTO"),EmptyConstructor$1=function(){},scriptTag$1=function(o){return LT$1+SCRIPT$1+GT$1+o+LT$1+"/"+SCRIPT$1+GT$1},NullProtoObjectViaActiveX$1=function(o){o.write(scriptTag$1("")),o.close();var e=o.parentWindow.Object;return o=null,e},NullProtoObjectViaIFrame$1=function(){var o=documentCreateElement$2("iframe"),e="java"+SCRIPT$1+":",s;return o.style.display="none",html$1$1.appendChild(o),o.src=String(e),s=o.contentWindow.document,s.open(),s.write(scriptTag$1("document.F=Object")),s.close(),s.F},activeXDocument$1,NullProtoObject$1=function(){try{activeXDocument$1=new ActiveXObject("htmlfile")}catch{}NullProtoObject$1=typeof document<"u"?document.domain&&activeXDocument$1?NullProtoObjectViaActiveX$1(activeXDocument$1):NullProtoObjectViaIFrame$1():NullProtoObjectViaActiveX$1(activeXDocument$1);for(var o=enumBugKeys$1$1.length;o--;)delete NullProtoObject$1[PROTOTYPE$1$1][enumBugKeys$1$1[o]];return NullProtoObject$1()};hiddenKeys$4$1[IE_PROTO$1$1]=!0;var objectCreate$1=Object.create||function o(e,s){var h;return e!==null?(EmptyConstructor$1[PROTOTYPE$1$1]=anObject$a$1(e),h=new EmptyConstructor$1,EmptyConstructor$1[PROTOTYPE$1$1]=null,h[IE_PROTO$1$1]=e):h=NullProtoObject$1(),s===void 0?h:definePropertiesModule$1$1.f(h,s)},objectGetOwnPropertyNames$1={},internalObjectKeys$2=objectKeysInternal$1,enumBugKeys$4=enumBugKeys$3$1,hiddenKeys$3$1=enumBugKeys$4.concat("length","prototype");objectGetOwnPropertyNames$1.f=Object.getOwnPropertyNames||function o(e){return internalObjectKeys$2(e,hiddenKeys$3$1)};var objectGetOwnPropertyNamesExternal$1={},toAbsoluteIndex$2$1=toAbsoluteIndex$4$1,lengthOfArrayLike$a$1=lengthOfArrayLike$d,createProperty$4$1=createProperty$6$1,$Array$2$1=Array,max$2$1=Math.max,arraySliceSimple$1=function(o,e,s){for(var h=lengthOfArrayLike$a$1(o),b=toAbsoluteIndex$2$1(e,h),_e=toAbsoluteIndex$2$1(s===void 0?h:s,h),rt=$Array$2$1(max$2$1(_e-b,0)),at=0;b<_e;b++,at++)createProperty$4$1(rt,at,o[b]);return rt.length=at,rt},classof$a$1=classofRaw$2$1,toIndexedObject$5$1=toIndexedObject$a$1,$getOwnPropertyNames$1$1=objectGetOwnPropertyNames$1.f,arraySlice$6=arraySliceSimple$1,windowNames$1=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames$1=function(o){try{return $getOwnPropertyNames$1$1(o)}catch{return arraySlice$6(windowNames$1)}};objectGetOwnPropertyNamesExternal$1.f=function o(e){return windowNames$1&&classof$a$1(e)==="Window"?getWindowNames$1(e):$getOwnPropertyNames$1$1(toIndexedObject$5$1(e))};var objectGetOwnPropertySymbols$1={};objectGetOwnPropertySymbols$1.f=Object.getOwnPropertySymbols;var createNonEnumerableProperty$7=createNonEnumerableProperty$9,defineBuiltIn$6=function(o,e,s,h){return h&&h.enumerable?o[e]=s:createNonEnumerableProperty$7(o,e,s),o},defineProperty$7$1=objectDefineProperty$1,defineBuiltInAccessor$3$1=function(o,e,s){return defineProperty$7$1.f(o,e,s)},wellKnownSymbolWrapped$1={},wellKnownSymbol$g$1=wellKnownSymbol$n;wellKnownSymbolWrapped$1.f=wellKnownSymbol$g$1;var path$k$1=path$o$1,hasOwn$f$1=hasOwnProperty_1$1,wrappedWellKnownSymbolModule$1$1=wellKnownSymbolWrapped$1,defineProperty$6$1=objectDefineProperty$1.f,wellKnownSymbolDefine$1=function(o){var e=path$k$1.Symbol||(path$k$1.Symbol={});hasOwn$f$1(e,o)||defineProperty$6$1(e,o,{value:wrappedWellKnownSymbolModule$1$1.f(o)})},call$e$1=functionCall$1,getBuiltIn$b$1=getBuiltIn$f,wellKnownSymbol$f$1=wellKnownSymbol$n,defineBuiltIn$5$1=defineBuiltIn$6,symbolDefineToPrimitive$1=function(){var o=getBuiltIn$b$1("Symbol"),e=o&&o.prototype,s=e&&e.valueOf,h=wellKnownSymbol$f$1("toPrimitive");e&&!e[h]&&defineBuiltIn$5$1(e,h,function(b){return call$e$1(s,this)},{arity:1})},TO_STRING_TAG_SUPPORT$1$1=toStringTagSupport$1,classof$9$1=classof$d$1,objectToString$1=TO_STRING_TAG_SUPPORT$1$1?{}.toString:function o(){return"[object "+classof$9$1(this)+"]"},TO_STRING_TAG_SUPPORT$3=toStringTagSupport$1,defineProperty$5$1=objectDefineProperty$1.f,createNonEnumerableProperty$6$1=createNonEnumerableProperty$9,hasOwn$e$1=hasOwnProperty_1$1,toString$6$1=objectToString$1,wellKnownSymbol$e$1=wellKnownSymbol$n,TO_STRING_TAG$2$1=wellKnownSymbol$e$1("toStringTag"),setToStringTag$7=function(o,e,s,h){if(o){var b=s?o:o.prototype;hasOwn$e$1(b,TO_STRING_TAG$2$1)||defineProperty$5$1(b,TO_STRING_TAG$2$1,{configurable:!0,value:e}),h&&!TO_STRING_TAG_SUPPORT$3&&createNonEnumerableProperty$6$1(b,"toString",toString$6$1)}},global$g$1=global$p,isCallable$b$1=isCallable$m,WeakMap$1$1=global$g$1.WeakMap,weakMapBasicDetection$1=isCallable$b$1(WeakMap$1$1)&&/native code/.test(String(WeakMap$1$1)),NATIVE_WEAK_MAP$2=weakMapBasicDetection$1,global$f$1=global$p,isObject$a$1=isObject$h$1,createNonEnumerableProperty$5$1=createNonEnumerableProperty$9,hasOwn$d$1=hasOwnProperty_1$1,shared$4$1=sharedStore$1,sharedKey$2$1=sharedKey$4$1,hiddenKeys$2$1=hiddenKeys$6$1,OBJECT_ALREADY_INITIALIZED$1="Object already initialized",TypeError$3=global$f$1.TypeError,WeakMap$3=global$f$1.WeakMap,set$4,get$7,has$1,enforce$1=function(o){return has$1(o)?get$7(o):set$4(o,{})},getterFor$1=function(o){return function(e){var s;if(!isObject$a$1(e)||(s=get$7(e)).type!==o)throw new TypeError$3("Incompatible receiver, "+o+" required");return s}};if(NATIVE_WEAK_MAP$2||shared$4$1.state){var store$4=shared$4$1.state||(shared$4$1.state=new WeakMap$3);store$4.get=store$4.get,store$4.has=store$4.has,store$4.set=store$4.set,set$4=function(o,e){if(store$4.has(o))throw new TypeError$3(OBJECT_ALREADY_INITIALIZED$1);return e.facade=o,store$4.set(o,e),e},get$7=function(o){return store$4.get(o)||{}},has$1=function(o){return store$4.has(o)}}else{var STATE$1=sharedKey$2$1("state");hiddenKeys$2$1[STATE$1]=!0,set$4=function(o,e){if(hasOwn$d$1(o,STATE$1))throw new TypeError$3(OBJECT_ALREADY_INITIALIZED$1);return e.facade=o,createNonEnumerableProperty$5$1(o,STATE$1,e),e},get$7=function(o){return hasOwn$d$1(o,STATE$1)?o[STATE$1]:{}},has$1=function(o){return hasOwn$d$1(o,STATE$1)}}var internalState$1={set:set$4,get:get$7,has:has$1,enforce:enforce$1,getterFor:getterFor$1},bind$g=functionBindContext$1,uncurryThis$f$1=functionUncurryThis$1,IndexedObject$2$1=indexedObject$1,toObject$b$1=toObject$e$1,lengthOfArrayLike$9$1=lengthOfArrayLike$d,arraySpeciesCreate$2$1=arraySpeciesCreate$4,push$b$1=uncurryThis$f$1([].push),createMethod$2$1=function(o){var e=o===1,s=o===2,h=o===3,b=o===4,_e=o===6,rt=o===7,at=o===5||_e;return function(st,ot,nt,et){for(var d=toObject$b$1(st),_=IndexedObject$2$1(d),tt=bind$g(ot,nt),lt=lengthOfArrayLike$9$1(_),ut=0,ct=et||arraySpeciesCreate$2$1,ft=e?ct(st,lt):s||rt?ct(st,0):void 0,dt,ht;lt>ut;ut++)if((at||ut in _)&&(dt=_[ut],ht=tt(dt,ut,d),o))if(e)ft[ut]=ht;else if(ht)switch(o){case 3:return!0;case 5:return dt;case 6:return ut;case 2:push$b$1(ft,dt)}else switch(o){case 4:return!1;case 7:push$b$1(ft,dt)}return _e?-1:h||b?b:ft}},arrayIteration$1={forEach:createMethod$2$1(0),map:createMethod$2$1(1),filter:createMethod$2$1(2),some:createMethod$2$1(3),every:createMethod$2$1(4),find:createMethod$2$1(5),findIndex:createMethod$2$1(6),filterReject:createMethod$2$1(7)},$$N$1=_export$1,global$e$1=global$p,call$d$1=functionCall$1,uncurryThis$e$1=functionUncurryThis$1,DESCRIPTORS$a$1=descriptors$1,NATIVE_SYMBOL$3$1=symbolConstructorDetection$1,fails$j$1=fails$u$1,hasOwn$c$1=hasOwnProperty_1$1,isPrototypeOf$j$1=objectIsPrototypeOf$1,anObject$9$1=anObject$d$1,toIndexedObject$4$1=toIndexedObject$a$1,toPropertyKey$5=toPropertyKey$4$1,$toString$1=toString$7$1,createPropertyDescriptor$3$1=createPropertyDescriptor$7,nativeObjectCreate$1=objectCreate$1,objectKeys$1$1=objectKeys$3$1,getOwnPropertyNamesModule$2$1=objectGetOwnPropertyNames$1,getOwnPropertyNamesExternal$1=objectGetOwnPropertyNamesExternal$1,getOwnPropertySymbolsModule$3$1=objectGetOwnPropertySymbols$1,getOwnPropertyDescriptorModule$2$1=objectGetOwnPropertyDescriptor$1,definePropertyModule$1$1=objectDefineProperty$1,definePropertiesModule$2=objectDefineProperties$1,propertyIsEnumerableModule$1$1=objectPropertyIsEnumerable$1,defineBuiltIn$4$1=defineBuiltIn$6,defineBuiltInAccessor$2$1=defineBuiltInAccessor$3$1,shared$3$1=sharedExports$1,sharedKey$1$1=sharedKey$4$1,hiddenKeys$1$1=hiddenKeys$6$1,uid$1$1=uid$4$1,wellKnownSymbol$d$1=wellKnownSymbol$n,wrappedWellKnownSymbolModule$2=wellKnownSymbolWrapped$1,defineWellKnownSymbol$l$1=wellKnownSymbolDefine$1,defineSymbolToPrimitive$1$1=symbolDefineToPrimitive$1,setToStringTag$6$1=setToStringTag$7,InternalStateModule$5$1=internalState$1,$forEach$1$1=arrayIteration$1.forEach,HIDDEN$1=sharedKey$1$1("hidden"),SYMBOL$1="Symbol",PROTOTYPE$2="prototype",setInternalState$5$1=InternalStateModule$5$1.set,getInternalState$2$1=InternalStateModule$5$1.getterFor(SYMBOL$1),ObjectPrototype$2$1=Object[PROTOTYPE$2],$Symbol$1=global$e$1.Symbol,SymbolPrototype$1=$Symbol$1&&$Symbol$1[PROTOTYPE$2],RangeError$2=global$e$1.RangeError,TypeError$2$1=global$e$1.TypeError,QObject$1=global$e$1.QObject,nativeGetOwnPropertyDescriptor$1$1=getOwnPropertyDescriptorModule$2$1.f,nativeDefineProperty$1=definePropertyModule$1$1.f,nativeGetOwnPropertyNames$1=getOwnPropertyNamesExternal$1.f,nativePropertyIsEnumerable$1=propertyIsEnumerableModule$1$1.f,push$a$1=uncurryThis$e$1([].push),AllSymbols$1=shared$3$1("symbols"),ObjectPrototypeSymbols$1=shared$3$1("op-symbols"),WellKnownSymbolsStore$1$1=shared$3$1("wks"),USE_SETTER$1=!QObject$1||!QObject$1[PROTOTYPE$2]||!QObject$1[PROTOTYPE$2].findChild,fallbackDefineProperty$1=function(o,e,s){var h=nativeGetOwnPropertyDescriptor$1$1(ObjectPrototype$2$1,e);h&&delete ObjectPrototype$2$1[e],nativeDefineProperty$1(o,e,s),h&&o!==ObjectPrototype$2$1&&nativeDefineProperty$1(ObjectPrototype$2$1,e,h)},setSymbolDescriptor$1=DESCRIPTORS$a$1&&fails$j$1(function(){return nativeObjectCreate$1(nativeDefineProperty$1({},"a",{get:function(){return nativeDefineProperty$1(this,"a",{value:7}).a}})).a!==7})?fallbackDefineProperty$1:nativeDefineProperty$1,wrap$1=function(o,e){var s=AllSymbols$1[o]=nativeObjectCreate$1(SymbolPrototype$1);return setInternalState$5$1(s,{type:SYMBOL$1,tag:o,description:e}),DESCRIPTORS$a$1||(s.description=e),s},$defineProperty$2=function o(e,s,h){e===ObjectPrototype$2$1&&$defineProperty$2(ObjectPrototypeSymbols$1,s,h),anObject$9$1(e);var b=toPropertyKey$5(s);return anObject$9$1(h),hasOwn$c$1(AllSymbols$1,b)?(h.enumerable?(hasOwn$c$1(e,HIDDEN$1)&&e[HIDDEN$1][b]&&(e[HIDDEN$1][b]=!1),h=nativeObjectCreate$1(h,{enumerable:createPropertyDescriptor$3$1(0,!1)})):(hasOwn$c$1(e,HIDDEN$1)||nativeDefineProperty$1(e,HIDDEN$1,createPropertyDescriptor$3$1(1,{})),e[HIDDEN$1][b]=!0),setSymbolDescriptor$1(e,b,h)):nativeDefineProperty$1(e,b,h)},$defineProperties$1=function o(e,s){anObject$9$1(e);var h=toIndexedObject$4$1(s),b=objectKeys$1$1(h).concat($getOwnPropertySymbols$1(h));return $forEach$1$1(b,function(_e){(!DESCRIPTORS$a$1||call$d$1($propertyIsEnumerable$2,h,_e))&&$defineProperty$2(e,_e,h[_e])}),e},$create$1=function o(e,s){return s===void 0?nativeObjectCreate$1(e):$defineProperties$1(nativeObjectCreate$1(e),s)},$propertyIsEnumerable$2=function o(e){var s=toPropertyKey$5(e),h=call$d$1(nativePropertyIsEnumerable$1,this,s);return this===ObjectPrototype$2$1&&hasOwn$c$1(AllSymbols$1,s)&&!hasOwn$c$1(ObjectPrototypeSymbols$1,s)?!1:h||!hasOwn$c$1(this,s)||!hasOwn$c$1(AllSymbols$1,s)||hasOwn$c$1(this,HIDDEN$1)&&this[HIDDEN$1][s]?h:!0},$getOwnPropertyDescriptor$3=function o(e,s){var h=toIndexedObject$4$1(e),b=toPropertyKey$5(s);if(!(h===ObjectPrototype$2$1&&hasOwn$c$1(AllSymbols$1,b)&&!hasOwn$c$1(ObjectPrototypeSymbols$1,b))){var _e=nativeGetOwnPropertyDescriptor$1$1(h,b);return _e&&hasOwn$c$1(AllSymbols$1,b)&&!(hasOwn$c$1(h,HIDDEN$1)&&h[HIDDEN$1][b])&&(_e.enumerable=!0),_e}},$getOwnPropertyNames$2=function o(e){var s=nativeGetOwnPropertyNames$1(toIndexedObject$4$1(e)),h=[];return $forEach$1$1(s,function(b){!hasOwn$c$1(AllSymbols$1,b)&&!hasOwn$c$1(hiddenKeys$1$1,b)&&push$a$1(h,b)}),h},$getOwnPropertySymbols$1=function(o){var e=o===ObjectPrototype$2$1,s=nativeGetOwnPropertyNames$1(e?ObjectPrototypeSymbols$1:toIndexedObject$4$1(o)),h=[];return $forEach$1$1(s,function(b){hasOwn$c$1(AllSymbols$1,b)&&(!e||hasOwn$c$1(ObjectPrototype$2$1,b))&&push$a$1(h,AllSymbols$1[b])}),h};NATIVE_SYMBOL$3$1||($Symbol$1=function(){if(isPrototypeOf$j$1(SymbolPrototype$1,this))throw new TypeError$2$1("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:$toString$1(arguments[0]),s=uid$1$1(e),h=function(b){var _e=this===void 0?global$e$1:this;_e===ObjectPrototype$2$1&&call$d$1(h,ObjectPrototypeSymbols$1,b),hasOwn$c$1(_e,HIDDEN$1)&&hasOwn$c$1(_e[HIDDEN$1],s)&&(_e[HIDDEN$1][s]=!1);var rt=createPropertyDescriptor$3$1(1,b);try{setSymbolDescriptor$1(_e,s,rt)}catch(at){if(!(at instanceof RangeError$2))throw at;fallbackDefineProperty$1(_e,s,rt)}};return DESCRIPTORS$a$1&&USE_SETTER$1&&setSymbolDescriptor$1(ObjectPrototype$2$1,s,{configurable:!0,set:h}),wrap$1(s,e)},SymbolPrototype$1=$Symbol$1[PROTOTYPE$2],defineBuiltIn$4$1(SymbolPrototype$1,"toString",function(){return getInternalState$2$1(this).tag}),defineBuiltIn$4$1($Symbol$1,"withoutSetter",function(o){return wrap$1(uid$1$1(o),o)}),propertyIsEnumerableModule$1$1.f=$propertyIsEnumerable$2,definePropertyModule$1$1.f=$defineProperty$2,definePropertiesModule$2.f=$defineProperties$1,getOwnPropertyDescriptorModule$2$1.f=$getOwnPropertyDescriptor$3,getOwnPropertyNamesModule$2$1.f=getOwnPropertyNamesExternal$1.f=$getOwnPropertyNames$2,getOwnPropertySymbolsModule$3$1.f=$getOwnPropertySymbols$1,wrappedWellKnownSymbolModule$2.f=function(o){return wrap$1(wellKnownSymbol$d$1(o),o)},DESCRIPTORS$a$1&&defineBuiltInAccessor$2$1(SymbolPrototype$1,"description",{configurable:!0,get:function(){return getInternalState$2$1(this).description}}));$$N$1({global:!0,constructor:!0,wrap:!0,forced:!NATIVE_SYMBOL$3$1,sham:!NATIVE_SYMBOL$3$1},{Symbol:$Symbol$1});$forEach$1$1(objectKeys$1$1(WellKnownSymbolsStore$1$1),function(o){defineWellKnownSymbol$l$1(o)});$$N$1({target:SYMBOL$1,stat:!0,forced:!NATIVE_SYMBOL$3$1},{useSetter:function(){USE_SETTER$1=!0},useSimple:function(){USE_SETTER$1=!1}});$$N$1({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$3$1,sham:!DESCRIPTORS$a$1},{create:$create$1,defineProperty:$defineProperty$2,defineProperties:$defineProperties$1,getOwnPropertyDescriptor:$getOwnPropertyDescriptor$3});$$N$1({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$3$1},{getOwnPropertyNames:$getOwnPropertyNames$2});defineSymbolToPrimitive$1$1();setToStringTag$6$1($Symbol$1,SYMBOL$1);hiddenKeys$1$1[HIDDEN$1]=!0;var NATIVE_SYMBOL$2$1=symbolConstructorDetection$1,symbolRegistryDetection$1=NATIVE_SYMBOL$2$1&&!!Symbol.for&&!!Symbol.keyFor,$$M$1=_export$1,getBuiltIn$a$1=getBuiltIn$f,hasOwn$b$1=hasOwnProperty_1$1,toString$5$1=toString$7$1,shared$2$1=sharedExports$1,NATIVE_SYMBOL_REGISTRY$1$1=symbolRegistryDetection$1,StringToSymbolRegistry$1=shared$2$1("string-to-symbol-registry"),SymbolToStringRegistry$1$1=shared$2$1("symbol-to-string-registry");$$M$1({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL_REGISTRY$1$1},{for:function(o){var e=toString$5$1(o);if(hasOwn$b$1(StringToSymbolRegistry$1,e))return StringToSymbolRegistry$1[e];var s=getBuiltIn$a$1("Symbol")(e);return StringToSymbolRegistry$1[e]=s,SymbolToStringRegistry$1$1[s]=e,s}});var $$L$1=_export$1,hasOwn$a$1=hasOwnProperty_1$1,isSymbol$2$1=isSymbol$5$1,tryToString$4$1=tryToString$6$1,shared$1$1=sharedExports$1,NATIVE_SYMBOL_REGISTRY$2=symbolRegistryDetection$1,SymbolToStringRegistry$2=shared$1$1("symbol-to-string-registry");$$L$1({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL_REGISTRY$2},{keyFor:function o(e){if(!isSymbol$2$1(e))throw new TypeError(tryToString$4$1(e)+" is not a symbol");if(hasOwn$a$1(SymbolToStringRegistry$2,e))return SymbolToStringRegistry$2[e]}});var uncurryThis$d$1=functionUncurryThis$1,arraySlice$5$1=uncurryThis$d$1([].slice),uncurryThis$c$1=functionUncurryThis$1,isArray$b$1=isArray$e$1,isCallable$a$1=isCallable$m,classof$8$1=classofRaw$2$1,toString$4$1=toString$7$1,push$9$1=uncurryThis$c$1([].push),getJsonReplacerFunction$1=function(o){if(isCallable$a$1(o))return o;if(isArray$b$1(o)){for(var e=o.length,s=[],h=0;h<e;h++){var b=o[h];typeof b=="string"?push$9$1(s,b):(typeof b=="number"||classof$8$1(b)==="Number"||classof$8$1(b)==="String")&&push$9$1(s,toString$4$1(b))}var _e=s.length,rt=!0;return function(at,st){if(rt)return rt=!1,st;if(isArray$b$1(this))return st;for(var ot=0;ot<_e;ot++)if(s[ot]===at)return st}}},$$K$1=_export$1,getBuiltIn$9$1=getBuiltIn$f,apply$4$1=functionApply$1,call$c$1=functionCall$1,uncurryThis$b$1=functionUncurryThis$1,fails$i$1=fails$u$1,isCallable$9$1=isCallable$m,isSymbol$1$1=isSymbol$5$1,arraySlice$4$1=arraySlice$5$1,getReplacerFunction$1=getJsonReplacerFunction$1,NATIVE_SYMBOL$1$1=symbolConstructorDetection$1,$String$1$1=String,$stringify$1=getBuiltIn$9$1("JSON","stringify"),exec$3=uncurryThis$b$1(/./.exec),charAt$2$1=uncurryThis$b$1("".charAt),charCodeAt$1$1=uncurryThis$b$1("".charCodeAt),replace$1$1=uncurryThis$b$1("".replace),numberToString$1=uncurryThis$b$1(1 .toString),tester$1=/[\uD800-\uDFFF]/g,low$1=/^[\uD800-\uDBFF]$/,hi$1=/^[\uDC00-\uDFFF]$/,WRONG_SYMBOLS_CONVERSION$1=!NATIVE_SYMBOL$1$1||fails$i$1(function(){var o=getBuiltIn$9$1("Symbol")("stringify detection");return $stringify$1([o])!=="[null]"||$stringify$1({a:o})!=="{}"||$stringify$1(Object(o))!=="{}"}),ILL_FORMED_UNICODE$1=fails$i$1(function(){return $stringify$1("\uDF06\uD834")!=='"\\udf06\\ud834"'||$stringify$1("\uDEAD")!=='"\\udead"'}),stringifyWithSymbolsFix$1=function(o,e){var s=arraySlice$4$1(arguments),h=getReplacerFunction$1(e);if(!(!isCallable$9$1(h)&&(o===void 0||isSymbol$1$1(o))))return s[1]=function(b,_e){if(isCallable$9$1(h)&&(_e=call$c$1(h,this,$String$1$1(b),_e)),!isSymbol$1$1(_e))return _e},apply$4$1($stringify$1,null,s)},fixIllFormed$1=function(o,e,s){var h=charAt$2$1(s,e-1),b=charAt$2$1(s,e+1);return exec$3(low$1,o)&&!exec$3(hi$1,b)||exec$3(hi$1,o)&&!exec$3(low$1,h)?"\\u"+numberToString$1(charCodeAt$1$1(o,0),16):o};$stringify$1&&$$K$1({target:"JSON",stat:!0,arity:3,forced:WRONG_SYMBOLS_CONVERSION$1||ILL_FORMED_UNICODE$1},{stringify:function(e,s,h){var b=arraySlice$4$1(arguments),_e=apply$4$1(WRONG_SYMBOLS_CONVERSION$1?stringifyWithSymbolsFix$1:$stringify$1,null,b);return ILL_FORMED_UNICODE$1&&typeof _e=="string"?replace$1$1(_e,tester$1,fixIllFormed$1):_e}});var $$J$1=_export$1,NATIVE_SYMBOL$6=symbolConstructorDetection$1,fails$h$1=fails$u$1,getOwnPropertySymbolsModule$2$1=objectGetOwnPropertySymbols$1,toObject$a$1=toObject$e$1,FORCED$5$1=!NATIVE_SYMBOL$6||fails$h$1(function(){getOwnPropertySymbolsModule$2$1.f(1)});$$J$1({target:"Object",stat:!0,forced:FORCED$5$1},{getOwnPropertySymbols:function o(e){var s=getOwnPropertySymbolsModule$2$1.f;return s?s(toObject$a$1(e)):[]}});var defineWellKnownSymbol$k$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$k$1("asyncIterator");var defineWellKnownSymbol$j$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$j$1("hasInstance");var defineWellKnownSymbol$i$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$i$1("isConcatSpreadable");var defineWellKnownSymbol$h$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$h$1("iterator");var defineWellKnownSymbol$g$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$g$1("match");var defineWellKnownSymbol$f$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$f$1("matchAll");var defineWellKnownSymbol$e$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$e$1("replace");var defineWellKnownSymbol$d$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$d$1("search");var defineWellKnownSymbol$c$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$c$1("species");var defineWellKnownSymbol$b$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$b$1("split");var defineWellKnownSymbol$a$1=wellKnownSymbolDefine$1,defineSymbolToPrimitive$2=symbolDefineToPrimitive$1;defineWellKnownSymbol$a$1("toPrimitive");defineSymbolToPrimitive$2();var getBuiltIn$8$1=getBuiltIn$f,defineWellKnownSymbol$9$1=wellKnownSymbolDefine$1,setToStringTag$5$1=setToStringTag$7;defineWellKnownSymbol$9$1("toStringTag");setToStringTag$5$1(getBuiltIn$8$1("Symbol"),"Symbol");var defineWellKnownSymbol$8$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$8$1("unscopables");var global$d$1=global$p,setToStringTag$4$1=setToStringTag$7;setToStringTag$4$1(global$d$1.JSON,"JSON",!0);var path$j$1=path$o$1,symbol$5$1=path$j$1.Symbol,iterators$1={},DESCRIPTORS$9$1=descriptors$1,hasOwn$9$1=hasOwnProperty_1$1,FunctionPrototype$2$1=Function.prototype,getDescriptor$1=DESCRIPTORS$9$1&&Object.getOwnPropertyDescriptor,EXISTS$2=hasOwn$9$1(FunctionPrototype$2$1,"name"),PROPER$1=EXISTS$2&&(function o(){}).name==="something",CONFIGURABLE$2=EXISTS$2&&(!DESCRIPTORS$9$1||DESCRIPTORS$9$1&&getDescriptor$1(FunctionPrototype$2$1,"name").configurable),functionName$1={EXISTS:EXISTS$2,PROPER:PROPER$1,CONFIGURABLE:CONFIGURABLE$2},fails$g$1=fails$u$1,correctPrototypeGetter$1=!fails$g$1(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype}),hasOwn$8$1=hasOwnProperty_1$1,isCallable$8$1=isCallable$m,toObject$9$1=toObject$e$1,sharedKey$5=sharedKey$4$1,CORRECT_PROTOTYPE_GETTER$1$1=correctPrototypeGetter$1,IE_PROTO$2=sharedKey$5("IE_PROTO"),$Object$6=Object,ObjectPrototype$1$1=$Object$6.prototype,objectGetPrototypeOf$1=CORRECT_PROTOTYPE_GETTER$1$1?$Object$6.getPrototypeOf:function(o){var e=toObject$9$1(o);if(hasOwn$8$1(e,IE_PROTO$2))return e[IE_PROTO$2];var s=e.constructor;return isCallable$8$1(s)&&e instanceof s?s.prototype:e instanceof $Object$6?ObjectPrototype$1$1:null},fails$f$1=fails$u$1,isCallable$7$1=isCallable$m,isObject$9$1=isObject$h$1,create$b=objectCreate$1,getPrototypeOf$7$1=objectGetPrototypeOf$1,defineBuiltIn$3$1=defineBuiltIn$6,wellKnownSymbol$c$1=wellKnownSymbol$n,ITERATOR$4$1=wellKnownSymbol$c$1("iterator"),BUGGY_SAFARI_ITERATORS$1$1=!1,IteratorPrototype$1$1,PrototypeOfArrayIteratorPrototype$1,arrayIterator$1;[].keys&&(arrayIterator$1=[].keys(),"next"in arrayIterator$1?(PrototypeOfArrayIteratorPrototype$1=getPrototypeOf$7$1(getPrototypeOf$7$1(arrayIterator$1)),PrototypeOfArrayIteratorPrototype$1!==Object.prototype&&(IteratorPrototype$1$1=PrototypeOfArrayIteratorPrototype$1)):BUGGY_SAFARI_ITERATORS$1$1=!0);var NEW_ITERATOR_PROTOTYPE$1=!isObject$9$1(IteratorPrototype$1$1)||fails$f$1(function(){var o={};return IteratorPrototype$1$1[ITERATOR$4$1].call(o)!==o});NEW_ITERATOR_PROTOTYPE$1?IteratorPrototype$1$1={}:IteratorPrototype$1$1=create$b(IteratorPrototype$1$1);isCallable$7$1(IteratorPrototype$1$1[ITERATOR$4$1])||defineBuiltIn$3$1(IteratorPrototype$1$1,ITERATOR$4$1,function(){return this});var iteratorsCore$1={IteratorPrototype:IteratorPrototype$1$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1$1},IteratorPrototype$2=iteratorsCore$1.IteratorPrototype,create$a$1=objectCreate$1,createPropertyDescriptor$2$1=createPropertyDescriptor$7,setToStringTag$3$1=setToStringTag$7,Iterators$5$1=iterators$1,returnThis$1$1=function(){return this},iteratorCreateConstructor$1=function(o,e,s,h){var b=e+" Iterator";return o.prototype=create$a$1(IteratorPrototype$2,{next:createPropertyDescriptor$2$1(+!h,s)}),setToStringTag$3$1(o,b,!1,!0),Iterators$5$1[b]=returnThis$1$1,o},uncurryThis$a$1=functionUncurryThis$1,aCallable$b=aCallable$e,functionUncurryThisAccessor$1=function(o,e,s){try{return uncurryThis$a$1(aCallable$b(Object.getOwnPropertyDescriptor(o,e)[s]))}catch{}},isCallable$6$1=isCallable$m,$String$6=String,$TypeError$9$1=TypeError,aPossiblePrototype$1$1=function(o){if(typeof o=="object"||isCallable$6$1(o))return o;throw new $TypeError$9$1("Can't set "+$String$6(o)+" as a prototype")},uncurryThisAccessor$1=functionUncurryThisAccessor$1,anObject$8$1=anObject$d$1,aPossiblePrototype$2=aPossiblePrototype$1$1,objectSetPrototypeOf$1=Object.setPrototypeOf||("__proto__"in{}?function(){var o=!1,e={},s;try{s=uncurryThisAccessor$1(Object.prototype,"__proto__","set"),s(e,[]),o=e instanceof Array}catch{}return function(b,_e){return anObject$8$1(b),aPossiblePrototype$2(_e),o?s(b,_e):b.__proto__=_e,b}}():void 0),$$I$1=_export$1,call$b$1=functionCall$1,FunctionName$1=functionName$1,createIteratorConstructor$1=iteratorCreateConstructor$1,getPrototypeOf$6$1=objectGetPrototypeOf$1,setToStringTag$2$1=setToStringTag$7,defineBuiltIn$2$1=defineBuiltIn$6,wellKnownSymbol$b$1=wellKnownSymbol$n,Iterators$4$1=iterators$1,IteratorsCore$1=iteratorsCore$1,PROPER_FUNCTION_NAME$1=FunctionName$1.PROPER,BUGGY_SAFARI_ITERATORS$2=IteratorsCore$1.BUGGY_SAFARI_ITERATORS,ITERATOR$3$1=wellKnownSymbol$b$1("iterator"),KEYS$1="keys",VALUES$1="values",ENTRIES$1="entries",returnThis$2=function(){return this},iteratorDefine$1=function(o,e,s,h,b,_e,rt){createIteratorConstructor$1(s,e,h);var at=function(ct){if(ct===b&&d)return d;if(!BUGGY_SAFARI_ITERATORS$2&&ct&&ct in nt)return nt[ct];switch(ct){case KEYS$1:return function(){return new s(this,ct)};case VALUES$1:return function(){return new s(this,ct)};case ENTRIES$1:return function(){return new s(this,ct)}}return function(){return new s(this)}},st=e+" Iterator",ot=!1,nt=o.prototype,et=nt[ITERATOR$3$1]||nt["@@iterator"]||b&&nt[b],d=!BUGGY_SAFARI_ITERATORS$2&&et||at(b),_=e==="Array"&&nt.entries||et,tt,lt,ut;if(_&&(tt=getPrototypeOf$6$1(_.call(new o)),tt!==Object.prototype&&tt.next&&(setToStringTag$2$1(tt,st,!0,!0),Iterators$4$1[st]=returnThis$2)),PROPER_FUNCTION_NAME$1&&b===VALUES$1&&et&&et.name!==VALUES$1&&(ot=!0,d=function(){return call$b$1(et,this)}),b)if(lt={values:at(VALUES$1),keys:_e?d:at(KEYS$1),entries:at(ENTRIES$1)},rt)for(ut in lt)(BUGGY_SAFARI_ITERATORS$2||ot||!(ut in nt))&&defineBuiltIn$2$1(nt,ut,lt[ut]);else $$I$1({target:e,proto:!0,forced:BUGGY_SAFARI_ITERATORS$2||ot},lt);return rt&&nt[ITERATOR$3$1]!==d&&defineBuiltIn$2$1(nt,ITERATOR$3$1,d,{name:b}),Iterators$4$1[e]=d,lt},createIterResultObject$3$1=function(o,e){return{value:o,done:e}},toIndexedObject$3$1=toIndexedObject$a$1,Iterators$3$1=iterators$1,InternalStateModule$4$1=internalState$1;objectDefineProperty$1.f;var defineIterator$2$1=iteratorDefine$1,createIterResultObject$2$1=createIterResultObject$3$1,ARRAY_ITERATOR$1="Array Iterator",setInternalState$4$1=InternalStateModule$4$1.set,getInternalState$1$1=InternalStateModule$4$1.getterFor(ARRAY_ITERATOR$1);defineIterator$2$1(Array,"Array",function(o,e){setInternalState$4$1(this,{type:ARRAY_ITERATOR$1,target:toIndexedObject$3$1(o),index:0,kind:e})},function(){var o=getInternalState$1$1(this),e=o.target,s=o.index++;if(!e||s>=e.length)return o.target=void 0,createIterResultObject$2$1(void 0,!0);switch(o.kind){case"keys":return createIterResultObject$2$1(s,!1);case"values":return createIterResultObject$2$1(e[s],!1)}return createIterResultObject$2$1([s,e[s]],!1)},"values");Iterators$3$1.Arguments=Iterators$3$1.Array;var domIterables$1={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},DOMIterables$4=domIterables$1,global$c$1=global$p,classof$7$1=classof$d$1,createNonEnumerableProperty$4$1=createNonEnumerableProperty$9,Iterators$2$1=iterators$1,wellKnownSymbol$a$1=wellKnownSymbol$n,TO_STRING_TAG$1$1=wellKnownSymbol$a$1("toStringTag");for(var COLLECTION_NAME$1 in DOMIterables$4){var Collection$1=global$c$1[COLLECTION_NAME$1],CollectionPrototype$1=Collection$1&&Collection$1.prototype;CollectionPrototype$1&&classof$7$1(CollectionPrototype$1)!==TO_STRING_TAG$1$1&&createNonEnumerableProperty$4$1(CollectionPrototype$1,TO_STRING_TAG$1$1,COLLECTION_NAME$1),Iterators$2$1[COLLECTION_NAME$1]=Iterators$2$1.Array}var parent$15$1=symbol$5$1,symbol$4$1=parent$15$1,wellKnownSymbol$9$1=wellKnownSymbol$n,defineProperty$4$1=objectDefineProperty$1.f,METADATA$1$1=wellKnownSymbol$9$1("metadata"),FunctionPrototype$1$1=Function.prototype;FunctionPrototype$1$1[METADATA$1$1]===void 0&&defineProperty$4$1(FunctionPrototype$1$1,METADATA$1$1,{value:null});var defineWellKnownSymbol$7$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$7$1("asyncDispose");var defineWellKnownSymbol$6$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$6$1("dispose");var defineWellKnownSymbol$5$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$5$1("metadata");var parent$14$1=symbol$4$1,symbol$3$1=parent$14$1,getBuiltIn$7$1=getBuiltIn$f,uncurryThis$9$1=functionUncurryThis$1,Symbol$2$1=getBuiltIn$7$1("Symbol"),keyFor$1=Symbol$2$1.keyFor,thisSymbolValue$1$1=uncurryThis$9$1(Symbol$2$1.prototype.valueOf),symbolIsRegistered$1=Symbol$2$1.isRegisteredSymbol||function o(e){try{return keyFor$1(thisSymbolValue$1$1(e))!==void 0}catch{return!1}},$$H$1=_export$1,isRegisteredSymbol$1$1=symbolIsRegistered$1;$$H$1({target:"Symbol",stat:!0},{isRegisteredSymbol:isRegisteredSymbol$1$1});var shared$8=sharedExports$1,getBuiltIn$6$1=getBuiltIn$f,uncurryThis$8$1=functionUncurryThis$1,isSymbol$6=isSymbol$5$1,wellKnownSymbol$8$1=wellKnownSymbol$n,Symbol$1$1=getBuiltIn$6$1("Symbol"),$isWellKnownSymbol$1=Symbol$1$1.isWellKnownSymbol,getOwnPropertyNames$5=getBuiltIn$6$1("Object","getOwnPropertyNames"),thisSymbolValue$2=uncurryThis$8$1(Symbol$1$1.prototype.valueOf),WellKnownSymbolsStore$3=shared$8("wks");for(var i$1=0,symbolKeys$1=getOwnPropertyNames$5(Symbol$1$1),symbolKeysLength$1=symbolKeys$1.length;i$1<symbolKeysLength$1;i$1++)try{var symbolKey$1=symbolKeys$1[i$1];isSymbol$6(Symbol$1$1[symbolKey$1])&&wellKnownSymbol$8$1(symbolKey$1)}catch{}var symbolIsWellKnown$1=function o(e){if($isWellKnownSymbol$1&&$isWellKnownSymbol$1(e))return!0;try{for(var s=thisSymbolValue$2(e),h=0,b=getOwnPropertyNames$5(WellKnownSymbolsStore$3),_e=b.length;h<_e;h++)if(WellKnownSymbolsStore$3[b[h]]==s)return!0}catch{}return!1},$$G$1=_export$1,isWellKnownSymbol$1$1=symbolIsWellKnown$1;$$G$1({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:isWellKnownSymbol$1$1});var defineWellKnownSymbol$4$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$4$1("matcher");var defineWellKnownSymbol$3$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$3$1("observable");var $$F$1=_export$1,isRegisteredSymbol$2=symbolIsRegistered$1;$$F$1({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:isRegisteredSymbol$2});var $$E$1=_export$1,isWellKnownSymbol$2=symbolIsWellKnown$1;$$E$1({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:isWellKnownSymbol$2});var defineWellKnownSymbol$2$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$2$1("metadataKey");var defineWellKnownSymbol$1$1=wellKnownSymbolDefine$1;defineWellKnownSymbol$1$1("patternMatch");var defineWellKnownSymbol$m=wellKnownSymbolDefine$1;defineWellKnownSymbol$m("replaceAll");var parent$13$1=symbol$3$1,symbol$2$1=parent$13$1,symbol$1$1=symbol$2$1,_Symbol$1$1=getDefaultExportFromCjs$1(symbol$1$1),uncurryThis$7$1=functionUncurryThis$1,toIntegerOrInfinity$1$1=toIntegerOrInfinity$4$1,toString$3$1=toString$7$1,requireObjectCoercible$6=requireObjectCoercible$3$1,charAt$1$1=uncurryThis$7$1("".charAt),charCodeAt$2=uncurryThis$7$1("".charCodeAt),stringSlice$2=uncurryThis$7$1("".slice),createMethod$1$1=function(o){return function(e,s){var h=toString$3$1(requireObjectCoercible$6(e)),b=toIntegerOrInfinity$1$1(s),_e=h.length,rt,at;return b<0||b>=_e?o?"":void 0:(rt=charCodeAt$2(h,b),rt<55296||rt>56319||b+1===_e||(at=charCodeAt$2(h,b+1))<56320||at>57343?o?charAt$1$1(h,b):rt:o?stringSlice$2(h,b,b+2):(rt-55296<<10)+(at-56320)+65536)}},stringMultibyte$1={codeAt:createMethod$1$1(!1),charAt:createMethod$1$1(!0)},charAt$4=stringMultibyte$1.charAt,toString$2$1=toString$7$1,InternalStateModule$3$1=internalState$1,defineIterator$1$1=iteratorDefine$1,createIterResultObject$1$1=createIterResultObject$3$1,STRING_ITERATOR$1="String Iterator",setInternalState$3$1=InternalStateModule$3$1.set,getInternalState$3=InternalStateModule$3$1.getterFor(STRING_ITERATOR$1);defineIterator$1$1(String,"String",function(o){setInternalState$3$1(this,{type:STRING_ITERATOR$1,string:toString$2$1(o),index:0})},function o(){var e=getInternalState$3(this),s=e.string,h=e.index,b;return h>=s.length?createIterResultObject$1$1(void 0,!0):(b=charAt$4(s,h),e.index+=b.length,createIterResultObject$1$1(b,!1))});var WrappedWellKnownSymbolModule$1$1=wellKnownSymbolWrapped$1,iterator$5=WrappedWellKnownSymbolModule$1$1.f("iterator"),parent$12$1=iterator$5,iterator$4$1=parent$12$1,parent$11$1=iterator$4$1,iterator$3$1=parent$11$1,parent$10$1=iterator$3$1,iterator$2$1=parent$10$1,iterator$1$1=iterator$2$1,_Symbol$iterator$1=getDefaultExportFromCjs$1(iterator$1$1);function _typeof$1(o){"@babel/helpers - typeof";return _typeof$1=typeof _Symbol$1$1=="function"&&typeof _Symbol$iterator$1=="symbol"?function(e){return typeof e}:function(e){return e&&typeof _Symbol$1$1=="function"&&e.constructor===_Symbol$1$1&&e!==_Symbol$1$1.prototype?"symbol":typeof e},_typeof$1(o)}var WrappedWellKnownSymbolModule$2=wellKnownSymbolWrapped$1,toPrimitive$4$1=WrappedWellKnownSymbolModule$2.f("toPrimitive"),parent$$$1=toPrimitive$4$1,toPrimitive$3$1=parent$$$1,parent$_$1=toPrimitive$3$1,toPrimitive$2$1=parent$_$1,parent$Z$1=toPrimitive$2$1,toPrimitive$1$1=parent$Z$1,toPrimitive$7=toPrimitive$1$1,_Symbol$toPrimitive$1=getDefaultExportFromCjs$1(toPrimitive$7);function _toPrimitive$1(o,e){if(_typeof$1(o)!=="object"||o===null)return o;var s=o[_Symbol$toPrimitive$1];if(s!==void 0){var h=s.call(o,e||"default");if(_typeof$1(h)!=="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}function _toPropertyKey$1(o){var e=_toPrimitive$1(o,"string");return _typeof$1(e)==="symbol"?e:String(e)}function _defineProperties$1(o,e){for(var s=0;s<e.length;s++){var h=e[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),_Object$defineProperty$1$1(o,_toPropertyKey$1(h.key),h)}}function _createClass$1(o,e,s){return e&&_defineProperties$1(o.prototype,e),s&&_defineProperties$1(o,s),_Object$defineProperty$1$1(o,"prototype",{writable:!1}),o}function _defineProperty$1(o,e,s){return e=_toPropertyKey$1(e),e in o?_Object$defineProperty$1$1(o,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[e]=s,o}var uncurryThis$6$1=functionUncurryThis$1,aCallable$a=aCallable$e,isObject$8$1=isObject$h$1,hasOwn$7$1=hasOwnProperty_1$1,arraySlice$3$1=arraySlice$5$1,NATIVE_BIND$5=functionBindNative$1,$Function$1=Function,concat$6$1=uncurryThis$6$1([].concat),join$1=uncurryThis$6$1([].join),factories$1={},construct$3$1=function(o,e,s){if(!hasOwn$7$1(factories$1,e)){for(var h=[],b=0;b<e;b++)h[b]="a["+b+"]";factories$1[e]=$Function$1("C,a","return new C("+join$1(h,",")+")")}return factories$1[e](o,s)},functionBind$1=NATIVE_BIND$5?$Function$1.bind:function o(e){var s=aCallable$a(this),h=s.prototype,b=arraySlice$3$1(arguments,1),_e=function(){var at=concat$6$1(b,arraySlice$3$1(arguments));return this instanceof _e?construct$3$1(s,at.length,at):s.apply(e,at)};return isObject$8$1(h)&&(_e.prototype=h),_e},$$D$1=_export$1,bind$f=functionBind$1;$$D$1({target:"Function",proto:!0,forced:Function.bind!==bind$f},{bind:bind$f});var global$b$1=global$p,path$i$1=path$o$1,getBuiltInPrototypeMethod$g=function(o,e){var s=path$i$1[o+"Prototype"],h=s&&s[e];if(h)return h;var b=global$b$1[o],_e=b&&b.prototype;return _e&&_e[e]},getBuiltInPrototypeMethod$f=getBuiltInPrototypeMethod$g,bind$e$1=getBuiltInPrototypeMethod$f("Function","bind"),isPrototypeOf$i$1=objectIsPrototypeOf$1,method$f$1=bind$e$1,FunctionPrototype$5=Function.prototype,bind$d$1=function(o){var e=o.bind;return o===FunctionPrototype$5||isPrototypeOf$i$1(FunctionPrototype$5,o)&&e===FunctionPrototype$5.bind?method$f$1:e},parent$Y$1=bind$d$1,bind$c$1=parent$Y$1,bind$b$1=bind$c$1,_bindInstanceProperty$1$1=getDefaultExportFromCjs$1(bind$b$1),aCallable$9=aCallable$e,toObject$8$1=toObject$e$1,IndexedObject$1$1=indexedObject$1,lengthOfArrayLike$8$1=lengthOfArrayLike$d,$TypeError$8$1=TypeError,createMethod$5=function(o){return function(e,s,h,b){aCallable$9(s);var _e=toObject$8$1(e),rt=IndexedObject$1$1(_e),at=lengthOfArrayLike$8$1(_e),st=o?at-1:0,ot=o?-1:1;if(h<2)for(;;){if(st in rt){b=rt[st],st+=ot;break}if(st+=ot,o?st<0:at<=st)throw new $TypeError$8$1("Reduce of empty array with no initial value")}for(;o?st>=0:at>st;st+=ot)st in rt&&(b=s(b,rt[st],st,_e));return b}},arrayReduce$1={left:createMethod$5(!1),right:createMethod$5(!0)},fails$e$1=fails$u$1,arrayMethodIsStrict$4$1=function(o,e){var s=[][o];return!!s&&fails$e$1(function(){s.call(null,e||function(){return 1},1)})},global$a$1=global$p,classof$6$1=classofRaw$2$1,engineIsNode$1=classof$6$1(global$a$1.process)==="process",$$C$1=_export$1,$reduce$1=arrayReduce$1.left,arrayMethodIsStrict$3$1=arrayMethodIsStrict$4$1,CHROME_VERSION$1=engineV8Version$1,IS_NODE$4=engineIsNode$1,CHROME_BUG$1=!IS_NODE$4&&CHROME_VERSION$1>79&&CHROME_VERSION$1<83,FORCED$4$1=CHROME_BUG$1||!arrayMethodIsStrict$3$1("reduce");$$C$1({target:"Array",proto:!0,forced:FORCED$4$1},{reduce:function o(e){var s=arguments.length;return $reduce$1(this,e,s,s>1?arguments[1]:void 0)}});var getBuiltInPrototypeMethod$e=getBuiltInPrototypeMethod$g,reduce$3$1=getBuiltInPrototypeMethod$e("Array","reduce"),isPrototypeOf$h$1=objectIsPrototypeOf$1,method$e$1=reduce$3$1,ArrayPrototype$f$1=Array.prototype,reduce$2$1=function(o){var e=o.reduce;return o===ArrayPrototype$f$1||isPrototypeOf$h$1(ArrayPrototype$f$1,o)&&e===ArrayPrototype$f$1.reduce?method$e$1:e},parent$X$1=reduce$2$1,reduce$1$1=parent$X$1,reduce$4=reduce$1$1,_reduceInstanceProperty$1=getDefaultExportFromCjs$1(reduce$4),$$B$1=_export$1,$filter$1=arrayIteration$1.filter,arrayMethodHasSpeciesSupport$3$1=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$3$1=arrayMethodHasSpeciesSupport$3$1("filter");$$B$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$3$1},{filter:function o(e){return $filter$1(this,e,arguments.length>1?arguments[1]:void 0)}});var getBuiltInPrototypeMethod$d=getBuiltInPrototypeMethod$g,filter$3$1=getBuiltInPrototypeMethod$d("Array","filter"),isPrototypeOf$g$1=objectIsPrototypeOf$1,method$d$1=filter$3$1,ArrayPrototype$e$1=Array.prototype,filter$2$1=function(o){var e=o.filter;return o===ArrayPrototype$e$1||isPrototypeOf$g$1(ArrayPrototype$e$1,o)&&e===ArrayPrototype$e$1.filter?method$d$1:e},parent$W$1=filter$2$1,filter$1$1=parent$W$1,filter$4=filter$1$1,_filterInstanceProperty$1=getDefaultExportFromCjs$1(filter$4),$$A$1=_export$1,$map$1=arrayIteration$1.map,arrayMethodHasSpeciesSupport$2$1=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$2$1=arrayMethodHasSpeciesSupport$2$1("map");$$A$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$2$1},{map:function o(e){return $map$1(this,e,arguments.length>1?arguments[1]:void 0)}});var getBuiltInPrototypeMethod$c=getBuiltInPrototypeMethod$g,map$6$1=getBuiltInPrototypeMethod$c("Array","map"),isPrototypeOf$f$1=objectIsPrototypeOf$1,method$c$1=map$6$1,ArrayPrototype$d$1=Array.prototype,map$5$1=function(o){var e=o.map;return o===ArrayPrototype$d$1||isPrototypeOf$f$1(ArrayPrototype$d$1,o)&&e===ArrayPrototype$d$1.map?method$c$1:e},parent$V$1=map$5$1,map$4$1=parent$V$1,map$3$1=map$4$1,_mapInstanceProperty$1=getDefaultExportFromCjs$1(map$3$1),isArray$a$1=isArray$e$1,lengthOfArrayLike$7$1=lengthOfArrayLike$d,doesNotExceedSafeInteger$2$1=doesNotExceedSafeInteger$4,bind$a$1=functionBindContext$1,flattenIntoArray$1=function(o,e,s,h,b,_e,rt,at){for(var st=b,ot=0,nt=rt?bind$a$1(rt,at):!1,et,d;ot<h;)ot in s&&(et=nt?nt(s[ot],ot,e):s[ot],_e>0&&isArray$a$1(et)?(d=lengthOfArrayLike$7$1(et),st=flattenIntoArray$1(o,e,et,d,st,_e-1)-1):(doesNotExceedSafeInteger$2$1(st+1),o[st]=et),st++),ot++;return st},flattenIntoArray_1=flattenIntoArray$1,$$z$1=_export$1,flattenIntoArray=flattenIntoArray_1,aCallable$8=aCallable$e,toObject$7$1=toObject$e$1,lengthOfArrayLike$6$1=lengthOfArrayLike$d,arraySpeciesCreate$1$1=arraySpeciesCreate$4;$$z$1({target:"Array",proto:!0},{flatMap:function o(e){var s=toObject$7$1(this),h=lengthOfArrayLike$6$1(s),b;return aCallable$8(e),b=arraySpeciesCreate$1$1(s,0),b.length=flattenIntoArray(b,s,s,h,0,1,e,arguments.length>1?arguments[1]:void 0),b}});var getBuiltInPrototypeMethod$b=getBuiltInPrototypeMethod$g;getBuiltInPrototypeMethod$b("Array","flatMap");var call$a$1=functionCall$1,anObject$7$1=anObject$d$1,getMethod$1$1=getMethod$3$1,iteratorClose$2$1=function(o,e,s){var h,b;anObject$7$1(o);try{if(h=getMethod$1$1(o,"return"),!h){if(e==="throw")throw s;return s}h=call$a$1(h,o)}catch(_e){b=!0,h=_e}if(e==="throw")throw s;if(b)throw h;return anObject$7$1(h),s},anObject$6$1=anObject$d$1,iteratorClose$1$1=iteratorClose$2$1,callWithSafeIterationClosing$1$1=function(o,e,s,h){try{return h?e(anObject$6$1(s)[0],s[1]):e(s)}catch(b){iteratorClose$1$1(o,"throw",b)}},wellKnownSymbol$7$1=wellKnownSymbol$n,Iterators$1$1=iterators$1,ITERATOR$2$1=wellKnownSymbol$7$1("iterator"),ArrayPrototype$b$1=Array.prototype,isArrayIteratorMethod$2$1=function(o){return o!==void 0&&(Iterators$1$1.Array===o||ArrayPrototype$b$1[ITERATOR$2$1]===o)},classof$5$1=classof$d$1,getMethod$4=getMethod$3$1,isNullOrUndefined$3$1=isNullOrUndefined$6$1,Iterators$6=iterators$1,wellKnownSymbol$6$1=wellKnownSymbol$n,ITERATOR$1$1=wellKnownSymbol$6$1("iterator"),getIteratorMethod$9$1=function(o){if(!isNullOrUndefined$3$1(o))return getMethod$4(o,ITERATOR$1$1)||getMethod$4(o,"@@iterator")||Iterators$6[classof$5$1(o)]},call$9$1=functionCall$1,aCallable$7$1=aCallable$e,anObject$5$1=anObject$d$1,tryToString$3$1=tryToString$6$1,getIteratorMethod$8$1=getIteratorMethod$9$1,$TypeError$7$1=TypeError,getIterator$8=function(o,e){var s=arguments.length<2?getIteratorMethod$8$1(o):e;if(aCallable$7$1(s))return anObject$5$1(call$9$1(s,o));throw new $TypeError$7$1(tryToString$3$1(o)+" is not iterable")},bind$9$1=functionBindContext$1,call$8$1=functionCall$1,toObject$6$1=toObject$e$1,callWithSafeIterationClosing$2=callWithSafeIterationClosing$1$1,isArrayIteratorMethod$1$1=isArrayIteratorMethod$2$1,isConstructor$2$1=isConstructor$4$1,lengthOfArrayLike$5$1=lengthOfArrayLike$d,createProperty$3$1=createProperty$6$1,getIterator$7=getIterator$8,getIteratorMethod$7$1=getIteratorMethod$9$1,$Array$1$1=Array,arrayFrom$1=function o(e){var s=toObject$6$1(e),h=isConstructor$2$1(this),b=arguments.length,_e=b>1?arguments[1]:void 0,rt=_e!==void 0;rt&&(_e=bind$9$1(_e,b>2?arguments[2]:void 0));var at=getIteratorMethod$7$1(s),st=0,ot,nt,et,d,_,tt;if(at&&!(this===$Array$1$1&&isArrayIteratorMethod$1$1(at)))for(d=getIterator$7(s,at),_=d.next,nt=h?new this:[];!(et=call$8$1(_,d)).done;st++)tt=rt?callWithSafeIterationClosing$2(d,_e,[et.value,st],!0):et.value,createProperty$3$1(nt,st,tt);else for(ot=lengthOfArrayLike$5$1(s),nt=h?new this(ot):$Array$1$1(ot);ot>st;st++)tt=rt?_e(s[st],st):s[st],createProperty$3$1(nt,st,tt);return nt.length=st,nt},wellKnownSymbol$5$1=wellKnownSymbol$n,ITERATOR$7=wellKnownSymbol$5$1("iterator"),SAFE_CLOSING$1=!1;try{var called$1=0,iteratorWithReturn$1={next:function(){return{done:!!called$1++}},return:function(){SAFE_CLOSING$1=!0}};iteratorWithReturn$1[ITERATOR$7]=function(){return this},Array.from(iteratorWithReturn$1,function(){throw 2})}catch(o){}var checkCorrectnessOfIteration$2=function(o,e){try{if(!e&&!SAFE_CLOSING$1)return!1}catch{return!1}var s=!1;try{var h={};h[ITERATOR$7]=function(){return{next:function(){return{done:s=!0}}}},o(h)}catch{}return s},$$y$1=_export$1,from$6$1=arrayFrom$1,checkCorrectnessOfIteration$1$1=checkCorrectnessOfIteration$2,INCORRECT_ITERATION$1=!checkCorrectnessOfIteration$1$1(function(o){Array.from(o)});$$y$1({target:"Array",stat:!0,forced:INCORRECT_ITERATION$1},{from:from$6$1});var path$h$1=path$o$1,from$5$1=path$h$1.Array.from,parent$T$1=from$5$1,from$4$1=parent$T$1,from$3$1=from$4$1,_Array$from$1$1=getDefaultExportFromCjs$1(from$3$1),getIteratorMethod$6$1=getIteratorMethod$9$1,getIteratorMethod_1$1=getIteratorMethod$6$1,parent$S$1=getIteratorMethod_1$1,getIteratorMethod$5$1=parent$S$1,parent$R$1=getIteratorMethod$5$1,getIteratorMethod$4$1=parent$R$1,parent$Q$1=getIteratorMethod$4$1,getIteratorMethod$3$1=parent$Q$1,getIteratorMethod$2$1=getIteratorMethod$3$1,_getIteratorMethod$1$1=getDefaultExportFromCjs$1(getIteratorMethod$2$1),getIteratorMethod$1$1=getIteratorMethod$2$1,_getIteratorMethod$2=getDefaultExportFromCjs$1(getIteratorMethod$1$1),$$x$1=_export$1,isArray$9$1=isArray$e$1;$$x$1({target:"Array",stat:!0},{isArray:isArray$9$1});var path$g$1=path$o$1,isArray$8$1=path$g$1.Array.isArray,parent$P$1=isArray$8$1,isArray$7$1=parent$P$1,parent$O$1=isArray$7$1,isArray$6$1=parent$O$1,parent$N$1=isArray$6$1,isArray$5$1=parent$N$1,isArray$4$1=isArray$5$1,_Array$isArray$1$1=getDefaultExportFromCjs$1(isArray$4$1);function _arrayWithHoles$1(o){if(_Array$isArray$1$1(o))return o}var DESCRIPTORS$8$1=descriptors$1,isArray$3$1=isArray$e$1,$TypeError$6$1=TypeError,getOwnPropertyDescriptor$5$1=Object.getOwnPropertyDescriptor,SILENT_ON_NON_WRITABLE_LENGTH_SET$1=DESCRIPTORS$8$1&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}}(),arraySetLength$1=SILENT_ON_NON_WRITABLE_LENGTH_SET$1?function(o,e){if(isArray$3$1(o)&&!getOwnPropertyDescriptor$5$1(o,"length").writable)throw new $TypeError$6$1("Cannot set read only .length");return o.length=e}:function(o,e){return o.length=e},$$w$1=_export$1,toObject$5$1=toObject$e$1,lengthOfArrayLike$4$1=lengthOfArrayLike$d,setArrayLength$1$1=arraySetLength$1,doesNotExceedSafeInteger$1$1=doesNotExceedSafeInteger$4,fails$d$1=fails$u$1,INCORRECT_TO_LENGTH$1=fails$d$1(function(){return[].push.call({length:4294967296},1)!==4294967297}),properErrorOnNonWritableLength$1=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(o){return o instanceof TypeError}},FORCED$3$1=INCORRECT_TO_LENGTH$1||!properErrorOnNonWritableLength$1();$$w$1({target:"Array",proto:!0,arity:1,forced:FORCED$3$1},{push:function o(e){var s=toObject$5$1(this),h=lengthOfArrayLike$4$1(s),b=arguments.length;doesNotExceedSafeInteger$1$1(h+b);for(var _e=0;_e<b;_e++)s[h]=arguments[_e],h++;return setArrayLength$1$1(s,h),h}});var getBuiltInPrototypeMethod$a=getBuiltInPrototypeMethod$g,push$8$1=getBuiltInPrototypeMethod$a("Array","push"),isPrototypeOf$d$1=objectIsPrototypeOf$1,method$a$1=push$8$1,ArrayPrototype$a$1=Array.prototype,push$7$1=function(o){var e=o.push;return o===ArrayPrototype$a$1||isPrototypeOf$d$1(ArrayPrototype$a$1,o)&&e===ArrayPrototype$a$1.push?method$a$1:e},parent$M$1=push$7$1,push$6$1=parent$M$1,parent$L$1=push$6$1,push$5$1=parent$L$1,parent$K$1=push$5$1,push$4$1=parent$K$1,push$3$1=push$4$1,_pushInstanceProperty$1=getDefaultExportFromCjs$1(push$3$1);function _iterableToArrayLimit$1(o,e){var s=o==null?null:typeof _Symbol$1$1<"u"&&_getIteratorMethod$1$1(o)||o["@@iterator"];if(s!=null){var h,b,_e,rt,at=[],st=!0,ot=!1;try{if(_e=(s=s.call(o)).next,e===0){if(Object(s)!==s)return;st=!1}else for(;!(st=(h=_e.call(s)).done)&&(_pushInstanceProperty$1(at).call(at,h.value),at.length!==e);st=!0);}catch(nt){ot=!0,b=nt}finally{try{if(!st&&s.return!=null&&(rt=s.return(),Object(rt)!==rt))return}finally{if(ot)throw b}}return at}}var $$v$1=_export$1,isArray$2$1=isArray$e$1,isConstructor$1$1=isConstructor$4$1,isObject$7$1=isObject$h$1,toAbsoluteIndex$1$1=toAbsoluteIndex$4$1,lengthOfArrayLike$3$1=lengthOfArrayLike$d,toIndexedObject$2$1=toIndexedObject$a$1,createProperty$2$1=createProperty$6$1,wellKnownSymbol$4$1=wellKnownSymbol$n,arrayMethodHasSpeciesSupport$1$1=arrayMethodHasSpeciesSupport$5$1,nativeSlice$1=arraySlice$5$1,HAS_SPECIES_SUPPORT$1$1=arrayMethodHasSpeciesSupport$1$1("slice"),SPECIES$3$1=wellKnownSymbol$4$1("species"),$Array$4=Array,max$1$1=Math.max;$$v$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1$1},{slice:function o(e,s){var h=toIndexedObject$2$1(this),b=lengthOfArrayLike$3$1(h),_e=toAbsoluteIndex$1$1(e,b),rt=toAbsoluteIndex$1$1(s===void 0?b:s,b),at,st,ot;if(isArray$2$1(h)&&(at=h.constructor,isConstructor$1$1(at)&&(at===$Array$4||isArray$2$1(at.prototype))?at=void 0:isObject$7$1(at)&&(at=at[SPECIES$3$1],at===null&&(at=void 0)),at===$Array$4||at===void 0))return nativeSlice$1(h,_e,rt);for(st=new(at===void 0?$Array$4:at)(max$1$1(rt-_e,0)),ot=0;_e<rt;_e++,ot++)_e in h&&createProperty$2$1(st,ot,h[_e]);return st.length=ot,st}});var getBuiltInPrototypeMethod$9=getBuiltInPrototypeMethod$g,slice$6$1=getBuiltInPrototypeMethod$9("Array","slice"),isPrototypeOf$c$1=objectIsPrototypeOf$1,method$9$1=slice$6$1,ArrayPrototype$9$1=Array.prototype,slice$5$1=function(o){var e=o.slice;return o===ArrayPrototype$9$1||isPrototypeOf$c$1(ArrayPrototype$9$1,o)&&e===ArrayPrototype$9$1.slice?method$9$1:e},parent$J$1=slice$5$1,slice$4$1=parent$J$1,parent$I$1=slice$4$1,slice$3$1=parent$I$1,parent$H$1=slice$3$1,slice$2$1=parent$H$1,slice$1$1=slice$2$1,_sliceInstanceProperty$1$1=getDefaultExportFromCjs$1(slice$1$1),parent$G$1=from$4$1,from$2$1=parent$G$1,parent$F$1=from$2$1,from$1$1=parent$F$1,from$7=from$1$1,_Array$from$2=getDefaultExportFromCjs$1(from$7);function _arrayLikeToArray$4$1(o,e){(e==null||e>o.length)&&(e=o.length);for(var s=0,h=new Array(e);s<e;s++)h[s]=o[s];return h}function _unsupportedIterableToArray$4$1(o,e){var s;if(o){if(typeof o=="string")return _arrayLikeToArray$4$1(o,e);var h=_sliceInstanceProperty$1$1(s=Object.prototype.toString.call(o)).call(s,8,-1);if(h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set")return _Array$from$2(o);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray$4$1(o,e)}}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray$1(o,e){return _arrayWithHoles$1(o)||_iterableToArrayLimit$1(o,e)||_unsupportedIterableToArray$4$1(o,e)||_nonIterableRest$1()}function _arrayWithoutHoles$1(o){if(_Array$isArray$1$1(o))return _arrayLikeToArray$4$1(o)}function _iterableToArray$1(o){if(typeof _Symbol$1$1<"u"&&_getIteratorMethod$1$1(o)!=null||o["@@iterator"]!=null)return _Array$from$2(o)}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray$1(o){return _arrayWithoutHoles$1(o)||_iterableToArray$1(o)||_unsupportedIterableToArray$4$1(o)||_nonIterableSpread$1()}var symbol$6=symbol$4$1,_Symbol$2=getDefaultExportFromCjs$1(symbol$6),getBuiltInPrototypeMethod$8=getBuiltInPrototypeMethod$g,concat$5$1=getBuiltInPrototypeMethod$8("Array","concat"),isPrototypeOf$b$1=objectIsPrototypeOf$1,method$8$1=concat$5$1,ArrayPrototype$8$1=Array.prototype,concat$4$1=function(o){var e=o.concat;return o===ArrayPrototype$8$1||isPrototypeOf$b$1(ArrayPrototype$8$1,o)&&e===ArrayPrototype$8$1.concat?method$8$1:e},parent$E$1=concat$4$1,concat$3$1=parent$E$1,concat$2$1=concat$3$1,_concatInstanceProperty$1=getDefaultExportFromCjs$1(concat$2$1),slice$7=slice$4$1,_sliceInstanceProperty$2=getDefaultExportFromCjs$1(slice$7),getBuiltIn$5$1=getBuiltIn$f,uncurryThis$5$1=functionUncurryThis$1,getOwnPropertyNamesModule$1$1=objectGetOwnPropertyNames$1,getOwnPropertySymbolsModule$1$1=objectGetOwnPropertySymbols$1,anObject$4$1=anObject$d$1,concat$1$1=uncurryThis$5$1([].concat),ownKeys$7=getBuiltIn$5$1("Reflect","ownKeys")||function o(e){var s=getOwnPropertyNamesModule$1$1.f(anObject$4$1(e)),h=getOwnPropertySymbolsModule$1$1.f;return h?concat$1$1(s,h(e)):s},$$u$1=_export$1,ownKeys$6=ownKeys$7;$$u$1({target:"Reflect",stat:!0},{ownKeys:ownKeys$6});var path$f$1=path$o$1,ownKeys$5$1=path$f$1.Reflect.ownKeys,parent$D$1=ownKeys$5$1,ownKeys$4$1=parent$D$1,ownKeys$3$1=ownKeys$4$1,_Reflect$ownKeys=getDefaultExportFromCjs$1(ownKeys$3$1),isArray$1$1=isArray$7$1,_Array$isArray$2=getDefaultExportFromCjs$1(isArray$1$1),$$t$1=_export$1,toObject$4$1=toObject$e$1,nativeKeys$1=objectKeys$3$1,fails$c$1=fails$u$1,FAILS_ON_PRIMITIVES$2$1=fails$c$1(function(){nativeKeys$1(1)});$$t$1({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$2$1},{keys:function o(e){return nativeKeys$1(toObject$4$1(e))}});var path$e$1=path$o$1,keys$6=path$e$1.Object.keys,parent$C$1=keys$6,keys$5=parent$C$1,keys$4=keys$5,_Object$keys$1=getDefaultExportFromCjs$1(keys$4),$forEach$2=arrayIteration$1.forEach,arrayMethodIsStrict$2$1=arrayMethodIsStrict$4$1,STRICT_METHOD$2$1=arrayMethodIsStrict$2$1("forEach"),arrayForEach$1=STRICT_METHOD$2$1?[].forEach:function o(e){return $forEach$2(this,e,arguments.length>1?arguments[1]:void 0)},$$s$1=_export$1,forEach$8=arrayForEach$1;$$s$1({target:"Array",proto:!0,forced:[].forEach!==forEach$8},{forEach:forEach$8});var getBuiltInPrototypeMethod$7=getBuiltInPrototypeMethod$g,forEach$7=getBuiltInPrototypeMethod$7("Array","forEach"),parent$B$1=forEach$7,forEach$6$1=parent$B$1,classof$4$1=classof$d$1,hasOwn$6$1=hasOwnProperty_1$1,isPrototypeOf$a$1=objectIsPrototypeOf$1,method$7$1=forEach$6$1,ArrayPrototype$7$1=Array.prototype,DOMIterables$3={DOMTokenList:!0,NodeList:!0},forEach$5$1=function(o){var e=o.forEach;return o===ArrayPrototype$7$1||isPrototypeOf$a$1(ArrayPrototype$7$1,o)&&e===ArrayPrototype$7$1.forEach||hasOwn$6$1(DOMIterables$3,classof$4$1(o))?method$7$1:e},forEach$4$1=forEach$5$1,_forEachInstanceProperty$1=getDefaultExportFromCjs$1(forEach$4$1),$$r$1=_export$1,uncurryThis$4$1=functionUncurryThis$1,isArray$f=isArray$e$1,nativeReverse$1=uncurryThis$4$1([].reverse),test$1$1=[1,2];$$r$1({target:"Array",proto:!0,forced:String(test$1$1)===String(test$1$1.reverse())},{reverse:function o(){return isArray$f(this)&&(this.length=this.length),nativeReverse$1(this)}});var getBuiltInPrototypeMethod$6=getBuiltInPrototypeMethod$g,reverse$6=getBuiltInPrototypeMethod$6("Array","reverse"),isPrototypeOf$9$1=objectIsPrototypeOf$1,method$6$1=reverse$6,ArrayPrototype$6$1=Array.prototype,reverse$5=function(o){var e=o.reverse;return o===ArrayPrototype$6$1||isPrototypeOf$9$1(ArrayPrototype$6$1,o)&&e===ArrayPrototype$6$1.reverse?method$6$1:e},parent$A$1=reverse$5,reverse$4=parent$A$1,reverse$3$1=reverse$4,_reverseInstanceProperty$1=getDefaultExportFromCjs$1(reverse$3$1),tryToString$2$1=tryToString$6$1,$TypeError$5$1=TypeError,deletePropertyOrThrow$2$1=function(o,e){if(!delete o[e])throw new $TypeError$5$1("Cannot delete property "+tryToString$2$1(e)+" of "+tryToString$2$1(o))},$$q$1=_export$1,toObject$3$1=toObject$e$1,toAbsoluteIndex$6=toAbsoluteIndex$4$1,toIntegerOrInfinity$5=toIntegerOrInfinity$4$1,lengthOfArrayLike$2$1=lengthOfArrayLike$d,setArrayLength$2=arraySetLength$1,doesNotExceedSafeInteger$5=doesNotExceedSafeInteger$4,arraySpeciesCreate$5=arraySpeciesCreate$4,createProperty$1$1=createProperty$6$1,deletePropertyOrThrow$1$1=deletePropertyOrThrow$2$1,arrayMethodHasSpeciesSupport$6=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$4=arrayMethodHasSpeciesSupport$6("splice"),max$4=Math.max,min$3=Math.min;$$q$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$4},{splice:function o(e,s){var h=toObject$3$1(this),b=lengthOfArrayLike$2$1(h),_e=toAbsoluteIndex$6(e,b),rt=arguments.length,at,st,ot,nt,et,d;for(rt===0?at=st=0:rt===1?(at=0,st=b-_e):(at=rt-2,st=min$3(max$4(toIntegerOrInfinity$5(s),0),b-_e)),doesNotExceedSafeInteger$5(b+at-st),ot=arraySpeciesCreate$5(h,st),nt=0;nt<st;nt++)et=_e+nt,et in h&&createProperty$1$1(ot,nt,h[et]);if(ot.length=st,at<st){for(nt=_e;nt<b-st;nt++)et=nt+st,d=nt+at,et in h?h[d]=h[et]:deletePropertyOrThrow$1$1(h,d);for(nt=b;nt>b-st+at;nt--)deletePropertyOrThrow$1$1(h,nt-1)}else if(at>st)for(nt=b-st;nt>_e;nt--)et=nt+st-1,d=nt+at-1,et in h?h[d]=h[et]:deletePropertyOrThrow$1$1(h,d);for(nt=0;nt<at;nt++)h[nt+_e]=arguments[nt+2];return setArrayLength$2(h,b-st+at),ot}});var getBuiltInPrototypeMethod$5=getBuiltInPrototypeMethod$g,splice$3$1=getBuiltInPrototypeMethod$5("Array","splice"),isPrototypeOf$8$1=objectIsPrototypeOf$1,method$5$1=splice$3$1,ArrayPrototype$5$1=Array.prototype,splice$2$1=function(o){var e=o.splice;return o===ArrayPrototype$5$1||isPrototypeOf$8$1(ArrayPrototype$5$1,o)&&e===ArrayPrototype$5$1.splice?method$5$1:e},parent$z$1=splice$2$1,splice$1$1=parent$z$1,splice$5=splice$1$1,_spliceInstanceProperty$1=getDefaultExportFromCjs$1(splice$5),DESCRIPTORS$7$1=descriptors$1,uncurryThis$3$1=functionUncurryThis$1,call$7$1=functionCall$1,fails$b$1=fails$u$1,objectKeys$4=objectKeys$3$1,getOwnPropertySymbolsModule$4=objectGetOwnPropertySymbols$1,propertyIsEnumerableModule$3=objectPropertyIsEnumerable$1,toObject$2$1=toObject$e$1,IndexedObject$4=indexedObject$1,$assign$1=Object.assign,defineProperty$3$1=Object.defineProperty,concat$7=uncurryThis$3$1([].concat),objectAssign$1=!$assign$1||fails$b$1(function(){if(DESCRIPTORS$7$1&&$assign$1({b:1},$assign$1(defineProperty$3$1({},"a",{enumerable:!0,get:function(){defineProperty$3$1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var o={},e={},s=Symbol("assign detection"),h="abcdefghijklmnopqrst";return o[s]=7,h.split("").forEach(function(b){e[b]=b}),$assign$1({},o)[s]!==7||objectKeys$4($assign$1({},e)).join("")!==h})?function o(e,s){for(var h=toObject$2$1(e),b=arguments.length,_e=1,rt=getOwnPropertySymbolsModule$4.f,at=propertyIsEnumerableModule$3.f;b>_e;)for(var st=IndexedObject$4(arguments[_e++]),ot=rt?concat$7(objectKeys$4(st),rt(st)):objectKeys$4(st),nt=ot.length,et=0,d;nt>et;)d=ot[et++],(!DESCRIPTORS$7$1||call$7$1(at,st,d))&&(h[d]=st[d]);return h}:$assign$1,$$p$1=_export$1,assign$5$1=objectAssign$1;$$p$1({target:"Object",stat:!0,arity:2,forced:Object.assign!==assign$5$1},{assign:assign$5$1});var path$d$1=path$o$1,assign$4$1=path$d$1.Object.assign,parent$y$1=assign$4$1,assign$3$1=parent$y$1,assign$2$1=assign$3$1,_Object$assign$1=getDefaultExportFromCjs$1(assign$2$1),$$o$1=_export$1,fails$a$1=fails$u$1,toObject$1$1=toObject$e$1,nativeGetPrototypeOf$1=objectGetPrototypeOf$1,CORRECT_PROTOTYPE_GETTER$2=correctPrototypeGetter$1,FAILS_ON_PRIMITIVES$1$1=fails$a$1(function(){nativeGetPrototypeOf$1(1)});$$o$1({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$1$1,sham:!CORRECT_PROTOTYPE_GETTER$2},{getPrototypeOf:function o(e){return nativeGetPrototypeOf$1(toObject$1$1(e))}});var path$c$1=path$o$1,getPrototypeOf$5$1=path$c$1.Object.getPrototypeOf,parent$x$1=getPrototypeOf$5$1,getPrototypeOf$4$1=parent$x$1,$$n$1=_export$1,DESCRIPTORS$6$1=descriptors$1,create$9$1=objectCreate$1;$$n$1({target:"Object",stat:!0,sham:!DESCRIPTORS$6$1},{create:create$9$1});var path$b$1=path$o$1,Object$3$1=path$b$1.Object,create$8$1=function o(e,s){return Object$3$1.create(e,s)},parent$w$1=create$8$1,create$7$1=parent$w$1,create$6$1=create$7$1,_Object$create$1$1=getDefaultExportFromCjs$1(create$6$1),path$a$1=path$o$1,apply$3$1=functionApply$1;path$a$1.JSON||(path$a$1.JSON={stringify:JSON.stringify});var stringify$2$1=function o(e,s,h){return apply$3$1(path$a$1.JSON.stringify,null,arguments)},parent$v$1=stringify$2$1,stringify$1$1=parent$v$1,stringify$3=stringify$1$1,_JSON$stringify$1=getDefaultExportFromCjs$1(stringify$3),engineIsBun$1=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",$TypeError$4$1=TypeError,validateArgumentsLength$2=function(o,e){if(o<e)throw new $TypeError$4$1("Not enough arguments");return o},global$9$1=global$p,apply$2$1=functionApply$1,isCallable$5$1=isCallable$m,ENGINE_IS_BUN$1=engineIsBun$1,USER_AGENT$1=engineUserAgent$1,arraySlice$2$1=arraySlice$5$1,validateArgumentsLength$1$1=validateArgumentsLength$2,Function$2=global$9$1.Function,WRAP$1=/MSIE .\./.test(USER_AGENT$1)||ENGINE_IS_BUN$1&&function(){var o=global$9$1.Bun.version.split(".");return o.length<3||o[0]==="0"&&(o[1]<3||o[1]==="3"&&o[2]==="0")}(),schedulersFix$2$1=function(o,e){var s=e?2:1;return WRAP$1?function(h,b){var _e=validateArgumentsLength$1$1(arguments.length,1)>s,rt=isCallable$5$1(h)?h:Function$2(h),at=_e?arraySlice$2$1(arguments,s):[],st=_e?function(){apply$2$1(rt,this,at)}:rt;return e?o(st,b):o(st)}:o},$$m$1=_export$1,global$8$1=global$p,schedulersFix$1$1=schedulersFix$2$1,setInterval$3=schedulersFix$1$1(global$8$1.setInterval,!0);$$m$1({global:!0,bind:!0,forced:global$8$1.setInterval!==setInterval$3},{setInterval:setInterval$3});var $$l$1=_export$1,global$7$1=global$p,schedulersFix$3=schedulersFix$2$1,setTimeout$3$1=schedulersFix$3(global$7$1.setTimeout,!0);$$l$1({global:!0,bind:!0,forced:global$7$1.setTimeout!==setTimeout$3$1},{setTimeout:setTimeout$3$1});var path$9$1=path$o$1,setTimeout$2$1=path$9$1.setTimeout,setTimeout$1$1=setTimeout$2$1,_setTimeout$1=getDefaultExportFromCjs$1(setTimeout$1$1),componentEmitter$1={exports:{}};(function(o){function e(h){if(h)return s(h);this._callbacks=new Map}function s(h){return Object.assign(h,e.prototype),h._callbacks=new Map,h}e.prototype.on=function(h,b){const _e=this._callbacks.get(h)??[];return _e.push(b),this._callbacks.set(h,_e),this},e.prototype.once=function(h,b){const _e=(...rt)=>{this.off(h,_e),b.apply(this,rt)};return _e.fn=b,this.on(h,_e),this},e.prototype.off=function(h,b){if(h===void 0&&b===void 0)return this._callbacks.clear(),this;if(b===void 0)return this._callbacks.delete(h),this;const _e=this._callbacks.get(h);if(_e){for(const[rt,at]of _e.entries())if(at===b||at.fn===b){_e.splice(rt,1);break}_e.length===0?this._callbacks.delete(h):this._callbacks.set(h,_e)}return this},e.prototype.emit=function(h,...b){const _e=this._callbacks.get(h);if(_e){const rt=[..._e];for(const at of rt)at.apply(this,b)}return this},e.prototype.listeners=function(h){return this._callbacks.get(h)??[]},e.prototype.listenerCount=function(h){if(h)return this.listeners(h).length;let b=0;for(const _e of this._callbacks.values())b+=_e.length;return b},e.prototype.hasListeners=function(h){return this.listenerCount(h)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,o.exports=e})(componentEmitter$1);var componentEmitterExports$1=componentEmitter$1.exports,Emitter$1=getDefaultExportFromCjs$1(componentEmitterExports$1);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function _extends$1(){return _extends$1=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(o[h]=s[h])}return o},_extends$1.apply(this,arguments)}function _inheritsLoose$1(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.__proto__=e}function _assertThisInitialized$1$1(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}var assign$6;typeof Object.assign!="function"?assign$6=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),h=1;h<arguments.length;h++){var b=arguments[h];if(b!=null)for(var _e in b)b.hasOwnProperty(_e)&&(s[_e]=b[_e])}return s}:assign$6=Object.assign;var assign$1$1=assign$6,VENDOR_PREFIXES$1=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT$1=typeof document>"u"?{style:{}}:document.createElement("div"),TYPE_FUNCTION$1="function",round$1=Math.round,abs$2=Math.abs,now$4=Date.now;function prefixed$1(o,e){for(var s,h,b=e[0].toUpperCase()+e.slice(1),_e=0;_e<VENDOR_PREFIXES$1.length;){if(s=VENDOR_PREFIXES$1[_e],h=s?s+b:e,h in o)return h;_e++}}var win$1;typeof window>"u"?win$1={}:win$1=window;var PREFIXED_TOUCH_ACTION$1=prefixed$1(TEST_ELEMENT$1.style,"touchAction"),NATIVE_TOUCH_ACTION$1=PREFIXED_TOUCH_ACTION$1!==void 0;function getTouchActionProps$1(){if(!NATIVE_TOUCH_ACTION$1)return!1;var o={},e=win$1.CSS&&win$1.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(s){return o[s]=e?win$1.CSS.supports("touch-action",s):!0}),o}var TOUCH_ACTION_COMPUTE$1="compute",TOUCH_ACTION_AUTO$1="auto",TOUCH_ACTION_MANIPULATION$1="manipulation",TOUCH_ACTION_NONE$1="none",TOUCH_ACTION_PAN_X$1="pan-x",TOUCH_ACTION_PAN_Y$1="pan-y",TOUCH_ACTION_MAP$1=getTouchActionProps$1(),MOBILE_REGEX$1=/mobile|tablet|ip(ad|hone|od)|android/i,SUPPORT_TOUCH$1="ontouchstart"in win$1,SUPPORT_POINTER_EVENTS$1=prefixed$1(win$1,"PointerEvent")!==void 0,SUPPORT_ONLY_TOUCH$1=SUPPORT_TOUCH$1&&MOBILE_REGEX$1.test(navigator.userAgent),INPUT_TYPE_TOUCH$1="touch",INPUT_TYPE_PEN$1="pen",INPUT_TYPE_MOUSE$1="mouse",INPUT_TYPE_KINECT$1="kinect",COMPUTE_INTERVAL$1=25,INPUT_START$1=1,INPUT_MOVE$1=2,INPUT_END$1=4,INPUT_CANCEL$1=8,DIRECTION_NONE$1=1,DIRECTION_LEFT$1=2,DIRECTION_RIGHT$1=4,DIRECTION_UP$1=8,DIRECTION_DOWN$1=16,DIRECTION_HORIZONTAL$1=DIRECTION_LEFT$1|DIRECTION_RIGHT$1,DIRECTION_VERTICAL$1=DIRECTION_UP$1|DIRECTION_DOWN$1,DIRECTION_ALL$1=DIRECTION_HORIZONTAL$1|DIRECTION_VERTICAL$1,PROPS_XY$1=["x","y"],PROPS_CLIENT_XY$1=["clientX","clientY"];function each$1(o,e,s){var h;if(o)if(o.forEach)o.forEach(e,s);else if(o.length!==void 0)for(h=0;h<o.length;)e.call(s,o[h],h,o),h++;else for(h in o)o.hasOwnProperty(h)&&e.call(s,o[h],h,o)}function boolOrFn$1(o,e){return typeof o===TYPE_FUNCTION$1?o.apply(e&&e[0]||void 0,e):o}function inStr$1(o,e){return o.indexOf(e)>-1}function cleanTouchActions$1(o){if(inStr$1(o,TOUCH_ACTION_NONE$1))return TOUCH_ACTION_NONE$1;var e=inStr$1(o,TOUCH_ACTION_PAN_X$1),s=inStr$1(o,TOUCH_ACTION_PAN_Y$1);return e&&s?TOUCH_ACTION_NONE$1:e||s?e?TOUCH_ACTION_PAN_X$1:TOUCH_ACTION_PAN_Y$1:inStr$1(o,TOUCH_ACTION_MANIPULATION$1)?TOUCH_ACTION_MANIPULATION$1:TOUCH_ACTION_AUTO$1}var TouchAction$1=function(){function o(s,h){this.manager=s,this.set(h)}var e=o.prototype;return e.set=function(h){h===TOUCH_ACTION_COMPUTE$1&&(h=this.compute()),NATIVE_TOUCH_ACTION$1&&this.manager.element.style&&TOUCH_ACTION_MAP$1[h]&&(this.manager.element.style[PREFIXED_TOUCH_ACTION$1]=h),this.actions=h.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var h=[];return each$1(this.manager.recognizers,function(b){boolOrFn$1(b.options.enable,[b])&&(h=h.concat(b.getTouchAction()))}),cleanTouchActions$1(h.join(" "))},e.preventDefaults=function(h){var b=h.srcEvent,_e=h.offsetDirection;if(this.manager.session.prevented){b.preventDefault();return}var rt=this.actions,at=inStr$1(rt,TOUCH_ACTION_NONE$1)&&!TOUCH_ACTION_MAP$1[TOUCH_ACTION_NONE$1],st=inStr$1(rt,TOUCH_ACTION_PAN_Y$1)&&!TOUCH_ACTION_MAP$1[TOUCH_ACTION_PAN_Y$1],ot=inStr$1(rt,TOUCH_ACTION_PAN_X$1)&&!TOUCH_ACTION_MAP$1[TOUCH_ACTION_PAN_X$1];if(at){var nt=h.pointers.length===1,et=h.distance<2,d=h.deltaTime<250;if(nt&&et&&d)return}if(!(ot&&st)&&(at||st&&_e&DIRECTION_HORIZONTAL$1||ot&&_e&DIRECTION_VERTICAL$1))return this.preventSrc(b)},e.preventSrc=function(h){this.manager.session.prevented=!0,h.preventDefault()},o}();function hasParent$1(o,e){for(;o;){if(o===e)return!0;o=o.parentNode}return!1}function getCenter$1(o){var e=o.length;if(e===1)return{x:round$1(o[0].clientX),y:round$1(o[0].clientY)};for(var s=0,h=0,b=0;b<e;)s+=o[b].clientX,h+=o[b].clientY,b++;return{x:round$1(s/e),y:round$1(h/e)}}function simpleCloneInputData$1(o){for(var e=[],s=0;s<o.pointers.length;)e[s]={clientX:round$1(o.pointers[s].clientX),clientY:round$1(o.pointers[s].clientY)},s++;return{timeStamp:now$4(),pointers:e,center:getCenter$1(e),deltaX:o.deltaX,deltaY:o.deltaY}}function getDistance$1(o,e,s){s||(s=PROPS_XY$1);var h=e[s[0]]-o[s[0]],b=e[s[1]]-o[s[1]];return Math.sqrt(h*h+b*b)}function getAngle$1(o,e,s){s||(s=PROPS_XY$1);var h=e[s[0]]-o[s[0]],b=e[s[1]]-o[s[1]];return Math.atan2(b,h)*180/Math.PI}function getDirection$1(o,e){return o===e?DIRECTION_NONE$1:abs$2(o)>=abs$2(e)?o<0?DIRECTION_LEFT$1:DIRECTION_RIGHT$1:e<0?DIRECTION_UP$1:DIRECTION_DOWN$1}function computeDeltaXY$1(o,e){var s=e.center,h=o.offsetDelta||{},b=o.prevDelta||{},_e=o.prevInput||{};(e.eventType===INPUT_START$1||_e.eventType===INPUT_END$1)&&(b=o.prevDelta={x:_e.deltaX||0,y:_e.deltaY||0},h=o.offsetDelta={x:s.x,y:s.y}),e.deltaX=b.x+(s.x-h.x),e.deltaY=b.y+(s.y-h.y)}function getVelocity$1(o,e,s){return{x:e/o||0,y:s/o||0}}function getScale$1(o,e){return getDistance$1(e[0],e[1],PROPS_CLIENT_XY$1)/getDistance$1(o[0],o[1],PROPS_CLIENT_XY$1)}function getRotation$1(o,e){return getAngle$1(e[1],e[0],PROPS_CLIENT_XY$1)+getAngle$1(o[1],o[0],PROPS_CLIENT_XY$1)}function computeIntervalInputData$1(o,e){var s=o.lastInterval||e,h=e.timeStamp-s.timeStamp,b,_e,rt,at;if(e.eventType!==INPUT_CANCEL$1&&(h>COMPUTE_INTERVAL$1||s.velocity===void 0)){var st=e.deltaX-s.deltaX,ot=e.deltaY-s.deltaY,nt=getVelocity$1(h,st,ot);_e=nt.x,rt=nt.y,b=abs$2(nt.x)>abs$2(nt.y)?nt.x:nt.y,at=getDirection$1(st,ot),o.lastInterval=e}else b=s.velocity,_e=s.velocityX,rt=s.velocityY,at=s.direction;e.velocity=b,e.velocityX=_e,e.velocityY=rt,e.direction=at}function computeInputData$1(o,e){var s=o.session,h=e.pointers,b=h.length;s.firstInput||(s.firstInput=simpleCloneInputData$1(e)),b>1&&!s.firstMultiple?s.firstMultiple=simpleCloneInputData$1(e):b===1&&(s.firstMultiple=!1);var _e=s.firstInput,rt=s.firstMultiple,at=rt?rt.center:_e.center,st=e.center=getCenter$1(h);e.timeStamp=now$4(),e.deltaTime=e.timeStamp-_e.timeStamp,e.angle=getAngle$1(at,st),e.distance=getDistance$1(at,st),computeDeltaXY$1(s,e),e.offsetDirection=getDirection$1(e.deltaX,e.deltaY);var ot=getVelocity$1(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=ot.x,e.overallVelocityY=ot.y,e.overallVelocity=abs$2(ot.x)>abs$2(ot.y)?ot.x:ot.y,e.scale=rt?getScale$1(rt.pointers,h):1,e.rotation=rt?getRotation$1(rt.pointers,h):0,e.maxPointers=s.prevInput?e.pointers.length>s.prevInput.maxPointers?e.pointers.length:s.prevInput.maxPointers:e.pointers.length,computeIntervalInputData$1(s,e);var nt=o.element,et=e.srcEvent,d;et.composedPath?d=et.composedPath()[0]:et.path?d=et.path[0]:d=et.target,hasParent$1(d,nt)&&(nt=d),e.target=nt}function inputHandler$1(o,e,s){var h=s.pointers.length,b=s.changedPointers.length,_e=e&INPUT_START$1&&h-b===0,rt=e&(INPUT_END$1|INPUT_CANCEL$1)&&h-b===0;s.isFirst=!!_e,s.isFinal=!!rt,_e&&(o.session={}),s.eventType=e,computeInputData$1(o,s),o.emit("hammer.input",s),o.recognize(s),o.session.prevInput=s}function splitStr$1(o){return o.trim().split(/\s+/g)}function addEventListeners$1(o,e,s){each$1(splitStr$1(e),function(h){o.addEventListener(h,s,!1)})}function removeEventListeners$1(o,e,s){each$1(splitStr$1(e),function(h){o.removeEventListener(h,s,!1)})}function getWindowForElement$1(o){var e=o.ownerDocument||o;return e.defaultView||e.parentWindow||window}var Input$1=function(){function o(s,h){var b=this;this.manager=s,this.callback=h,this.element=s.element,this.target=s.options.inputTarget,this.domHandler=function(_e){boolOrFn$1(s.options.enable,[s])&&b.handler(_e)},this.init()}var e=o.prototype;return e.handler=function(){},e.init=function(){this.evEl&&addEventListeners$1(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners$1(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners$1(getWindowForElement$1(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&removeEventListeners$1(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners$1(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners$1(getWindowForElement$1(this.element),this.evWin,this.domHandler)},o}();function inArray$1(o,e,s){if(o.indexOf&&!s)return o.indexOf(e);for(var h=0;h<o.length;){if(s&&o[h][s]==e||!s&&o[h]===e)return h;h++}return-1}var POINTER_INPUT_MAP$1={pointerdown:INPUT_START$1,pointermove:INPUT_MOVE$1,pointerup:INPUT_END$1,pointercancel:INPUT_CANCEL$1,pointerout:INPUT_CANCEL$1},IE10_POINTER_TYPE_ENUM$1={2:INPUT_TYPE_TOUCH$1,3:INPUT_TYPE_PEN$1,4:INPUT_TYPE_MOUSE$1,5:INPUT_TYPE_KINECT$1},POINTER_ELEMENT_EVENTS$1="pointerdown",POINTER_WINDOW_EVENTS$1="pointermove pointerup pointercancel";win$1.MSPointerEvent&&!win$1.PointerEvent&&(POINTER_ELEMENT_EVENTS$1="MSPointerDown",POINTER_WINDOW_EVENTS$1="MSPointerMove MSPointerUp MSPointerCancel");var PointerEventInput$1=function(o){_inheritsLoose$1(e,o);function e(){var h,b=e.prototype;return b.evEl=POINTER_ELEMENT_EVENTS$1,b.evWin=POINTER_WINDOW_EVENTS$1,h=o.apply(this,arguments)||this,h.store=h.manager.session.pointerEvents=[],h}var s=e.prototype;return s.handler=function(b){var _e=this.store,rt=!1,at=b.type.toLowerCase().replace("ms",""),st=POINTER_INPUT_MAP$1[at],ot=IE10_POINTER_TYPE_ENUM$1[b.pointerType]||b.pointerType,nt=ot===INPUT_TYPE_TOUCH$1,et=inArray$1(_e,b.pointerId,"pointerId");st&INPUT_START$1&&(b.button===0||nt)?et<0&&(_e.push(b),et=_e.length-1):st&(INPUT_END$1|INPUT_CANCEL$1)&&(rt=!0),!(et<0)&&(_e[et]=b,this.callback(this.manager,st,{pointers:_e,changedPointers:[b],pointerType:ot,srcEvent:b}),rt&&_e.splice(et,1))},e}(Input$1);function toArray$1(o){return Array.prototype.slice.call(o,0)}function uniqueArray$1(o,e,s){for(var h=[],b=[],_e=0;_e<o.length;){var rt=e?o[_e][e]:o[_e];inArray$1(b,rt)<0&&h.push(o[_e]),b[_e]=rt,_e++}return s&&(e?h=h.sort(function(at,st){return at[e]>st[e]}):h=h.sort()),h}var TOUCH_INPUT_MAP$1={touchstart:INPUT_START$1,touchmove:INPUT_MOVE$1,touchend:INPUT_END$1,touchcancel:INPUT_CANCEL$1},TOUCH_TARGET_EVENTS$1="touchstart touchmove touchend touchcancel",TouchInput$1=function(o){_inheritsLoose$1(e,o);function e(){var h;return e.prototype.evTarget=TOUCH_TARGET_EVENTS$1,h=o.apply(this,arguments)||this,h.targetIds={},h}var s=e.prototype;return s.handler=function(b){var _e=TOUCH_INPUT_MAP$1[b.type],rt=getTouches$1.call(this,b,_e);rt&&this.callback(this.manager,_e,{pointers:rt[0],changedPointers:rt[1],pointerType:INPUT_TYPE_TOUCH$1,srcEvent:b})},e}(Input$1);function getTouches$1(o,e){var s=toArray$1(o.touches),h=this.targetIds;if(e&(INPUT_START$1|INPUT_MOVE$1)&&s.length===1)return h[s[0].identifier]=!0,[s,s];var b,_e,rt=toArray$1(o.changedTouches),at=[],st=this.target;if(_e=s.filter(function(ot){return hasParent$1(ot.target,st)}),e===INPUT_START$1)for(b=0;b<_e.length;)h[_e[b].identifier]=!0,b++;for(b=0;b<rt.length;)h[rt[b].identifier]&&at.push(rt[b]),e&(INPUT_END$1|INPUT_CANCEL$1)&&delete h[rt[b].identifier],b++;if(at.length)return[uniqueArray$1(_e.concat(at),"identifier",!0),at]}var MOUSE_INPUT_MAP$1={mousedown:INPUT_START$1,mousemove:INPUT_MOVE$1,mouseup:INPUT_END$1},MOUSE_ELEMENT_EVENTS$1="mousedown",MOUSE_WINDOW_EVENTS$1="mousemove mouseup",MouseInput$1=function(o){_inheritsLoose$1(e,o);function e(){var h,b=e.prototype;return b.evEl=MOUSE_ELEMENT_EVENTS$1,b.evWin=MOUSE_WINDOW_EVENTS$1,h=o.apply(this,arguments)||this,h.pressed=!1,h}var s=e.prototype;return s.handler=function(b){var _e=MOUSE_INPUT_MAP$1[b.type];_e&INPUT_START$1&&b.button===0&&(this.pressed=!0),_e&INPUT_MOVE$1&&b.which!==1&&(_e=INPUT_END$1),this.pressed&&(_e&INPUT_END$1&&(this.pressed=!1),this.callback(this.manager,_e,{pointers:[b],changedPointers:[b],pointerType:INPUT_TYPE_MOUSE$1,srcEvent:b}))},e}(Input$1),DEDUP_TIMEOUT$1=2500,DEDUP_DISTANCE$1=25;function setLastTouch$1(o){var e=o.changedPointers,s=e[0];if(s.identifier===this.primaryTouch){var h={x:s.clientX,y:s.clientY},b=this.lastTouches;this.lastTouches.push(h);var _e=function(){var at=b.indexOf(h);at>-1&&b.splice(at,1)};setTimeout(_e,DEDUP_TIMEOUT$1)}}function recordTouches$1(o,e){o&INPUT_START$1?(this.primaryTouch=e.changedPointers[0].identifier,setLastTouch$1.call(this,e)):o&(INPUT_END$1|INPUT_CANCEL$1)&&setLastTouch$1.call(this,e)}function isSyntheticEvent$1(o){for(var e=o.srcEvent.clientX,s=o.srcEvent.clientY,h=0;h<this.lastTouches.length;h++){var b=this.lastTouches[h],_e=Math.abs(e-b.x),rt=Math.abs(s-b.y);if(_e<=DEDUP_DISTANCE$1&&rt<=DEDUP_DISTANCE$1)return!0}return!1}var TouchMouseInput$1=function(){var o=function(e){_inheritsLoose$1(s,e);function s(b,_e){var rt;return rt=e.call(this,b,_e)||this,rt.handler=function(at,st,ot){var nt=ot.pointerType===INPUT_TYPE_TOUCH$1,et=ot.pointerType===INPUT_TYPE_MOUSE$1;if(!(et&&ot.sourceCapabilities&&ot.sourceCapabilities.firesTouchEvents)){if(nt)recordTouches$1.call(_assertThisInitialized$1$1(_assertThisInitialized$1$1(rt)),st,ot);else if(et&&isSyntheticEvent$1.call(_assertThisInitialized$1$1(_assertThisInitialized$1$1(rt)),ot))return;rt.callback(at,st,ot)}},rt.touch=new TouchInput$1(rt.manager,rt.handler),rt.mouse=new MouseInput$1(rt.manager,rt.handler),rt.primaryTouch=null,rt.lastTouches=[],rt}var h=s.prototype;return h.destroy=function(){this.touch.destroy(),this.mouse.destroy()},s}(Input$1);return o}();function createInputInstance$1(o){var e,s=o.options.inputClass;return s?e=s:SUPPORT_POINTER_EVENTS$1?e=PointerEventInput$1:SUPPORT_ONLY_TOUCH$1?e=TouchInput$1:SUPPORT_TOUCH$1?e=TouchMouseInput$1:e=MouseInput$1,new e(o,inputHandler$1)}function invokeArrayArg$1(o,e,s){return Array.isArray(o)?(each$1(o,s[e],s),!0):!1}var STATE_POSSIBLE$1=1,STATE_BEGAN$1=2,STATE_CHANGED$1=4,STATE_ENDED$1=8,STATE_RECOGNIZED$1=STATE_ENDED$1,STATE_CANCELLED$1=16,STATE_FAILED$1=32,_uniqueId$1=1;function uniqueId$1(){return _uniqueId$1++}function getRecognizerByNameIfManager$1(o,e){var s=e.manager;return s?s.get(o):o}function stateStr$1(o){return o&STATE_CANCELLED$1?"cancel":o&STATE_ENDED$1?"end":o&STATE_CHANGED$1?"move":o&STATE_BEGAN$1?"start":""}var Recognizer$1=function(){function o(s){s===void 0&&(s={}),this.options=_extends$1({enable:!0},s),this.id=uniqueId$1(),this.manager=null,this.state=STATE_POSSIBLE$1,this.simultaneous={},this.requireFail=[]}var e=o.prototype;return e.set=function(h){return assign$1$1(this.options,h),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(h){if(invokeArrayArg$1(h,"recognizeWith",this))return this;var b=this.simultaneous;return h=getRecognizerByNameIfManager$1(h,this),b[h.id]||(b[h.id]=h,h.recognizeWith(this)),this},e.dropRecognizeWith=function(h){return invokeArrayArg$1(h,"dropRecognizeWith",this)?this:(h=getRecognizerByNameIfManager$1(h,this),delete this.simultaneous[h.id],this)},e.requireFailure=function(h){if(invokeArrayArg$1(h,"requireFailure",this))return this;var b=this.requireFail;return h=getRecognizerByNameIfManager$1(h,this),inArray$1(b,h)===-1&&(b.push(h),h.requireFailure(this)),this},e.dropRequireFailure=function(h){if(invokeArrayArg$1(h,"dropRequireFailure",this))return this;h=getRecognizerByNameIfManager$1(h,this);var b=inArray$1(this.requireFail,h);return b>-1&&this.requireFail.splice(b,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(h){return!!this.simultaneous[h.id]},e.emit=function(h){var b=this,_e=this.state;function rt(at){b.manager.emit(at,h)}_e<STATE_ENDED$1&&rt(b.options.event+stateStr$1(_e)),rt(b.options.event),h.additionalEvent&&rt(h.additionalEvent),_e>=STATE_ENDED$1&&rt(b.options.event+stateStr$1(_e))},e.tryEmit=function(h){if(this.canEmit())return this.emit(h);this.state=STATE_FAILED$1},e.canEmit=function(){for(var h=0;h<this.requireFail.length;){if(!(this.requireFail[h].state&(STATE_FAILED$1|STATE_POSSIBLE$1)))return!1;h++}return!0},e.recognize=function(h){var b=assign$1$1({},h);if(!boolOrFn$1(this.options.enable,[this,b])){this.reset(),this.state=STATE_FAILED$1;return}this.state&(STATE_RECOGNIZED$1|STATE_CANCELLED$1|STATE_FAILED$1)&&(this.state=STATE_POSSIBLE$1),this.state=this.process(b),this.state&(STATE_BEGAN$1|STATE_CHANGED$1|STATE_ENDED$1|STATE_CANCELLED$1)&&this.tryEmit(b)},e.process=function(h){},e.getTouchAction=function(){},e.reset=function(){},o}(),TapRecognizer$1=function(o){_inheritsLoose$1(e,o);function e(h){var b;return h===void 0&&(h={}),b=o.call(this,_extends$1({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},h))||this,b.pTime=!1,b.pCenter=!1,b._timer=null,b._input=null,b.count=0,b}var s=e.prototype;return s.getTouchAction=function(){return[TOUCH_ACTION_MANIPULATION$1]},s.process=function(b){var _e=this,rt=this.options,at=b.pointers.length===rt.pointers,st=b.distance<rt.threshold,ot=b.deltaTime<rt.time;if(this.reset(),b.eventType&INPUT_START$1&&this.count===0)return this.failTimeout();if(st&&ot&&at){if(b.eventType!==INPUT_END$1)return this.failTimeout();var nt=this.pTime?b.timeStamp-this.pTime<rt.interval:!0,et=!this.pCenter||getDistance$1(this.pCenter,b.center)<rt.posThreshold;this.pTime=b.timeStamp,this.pCenter=b.center,!et||!nt?this.count=1:this.count+=1,this._input=b;var d=this.count%rt.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){_e.state=STATE_RECOGNIZED$1,_e.tryEmit()},rt.interval),STATE_BEGAN$1):STATE_RECOGNIZED$1}return STATE_FAILED$1},s.failTimeout=function(){var b=this;return this._timer=setTimeout(function(){b.state=STATE_FAILED$1},this.options.interval),STATE_FAILED$1},s.reset=function(){clearTimeout(this._timer)},s.emit=function(){this.state===STATE_RECOGNIZED$1&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Recognizer$1),AttrRecognizer$1=function(o){_inheritsLoose$1(e,o);function e(h){return h===void 0&&(h={}),o.call(this,_extends$1({pointers:1},h))||this}var s=e.prototype;return s.attrTest=function(b){var _e=this.options.pointers;return _e===0||b.pointers.length===_e},s.process=function(b){var _e=this.state,rt=b.eventType,at=_e&(STATE_BEGAN$1|STATE_CHANGED$1),st=this.attrTest(b);return at&&(rt&INPUT_CANCEL$1||!st)?_e|STATE_CANCELLED$1:at||st?rt&INPUT_END$1?_e|STATE_ENDED$1:_e&STATE_BEGAN$1?_e|STATE_CHANGED$1:STATE_BEGAN$1:STATE_FAILED$1},e}(Recognizer$1);function directionStr$1(o){return o===DIRECTION_DOWN$1?"down":o===DIRECTION_UP$1?"up":o===DIRECTION_LEFT$1?"left":o===DIRECTION_RIGHT$1?"right":""}var PanRecognizer$1=function(o){_inheritsLoose$1(e,o);function e(h){var b;return h===void 0&&(h={}),b=o.call(this,_extends$1({event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL$1},h))||this,b.pX=null,b.pY=null,b}var s=e.prototype;return s.getTouchAction=function(){var b=this.options.direction,_e=[];return b&DIRECTION_HORIZONTAL$1&&_e.push(TOUCH_ACTION_PAN_Y$1),b&DIRECTION_VERTICAL$1&&_e.push(TOUCH_ACTION_PAN_X$1),_e},s.directionTest=function(b){var _e=this.options,rt=!0,at=b.distance,st=b.direction,ot=b.deltaX,nt=b.deltaY;return st&_e.direction||(_e.direction&DIRECTION_HORIZONTAL$1?(st=ot===0?DIRECTION_NONE$1:ot<0?DIRECTION_LEFT$1:DIRECTION_RIGHT$1,rt=ot!==this.pX,at=Math.abs(b.deltaX)):(st=nt===0?DIRECTION_NONE$1:nt<0?DIRECTION_UP$1:DIRECTION_DOWN$1,rt=nt!==this.pY,at=Math.abs(b.deltaY))),b.direction=st,rt&&at>_e.threshold&&st&_e.direction},s.attrTest=function(b){return AttrRecognizer$1.prototype.attrTest.call(this,b)&&(this.state&STATE_BEGAN$1||!(this.state&STATE_BEGAN$1)&&this.directionTest(b))},s.emit=function(b){this.pX=b.deltaX,this.pY=b.deltaY;var _e=directionStr$1(b.direction);_e&&(b.additionalEvent=this.options.event+_e),o.prototype.emit.call(this,b)},e}(AttrRecognizer$1),SwipeRecognizer$1=function(o){_inheritsLoose$1(e,o);function e(h){return h===void 0&&(h={}),o.call(this,_extends$1({event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL$1|DIRECTION_VERTICAL$1,pointers:1},h))||this}var s=e.prototype;return s.getTouchAction=function(){return PanRecognizer$1.prototype.getTouchAction.call(this)},s.attrTest=function(b){var _e=this.options.direction,rt;return _e&(DIRECTION_HORIZONTAL$1|DIRECTION_VERTICAL$1)?rt=b.overallVelocity:_e&DIRECTION_HORIZONTAL$1?rt=b.overallVelocityX:_e&DIRECTION_VERTICAL$1&&(rt=b.overallVelocityY),o.prototype.attrTest.call(this,b)&&_e&b.offsetDirection&&b.distance>this.options.threshold&&b.maxPointers===this.options.pointers&&abs$2(rt)>this.options.velocity&&b.eventType&INPUT_END$1},s.emit=function(b){var _e=directionStr$1(b.offsetDirection);_e&&this.manager.emit(this.options.event+_e,b),this.manager.emit(this.options.event,b)},e}(AttrRecognizer$1),PinchRecognizer$1=function(o){_inheritsLoose$1(e,o);function e(h){return h===void 0&&(h={}),o.call(this,_extends$1({event:"pinch",threshold:0,pointers:2},h))||this}var s=e.prototype;return s.getTouchAction=function(){return[TOUCH_ACTION_NONE$1]},s.attrTest=function(b){return o.prototype.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&STATE_BEGAN$1)},s.emit=function(b){if(b.scale!==1){var _e=b.scale<1?"in":"out";b.additionalEvent=this.options.event+_e}o.prototype.emit.call(this,b)},e}(AttrRecognizer$1),RotateRecognizer$1=function(o){_inheritsLoose$1(e,o);function e(h){return h===void 0&&(h={}),o.call(this,_extends$1({event:"rotate",threshold:0,pointers:2},h))||this}var s=e.prototype;return s.getTouchAction=function(){return[TOUCH_ACTION_NONE$1]},s.attrTest=function(b){return o.prototype.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&STATE_BEGAN$1)},e}(AttrRecognizer$1),PressRecognizer$1=function(o){_inheritsLoose$1(e,o);function e(h){var b;return h===void 0&&(h={}),b=o.call(this,_extends$1({event:"press",pointers:1,time:251,threshold:9},h))||this,b._timer=null,b._input=null,b}var s=e.prototype;return s.getTouchAction=function(){return[TOUCH_ACTION_AUTO$1]},s.process=function(b){var _e=this,rt=this.options,at=b.pointers.length===rt.pointers,st=b.distance<rt.threshold,ot=b.deltaTime>rt.time;if(this._input=b,!st||!at||b.eventType&(INPUT_END$1|INPUT_CANCEL$1)&&!ot)this.reset();else if(b.eventType&INPUT_START$1)this.reset(),this._timer=setTimeout(function(){_e.state=STATE_RECOGNIZED$1,_e.tryEmit()},rt.time);else if(b.eventType&INPUT_END$1)return STATE_RECOGNIZED$1;return STATE_FAILED$1},s.reset=function(){clearTimeout(this._timer)},s.emit=function(b){this.state===STATE_RECOGNIZED$1&&(b&&b.eventType&INPUT_END$1?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=now$4(),this.manager.emit(this.options.event,this._input)))},e}(Recognizer$1),defaults$1={domEvents:!1,touchAction:TOUCH_ACTION_COMPUTE$1,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},preset$1=[[RotateRecognizer$1,{enable:!1}],[PinchRecognizer$1,{enable:!1},["rotate"]],[SwipeRecognizer$1,{direction:DIRECTION_HORIZONTAL$1}],[PanRecognizer$1,{direction:DIRECTION_HORIZONTAL$1},["swipe"]],[TapRecognizer$1],[TapRecognizer$1,{event:"doubletap",taps:2},["tap"]],[PressRecognizer$1]],STOP$1=1,FORCED_STOP$1=2;function toggleCssProps$1(o,e){var s=o.element;if(s.style){var h;each$1(o.options.cssProps,function(b,_e){h=prefixed$1(s.style,_e),e?(o.oldCssProps[h]=s.style[h],s.style[h]=b):s.style[h]=o.oldCssProps[h]||""}),e||(o.oldCssProps={})}}function triggerDomEvent$1(o,e){var s=document.createEvent("Event");s.initEvent(o,!0,!0),s.gesture=e,e.target.dispatchEvent(s)}var Manager$1=function(){function o(s,h){var b=this;this.options=assign$1$1({},defaults$1,h||{}),this.options.inputTarget=this.options.inputTarget||s,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=s,this.input=createInputInstance$1(this),this.touchAction=new TouchAction$1(this,this.options.touchAction),toggleCssProps$1(this,!0),each$1(this.options.recognizers,function(_e){var rt=b.add(new _e[0](_e[1]));_e[2]&&rt.recognizeWith(_e[2]),_e[3]&&rt.requireFailure(_e[3])},this)}var e=o.prototype;return e.set=function(h){return assign$1$1(this.options,h),h.touchAction&&this.touchAction.update(),h.inputTarget&&(this.input.destroy(),this.input.target=h.inputTarget,this.input.init()),this},e.stop=function(h){this.session.stopped=h?FORCED_STOP$1:STOP$1},e.recognize=function(h){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(h);var _e,rt=this.recognizers,at=b.curRecognizer;(!at||at&&at.state&STATE_RECOGNIZED$1)&&(b.curRecognizer=null,at=null);for(var st=0;st<rt.length;)_e=rt[st],b.stopped!==FORCED_STOP$1&&(!at||_e===at||_e.canRecognizeWith(at))?_e.recognize(h):_e.reset(),!at&&_e.state&(STATE_BEGAN$1|STATE_CHANGED$1|STATE_ENDED$1)&&(b.curRecognizer=_e,at=_e),st++}},e.get=function(h){if(h instanceof Recognizer$1)return h;for(var b=this.recognizers,_e=0;_e<b.length;_e++)if(b[_e].options.event===h)return b[_e];return null},e.add=function(h){if(invokeArrayArg$1(h,"add",this))return this;var b=this.get(h.options.event);return b&&this.remove(b),this.recognizers.push(h),h.manager=this,this.touchAction.update(),h},e.remove=function(h){if(invokeArrayArg$1(h,"remove",this))return this;var b=this.get(h);if(h){var _e=this.recognizers,rt=inArray$1(_e,b);rt!==-1&&(_e.splice(rt,1),this.touchAction.update())}return this},e.on=function(h,b){if(h===void 0||b===void 0)return this;var _e=this.handlers;return each$1(splitStr$1(h),function(rt){_e[rt]=_e[rt]||[],_e[rt].push(b)}),this},e.off=function(h,b){if(h===void 0)return this;var _e=this.handlers;return each$1(splitStr$1(h),function(rt){b?_e[rt]&&_e[rt].splice(inArray$1(_e[rt],b),1):delete _e[rt]}),this},e.emit=function(h,b){this.options.domEvents&&triggerDomEvent$1(h,b);var _e=this.handlers[h]&&this.handlers[h].slice();if(!(!_e||!_e.length)){b.type=h,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var rt=0;rt<_e.length;)_e[rt](b),rt++}},e.destroy=function(){this.element&&toggleCssProps$1(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},o}(),SINGLE_TOUCH_INPUT_MAP$1={touchstart:INPUT_START$1,touchmove:INPUT_MOVE$1,touchend:INPUT_END$1,touchcancel:INPUT_CANCEL$1},SINGLE_TOUCH_TARGET_EVENTS$1="touchstart",SINGLE_TOUCH_WINDOW_EVENTS$1="touchstart touchmove touchend touchcancel",SingleTouchInput$1=function(o){_inheritsLoose$1(e,o);function e(){var h,b=e.prototype;return b.evTarget=SINGLE_TOUCH_TARGET_EVENTS$1,b.evWin=SINGLE_TOUCH_WINDOW_EVENTS$1,h=o.apply(this,arguments)||this,h.started=!1,h}var s=e.prototype;return s.handler=function(b){var _e=SINGLE_TOUCH_INPUT_MAP$1[b.type];if(_e===INPUT_START$1&&(this.started=!0),!!this.started){var rt=normalizeSingleTouches$1.call(this,b,_e);_e&(INPUT_END$1|INPUT_CANCEL$1)&&rt[0].length-rt[1].length===0&&(this.started=!1),this.callback(this.manager,_e,{pointers:rt[0],changedPointers:rt[1],pointerType:INPUT_TYPE_TOUCH$1,srcEvent:b})}},e}(Input$1);function normalizeSingleTouches$1(o,e){var s=toArray$1(o.touches),h=toArray$1(o.changedTouches);return e&(INPUT_END$1|INPUT_CANCEL$1)&&(s=uniqueArray$1(s.concat(h),"identifier",!0)),[s,h]}function deprecate$1(o,e,s){var h="DEPRECATED METHOD: "+e+`
`+s+` AT 
`;return function(){var b=new Error("get-stack-trace"),_e=b&&b.stack?b.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",rt=window.console&&(window.console.warn||window.console.log);return rt&&rt.call(window.console,h,_e),o.apply(this,arguments)}}var extend$1=deprecate$1(function(o,e,s){for(var h=Object.keys(e),b=0;b<h.length;)(!s||s&&o[h[b]]===void 0)&&(o[h[b]]=e[h[b]]),b++;return o},"extend","Use `assign`."),merge$1$1=deprecate$1(function(o,e){return extend$1(o,e,!0)},"merge","Use `assign`.");function inherit$1(o,e,s){var h=e.prototype,b;b=o.prototype=Object.create(h),b.constructor=o,b._super=h,s&&assign$1$1(b,s)}function bindFn$1(o,e){return function(){return o.apply(e,arguments)}}var Hammer$3=function(){var o=function(s,h){return h===void 0&&(h={}),new Manager$1(s,_extends$1({recognizers:preset$1.concat()},h))};return o.VERSION="2.0.17-rc",o.DIRECTION_ALL=DIRECTION_ALL$1,o.DIRECTION_DOWN=DIRECTION_DOWN$1,o.DIRECTION_LEFT=DIRECTION_LEFT$1,o.DIRECTION_RIGHT=DIRECTION_RIGHT$1,o.DIRECTION_UP=DIRECTION_UP$1,o.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL$1,o.DIRECTION_VERTICAL=DIRECTION_VERTICAL$1,o.DIRECTION_NONE=DIRECTION_NONE$1,o.DIRECTION_DOWN=DIRECTION_DOWN$1,o.INPUT_START=INPUT_START$1,o.INPUT_MOVE=INPUT_MOVE$1,o.INPUT_END=INPUT_END$1,o.INPUT_CANCEL=INPUT_CANCEL$1,o.STATE_POSSIBLE=STATE_POSSIBLE$1,o.STATE_BEGAN=STATE_BEGAN$1,o.STATE_CHANGED=STATE_CHANGED$1,o.STATE_ENDED=STATE_ENDED$1,o.STATE_RECOGNIZED=STATE_RECOGNIZED$1,o.STATE_CANCELLED=STATE_CANCELLED$1,o.STATE_FAILED=STATE_FAILED$1,o.Manager=Manager$1,o.Input=Input$1,o.TouchAction=TouchAction$1,o.TouchInput=TouchInput$1,o.MouseInput=MouseInput$1,o.PointerEventInput=PointerEventInput$1,o.TouchMouseInput=TouchMouseInput$1,o.SingleTouchInput=SingleTouchInput$1,o.Recognizer=Recognizer$1,o.AttrRecognizer=AttrRecognizer$1,o.Tap=TapRecognizer$1,o.Pan=PanRecognizer$1,o.Swipe=SwipeRecognizer$1,o.Pinch=PinchRecognizer$1,o.Rotate=RotateRecognizer$1,o.Press=PressRecognizer$1,o.on=addEventListeners$1,o.off=removeEventListeners$1,o.each=each$1,o.merge=merge$1$1,o.extend=extend$1,o.bindFn=bindFn$1,o.assign=assign$1$1,o.inherit=inherit$1,o.bindFn=bindFn$1,o.prefixed=prefixed$1,o.toArray=toArray$1,o.inArray=inArray$1,o.uniqueArray=uniqueArray$1,o.splitStr=splitStr$1,o.boolOrFn=boolOrFn$1,o.hasParent=hasParent$1,o.addEventListeners=addEventListeners$1,o.removeEventListeners=removeEventListeners$1,o.defaults=assign$1$1({},defaults$1,{preset:preset$1}),o}(),RealHammer$1=Hammer$3;function _createForOfIteratorHelper$3$1(o,e){var s=typeof _Symbol$2<"u"&&_getIteratorMethod$2(o)||o["@@iterator"];if(!s){if(_Array$isArray$2(o)||(s=_unsupportedIterableToArray$3$1(o))||e&&o&&typeof o.length=="number"){s&&(o=s);var h=0,b=function(){};return{s:b,n:function(){return h>=o.length?{done:!0}:{done:!1,value:o[h++]}},e:function(ot){throw ot},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,rt=!1,at;return{s:function(){s=s.call(o)},n:function(){var ot=s.next();return _e=ot.done,ot},e:function(ot){rt=!0,at=ot},f:function(){try{!_e&&s.return!=null&&s.return()}finally{if(rt)throw at}}}}function _unsupportedIterableToArray$3$1(o,e){var s;if(o){if(typeof o=="string")return _arrayLikeToArray$3$1(o,e);var h=_sliceInstanceProperty$2(s=Object.prototype.toString.call(o)).call(s,8,-1);if(h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set")return _Array$from$1$1(o);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray$3$1(o,e)}}function _arrayLikeToArray$3$1(o,e){(e==null||e>o.length)&&(e=o.length);for(var s=0,h=new Array(e);s<e;s++)h[s]=o[s];return h}var DELETE=_Symbol$2("DELETE");function pureDeepObjectAssign(o){for(var e,s=arguments.length,h=new Array(s>1?s-1:0),b=1;b<s;b++)h[b-1]=arguments[b];return deepObjectAssign.apply(void 0,_concatInstanceProperty$1(e=[{},o]).call(e,h))}function deepObjectAssign(){var o=deepObjectAssignNonentry.apply(void 0,arguments);return stripDelete(o),o}function deepObjectAssignNonentry(){for(var o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];if(e.length<2)return e[0];if(e.length>2){var h;return deepObjectAssignNonentry.apply(void 0,_concatInstanceProperty$1(h=[deepObjectAssign(e[0],e[1])]).call(h,_toConsumableArray$1(_sliceInstanceProperty$2(e).call(e,2))))}var b=e[0],_e=e[1];if(b instanceof Date&&_e instanceof Date)return b.setTime(_e.getTime()),b;var rt=_createForOfIteratorHelper$3$1(_Reflect$ownKeys(_e)),at;try{for(rt.s();!(at=rt.n()).done;){var st=at.value;Object.prototype.propertyIsEnumerable.call(_e,st)&&(_e[st]===DELETE?delete b[st]:b[st]!==null&&_e[st]!==null&&typeof b[st]=="object"&&typeof _e[st]=="object"&&!_Array$isArray$2(b[st])&&!_Array$isArray$2(_e[st])?b[st]=deepObjectAssignNonentry(b[st],_e[st]):b[st]=clone(_e[st]))}}catch(ot){rt.e(ot)}finally{rt.f()}return b}function clone(o){return _Array$isArray$2(o)?_mapInstanceProperty$1(o).call(o,function(e){return clone(e)}):typeof o=="object"&&o!==null?o instanceof Date?new Date(o.getTime()):deepObjectAssignNonentry({},o):o}function stripDelete(o){for(var e=0,s=_Object$keys$1(o);e<s.length;e++){var h=s[e];o[h]===DELETE?delete o[h]:typeof o[h]=="object"&&o[h]!==null&&stripDelete(o[h])}}function hammerMock$1(){var o=function(){};return{on:o,off:o,destroy:o,emit:o,get(){return{set:o}}}}var Hammer$1$1=typeof window<"u"?window.Hammer||RealHammer$1:function(){return hammerMock$1()};function Activator$1$1(o){var e=this,s;this._cleanupQueue=[],this.active=!1,this._dom={container:o,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){e._dom.overlay.parentNode.removeChild(e._dom.overlay)});var h=Hammer$1$1(this._dom.overlay);h.on("tap",_bindInstanceProperty$1$1(s=this._onTapOverlay).call(s,this)),this._cleanupQueue.push(function(){h.destroy()});var b=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];_forEachInstanceProperty$1(b).call(b,function(_e){h.on(_e,function(rt){rt.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(_e){_hasParent$1(_e.target,o)||e.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",e._onClick)})),this._escListener=function(_e){("key"in _e?_e.key==="Escape":_e.keyCode===27)&&e.deactivate()}}Emitter$1(Activator$1$1.prototype);Activator$1$1.current=null;Activator$1$1.prototype.destroy=function(){var o,e;this.deactivate();var s=_createForOfIteratorHelper$3$1(_reverseInstanceProperty$1(o=_spliceInstanceProperty$1(e=this._cleanupQueue).call(e,0)).call(o)),h;try{for(s.s();!(h=s.n()).done;){var b=h.value;b()}}catch(_e){s.e(_e)}finally{s.f()}};Activator$1$1.prototype.activate=function(){Activator$1$1.current&&Activator$1$1.current.deactivate(),Activator$1$1.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Activator$1$1.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Activator$1$1.prototype._onTapOverlay=function(o){this.activate(),o.srcEvent.stopPropagation()};function _hasParent$1(o,e){for(;o;){if(o===e)return!0;o=o.parentNode}return!1}var isConstructor$5=isConstructor$4$1,tryToString$1$1=tryToString$6$1,$TypeError$3$1=TypeError,aConstructor$2=function(o){if(isConstructor$5(o))return o;throw new $TypeError$3$1(tryToString$1$1(o)+" is not a constructor")},$$k$1=_export$1,getBuiltIn$4$1=getBuiltIn$f,apply$1$1=functionApply$1,bind$8$1=functionBind$1,aConstructor$1$1=aConstructor$2,anObject$3$1=anObject$d$1,isObject$6$1=isObject$h$1,create$5$1=objectCreate$1,fails$9$1=fails$u$1,nativeConstruct$1=getBuiltIn$4$1("Reflect","construct"),ObjectPrototype$3=Object.prototype,push$2$1=[].push,NEW_TARGET_BUG$1=fails$9$1(function(){function o(){}return!(nativeConstruct$1(function(){},[],o)instanceof o)}),ARGS_BUG$1=!fails$9$1(function(){nativeConstruct$1(function(){})}),FORCED$2$1=NEW_TARGET_BUG$1||ARGS_BUG$1;$$k$1({target:"Reflect",stat:!0,forced:FORCED$2$1,sham:FORCED$2$1},{construct:function o(e,s){aConstructor$1$1(e),anObject$3$1(s);var h=arguments.length<3?e:aConstructor$1$1(arguments[2]);if(ARGS_BUG$1&&!NEW_TARGET_BUG$1)return nativeConstruct$1(e,s,h);if(e===h){switch(s.length){case 0:return new e;case 1:return new e(s[0]);case 2:return new e(s[0],s[1]);case 3:return new e(s[0],s[1],s[2]);case 4:return new e(s[0],s[1],s[2],s[3])}var b=[null];return apply$1$1(push$2$1,b,s),new(apply$1$1(bind$8$1,e,b))}var _e=h.prototype,rt=create$5$1(isObject$6$1(_e)?_e:ObjectPrototype$3),at=apply$1$1(e,rt,s);return isObject$6$1(at)?at:rt}});var path$8$1=path$o$1,construct$2$1=path$8$1.Reflect.construct,parent$u$1=construct$2$1,construct$1$1=parent$u$1,construct$5=construct$1$1,_Reflect$construct$1=getDefaultExportFromCjs$1(construct$5),path$7$1=path$o$1,getOwnPropertySymbols$2$1=path$7$1.Object.getOwnPropertySymbols,parent$t$1=getOwnPropertySymbols$2$1,getOwnPropertySymbols$1$1=parent$t$1,getOwnPropertySymbols$3=getOwnPropertySymbols$1$1,_Object$getOwnPropertySymbols$1=getDefaultExportFromCjs$1(getOwnPropertySymbols$3),getOwnPropertyDescriptor$4$1={exports:{}},$$j$1=_export$1,fails$8$1=fails$u$1,toIndexedObject$1$1=toIndexedObject$a$1,nativeGetOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor$1.f,DESCRIPTORS$5$1=descriptors$1,FORCED$1$1=!DESCRIPTORS$5$1||fails$8$1(function(){nativeGetOwnPropertyDescriptor$2(1)});$$j$1({target:"Object",stat:!0,forced:FORCED$1$1,sham:!DESCRIPTORS$5$1},{getOwnPropertyDescriptor:function o(e,s){return nativeGetOwnPropertyDescriptor$2(toIndexedObject$1$1(e),s)}});var path$6$1=path$o$1,Object$2$1=path$6$1.Object,getOwnPropertyDescriptor$3$1=getOwnPropertyDescriptor$4$1.exports=function o(e,s){return Object$2$1.getOwnPropertyDescriptor(e,s)};Object$2$1.getOwnPropertyDescriptor.sham&&(getOwnPropertyDescriptor$3$1.sham=!0);var getOwnPropertyDescriptorExports$1=getOwnPropertyDescriptor$4$1.exports,parent$s$1=getOwnPropertyDescriptorExports$1,getOwnPropertyDescriptor$2$1=parent$s$1,getOwnPropertyDescriptor$1$1=getOwnPropertyDescriptor$2$1,_Object$getOwnPropertyDescriptor$2=getDefaultExportFromCjs$1(getOwnPropertyDescriptor$1$1),$$i$1=_export$1,DESCRIPTORS$4$1=descriptors$1,ownKeys$2$1=ownKeys$7,toIndexedObject$b=toIndexedObject$a$1,getOwnPropertyDescriptorModule$1$1=objectGetOwnPropertyDescriptor$1,createProperty$7=createProperty$6$1;$$i$1({target:"Object",stat:!0,sham:!DESCRIPTORS$4$1},{getOwnPropertyDescriptors:function o(e){for(var s=toIndexedObject$b(e),h=getOwnPropertyDescriptorModule$1$1.f,b=ownKeys$2$1(s),_e={},rt=0,at,st;b.length>rt;)st=h(s,at=b[rt++]),st!==void 0&&createProperty$7(_e,at,st);return _e}});var path$5$1=path$o$1,getOwnPropertyDescriptors$2$1=path$5$1.Object.getOwnPropertyDescriptors,parent$r$1=getOwnPropertyDescriptors$2$1,getOwnPropertyDescriptors$1$1=parent$r$1,getOwnPropertyDescriptors$3=getOwnPropertyDescriptors$1$1,_Object$getOwnPropertyDescriptors$1=getDefaultExportFromCjs$1(getOwnPropertyDescriptors$3),defineProperties$4$1={exports:{}},$$h$1=_export$1,DESCRIPTORS$3$1=descriptors$1,defineProperties$3$1=objectDefineProperties$1.f;$$h$1({target:"Object",stat:!0,forced:Object.defineProperties!==defineProperties$3$1,sham:!DESCRIPTORS$3$1},{defineProperties:defineProperties$3$1});var path$4$1=path$o$1,Object$1$1=path$4$1.Object,defineProperties$2$1=defineProperties$4$1.exports=function o(e,s){return Object$1$1.defineProperties(e,s)};Object$1$1.defineProperties.sham&&(defineProperties$2$1.sham=!0);var definePropertiesExports$1=defineProperties$4$1.exports,parent$q$1=definePropertiesExports$1,defineProperties$1$1=parent$q$1,defineProperties$5=defineProperties$1$1,_Object$defineProperties$1=getDefaultExportFromCjs$1(defineProperties$5),defineProperty$2$1=defineProperty$b$1,_Object$defineProperty$2=getDefaultExportFromCjs$1(defineProperty$2$1);function _assertThisInitialized$2(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}var parent$p$1=create$7$1,create$4$1=parent$p$1,parent$o$1=create$4$1,create$3$1=parent$o$1,create$2$1=create$3$1,_Object$create$2=getDefaultExportFromCjs$1(create$2$1),$$g$1=_export$1,setPrototypeOf$6=objectSetPrototypeOf$1;$$g$1({target:"Object",stat:!0},{setPrototypeOf:setPrototypeOf$6});var path$3$1=path$o$1,setPrototypeOf$5$1=path$3$1.Object.setPrototypeOf,parent$n$1=setPrototypeOf$5$1,setPrototypeOf$4$1=parent$n$1,parent$m$1=setPrototypeOf$4$1,setPrototypeOf$3$1=parent$m$1,parent$l$1=setPrototypeOf$3$1,setPrototypeOf$2$1=parent$l$1,setPrototypeOf$1$1=setPrototypeOf$2$1,_Object$setPrototypeOf$1=getDefaultExportFromCjs$1(setPrototypeOf$1$1),parent$k$1=bind$c$1,bind$7$1=parent$k$1,parent$j$1=bind$7$1,bind$6$1=parent$j$1,bind$5$1=bind$6$1,_bindInstanceProperty$2=getDefaultExportFromCjs$1(bind$5$1);function _setPrototypeOf$1(o,e){var s;return _setPrototypeOf$1=_Object$setPrototypeOf$1?_bindInstanceProperty$2(s=_Object$setPrototypeOf$1).call(s):function(b,_e){return b.__proto__=_e,b},_setPrototypeOf$1(o,e)}function _inherits$1(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=_Object$create$2(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),_Object$defineProperty$1$1(o,"prototype",{writable:!1}),e&&_setPrototypeOf$1(o,e)}function _possibleConstructorReturn$1(o,e){if(e&&(_typeof$1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(o)}var parent$i$1=getPrototypeOf$4$1,getPrototypeOf$3$1=parent$i$1,parent$h$1=getPrototypeOf$3$1,getPrototypeOf$2$1=parent$h$1,getPrototypeOf$1$1=getPrototypeOf$2$1,_Object$getPrototypeOf$2=getDefaultExportFromCjs$1(getPrototypeOf$1$1);function _getPrototypeOf$1(o){var e;return _getPrototypeOf$1=_Object$setPrototypeOf$1?_bindInstanceProperty$2(e=_Object$getPrototypeOf$2).call(e):function(h){return h.__proto__||_Object$getPrototypeOf$2(h)},_getPrototypeOf$1(o)}var regeneratorRuntime$1={exports:{}},_typeof$2={exports:{}};(function(o){var e=symbol$1$1,s=iterator$1$1;function h(b){"@babel/helpers - typeof";return o.exports=h=typeof e=="function"&&typeof s=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof e=="function"&&_e.constructor===e&&_e!==e.prototype?"symbol":typeof _e},o.exports.__esModule=!0,o.exports.default=o.exports,h(b)}o.exports=h,o.exports.__esModule=!0,o.exports.default=o.exports})(_typeof$2);var _typeofExports=_typeof$2.exports,parent$g$1=forEach$5$1,forEach$3$1=parent$g$1,parent$f$1=forEach$3$1,forEach$2$1=parent$f$1,forEach$1$1=forEach$2$1,hasOwn$5$1=hasOwnProperty_1$1,ownKeys$1$1=ownKeys$7,getOwnPropertyDescriptorModule$3=objectGetOwnPropertyDescriptor$1,definePropertyModule$5=objectDefineProperty$1,copyConstructorProperties$1=function(o,e,s){for(var h=ownKeys$1$1(e),b=definePropertyModule$5.f,_e=getOwnPropertyDescriptorModule$3.f,rt=0;rt<h.length;rt++){var at=h[rt];!hasOwn$5$1(o,at)&&!(s&&hasOwn$5$1(s,at))&&b(o,at,_e(e,at))}},isObject$5$1=isObject$h$1,createNonEnumerableProperty$3$1=createNonEnumerableProperty$9,installErrorCause$1=function(o,e){isObject$5$1(e)&&"cause"in e&&createNonEnumerableProperty$3$1(o,"cause",e.cause)},uncurryThis$2$1=functionUncurryThis$1,$Error$1=Error,replace$2=uncurryThis$2$1("".replace),TEST=function(o){return String(new $Error$1(o).stack)}("zxcasd"),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST),errorStackClear=function(o,e){if(IS_V8_OR_CHAKRA_STACK&&typeof o=="string"&&!$Error$1.prepareStackTrace)for(;e--;)o=replace$2(o,V8_OR_CHAKRA_STACK_ENTRY,"");return o},fails$7$1=fails$u$1,createPropertyDescriptor$1$1=createPropertyDescriptor$7,errorStackInstallable=!fails$7$1(function(){var o=new Error("a");return"stack"in o?(Object.defineProperty(o,"stack",createPropertyDescriptor$1$1(1,7)),o.stack!==7):!0}),createNonEnumerableProperty$2$1=createNonEnumerableProperty$9,clearErrorStack=errorStackClear,ERROR_STACK_INSTALLABLE=errorStackInstallable,captureStackTrace=Error.captureStackTrace,errorStackInstall=function(o,e,s,h){ERROR_STACK_INSTALLABLE&&(captureStackTrace?captureStackTrace(o,e):createNonEnumerableProperty$2$1(o,"stack",clearErrorStack(s,h)))},bind$4$1=functionBindContext$1,call$6$1=functionCall$1,anObject$2$1=anObject$d$1,tryToString$7=tryToString$6$1,isArrayIteratorMethod$3=isArrayIteratorMethod$2$1,lengthOfArrayLike$1$1=lengthOfArrayLike$d,isPrototypeOf$7$1=objectIsPrototypeOf$1,getIterator$6=getIterator$8,getIteratorMethod$a=getIteratorMethod$9$1,iteratorClose$3=iteratorClose$2$1,$TypeError$2$1=TypeError,Result$1=function(o,e){this.stopped=o,this.result=e},ResultPrototype$1=Result$1.prototype,iterate$7=function(o,e,s){var h=s&&s.that,b=!!(s&&s.AS_ENTRIES),_e=!!(s&&s.IS_RECORD),rt=!!(s&&s.IS_ITERATOR),at=!!(s&&s.INTERRUPTED),st=bind$4$1(e,h),ot,nt,et,d,_,tt,lt,ut=function(ft){return ot&&iteratorClose$3(ot,"normal",ft),new Result$1(!0,ft)},ct=function(ft){return b?(anObject$2$1(ft),at?st(ft[0],ft[1],ut):st(ft[0],ft[1])):at?st(ft,ut):st(ft)};if(_e)ot=o.iterator;else if(rt)ot=o;else{if(nt=getIteratorMethod$a(o),!nt)throw new $TypeError$2$1(tryToString$7(o)+" is not iterable");if(isArrayIteratorMethod$3(nt)){for(et=0,d=lengthOfArrayLike$1$1(o);d>et;et++)if(_=ct(o[et]),_&&isPrototypeOf$7$1(ResultPrototype$1,_))return _;return new Result$1(!1)}ot=getIterator$6(o,nt)}for(tt=_e?o.next:ot.next;!(lt=call$6$1(tt,ot)).done;){try{_=ct(lt.value)}catch(ft){iteratorClose$3(ot,"throw",ft)}if(typeof _=="object"&&_&&isPrototypeOf$7$1(ResultPrototype$1,_))return _}return new Result$1(!1)},toString$1$1=toString$7$1,normalizeStringArgument$1=function(o,e){return o===void 0?arguments.length<2?"":e:toString$1$1(o)},$$f$1=_export$1,isPrototypeOf$6$1=objectIsPrototypeOf$1,getPrototypeOf$9=objectGetPrototypeOf$1,setPrototypeOf$7=objectSetPrototypeOf$1,copyConstructorProperties=copyConstructorProperties$1,create$1$1=objectCreate$1,createNonEnumerableProperty$1$1=createNonEnumerableProperty$9,createPropertyDescriptor$8=createPropertyDescriptor$7,installErrorCause=installErrorCause$1,installErrorStack=errorStackInstall,iterate$6=iterate$7,normalizeStringArgument=normalizeStringArgument$1,wellKnownSymbol$3$1=wellKnownSymbol$n,TO_STRING_TAG$5=wellKnownSymbol$3$1("toStringTag"),$Error=Error,push$1$1=[].push,$AggregateError=function o(e,s){var h=isPrototypeOf$6$1(AggregateErrorPrototype,this),b;setPrototypeOf$7?b=setPrototypeOf$7(new $Error,h?getPrototypeOf$9(this):AggregateErrorPrototype):(b=h?this:create$1$1(AggregateErrorPrototype),createNonEnumerableProperty$1$1(b,TO_STRING_TAG$5,"Error")),s!==void 0&&createNonEnumerableProperty$1$1(b,"message",normalizeStringArgument(s)),installErrorStack(b,$AggregateError,b.stack,1),arguments.length>2&&installErrorCause(b,arguments[2]);var _e=[];return iterate$6(e,push$1$1,{that:_e}),createNonEnumerableProperty$1$1(b,"errors",_e),b};setPrototypeOf$7?setPrototypeOf$7($AggregateError,$Error):copyConstructorProperties($AggregateError,$Error,{name:!0});var AggregateErrorPrototype=$AggregateError.prototype=create$1$1($Error.prototype,{constructor:createPropertyDescriptor$8(1,$AggregateError),message:createPropertyDescriptor$8(1,""),name:createPropertyDescriptor$8(1,"AggregateError")});$$f$1({global:!0,constructor:!0,arity:2},{AggregateError:$AggregateError});var getBuiltIn$3$1=getBuiltIn$f,defineBuiltInAccessor$1$1=defineBuiltInAccessor$3$1,wellKnownSymbol$2$1=wellKnownSymbol$n,DESCRIPTORS$2$1=descriptors$1,SPECIES$2$1=wellKnownSymbol$2$1("species"),setSpecies$2=function(o){var e=getBuiltIn$3$1(o);DESCRIPTORS$2$1&&e&&!e[SPECIES$2$1]&&defineBuiltInAccessor$1$1(e,SPECIES$2$1,{configurable:!0,get:function(){return this}})},isPrototypeOf$5$1=objectIsPrototypeOf$1,$TypeError$1$1=TypeError,anInstance$3$1=function(o,e){if(isPrototypeOf$5$1(e,o))return o;throw new $TypeError$1$1("Incorrect invocation")},anObject$1$1=anObject$d$1,aConstructor$3=aConstructor$2,isNullOrUndefined$2$1=isNullOrUndefined$6$1,wellKnownSymbol$1$1=wellKnownSymbol$n,SPECIES$1$1=wellKnownSymbol$1$1("species"),speciesConstructor$2=function(o,e){var s=anObject$1$1(o).constructor,h;return s===void 0||isNullOrUndefined$2$1(h=anObject$1$1(s)[SPECIES$1$1])?e:aConstructor$3(h)},userAgent$4=engineUserAgent$1,engineIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$4),global$6$1=global$p,apply$7=functionApply$1,bind$3$1=functionBindContext$1,isCallable$4$1=isCallable$m,hasOwn$4$1=hasOwnProperty_1$1,fails$6$1=fails$u$1,html$3=html$2,arraySlice$1$1=arraySlice$5$1,createElement$2=documentCreateElement$1$1,validateArgumentsLength$3=validateArgumentsLength$2,IS_IOS$1=engineIsIos,IS_NODE$3=engineIsNode$1,set$3$1=global$6$1.setImmediate,clear=global$6$1.clearImmediate,process$2=global$6$1.process,Dispatch=global$6$1.Dispatch,Function$1$1=global$6$1.Function,MessageChannel$1=global$6$1.MessageChannel,String$1=global$6$1.String,counter=0,queue$2={},ONREADYSTATECHANGE="onreadystatechange",$location,defer,channel,port;fails$6$1(function(){$location=global$6$1.location});var run=function(o){if(hasOwn$4$1(queue$2,o)){var e=queue$2[o];delete queue$2[o],e()}},runner=function(o){return function(){run(o)}},eventListener=function(o){run(o.data)},globalPostMessageDefer=function(o){global$6$1.postMessage(String$1(o),$location.protocol+"//"+$location.host)};(!set$3$1||!clear)&&(set$3$1=function(e){validateArgumentsLength$3(arguments.length,1);var s=isCallable$4$1(e)?e:Function$1$1(e),h=arraySlice$1$1(arguments,1);return queue$2[++counter]=function(){apply$7(s,void 0,h)},defer(counter),counter},clear=function(e){delete queue$2[e]},IS_NODE$3?defer=function(o){process$2.nextTick(runner(o))}:Dispatch&&Dispatch.now?defer=function(o){Dispatch.now(runner(o))}:MessageChannel$1&&!IS_IOS$1?(channel=new MessageChannel$1,port=channel.port2,channel.port1.onmessage=eventListener,defer=bind$3$1(port.postMessage,port)):global$6$1.addEventListener&&isCallable$4$1(global$6$1.postMessage)&&!global$6$1.importScripts&&$location&&$location.protocol!=="file:"&&!fails$6$1(globalPostMessageDefer)?(defer=globalPostMessageDefer,global$6$1.addEventListener("message",eventListener,!1)):ONREADYSTATECHANGE in createElement$2("script")?defer=function(o){html$3.appendChild(createElement$2("script"))[ONREADYSTATECHANGE]=function(){html$3.removeChild(this),run(o)}}:defer=function(o){setTimeout(runner(o),0)});var task$1={set:set$3$1,clear},Queue$3=function(){this.head=null,this.tail=null};Queue$3.prototype={add:function(o){var e={item:o,next:null},s=this.tail;s?s.next=e:this.head=e,this.tail=e},get:function(){var o=this.head;if(o){var e=this.head=o.next;return e===null&&(this.tail=null),o.item}}};var queue$1=Queue$3,userAgent$3=engineUserAgent$1,engineIsIosPebble=/ipad|iphone|ipod/i.test(userAgent$3)&&typeof Pebble<"u",userAgent$2$1=engineUserAgent$1,engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(userAgent$2$1),global$5$1=global$p,bind$2$1=functionBindContext$1,getOwnPropertyDescriptor$a=objectGetOwnPropertyDescriptor$1.f,macrotask=task$1.set,Queue$2=queue$1,IS_IOS=engineIsIos,IS_IOS_PEBBLE=engineIsIosPebble,IS_WEBOS_WEBKIT=engineIsWebosWebkit,IS_NODE$2=engineIsNode$1,MutationObserver$1=global$5$1.MutationObserver||global$5$1.WebKitMutationObserver,document$2=global$5$1.document,process$1$1=global$5$1.process,Promise$1=global$5$1.Promise,queueMicrotaskDescriptor=getOwnPropertyDescriptor$a(global$5$1,"queueMicrotask"),microtask$1=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value,notify$1,toggle,node,promise$5,then;if(!microtask$1){var queue=new Queue$2,flush=function(){var o,e;for(IS_NODE$2&&(o=process$1$1.domain)&&o.exit();e=queue.get();)try{e()}catch(s){throw queue.head&&notify$1(),s}o&&o.enter()};!IS_IOS&&!IS_NODE$2&&!IS_WEBOS_WEBKIT&&MutationObserver$1&&document$2?(toggle=!0,node=document$2.createTextNode(""),new MutationObserver$1(flush).observe(node,{characterData:!0}),notify$1=function(){node.data=toggle=!toggle}):!IS_IOS_PEBBLE&&Promise$1&&Promise$1.resolve?(promise$5=Promise$1.resolve(void 0),promise$5.constructor=Promise$1,then=bind$2$1(promise$5.then,promise$5),notify$1=function(){then(flush)}):IS_NODE$2?notify$1=function(){process$1$1.nextTick(flush)}:(macrotask=bind$2$1(macrotask,global$5$1),notify$1=function(){macrotask(flush)}),microtask$1=function(o){queue.head||notify$1(),queue.add(o)}}var microtask_1=microtask$1,hostReportErrors$1=function(o,e){try{arguments.length===1?console.error(o):console.error(o,e)}catch{}},perform$6=function(o){try{return{error:!1,value:o()}}catch(e){return{error:!0,value:e}}},global$4$1=global$p,promiseNativeConstructor=global$4$1.Promise,engineIsDeno=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",IS_DENO$1=engineIsDeno,IS_NODE$1=engineIsNode$1,engineIsBrowser=!IS_DENO$1&&!IS_NODE$1&&typeof window=="object"&&typeof document=="object",global$3$1=global$p,NativePromiseConstructor$5=promiseNativeConstructor,isCallable$3$1=isCallable$m,isForced$3=isForced_1$1,inspectSource$3=inspectSource$2,wellKnownSymbol$o=wellKnownSymbol$n,IS_BROWSER=engineIsBrowser,IS_DENO=engineIsDeno,V8_VERSION$4=engineV8Version$1,NativePromisePrototype$2=NativePromiseConstructor$5&&NativePromiseConstructor$5.prototype,SPECIES$6=wellKnownSymbol$o("species"),SUBCLASSING=!1,NATIVE_PROMISE_REJECTION_EVENT$1=isCallable$3$1(global$3$1.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR$5=isForced$3("Promise",function(){var o=inspectSource$3(NativePromiseConstructor$5),e=o!==String(NativePromiseConstructor$5);if(!e&&V8_VERSION$4===66||!(NativePromisePrototype$2.catch&&NativePromisePrototype$2.finally))return!0;if(!V8_VERSION$4||V8_VERSION$4<51||!/native code/.test(o)){var s=new NativePromiseConstructor$5(function(_e){_e(1)}),h=function(_e){_e(function(){},function(){})},b=s.constructor={};if(b[SPECIES$6]=h,SUBCLASSING=s.then(function(){})instanceof h,!SUBCLASSING)return!0}return!e&&(IS_BROWSER||IS_DENO)&&!NATIVE_PROMISE_REJECTION_EVENT$1}),promiseConstructorDetection={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1,SUBCLASSING},newPromiseCapability$2={},aCallable$6$1=aCallable$e,$TypeError$h=TypeError,PromiseCapability=function(o){var e,s;this.promise=new o(function(h,b){if(e!==void 0||s!==void 0)throw new $TypeError$h("Bad Promise constructor");e=h,s=b}),this.resolve=aCallable$6$1(e),this.reject=aCallable$6$1(s)};newPromiseCapability$2.f=function(o){return new PromiseCapability(o)};var $$e$1=_export$1,IS_NODE$5=engineIsNode$1,global$2$1=global$p,call$5$1=functionCall$1,defineBuiltIn$1$1=defineBuiltIn$6,setToStringTag$1$1=setToStringTag$7,setSpecies$1$1=setSpecies$2,aCallable$5$1=aCallable$e,isCallable$2$1=isCallable$m,isObject$4$1=isObject$h$1,anInstance$2$1=anInstance$3$1,speciesConstructor$1=speciesConstructor$2,task=task$1.set,microtask=microtask_1,hostReportErrors=hostReportErrors$1,perform$5=perform$6,Queue$1=queue$1,InternalStateModule$2$1=internalState$1,NativePromiseConstructor$4=promiseNativeConstructor,PromiseConstructorDetection=promiseConstructorDetection,newPromiseCapabilityModule$7=newPromiseCapability$2,PROMISE="Promise",FORCED_PROMISE_CONSTRUCTOR$4=PromiseConstructorDetection.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT=PromiseConstructorDetection.REJECTION_EVENT,getInternalPromiseState=InternalStateModule$2$1.getterFor(PROMISE),setInternalState$2$1=InternalStateModule$2$1.set,NativePromisePrototype$1=NativePromiseConstructor$4&&NativePromiseConstructor$4.prototype,PromiseConstructor=NativePromiseConstructor$4,PromisePrototype=NativePromisePrototype$1,TypeError$1$1=global$2$1.TypeError,document$1$1=global$2$1.document,process$4=global$2$1.process,newPromiseCapability$1=newPromiseCapabilityModule$7.f,newGenericPromiseCapability=newPromiseCapability$1,DISPATCH_EVENT=!!(document$1$1&&document$1$1.createEvent&&global$2$1.dispatchEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,Internal,OwnPromiseCapability,PromiseWrapper,isThenable=function(o){var e;return isObject$4$1(o)&&isCallable$2$1(e=o.then)?e:!1},callReaction=function(o,e){var s=e.value,h=e.state===FULFILLED,b=h?o.ok:o.fail,_e=o.resolve,rt=o.reject,at=o.domain,st,ot,nt;try{b?(h||(e.rejection===UNHANDLED&&onHandleUnhandled(e),e.rejection=HANDLED),b===!0?st=s:(at&&at.enter(),st=b(s),at&&(at.exit(),nt=!0)),st===o.promise?rt(new TypeError$1$1("Promise-chain cycle")):(ot=isThenable(st))?call$5$1(ot,st,_e,rt):_e(st)):rt(s)}catch(et){at&&!nt&&at.exit(),rt(et)}},notify=function(o,e){o.notified||(o.notified=!0,microtask(function(){for(var s=o.reactions,h;h=s.get();)callReaction(h,o);o.notified=!1,e&&!o.rejection&&onUnhandled(o)}))},dispatchEvent=function(o,e,s){var h,b;DISPATCH_EVENT?(h=document$1$1.createEvent("Event"),h.promise=e,h.reason=s,h.initEvent(o,!1,!0),global$2$1.dispatchEvent(h)):h={promise:e,reason:s},!NATIVE_PROMISE_REJECTION_EVENT&&(b=global$2$1["on"+o])?b(h):o===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",s)},onUnhandled=function(o){call$5$1(task,global$2$1,function(){var e=o.facade,s=o.value,h=isUnhandled(o),b;if(h&&(b=perform$5(function(){IS_NODE$5?process$4.emit("unhandledRejection",s,e):dispatchEvent(UNHANDLED_REJECTION,e,s)}),o.rejection=IS_NODE$5||isUnhandled(o)?UNHANDLED:HANDLED,b.error))throw b.value})},isUnhandled=function(o){return o.rejection!==HANDLED&&!o.parent},onHandleUnhandled=function(o){call$5$1(task,global$2$1,function(){var e=o.facade;IS_NODE$5?process$4.emit("rejectionHandled",e):dispatchEvent(REJECTION_HANDLED,e,o.value)})},bind$1$1=function(o,e,s){return function(h){o(e,h,s)}},internalReject=function(o,e,s){o.done||(o.done=!0,s&&(o=s),o.value=e,o.state=REJECTED,notify(o,!0))},internalResolve=function(o,e,s){if(!o.done){o.done=!0,s&&(o=s);try{if(o.facade===e)throw new TypeError$1$1("Promise can't be resolved itself");var h=isThenable(e);h?microtask(function(){var b={done:!1};try{call$5$1(h,e,bind$1$1(internalResolve,b,o),bind$1$1(internalReject,b,o))}catch(_e){internalReject(b,_e,o)}}):(o.value=e,o.state=FULFILLED,notify(o,!1))}catch(b){internalReject({done:!1},b,o)}}};FORCED_PROMISE_CONSTRUCTOR$4&&(PromiseConstructor=function(e){anInstance$2$1(this,PromisePrototype),aCallable$5$1(e),call$5$1(Internal,this);var s=getInternalPromiseState(this);try{e(bind$1$1(internalResolve,s),bind$1$1(internalReject,s))}catch(h){internalReject(s,h)}},PromisePrototype=PromiseConstructor.prototype,Internal=function(e){setInternalState$2$1(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:new Queue$1,rejection:!1,state:PENDING,value:void 0})},Internal.prototype=defineBuiltIn$1$1(PromisePrototype,"then",function(e,s){var h=getInternalPromiseState(this),b=newPromiseCapability$1(speciesConstructor$1(this,PromiseConstructor));return h.parent=!0,b.ok=isCallable$2$1(e)?e:!0,b.fail=isCallable$2$1(s)&&s,b.domain=IS_NODE$5?process$4.domain:void 0,h.state===PENDING?h.reactions.add(b):microtask(function(){callReaction(b,h)}),b.promise}),OwnPromiseCapability=function(){var o=new Internal,e=getInternalPromiseState(o);this.promise=o,this.resolve=bind$1$1(internalResolve,e),this.reject=bind$1$1(internalReject,e)},newPromiseCapabilityModule$7.f=newPromiseCapability$1=function(o){return o===PromiseConstructor||o===PromiseWrapper?new OwnPromiseCapability(o):newGenericPromiseCapability(o)});$$e$1({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR$4},{Promise:PromiseConstructor});setToStringTag$1$1(PromiseConstructor,PROMISE,!1,!0);setSpecies$1$1(PROMISE);var NativePromiseConstructor$3=promiseNativeConstructor,checkCorrectnessOfIteration$3=checkCorrectnessOfIteration$2,FORCED_PROMISE_CONSTRUCTOR$3=promiseConstructorDetection.CONSTRUCTOR,promiseStaticsIncorrectIteration=FORCED_PROMISE_CONSTRUCTOR$3||!checkCorrectnessOfIteration$3(function(o){NativePromiseConstructor$3.all(o).then(void 0,function(){})}),$$d$1=_export$1,call$4$1=functionCall$1,aCallable$4$1=aCallable$e,newPromiseCapabilityModule$6=newPromiseCapability$2,perform$4=perform$6,iterate$5=iterate$7,PROMISE_STATICS_INCORRECT_ITERATION$3=promiseStaticsIncorrectIteration;$$d$1({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$3},{all:function o(e){var s=this,h=newPromiseCapabilityModule$6.f(s),b=h.resolve,_e=h.reject,rt=perform$4(function(){var at=aCallable$4$1(s.resolve),st=[],ot=0,nt=1;iterate$5(e,function(et){var d=ot++,_=!1;nt++,call$4$1(at,s,et).then(function(tt){_||(_=!0,st[d]=tt,--nt||b(st))},_e)}),--nt||b(st)});return rt.error&&_e(rt.value),h.promise}});var $$c$1=_export$1,FORCED_PROMISE_CONSTRUCTOR$2=promiseConstructorDetection.CONSTRUCTOR,NativePromiseConstructor$2=promiseNativeConstructor;NativePromiseConstructor$2&&NativePromiseConstructor$2.prototype;$$c$1({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR$2,real:!0},{catch:function(o){return this.then(void 0,o)}});var $$b$1=_export$1,call$3$1=functionCall$1,aCallable$3$1=aCallable$e,newPromiseCapabilityModule$5=newPromiseCapability$2,perform$3=perform$6,iterate$4=iterate$7,PROMISE_STATICS_INCORRECT_ITERATION$2=promiseStaticsIncorrectIteration;$$b$1({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$2},{race:function o(e){var s=this,h=newPromiseCapabilityModule$5.f(s),b=h.reject,_e=perform$3(function(){var rt=aCallable$3$1(s.resolve);iterate$4(e,function(at){call$3$1(rt,s,at).then(h.resolve,b)})});return _e.error&&b(_e.value),h.promise}});var $$a$1=_export$1,call$2$1=functionCall$1,newPromiseCapabilityModule$4=newPromiseCapability$2,FORCED_PROMISE_CONSTRUCTOR$1=promiseConstructorDetection.CONSTRUCTOR;$$a$1({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$1},{reject:function o(e){var s=newPromiseCapabilityModule$4.f(this);return call$2$1(s.reject,void 0,e),s.promise}});var anObject$e=anObject$d$1,isObject$3$1=isObject$h$1,newPromiseCapability=newPromiseCapability$2,promiseResolve$2=function(o,e){if(anObject$e(o),isObject$3$1(e)&&e.constructor===o)return e;var s=newPromiseCapability.f(o),h=s.resolve;return h(e),s.promise},$$9$1=_export$1,getBuiltIn$2$1=getBuiltIn$f,IS_PURE=isPure,NativePromiseConstructor$1=promiseNativeConstructor,FORCED_PROMISE_CONSTRUCTOR=promiseConstructorDetection.CONSTRUCTOR,promiseResolve$1=promiseResolve$2,PromiseConstructorWrapper=getBuiltIn$2$1("Promise"),CHECK_WRAPPER=!FORCED_PROMISE_CONSTRUCTOR;$$9$1({target:"Promise",stat:!0,forced:IS_PURE},{resolve:function o(e){return promiseResolve$1(CHECK_WRAPPER&&this===PromiseConstructorWrapper?NativePromiseConstructor$1:this,e)}});var $$8$1=_export$1,call$1$1=functionCall$1,aCallable$2$1=aCallable$e,newPromiseCapabilityModule$3=newPromiseCapability$2,perform$2=perform$6,iterate$3$1=iterate$7,PROMISE_STATICS_INCORRECT_ITERATION$1=promiseStaticsIncorrectIteration;$$8$1({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$1},{allSettled:function o(e){var s=this,h=newPromiseCapabilityModule$3.f(s),b=h.resolve,_e=h.reject,rt=perform$2(function(){var at=aCallable$2$1(s.resolve),st=[],ot=0,nt=1;iterate$3$1(e,function(et){var d=ot++,_=!1;nt++,call$1$1(at,s,et).then(function(tt){_||(_=!0,st[d]={status:"fulfilled",value:tt},--nt||b(st))},function(tt){_||(_=!0,st[d]={status:"rejected",reason:tt},--nt||b(st))})}),--nt||b(st)});return rt.error&&_e(rt.value),h.promise}});var $$7$1=_export$1,call$l=functionCall$1,aCallable$1$1=aCallable$e,getBuiltIn$1$1=getBuiltIn$f,newPromiseCapabilityModule$2=newPromiseCapability$2,perform$1=perform$6,iterate$2$1=iterate$7,PROMISE_STATICS_INCORRECT_ITERATION=promiseStaticsIncorrectIteration,PROMISE_ANY_ERROR="No one promise resolved";$$7$1({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION},{any:function o(e){var s=this,h=getBuiltIn$1$1("AggregateError"),b=newPromiseCapabilityModule$2.f(s),_e=b.resolve,rt=b.reject,at=perform$1(function(){var st=aCallable$1$1(s.resolve),ot=[],nt=0,et=1,d=!1;iterate$2$1(e,function(_){var tt=nt++,lt=!1;et++,call$l(st,s,_).then(function(ut){lt||d||(d=!0,_e(ut))},function(ut){lt||d||(lt=!0,ot[tt]=ut,--et||rt(new h(ot,PROMISE_ANY_ERROR)))})}),--et||rt(new h(ot,PROMISE_ANY_ERROR))});return at.error&&rt(at.value),b.promise}});var $$6$1=_export$1,NativePromiseConstructor=promiseNativeConstructor,fails$5$1=fails$u$1,getBuiltIn$g=getBuiltIn$f,isCallable$1$1=isCallable$m,speciesConstructor=speciesConstructor$2,promiseResolve=promiseResolve$2,NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype,NON_GENERIC=!!NativePromiseConstructor&&fails$5$1(function(){NativePromisePrototype.finally.call({then:function(){}},function(){})});$$6$1({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC},{finally:function(o){var e=speciesConstructor(this,getBuiltIn$g("Promise")),s=isCallable$1$1(o);return this.then(s?function(h){return promiseResolve(e,o()).then(function(){return h})}:o,s?function(h){return promiseResolve(e,o()).then(function(){throw h})}:o)}});var path$2$1=path$o$1,promise$4=path$2$1.Promise,parent$e$1=promise$4,promise$3=parent$e$1,$$5$1=_export$1,newPromiseCapabilityModule$1=newPromiseCapability$2;$$5$1({target:"Promise",stat:!0},{withResolvers:function o(){var e=newPromiseCapabilityModule$1.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var parent$d$1=promise$3,promise$2=parent$d$1,$$4$1=_export$1,newPromiseCapabilityModule=newPromiseCapability$2,perform=perform$6;$$4$1({target:"Promise",stat:!0,forced:!0},{try:function(o){var e=newPromiseCapabilityModule.f(this),s=perform(o);return(s.error?e.reject:e.resolve)(s.value),e.promise}});var parent$c$1=promise$2,promise$1=parent$c$1,promise=promise$1,parent$b$1=reverse$4,reverse$2$1=parent$b$1,parent$a$1=reverse$2$1,reverse$1$1=parent$a$1,reverse$7=reverse$1$1;(function(o){var e=_typeofExports.default,s=defineProperty$8$1,h=symbol$1$1,b=create$2$1,_e=getPrototypeOf$1$1,rt=forEach$1$1,at=push$3$1,st=setPrototypeOf$1$1,ot=promise,nt=reverse$7,et=slice$1$1;function d(){o.exports=d=function(){return tt},o.exports.__esModule=!0,o.exports.default=o.exports;var _,tt={},lt=Object.prototype,ut=lt.hasOwnProperty,ct=s||function(Ot,At,Nt){Ot[At]=Nt.value},ft=typeof h=="function"?h:{},dt=ft.iterator||"@@iterator",ht=ft.asyncIterator||"@@asyncIterator",gt=ft.toStringTag||"@@toStringTag";function yt(Ot,At,Nt){return s(Ot,At,{value:Nt,enumerable:!0,configurable:!0,writable:!0}),Ot[At]}try{yt({},"")}catch{yt=function(Nt,Mt,Lt){return Nt[Mt]=Lt}}function vt(Ot,At,Nt,Mt){var Lt=At&&At.prototype instanceof wt?At:wt,Wt=b(Lt.prototype),Xt=new nr(Mt||[]);return ct(Wt,"_invoke",{value:Vt(Ot,Nt,Xt)}),Wt}function mt(Ot,At,Nt){try{return{type:"normal",arg:Ot.call(At,Nt)}}catch(Mt){return{type:"throw",arg:Mt}}}tt.wrap=vt;var bt="suspendedStart",$t="suspendedYield",St="executing",Pt="completed",_t={};function wt(){}function xt(){}function Tt(){}var It={};yt(It,dt,function(){return this});var Ct=_e,Rt=Ct&&Ct(Ct(Et([])));Rt&&Rt!==lt&&ut.call(Rt,dt)&&(It=Rt);var Ut=Tt.prototype=wt.prototype=b(It);function kt(Ot){var At;rt(At=["next","throw","return"]).call(At,function(Nt){yt(Ot,Nt,function(Mt){return this._invoke(Nt,Mt)})})}function jt(Ot,At){function Nt(Lt,Wt,Xt,ar){var Ht=mt(Ot[Lt],Ot,Wt);if(Ht.type!=="throw"){var sr=Ht.arg,dr=sr.value;return dr&&e(dr)=="object"&&ut.call(dr,"__await")?At.resolve(dr.__await).then(function(ir){Nt("next",ir,Xt,ar)},function(ir){Nt("throw",ir,Xt,ar)}):At.resolve(dr).then(function(ir){sr.value=ir,Xt(sr)},function(ir){return Nt("throw",ir,Xt,ar)})}ar(Ht.arg)}var Mt;ct(this,"_invoke",{value:function(Wt,Xt){function ar(){return new At(function(Ht,sr){Nt(Wt,Xt,Ht,sr)})}return Mt=Mt?Mt.then(ar,ar):ar()}})}function Vt(Ot,At,Nt){var Mt=bt;return function(Lt,Wt){if(Mt===St)throw new Error("Generator is already running");if(Mt===Pt){if(Lt==="throw")throw Wt;return{value:_,done:!0}}for(Nt.method=Lt,Nt.arg=Wt;;){var Xt=Nt.delegate;if(Xt){var ar=Gt(Xt,Nt);if(ar){if(ar===_t)continue;return ar}}if(Nt.method==="next")Nt.sent=Nt._sent=Nt.arg;else if(Nt.method==="throw"){if(Mt===bt)throw Mt=Pt,Nt.arg;Nt.dispatchException(Nt.arg)}else Nt.method==="return"&&Nt.abrupt("return",Nt.arg);Mt=St;var Ht=mt(Ot,At,Nt);if(Ht.type==="normal"){if(Mt=Nt.done?Pt:$t,Ht.arg===_t)continue;return{value:Ht.arg,done:Nt.done}}Ht.type==="throw"&&(Mt=Pt,Nt.method="throw",Nt.arg=Ht.arg)}}}function Gt(Ot,At){var Nt=At.method,Mt=Ot.iterator[Nt];if(Mt===_)return At.delegate=null,Nt==="throw"&&Ot.iterator.return&&(At.method="return",At.arg=_,Gt(Ot,At),At.method==="throw")||Nt!=="return"&&(At.method="throw",At.arg=new TypeError("The iterator does not provide a '"+Nt+"' method")),_t;var Lt=mt(Mt,Ot.iterator,At.arg);if(Lt.type==="throw")return At.method="throw",At.arg=Lt.arg,At.delegate=null,_t;var Wt=Lt.arg;return Wt?Wt.done?(At[Ot.resultName]=Wt.value,At.next=Ot.nextLoc,At.method!=="return"&&(At.method="next",At.arg=_),At.delegate=null,_t):Wt:(At.method="throw",At.arg=new TypeError("iterator result is not an object"),At.delegate=null,_t)}function Yt(Ot){var At,Nt={tryLoc:Ot[0]};1 in Ot&&(Nt.catchLoc=Ot[1]),2 in Ot&&(Nt.finallyLoc=Ot[2],Nt.afterLoc=Ot[3]),at(At=this.tryEntries).call(At,Nt)}function er(Ot){var At=Ot.completion||{};At.type="normal",delete At.arg,Ot.completion=At}function nr(Ot){this.tryEntries=[{tryLoc:"root"}],rt(Ot).call(Ot,Yt,this),this.reset(!0)}function Et(Ot){if(Ot||Ot===""){var At=Ot[dt];if(At)return At.call(Ot);if(typeof Ot.next=="function")return Ot;if(!isNaN(Ot.length)){var Nt=-1,Mt=function Lt(){for(;++Nt<Ot.length;)if(ut.call(Ot,Nt))return Lt.value=Ot[Nt],Lt.done=!1,Lt;return Lt.value=_,Lt.done=!0,Lt};return Mt.next=Mt}}throw new TypeError(e(Ot)+" is not iterable")}return xt.prototype=Tt,ct(Ut,"constructor",{value:Tt,configurable:!0}),ct(Tt,"constructor",{value:xt,configurable:!0}),xt.displayName=yt(Tt,gt,"GeneratorFunction"),tt.isGeneratorFunction=function(Ot){var At=typeof Ot=="function"&&Ot.constructor;return!!At&&(At===xt||(At.displayName||At.name)==="GeneratorFunction")},tt.mark=function(Ot){return st?st(Ot,Tt):(Ot.__proto__=Tt,yt(Ot,gt,"GeneratorFunction")),Ot.prototype=b(Ut),Ot},tt.awrap=function(Ot){return{__await:Ot}},kt(jt.prototype),yt(jt.prototype,ht,function(){return this}),tt.AsyncIterator=jt,tt.async=function(Ot,At,Nt,Mt,Lt){Lt===void 0&&(Lt=ot);var Wt=new jt(vt(Ot,At,Nt,Mt),Lt);return tt.isGeneratorFunction(At)?Wt:Wt.next().then(function(Xt){return Xt.done?Xt.value:Wt.next()})},kt(Ut),yt(Ut,gt,"Generator"),yt(Ut,dt,function(){return this}),yt(Ut,"toString",function(){return"[object Generator]"}),tt.keys=function(Ot){var At=Object(Ot),Nt=[];for(var Mt in At)at(Nt).call(Nt,Mt);return nt(Nt).call(Nt),function Lt(){for(;Nt.length;){var Wt=Nt.pop();if(Wt in At)return Lt.value=Wt,Lt.done=!1,Lt}return Lt.done=!0,Lt}},tt.values=Et,nr.prototype={constructor:nr,reset:function(At){var Nt;if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,rt(Nt=this.tryEntries).call(Nt,er),!At)for(var Mt in this)Mt.charAt(0)==="t"&&ut.call(this,Mt)&&!isNaN(+et(Mt).call(Mt,1))&&(this[Mt]=_)},stop:function(){this.done=!0;var At=this.tryEntries[0].completion;if(At.type==="throw")throw At.arg;return this.rval},dispatchException:function(At){if(this.done)throw At;var Nt=this;function Mt(sr,dr){return Xt.type="throw",Xt.arg=At,Nt.next=sr,dr&&(Nt.method="next",Nt.arg=_),!!dr}for(var Lt=this.tryEntries.length-1;Lt>=0;--Lt){var Wt=this.tryEntries[Lt],Xt=Wt.completion;if(Wt.tryLoc==="root")return Mt("end");if(Wt.tryLoc<=this.prev){var ar=ut.call(Wt,"catchLoc"),Ht=ut.call(Wt,"finallyLoc");if(ar&&Ht){if(this.prev<Wt.catchLoc)return Mt(Wt.catchLoc,!0);if(this.prev<Wt.finallyLoc)return Mt(Wt.finallyLoc)}else if(ar){if(this.prev<Wt.catchLoc)return Mt(Wt.catchLoc,!0)}else{if(!Ht)throw new Error("try statement without catch or finally");if(this.prev<Wt.finallyLoc)return Mt(Wt.finallyLoc)}}}},abrupt:function(At,Nt){for(var Mt=this.tryEntries.length-1;Mt>=0;--Mt){var Lt=this.tryEntries[Mt];if(Lt.tryLoc<=this.prev&&ut.call(Lt,"finallyLoc")&&this.prev<Lt.finallyLoc){var Wt=Lt;break}}Wt&&(At==="break"||At==="continue")&&Wt.tryLoc<=Nt&&Nt<=Wt.finallyLoc&&(Wt=null);var Xt=Wt?Wt.completion:{};return Xt.type=At,Xt.arg=Nt,Wt?(this.method="next",this.next=Wt.finallyLoc,_t):this.complete(Xt)},complete:function(At,Nt){if(At.type==="throw")throw At.arg;return At.type==="break"||At.type==="continue"?this.next=At.arg:At.type==="return"?(this.rval=this.arg=At.arg,this.method="return",this.next="end"):At.type==="normal"&&Nt&&(this.next=Nt),_t},finish:function(At){for(var Nt=this.tryEntries.length-1;Nt>=0;--Nt){var Mt=this.tryEntries[Nt];if(Mt.finallyLoc===At)return this.complete(Mt.completion,Mt.afterLoc),er(Mt),_t}},catch:function(At){for(var Nt=this.tryEntries.length-1;Nt>=0;--Nt){var Mt=this.tryEntries[Nt];if(Mt.tryLoc===At){var Lt=Mt.completion;if(Lt.type==="throw"){var Wt=Lt.arg;er(Mt)}return Wt}}throw new Error("illegal catch attempt")},delegateYield:function(At,Nt,Mt){return this.delegate={iterator:Et(At),resultName:Nt,nextLoc:Mt},this.method==="next"&&(this.arg=_),_t}},tt}o.exports=d,o.exports.__esModule=!0,o.exports.default=o.exports})(regeneratorRuntime$1);var regeneratorRuntimeExports=regeneratorRuntime$1.exports,runtime=regeneratorRuntimeExports(),regenerator=runtime;try{regeneratorRuntime=runtime}catch(o){typeof globalThis=="object"?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}var _regeneratorRuntime=getDefaultExportFromCjs$1(regenerator),internalMetadata$1={exports:{}},fails$4$1=fails$u$1,arrayBufferNonExtensible$1=fails$4$1(function(){if(typeof ArrayBuffer=="function"){var o=new ArrayBuffer(8);Object.isExtensible(o)&&Object.defineProperty(o,"a",{value:8})}}),fails$3$1=fails$u$1,isObject$2$1=isObject$h$1,classof$3$1=classofRaw$2$1,ARRAY_BUFFER_NON_EXTENSIBLE$1=arrayBufferNonExtensible$1,$isExtensible$1=Object.isExtensible,FAILS_ON_PRIMITIVES$4=fails$3$1(function(){$isExtensible$1(1)}),objectIsExtensible$1=FAILS_ON_PRIMITIVES$4||ARRAY_BUFFER_NON_EXTENSIBLE$1?function o(e){return!isObject$2$1(e)||ARRAY_BUFFER_NON_EXTENSIBLE$1&&classof$3$1(e)==="ArrayBuffer"?!1:$isExtensible$1?$isExtensible$1(e):!0}:$isExtensible$1,fails$2$1=fails$u$1,freezing$1=!fails$2$1(function(){return Object.isExtensible(Object.preventExtensions({}))}),$$3$1=_export$1,uncurryThis$1$1=functionUncurryThis$1,hiddenKeys$7=hiddenKeys$6$1,isObject$1$1=isObject$h$1,hasOwn$3$1=hasOwnProperty_1$1,defineProperty$1$1=objectDefineProperty$1.f,getOwnPropertyNamesModule$3=objectGetOwnPropertyNames$1,getOwnPropertyNamesExternalModule$1=objectGetOwnPropertyNamesExternal$1,isExtensible$2=objectIsExtensible$1,uid$5=uid$4$1,FREEZING$2=freezing$1,REQUIRED$1=!1,METADATA$2=uid$5("meta"),id$3=0,setMetadata$1=function(o){defineProperty$1$1(o,METADATA$2,{value:{objectID:"O"+id$3++,weakData:{}}})},fastKey$1$1=function(o,e){if(!isObject$1$1(o))return typeof o=="symbol"?o:(typeof o=="string"?"S":"P")+o;if(!hasOwn$3$1(o,METADATA$2)){if(!isExtensible$2(o))return"F";if(!e)return"E";setMetadata$1(o)}return o[METADATA$2].objectID},getWeakData$2=function(o,e){if(!hasOwn$3$1(o,METADATA$2)){if(!isExtensible$2(o))return!0;if(!e)return!1;setMetadata$1(o)}return o[METADATA$2].weakData},onFreeze$1=function(o){return FREEZING$2&&REQUIRED$1&&isExtensible$2(o)&&!hasOwn$3$1(o,METADATA$2)&&setMetadata$1(o),o},enable$1=function(){meta$1.enable=function(){},REQUIRED$1=!0;var o=getOwnPropertyNamesModule$3.f,e=uncurryThis$1$1([].splice),s={};s[METADATA$2]=1,o(s).length&&(getOwnPropertyNamesModule$3.f=function(h){for(var b=o(h),_e=0,rt=b.length;_e<rt;_e++)if(b[_e]===METADATA$2){e(b,_e,1);break}return b},$$3$1({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule$1.f}))},meta$1=internalMetadata$1.exports={enable:enable$1,fastKey:fastKey$1$1,getWeakData:getWeakData$2,onFreeze:onFreeze$1};hiddenKeys$7[METADATA$2]=!0;var internalMetadataExports$1=internalMetadata$1.exports,$$2$1=_export$1,global$1$1=global$p,InternalMetadataModule$2=internalMetadataExports$1,fails$1$1=fails$u$1,createNonEnumerableProperty$a=createNonEnumerableProperty$9,iterate$1$1=iterate$7,anInstance$1$1=anInstance$3$1,isCallable$n=isCallable$m,isObject$k=isObject$h$1,isNullOrUndefined$1$1=isNullOrUndefined$6$1,setToStringTag$8=setToStringTag$7,defineProperty$g=objectDefineProperty$1.f,forEach$9=arrayIteration$1.forEach,DESCRIPTORS$1$1=descriptors$1,InternalStateModule$1$1=internalState$1,setInternalState$1$1=InternalStateModule$1$1.set,internalStateGetterFor$1$1=InternalStateModule$1$1.getterFor,collection$2$1=function(o,e,s){var h=o.indexOf("Map")!==-1,b=o.indexOf("Weak")!==-1,_e=h?"set":"add",rt=global$1$1[o],at=rt&&rt.prototype,st={},ot;if(!DESCRIPTORS$1$1||!isCallable$n(rt)||!(b||at.forEach&&!fails$1$1(function(){new rt().entries().next()})))ot=s.getConstructor(e,o,h,_e),InternalMetadataModule$2.enable();else{ot=e(function(d,_){setInternalState$1$1(anInstance$1$1(d,nt),{type:o,collection:new rt}),isNullOrUndefined$1$1(_)||iterate$1$1(_,d[_e],{that:d,AS_ENTRIES:h})});var nt=ot.prototype,et=internalStateGetterFor$1$1(o);forEach$9(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(d){var _=d==="add"||d==="set";d in at&&!(b&&d==="clear")&&createNonEnumerableProperty$a(nt,d,function(tt,lt){var ut=et(this).collection;if(!_&&b&&!isObject$k(tt))return d==="get"?void 0:!1;var ct=ut[d](tt===0?0:tt,lt);return _?this:ct})}),b||defineProperty$g(nt,"size",{configurable:!0,get:function(){return et(this).collection.size}})}return setToStringTag$8(ot,o,!1,!0),st[o]=ot,$$2$1({global:!0,forced:!0},st),b||s.setStrong(ot,o,h),ot},defineBuiltIn$7=defineBuiltIn$6,defineBuiltIns$1$1=function(o,e,s){for(var h in e)s&&s.unsafe&&o[h]?o[h]=e[h]:defineBuiltIn$7(o,h,e[h],s);return o},create$c=objectCreate$1,defineBuiltInAccessor$4=defineBuiltInAccessor$3$1,defineBuiltIns$4=defineBuiltIns$1$1,bind$j=functionBindContext$1,anInstance$4=anInstance$3$1,isNullOrUndefined$7=isNullOrUndefined$6$1,iterate$8=iterate$7,defineIterator$3=iteratorDefine$1,createIterResultObject$4=createIterResultObject$3$1,setSpecies$3=setSpecies$2,DESCRIPTORS$i=descriptors$1,fastKey$2=internalMetadataExports$1.fastKey,InternalStateModule$6=internalState$1,setInternalState$6=InternalStateModule$6.set,internalStateGetterFor$3=InternalStateModule$6.getterFor,collectionStrong$2$1={getConstructor:function(o,e,s,h){var b=o(function(ot,nt){anInstance$4(ot,_e),setInternalState$6(ot,{type:e,index:create$c(null),first:void 0,last:void 0,size:0}),DESCRIPTORS$i||(ot.size=0),isNullOrUndefined$7(nt)||iterate$8(nt,ot[h],{that:ot,AS_ENTRIES:s})}),_e=b.prototype,rt=internalStateGetterFor$3(e),at=function(ot,nt,et){var d=rt(ot),_=st(ot,nt),tt,lt;return _?_.value=et:(d.last=_={index:lt=fastKey$2(nt,!0),key:nt,value:et,previous:tt=d.last,next:void 0,removed:!1},d.first||(d.first=_),tt&&(tt.next=_),DESCRIPTORS$i?d.size++:ot.size++,lt!=="F"&&(d.index[lt]=_)),ot},st=function(ot,nt){var et=rt(ot),d=fastKey$2(nt),_;if(d!=="F")return et.index[d];for(_=et.first;_;_=_.next)if(_.key===nt)return _};return defineBuiltIns$4(_e,{clear:function(){for(var nt=this,et=rt(nt),d=et.index,_=et.first;_;)_.removed=!0,_.previous&&(_.previous=_.previous.next=void 0),delete d[_.index],_=_.next;et.first=et.last=void 0,DESCRIPTORS$i?et.size=0:nt.size=0},delete:function(ot){var nt=this,et=rt(nt),d=st(nt,ot);if(d){var _=d.next,tt=d.previous;delete et.index[d.index],d.removed=!0,tt&&(tt.next=_),_&&(_.previous=tt),et.first===d&&(et.first=_),et.last===d&&(et.last=tt),DESCRIPTORS$i?et.size--:nt.size--}return!!d},forEach:function(nt){for(var et=rt(this),d=bind$j(nt,arguments.length>1?arguments[1]:void 0),_;_=_?_.next:et.first;)for(d(_.value,_.key,this);_&&_.removed;)_=_.previous},has:function(nt){return!!st(this,nt)}}),defineBuiltIns$4(_e,s?{get:function(nt){var et=st(this,nt);return et&&et.value},set:function(nt,et){return at(this,nt===0?0:nt,et)}}:{add:function(nt){return at(this,nt=nt===0?0:nt,nt)}}),DESCRIPTORS$i&&defineBuiltInAccessor$4(_e,"size",{configurable:!0,get:function(){return rt(this).size}}),b},setStrong:function(o,e,s){var h=e+" Iterator",b=internalStateGetterFor$3(e),_e=internalStateGetterFor$3(h);defineIterator$3(o,e,function(rt,at){setInternalState$6(this,{type:h,target:rt,state:b(rt),kind:at,last:void 0})},function(){for(var rt=_e(this),at=rt.kind,st=rt.last;st&&st.removed;)st=st.previous;return!rt.target||!(rt.last=st=st?st.next:rt.state.first)?(rt.target=void 0,createIterResultObject$4(void 0,!0)):createIterResultObject$4(at==="keys"?st.key:at==="values"?st.value:[st.key,st.value],!1)},s?"entries":"values",!s,!0),setSpecies$3(e)}},collection$1$1=collection$2$1,collectionStrong$1$1=collectionStrong$2$1;collection$1$1("Map",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},collectionStrong$1$1);var path$1$1=path$o$1,map$2$1=path$1$1.Map,parent$9$1=map$2$1,map$1$1=parent$9$1,map$7=map$1$1,_Map$1=getDefaultExportFromCjs$1(map$7),$$1$1=_export$1,$some$1=arrayIteration$1.some,arrayMethodIsStrict$1$1=arrayMethodIsStrict$4$1,STRICT_METHOD$1$1=arrayMethodIsStrict$1$1("some");$$1$1({target:"Array",proto:!0,forced:!STRICT_METHOD$1$1},{some:function o(e){return $some$1(this,e,arguments.length>1?arguments[1]:void 0)}});var getBuiltInPrototypeMethod$4=getBuiltInPrototypeMethod$g,some$3$1=getBuiltInPrototypeMethod$4("Array","some"),isPrototypeOf$4$1=objectIsPrototypeOf$1,method$4$1=some$3$1,ArrayPrototype$4$1=Array.prototype,some$2$1=function(o){var e=o.some;return o===ArrayPrototype$4$1||isPrototypeOf$4$1(ArrayPrototype$4$1,o)&&e===ArrayPrototype$4$1.some?method$4$1:e},parent$8$1=some$2$1,some$1$1=parent$8$1,some$4=some$1$1,_someInstanceProperty$1=getDefaultExportFromCjs$1(some$4),getBuiltInPrototypeMethod$3=getBuiltInPrototypeMethod$g,keys$3$1=getBuiltInPrototypeMethod$3("Array","keys"),parent$7$1=keys$3$1,keys$2$1=parent$7$1,classof$2$1=classof$d$1,hasOwn$2$1=hasOwnProperty_1$1,isPrototypeOf$3$1=objectIsPrototypeOf$1,method$3$1=keys$2$1,ArrayPrototype$3$1=Array.prototype,DOMIterables$2$1={DOMTokenList:!0,NodeList:!0},keys$1$1=function(o){var e=o.keys;return o===ArrayPrototype$3$1||isPrototypeOf$3$1(ArrayPrototype$3$1,o)&&e===ArrayPrototype$3$1.keys||hasOwn$2$1(DOMIterables$2$1,classof$2$1(o))?method$3$1:e},keys$8=keys$1$1,_keysInstanceProperty=getDefaultExportFromCjs$1(keys$8),arraySlice$7=arraySliceSimple$1,floor$2=Math.floor,mergeSort$1=function(o,e){var s=o.length,h=floor$2(s/2);return s<8?insertionSort$1(o,e):merge$3(o,mergeSort$1(arraySlice$7(o,0,h),e),mergeSort$1(arraySlice$7(o,h),e),e)},insertionSort$1=function(o,e){for(var s=o.length,h=1,b,_e;h<s;){for(_e=h,b=o[h];_e&&e(o[_e-1],b)>0;)o[_e]=o[--_e];_e!==h++&&(o[_e]=b)}return o},merge$3=function(o,e,s,h){for(var b=e.length,_e=s.length,rt=0,at=0;rt<b||at<_e;)o[rt+at]=rt<b&&at<_e?h(e[rt],s[at])<=0?e[rt++]:s[at++]:rt<b?e[rt++]:s[at++];return o},arraySort$1=mergeSort$1,userAgent$1$1=engineUserAgent$1,firefox$1=userAgent$1$1.match(/firefox\/(\d+)/i),engineFfVersion$1=!!firefox$1&&+firefox$1[1],UA$1=engineUserAgent$1,engineIsIeOrEdge$1=/MSIE|Trident/.test(UA$1),userAgent$6=engineUserAgent$1,webkit$1=userAgent$6.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion$1=!!webkit$1&&+webkit$1[1],$$Q=_export$1,uncurryThis$y=functionUncurryThis$1,aCallable$f=aCallable$e,toObject$f=toObject$e$1,lengthOfArrayLike$e=lengthOfArrayLike$d,deletePropertyOrThrow$3=deletePropertyOrThrow$2$1,toString$d=toString$7$1,fails$x=fails$u$1,internalSort$1=arraySort$1,arrayMethodIsStrict$7=arrayMethodIsStrict$4$1,FF$1=engineFfVersion$1,IE_OR_EDGE$1=engineIsIeOrEdge$1,V8$1=engineV8Version$1,WEBKIT$1=engineWebkitVersion$1,test$3=[],nativeSort$1=uncurryThis$y(test$3.sort),push$d=uncurryThis$y(test$3.push),FAILS_ON_UNDEFINED$1=fails$x(function(){test$3.sort(void 0)}),FAILS_ON_NULL$1=fails$x(function(){test$3.sort(null)}),STRICT_METHOD$4=arrayMethodIsStrict$7("sort"),STABLE_SORT$1=!fails$x(function(){if(V8$1)return V8$1<70;if(!(FF$1&&FF$1>3)){if(IE_OR_EDGE$1)return!0;if(WEBKIT$1)return WEBKIT$1<603;var o="",e,s,h,b;for(e=65;e<76;e++){switch(s=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:h=3;break;case 68:case 71:h=4;break;default:h=2}for(b=0;b<47;b++)test$3.push({k:s+b,v:h})}for(test$3.sort(function(_e,rt){return rt.v-_e.v}),b=0;b<test$3.length;b++)s=test$3[b].k.charAt(0),o.charAt(o.length-1)!==s&&(o+=s);return o!=="DGBEFHACIJK"}}),FORCED$b=FAILS_ON_UNDEFINED$1||!FAILS_ON_NULL$1||!STRICT_METHOD$4||!STABLE_SORT$1,getSortCompare$1=function(o){return function(e,s){return s===void 0?-1:e===void 0?1:o!==void 0?+o(e,s)||0:toString$d(e)>toString$d(s)?1:-1}};$$Q({target:"Array",proto:!0,forced:FORCED$b},{sort:function o(e){e!==void 0&&aCallable$f(e);var s=toObject$f(this);if(STABLE_SORT$1)return e===void 0?nativeSort$1(s):nativeSort$1(s,e);var h=[],b=lengthOfArrayLike$e(s),_e,rt;for(rt=0;rt<b;rt++)rt in s&&push$d(h,s[rt]);for(internalSort$1(h,getSortCompare$1(e)),_e=lengthOfArrayLike$e(h),rt=0;rt<_e;)s[rt]=h[rt++];for(;rt<b;)deletePropertyOrThrow$3(s,rt++);return s}});var getBuiltInPrototypeMethod$2=getBuiltInPrototypeMethod$g,sort$3$1=getBuiltInPrototypeMethod$2("Array","sort"),isPrototypeOf$2$1=objectIsPrototypeOf$1,method$2$1=sort$3$1,ArrayPrototype$2$1=Array.prototype,sort$2$1=function(o){var e=o.sort;return o===ArrayPrototype$2$1||isPrototypeOf$2$1(ArrayPrototype$2$1,o)&&e===ArrayPrototype$2$1.sort?method$2$1:e},parent$6$1=sort$2$1,sort$1$1=parent$6$1,sort$4=sort$1$1,_sortInstanceProperty$1=getDefaultExportFromCjs$1(sort$4),getBuiltInPrototypeMethod$1=getBuiltInPrototypeMethod$g,values$3$1=getBuiltInPrototypeMethod$1("Array","values"),parent$5$1=values$3$1,values$2$1=parent$5$1,classof$1$1=classof$d$1,hasOwn$1$1=hasOwnProperty_1$1,isPrototypeOf$1$1=objectIsPrototypeOf$1,method$1$1=values$2$1,ArrayPrototype$1$1=Array.prototype,DOMIterables$1$1={DOMTokenList:!0,NodeList:!0},values$1$1=function(o){var e=o.values;return o===ArrayPrototype$1$1||isPrototypeOf$1$1(ArrayPrototype$1$1,o)&&e===ArrayPrototype$1$1.values||hasOwn$1$1(DOMIterables$1$1,classof$1$1(o))?method$1$1:e},values$4=values$1$1,_valuesInstanceProperty$1=getDefaultExportFromCjs$1(values$4),iterator$6=iterator$4$1,_Symbol$iterator$2=getDefaultExportFromCjs$1(iterator$6),getBuiltInPrototypeMethod=getBuiltInPrototypeMethod$g,entries$3=getBuiltInPrototypeMethod("Array","entries"),parent$4$1=entries$3,entries$2=parent$4$1,classof$g=classof$d$1,hasOwn$k=hasOwnProperty_1$1,isPrototypeOf$l=objectIsPrototypeOf$1,method$g=entries$2,ArrayPrototype$h=Array.prototype,DOMIterables$5={DOMTokenList:!0,NodeList:!0},entries$1=function(o){var e=o.entries;return o===ArrayPrototype$h||isPrototypeOf$l(ArrayPrototype$h,o)&&e===ArrayPrototype$h.entries||hasOwn$k(DOMIterables$5,classof$g(o))?method$g:e},entries=entries$1,_entriesInstanceProperty=getDefaultExportFromCjs$1(entries);let getRandomValues$1;const rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}const byteToHex$1=[];for(let o=0;o<256;++o)byteToHex$1.push((o+256).toString(16).slice(1));function unsafeStringify$1(o,e=0){return byteToHex$1[o[e+0]]+byteToHex$1[o[e+1]]+byteToHex$1[o[e+2]]+byteToHex$1[o[e+3]]+"-"+byteToHex$1[o[e+4]]+byteToHex$1[o[e+5]]+"-"+byteToHex$1[o[e+6]]+byteToHex$1[o[e+7]]+"-"+byteToHex$1[o[e+8]]+byteToHex$1[o[e+9]]+"-"+byteToHex$1[o[e+10]]+byteToHex$1[o[e+11]]+byteToHex$1[o[e+12]]+byteToHex$1[o[e+13]]+byteToHex$1[o[e+14]]+byteToHex$1[o[e+15]]}const randomUUID$1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var native$1={randomUUID:randomUUID$1};function v4$1(o,e,s){if(native$1.randomUUID&&!e&&!o)return native$1.randomUUID();o=o||{};const h=o.random||(o.rng||rng$1)();if(h[6]=h[6]&15|64,h[8]=h[8]&63|128,e){s=s||0;for(let b=0;b<16;++b)e[s+b]=h[b];return e}return unsafeStringify$1(h)}function isId(o){return typeof o=="string"||typeof o=="number"}var Queue=function(){function o(e){_classCallCheck$1(this,o),_defineProperty$1(this,"_queue",[]),_defineProperty$1(this,"_timeout",null),_defineProperty$1(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}return _createClass$1(o,[{key:"setOptions",value:function(s){s&&typeof s.delay<"u"&&(this.delay=s.delay),s&&typeof s.max<"u"&&(this.max=s.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var s=this._extended.object,h=this._extended.methods,b=0;b<h.length;b++){var _e=h[b];_e.original?s[_e.name]=_e.original:delete s[_e.name]}this._extended=null}}},{key:"replace",value:function(s,h){var b=this,_e=s[h];if(!_e)throw new Error("Method "+h+" undefined");s[h]=function(){for(var rt=arguments.length,at=new Array(rt),st=0;st<rt;st++)at[st]=arguments[st];b.queue({args:at,fn:_e,context:this})}}},{key:"queue",value:function(s){typeof s=="function"?this._queue.push({fn:s}):this._queue.push(s),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var s=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=_setTimeout$1(function(){s.flush()},this.delay))}},{key:"flush",value:function(){var s,h;_forEachInstanceProperty$1(s=_spliceInstanceProperty$1(h=this._queue).call(h,0)).call(s,function(b){b.fn.apply(b.context||b.fn,b.args||[])})}}],[{key:"extend",value:function(s,h){var b=new o(h);if(s.flush!==void 0)throw new Error("Target object already has a property flush");s.flush=function(){b.flush()};var _e=[{name:"flush",original:void 0}];if(h&&h.replace)for(var rt=0;rt<h.replace.length;rt++){var at=h.replace[rt];_e.push({name:at,original:s[at]}),b.replace(s,at)}return b._extended={object:s,methods:_e},b}}]),o}(),DataSetPart=function(){function o(){_classCallCheck$1(this,o),_defineProperty$1(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),_defineProperty$1(this,"subscribe",o.prototype.on),_defineProperty$1(this,"unsubscribe",o.prototype.off)}return _createClass$1(o,[{key:"_trigger",value:function(s,h,b){var _e,rt;if(s==="*")throw new Error("Cannot trigger event *");_forEachInstanceProperty$1(_e=_concatInstanceProperty$1(rt=[]).call(rt,_toConsumableArray$1(this._subscribers[s]),_toConsumableArray$1(this._subscribers["*"]))).call(_e,function(at){at(s,h,b??null)})}},{key:"on",value:function(s,h){typeof h=="function"&&this._subscribers[s].push(h)}},{key:"off",value:function(s,h){var b;this._subscribers[s]=_filterInstanceProperty$1(b=this._subscribers[s]).call(b,function(_e){return _e!==h})}}]),o}(),collection$4=collection$2$1,collectionStrong$3=collectionStrong$2$1;collection$4("Set",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},collectionStrong$3);var path$x=path$o$1,set$2$1=path$x.Set,parent$3$1=set$2$1,set$1$1=parent$3$1,set$5=set$1$1,_Set$1=getDefaultExportFromCjs$1(set$5),getIterator$5=getIterator$8,getIterator_1=getIterator$5,parent$2$1=getIterator_1,getIterator$4=parent$2$1,parent$1$1=getIterator$4,getIterator$3=parent$1$1,parent$1c=getIterator$3,getIterator$2$1=parent$1c,getIterator$1$1=getIterator$2$1,getIterator$9=getIterator$1$1,_getIterator=getDefaultExportFromCjs$1(getIterator$9);function _createForOfIteratorHelper$2$1(o,e){var s=typeof _Symbol$2<"u"&&_getIteratorMethod$2(o)||o["@@iterator"];if(!s){if(_Array$isArray$2(o)||(s=_unsupportedIterableToArray$2$1(o))||e&&o&&typeof o.length=="number"){s&&(o=s);var h=0,b=function(){};return{s:b,n:function(){return h>=o.length?{done:!0}:{done:!1,value:o[h++]}},e:function(ot){throw ot},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,rt=!1,at;return{s:function(){s=s.call(o)},n:function(){var ot=s.next();return _e=ot.done,ot},e:function(ot){rt=!0,at=ot},f:function(){try{!_e&&s.return!=null&&s.return()}finally{if(rt)throw at}}}}function _unsupportedIterableToArray$2$1(o,e){var s;if(o){if(typeof o=="string")return _arrayLikeToArray$2$1(o,e);var h=_sliceInstanceProperty$2(s=Object.prototype.toString.call(o)).call(s,8,-1);if(h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set")return _Array$from$1$1(o);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray$2$1(o,e)}}function _arrayLikeToArray$2$1(o,e){(e==null||e>o.length)&&(e=o.length);for(var s=0,h=new Array(e);s<e;s++)h[s]=o[s];return h}var DataStream=function(o){function e(s){_classCallCheck$1(this,e),this._pairs=s}return _createClass$1(e,[{key:o,value:_regeneratorRuntime.mark(function s(){var h,b,_e,rt,at;return _regeneratorRuntime.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:h=_createForOfIteratorHelper$2$1(this._pairs),ot.prev=1,h.s();case 3:if((b=h.n()).done){ot.next=9;break}return _e=_slicedToArray$1(b.value,2),rt=_e[0],at=_e[1],ot.next=7,[rt,at];case 7:ot.next=3;break;case 9:ot.next=14;break;case 11:ot.prev=11,ot.t0=ot.catch(1),h.e(ot.t0);case 14:return ot.prev=14,h.f(),ot.finish(14);case 17:case"end":return ot.stop()}},s,this,[[1,11,14,17]])})},{key:"entries",value:_regeneratorRuntime.mark(function s(){var h,b,_e,rt,at;return _regeneratorRuntime.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:h=_createForOfIteratorHelper$2$1(this._pairs),ot.prev=1,h.s();case 3:if((b=h.n()).done){ot.next=9;break}return _e=_slicedToArray$1(b.value,2),rt=_e[0],at=_e[1],ot.next=7,[rt,at];case 7:ot.next=3;break;case 9:ot.next=14;break;case 11:ot.prev=11,ot.t0=ot.catch(1),h.e(ot.t0);case 14:return ot.prev=14,h.f(),ot.finish(14);case 17:case"end":return ot.stop()}},s,this,[[1,11,14,17]])})},{key:"keys",value:_regeneratorRuntime.mark(function s(){var h,b,_e,rt;return _regeneratorRuntime.wrap(function(st){for(;;)switch(st.prev=st.next){case 0:h=_createForOfIteratorHelper$2$1(this._pairs),st.prev=1,h.s();case 3:if((b=h.n()).done){st.next=9;break}return _e=_slicedToArray$1(b.value,1),rt=_e[0],st.next=7,rt;case 7:st.next=3;break;case 9:st.next=14;break;case 11:st.prev=11,st.t0=st.catch(1),h.e(st.t0);case 14:return st.prev=14,h.f(),st.finish(14);case 17:case"end":return st.stop()}},s,this,[[1,11,14,17]])})},{key:"values",value:_regeneratorRuntime.mark(function s(){var h,b,_e,rt;return _regeneratorRuntime.wrap(function(st){for(;;)switch(st.prev=st.next){case 0:h=_createForOfIteratorHelper$2$1(this._pairs),st.prev=1,h.s();case 3:if((b=h.n()).done){st.next=9;break}return _e=_slicedToArray$1(b.value,2),rt=_e[1],st.next=7,rt;case 7:st.next=3;break;case 9:st.next=14;break;case 11:st.prev=11,st.t0=st.catch(1),h.e(st.t0);case 14:return st.prev=14,h.f(),st.finish(14);case 17:case"end":return st.stop()}},s,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var h;return _mapInstanceProperty$1(h=_toConsumableArray$1(this._pairs)).call(h,function(b){return b[0]})}},{key:"toItemArray",value:function(){var h;return _mapInstanceProperty$1(h=_toConsumableArray$1(this._pairs)).call(h,function(b){return b[1]})}},{key:"toEntryArray",value:function(){return _toConsumableArray$1(this._pairs)}},{key:"toObjectMap",value:function(){var h=_Object$create$1$1(null),b=_createForOfIteratorHelper$2$1(this._pairs),_e;try{for(b.s();!(_e=b.n()).done;){var rt=_slicedToArray$1(_e.value,2),at=rt[0],st=rt[1];h[at]=st}}catch(ot){b.e(ot)}finally{b.f()}return h}},{key:"toMap",value:function(){return new _Map$1(this._pairs)}},{key:"toIdSet",value:function(){return new _Set$1(this.toIdArray())}},{key:"toItemSet",value:function(){return new _Set$1(this.toItemArray())}},{key:"cache",value:function(){return new e(_toConsumableArray$1(this._pairs))}},{key:"distinct",value:function(h){var b=new _Set$1,_e=_createForOfIteratorHelper$2$1(this._pairs),rt;try{for(_e.s();!(rt=_e.n()).done;){var at=_slicedToArray$1(rt.value,2),st=at[0],ot=at[1];b.add(h(ot,st))}}catch(nt){_e.e(nt)}finally{_e.f()}return b}},{key:"filter",value:function(h){var b=this._pairs;return new e({[_Symbol$iterator$2](){return _regeneratorRuntime.mark(function _e(){var rt,at,st,ot,nt;return _regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:rt=_createForOfIteratorHelper$2$1(b),d.prev=1,rt.s();case 3:if((at=rt.n()).done){d.next=10;break}if(st=_slicedToArray$1(at.value,2),ot=st[0],nt=st[1],!h(nt,ot)){d.next=8;break}return d.next=8,[ot,nt];case 8:d.next=3;break;case 10:d.next=15;break;case 12:d.prev=12,d.t0=d.catch(1),rt.e(d.t0);case 15:return d.prev=15,rt.f(),d.finish(15);case 18:case"end":return d.stop()}},_e,null,[[1,12,15,18]])})()}})}},{key:"forEach",value:function(h){var b=_createForOfIteratorHelper$2$1(this._pairs),_e;try{for(b.s();!(_e=b.n()).done;){var rt=_slicedToArray$1(_e.value,2),at=rt[0],st=rt[1];h(st,at)}}catch(ot){b.e(ot)}finally{b.f()}}},{key:"map",value:function(h){var b=this._pairs;return new e({[_Symbol$iterator$2](){return _regeneratorRuntime.mark(function _e(){var rt,at,st,ot,nt;return _regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:rt=_createForOfIteratorHelper$2$1(b),d.prev=1,rt.s();case 3:if((at=rt.n()).done){d.next=9;break}return st=_slicedToArray$1(at.value,2),ot=st[0],nt=st[1],d.next=7,[ot,h(nt,ot)];case 7:d.next=3;break;case 9:d.next=14;break;case 11:d.prev=11,d.t0=d.catch(1),rt.e(d.t0);case 14:return d.prev=14,rt.f(),d.finish(14);case 17:case"end":return d.stop()}},_e,null,[[1,11,14,17]])})()}})}},{key:"max",value:function(h){var b=_getIterator(this._pairs),_e=b.next();if(_e.done)return null;for(var rt=_e.value[1],at=h(_e.value[1],_e.value[0]);!(_e=b.next()).done;){var st=_slicedToArray$1(_e.value,2),ot=st[0],nt=st[1],et=h(nt,ot);et>at&&(at=et,rt=nt)}return rt}},{key:"min",value:function(h){var b=_getIterator(this._pairs),_e=b.next();if(_e.done)return null;for(var rt=_e.value[1],at=h(_e.value[1],_e.value[0]);!(_e=b.next()).done;){var st=_slicedToArray$1(_e.value,2),ot=st[0],nt=st[1],et=h(nt,ot);et<at&&(at=et,rt=nt)}return rt}},{key:"reduce",value:function(h,b){var _e=_createForOfIteratorHelper$2$1(this._pairs),rt;try{for(_e.s();!(rt=_e.n()).done;){var at=_slicedToArray$1(rt.value,2),st=at[0],ot=at[1];b=h(b,ot,st)}}catch(nt){_e.e(nt)}finally{_e.f()}return b}},{key:"sort",value:function(h){var b=this;return new e({[_Symbol$iterator$2]:function(){var _e;return _getIterator(_sortInstanceProperty$1(_e=_toConsumableArray$1(b._pairs)).call(_e,function(rt,at){var st=_slicedToArray$1(rt,2),ot=st[0],nt=st[1],et=_slicedToArray$1(at,2),d=et[0],_=et[1];return h(nt,_,ot,d)}))}})}}]),e}(_Symbol$iterator$2);function ownKeys$8(o,e){var s=_Object$keys$1(o);if(_Object$getOwnPropertySymbols$1){var h=_Object$getOwnPropertySymbols$1(o);e&&(h=_filterInstanceProperty$1(h).call(h,function(b){return _Object$getOwnPropertyDescriptor$2(o,b).enumerable})),s.push.apply(s,h)}return s}function _objectSpread$4(o){for(var e=1;e<arguments.length;e++){var s,h,b=arguments[e]!=null?arguments[e]:{};e%2?_forEachInstanceProperty$1(s=ownKeys$8(Object(b),!0)).call(s,function(_e){_defineProperty$1(o,_e,b[_e])}):_Object$getOwnPropertyDescriptors$1?_Object$defineProperties$1(o,_Object$getOwnPropertyDescriptors$1(b)):_forEachInstanceProperty$1(h=ownKeys$8(Object(b))).call(h,function(_e){_Object$defineProperty$2(o,_e,_Object$getOwnPropertyDescriptor$2(b,_e))})}return o}function _createForOfIteratorHelper$1$1(o,e){var s=typeof _Symbol$2<"u"&&_getIteratorMethod$2(o)||o["@@iterator"];if(!s){if(_Array$isArray$2(o)||(s=_unsupportedIterableToArray$1$1(o))||e&&o&&typeof o.length=="number"){s&&(o=s);var h=0,b=function(){};return{s:b,n:function(){return h>=o.length?{done:!0}:{done:!1,value:o[h++]}},e:function(ot){throw ot},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,rt=!1,at;return{s:function(){s=s.call(o)},n:function(){var ot=s.next();return _e=ot.done,ot},e:function(ot){rt=!0,at=ot},f:function(){try{!_e&&s.return!=null&&s.return()}finally{if(rt)throw at}}}}function _unsupportedIterableToArray$1$1(o,e){var s;if(o){if(typeof o=="string")return _arrayLikeToArray$1$1(o,e);var h=_sliceInstanceProperty$2(s=Object.prototype.toString.call(o)).call(s,8,-1);if(h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set")return _Array$from$1$1(o);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray$1$1(o,e)}}function _arrayLikeToArray$1$1(o,e){(e==null||e>o.length)&&(e=o.length);for(var s=0,h=new Array(e);s<e;s++)h[s]=o[s];return h}function _createSuper$1$1(o){var e=_isNativeReflectConstruct$1$1();return function(){var h=_getPrototypeOf$1(o),b;if(e){var _e=_getPrototypeOf$1(this).constructor;b=_Reflect$construct$1(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn$1(this,b)}}function _isNativeReflectConstruct$1$1(){if(typeof Reflect>"u"||!_Reflect$construct$1||_Reflect$construct$1.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct$1(Boolean,[],function(){})),!0}catch{return!1}}function ensureFullItem(o,e){return o[e]==null&&(o[e]=v4$1()),o}var DataSet=function(o){_inherits$1(s,o);var e=_createSuper$1$1(s);function s(h,b){var _e;return _classCallCheck$1(this,s),_e=e.call(this),_defineProperty$1(_assertThisInitialized$2(_e),"_queue",null),h&&!_Array$isArray$2(h)&&(b=h,h=[]),_e._options=b||{},_e._data=new _Map$1,_e.length=0,_e._idProp=_e._options.fieldId||"id",h&&h.length&&_e.add(h),_e.setOptions(b),_e}return _createClass$1(s,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(b){b&&b.queue!==void 0&&(b.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Queue.extend(this,{replace:["add","update","remove"]})),b.queue&&typeof b.queue=="object"&&this._queue.setOptions(b.queue)))}},{key:"add",value:function(b,_e){var rt=this,at=[],st;if(_Array$isArray$2(b)){var ot=_mapInstanceProperty$1(b).call(b,function(d){return d[rt._idProp]});if(_someInstanceProperty$1(ot).call(ot,function(d){return rt._data.has(d)}))throw new Error("A duplicate id was found in the parameter array.");for(var nt=0,et=b.length;nt<et;nt++)st=this._addItem(b[nt]),at.push(st)}else if(b&&typeof b=="object")st=this._addItem(b),at.push(st);else throw new Error("Unknown dataType");return at.length&&this._trigger("add",{items:at},_e),at}},{key:"update",value:function(b,_e){var rt=this,at=[],st=[],ot=[],nt=[],et=this._idProp,d=function(ct){var ft=ct[et];if(ft!=null&&rt._data.has(ft)){var dt=ct,ht=_Object$assign$1({},rt._data.get(ft)),gt=rt._updateItem(dt);st.push(gt),nt.push(dt),ot.push(ht)}else{var yt=rt._addItem(ct);at.push(yt)}};if(_Array$isArray$2(b))for(var _=0,tt=b.length;_<tt;_++)b[_]&&typeof b[_]=="object"?d(b[_]):console.warn("Ignoring input item, which is not an object at index "+_);else if(b&&typeof b=="object")d(b);else throw new Error("Unknown dataType");if(at.length&&this._trigger("add",{items:at},_e),st.length){var lt={items:st,oldData:ot,data:nt};this._trigger("update",lt,_e)}return _concatInstanceProperty$1(at).call(at,st)}},{key:"updateOnly",value:function(b,_e){var rt,at=this;_Array$isArray$2(b)||(b=[b]);var st=_mapInstanceProperty$1(rt=_mapInstanceProperty$1(b).call(b,function(nt){var et=at._data.get(nt[at._idProp]);if(et==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:et,update:nt}})).call(rt,function(nt){var et=nt.oldData,d=nt.update,_=et[at._idProp],tt=pureDeepObjectAssign(et,d);return at._data.set(_,tt),{id:_,oldData:et,updatedData:tt}});if(st.length){var ot={items:_mapInstanceProperty$1(st).call(st,function(nt){return nt.id}),oldData:_mapInstanceProperty$1(st).call(st,function(nt){return nt.oldData}),data:_mapInstanceProperty$1(st).call(st,function(nt){return nt.updatedData})};return this._trigger("update",ot,_e),ot.items}else return[]}},{key:"get",value:function(b,_e){var rt=void 0,at=void 0,st=void 0;isId(b)?(rt=b,st=_e):_Array$isArray$2(b)?(at=b,st=_e):st=b;var ot=st&&st.returnType==="Object"?"Object":"Array",nt=st&&_filterInstanceProperty$1(st),et=[],d=void 0,_=void 0,tt=void 0;if(rt!=null)d=this._data.get(rt),d&&nt&&!nt(d)&&(d=void 0);else if(at!=null)for(var lt=0,ut=at.length;lt<ut;lt++)d=this._data.get(at[lt]),d!=null&&(!nt||nt(d))&&et.push(d);else{var ct;_=_toConsumableArray$1(_keysInstanceProperty(ct=this._data).call(ct));for(var ft=0,dt=_.length;ft<dt;ft++)tt=_[ft],d=this._data.get(tt),d!=null&&(!nt||nt(d))&&et.push(d)}if(st&&st.order&&rt==null&&this._sort(et,st.order),st&&st.fields){var ht=st.fields;if(rt!=null&&d!=null)d=this._filterFields(d,ht);else for(var gt=0,yt=et.length;gt<yt;gt++)et[gt]=this._filterFields(et[gt],ht)}if(ot=="Object"){for(var vt={},mt=0,bt=et.length;mt<bt;mt++){var $t=et[mt],St=$t[this._idProp];vt[St]=$t}return vt}else if(rt!=null){var Pt;return(Pt=d)!==null&&Pt!==void 0?Pt:null}else return et}},{key:"getIds",value:function(b){var _e=this._data,rt=b&&_filterInstanceProperty$1(b),at=b&&b.order,st=_toConsumableArray$1(_keysInstanceProperty(_e).call(_e)),ot=[];if(rt)if(at){for(var nt=[],et=0,d=st.length;et<d;et++){var _=st[et],tt=this._data.get(_);tt!=null&&rt(tt)&&nt.push(tt)}this._sort(nt,at);for(var lt=0,ut=nt.length;lt<ut;lt++)ot.push(nt[lt][this._idProp])}else for(var ct=0,ft=st.length;ct<ft;ct++){var dt=st[ct],ht=this._data.get(dt);ht!=null&&rt(ht)&&ot.push(ht[this._idProp])}else if(at){for(var gt=[],yt=0,vt=st.length;yt<vt;yt++){var mt=st[yt];gt.push(_e.get(mt))}this._sort(gt,at);for(var bt=0,$t=gt.length;bt<$t;bt++)ot.push(gt[bt][this._idProp])}else for(var St=0,Pt=st.length;St<Pt;St++){var _t=st[St],wt=_e.get(_t);wt!=null&&ot.push(wt[this._idProp])}return ot}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(b,_e){var rt=_e&&_filterInstanceProperty$1(_e),at=this._data,st=_toConsumableArray$1(_keysInstanceProperty(at).call(at));if(_e&&_e.order)for(var ot=this.get(_e),nt=0,et=ot.length;nt<et;nt++){var d=ot[nt],_=d[this._idProp];b(d,_)}else for(var tt=0,lt=st.length;tt<lt;tt++){var ut=st[tt],ct=this._data.get(ut);ct!=null&&(!rt||rt(ct))&&b(ct,ut)}}},{key:"map",value:function(b,_e){for(var rt=_e&&_filterInstanceProperty$1(_e),at=[],st=this._data,ot=_toConsumableArray$1(_keysInstanceProperty(st).call(st)),nt=0,et=ot.length;nt<et;nt++){var d=ot[nt],_=this._data.get(d);_!=null&&(!rt||rt(_))&&at.push(b(_,d))}return _e&&_e.order&&this._sort(at,_e.order),at}},{key:"_filterFields",value:function(b,_e){var rt;return b&&_reduceInstanceProperty$1(rt=_Array$isArray$2(_e)?_e:_Object$keys$1(_e)).call(rt,function(at,st){return at[st]=b[st],at},{})}},{key:"_sort",value:function(b,_e){if(typeof _e=="string"){var rt=_e;_sortInstanceProperty$1(b).call(b,function(at,st){var ot=at[rt],nt=st[rt];return ot>nt?1:ot<nt?-1:0})}else if(typeof _e=="function")_sortInstanceProperty$1(b).call(b,_e);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(b,_e){for(var rt=[],at=[],st=_Array$isArray$2(b)?b:[b],ot=0,nt=st.length;ot<nt;ot++){var et=this._remove(st[ot]);if(et){var d=et[this._idProp];d!=null&&(rt.push(d),at.push(et))}}return rt.length&&this._trigger("remove",{items:rt,oldData:at},_e),rt}},{key:"_remove",value:function(b){var _e;if(isId(b)?_e=b:b&&typeof b=="object"&&(_e=b[this._idProp]),_e!=null&&this._data.has(_e)){var rt=this._data.get(_e)||null;return this._data.delete(_e),--this.length,rt}return null}},{key:"clear",value:function(b){for(var _e,rt=_toConsumableArray$1(_keysInstanceProperty(_e=this._data).call(_e)),at=[],st=0,ot=rt.length;st<ot;st++)at.push(this._data.get(rt[st]));return this._data.clear(),this.length=0,this._trigger("remove",{items:rt,oldData:at},b),rt}},{key:"max",value:function(b){var _e,rt=null,at=null,st=_createForOfIteratorHelper$1$1(_valuesInstanceProperty$1(_e=this._data).call(_e)),ot;try{for(st.s();!(ot=st.n()).done;){var nt=ot.value,et=nt[b];typeof et=="number"&&(at==null||et>at)&&(rt=nt,at=et)}}catch(d){st.e(d)}finally{st.f()}return rt||null}},{key:"min",value:function(b){var _e,rt=null,at=null,st=_createForOfIteratorHelper$1$1(_valuesInstanceProperty$1(_e=this._data).call(_e)),ot;try{for(st.s();!(ot=st.n()).done;){var nt=ot.value,et=nt[b];typeof et=="number"&&(at==null||et<at)&&(rt=nt,at=et)}}catch(d){st.e(d)}finally{st.f()}return rt||null}},{key:"distinct",value:function(b){for(var _e=this._data,rt=_toConsumableArray$1(_keysInstanceProperty(_e).call(_e)),at=[],st=0,ot=0,nt=rt.length;ot<nt;ot++){for(var et=rt[ot],d=_e.get(et),_=d[b],tt=!1,lt=0;lt<st;lt++)if(at[lt]==_){tt=!0;break}!tt&&_!==void 0&&(at[st]=_,st++)}return at}},{key:"_addItem",value:function(b){var _e=ensureFullItem(b,this._idProp),rt=_e[this._idProp];if(this._data.has(rt))throw new Error("Cannot add item: item with id "+rt+" already exists");return this._data.set(rt,_e),++this.length,rt}},{key:"_updateItem",value:function(b){var _e=b[this._idProp];if(_e==null)throw new Error("Cannot update item: item has no id (item: "+_JSON$stringify$1(b)+")");var rt=this._data.get(_e);if(!rt)throw new Error("Cannot update item: no item with id "+_e+" found");return this._data.set(_e,_objectSpread$4(_objectSpread$4({},rt),b)),_e}},{key:"stream",value:function(b){if(b){var _e=this._data;return new DataStream({[_Symbol$iterator$2](){return _regeneratorRuntime.mark(function at(){var st,ot,nt,et;return _regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:st=_createForOfIteratorHelper$1$1(b),_.prev=1,st.s();case 3:if((ot=st.n()).done){_.next=11;break}if(nt=ot.value,et=_e.get(nt),et==null){_.next=9;break}return _.next=9,[nt,et];case 9:_.next=3;break;case 11:_.next=16;break;case 13:_.prev=13,_.t0=_.catch(1),st.e(_.t0);case 16:return _.prev=16,st.f(),_.finish(16);case 19:case"end":return _.stop()}},at,null,[[1,13,16,19]])})()}})}else{var rt;return new DataStream({[_Symbol$iterator$2]:_bindInstanceProperty$1$1(rt=_entriesInstanceProperty(this._data)).call(rt,this._data)})}}}]),s}(DataSetPart);function isDataSetLike(o,e){return typeof e=="object"&&e!==null&&o===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof _forEachInstanceProperty$1(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof _mapInstanceProperty$1(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function isDataViewLike(o,e){return typeof e=="object"&&e!==null&&o===e.idProp&&typeof _forEachInstanceProperty$1(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof _mapInstanceProperty$1(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&isDataSetLike(o,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.9
 * @date    2023-11-03T01:42:27.418Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var check=function(o){return o&&o.Math===Math&&o},global$n=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||commonjsGlobal||Function("return this")(),fails$w=function(o){try{return!!o()}catch{return!0}},fails$v=fails$w,functionBindNative=!fails$v(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")}),NATIVE_BIND$4=functionBindNative,FunctionPrototype$4=Function.prototype,apply$5=FunctionPrototype$4.apply,call$f=FunctionPrototype$4.call,functionApply=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$4?call$f.bind(apply$5):function(){return call$f.apply(apply$5,arguments)}),NATIVE_BIND$3=functionBindNative,FunctionPrototype$3=Function.prototype,call$e=FunctionPrototype$3.call,uncurryThisWithBind=NATIVE_BIND$3&&FunctionPrototype$3.bind.bind(call$e,call$e),functionUncurryThis=NATIVE_BIND$3?uncurryThisWithBind:function(o){return function(){return call$e.apply(o,arguments)}},uncurryThis$x=functionUncurryThis,toString$c=uncurryThis$x({}.toString),stringSlice$1=uncurryThis$x("".slice),classofRaw$2=function(o){return stringSlice$1(toString$c(o),8,-1)},classofRaw$1=classofRaw$2,uncurryThis$w=functionUncurryThis,functionUncurryThisClause=function(o){if(classofRaw$1(o)==="Function")return uncurryThis$w(o)},documentAll$2=typeof document=="object"&&document.all,IS_HTMLDDA=typeof documentAll$2>"u"&&documentAll$2!==void 0,documentAll_1={all:documentAll$2,IS_HTMLDDA},$documentAll$1=documentAll_1,documentAll$1=$documentAll$1.all,isCallable$i=$documentAll$1.IS_HTMLDDA?function(o){return typeof o=="function"||o===documentAll$1}:function(o){return typeof o=="function"},objectGetOwnPropertyDescriptor={},fails$u=fails$w,descriptors=!fails$u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),NATIVE_BIND$2=functionBindNative,call$d=Function.prototype.call,functionCall=NATIVE_BIND$2?call$d.bind(call$d):function(){return call$d.apply(call$d,arguments)},objectPropertyIsEnumerable={},$propertyIsEnumerable$1={}.propertyIsEnumerable,getOwnPropertyDescriptor$9=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$9&&!$propertyIsEnumerable$1.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function o(e){var s=getOwnPropertyDescriptor$9(this,e);return!!s&&s.enumerable}:$propertyIsEnumerable$1;var createPropertyDescriptor$5=function(o,e){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:e}},uncurryThis$v=functionUncurryThis,fails$t=fails$w,classof$e=classofRaw$2,$Object$5=Object,split=uncurryThis$v("".split),indexedObject=fails$t(function(){return!$Object$5("z").propertyIsEnumerable(0)})?function(o){return classof$e(o)==="String"?split(o,""):$Object$5(o)}:$Object$5,isNullOrUndefined$6=function(o){return o==null},isNullOrUndefined$5=isNullOrUndefined$6,$TypeError$g=TypeError,requireObjectCoercible$5=function(o){if(isNullOrUndefined$5(o))throw new $TypeError$g("Can't call method on "+o);return o},IndexedObject$3=indexedObject,requireObjectCoercible$4=requireObjectCoercible$5,toIndexedObject$a=function(o){return IndexedObject$3(requireObjectCoercible$4(o))},isCallable$h=isCallable$i,$documentAll=documentAll_1,documentAll=$documentAll.all,isObject$j=$documentAll.IS_HTMLDDA?function(o){return typeof o=="object"?o!==null:isCallable$h(o)||o===documentAll}:function(o){return typeof o=="object"?o!==null:isCallable$h(o)},path$w={},path$v=path$w,global$m=global$n,isCallable$g=isCallable$i,aFunction=function(o){return isCallable$g(o)?o:void 0},getBuiltIn$c=function(o,e){return arguments.length<2?aFunction(path$v[o])||aFunction(global$m[o]):path$v[o]&&path$v[o][e]||global$m[o]&&global$m[o][e]},uncurryThis$u=functionUncurryThis,objectIsPrototypeOf=uncurryThis$u({}.isPrototypeOf),engineUserAgent=typeof navigator<"u"&&String(navigator.userAgent)||"",global$l=global$n,userAgent$2=engineUserAgent,process$1=global$l.process,Deno$1=global$l.Deno,versions=process$1&&process$1.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8,match,version;v8&&(match=v8.split("."),version=match[0]>0&&match[0]<4?1:+(match[0]+match[1]));!version&&userAgent$2&&(match=userAgent$2.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent$2.match(/Chrome\/(\d+)/),match&&(version=+match[1])));var engineV8Version=version,V8_VERSION$2=engineV8Version,fails$s=fails$w,global$k=global$n,$String$5=global$k.String,symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$s(function(){var o=Symbol("symbol detection");return!$String$5(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&V8_VERSION$2&&V8_VERSION$2<41}),NATIVE_SYMBOL$5=symbolConstructorDetection,useSymbolAsUid=NATIVE_SYMBOL$5&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$b=getBuiltIn$c,isCallable$f=isCallable$i,isPrototypeOf$k=objectIsPrototypeOf,USE_SYMBOL_AS_UID$1=useSymbolAsUid,$Object$4=Object,isSymbol$5=USE_SYMBOL_AS_UID$1?function(o){return typeof o=="symbol"}:function(o){var e=getBuiltIn$b("Symbol");return isCallable$f(e)&&isPrototypeOf$k(e.prototype,$Object$4(o))},$String$4=String,tryToString$6=function(o){try{return $String$4(o)}catch{return"Object"}},isCallable$e=isCallable$i,tryToString$5=tryToString$6,$TypeError$f=TypeError,aCallable$7=function(o){if(isCallable$e(o))return o;throw new $TypeError$f(tryToString$5(o)+" is not a function")},aCallable$6=aCallable$7,isNullOrUndefined$4=isNullOrUndefined$6,getMethod$3=function(o,e){var s=o[e];return isNullOrUndefined$4(s)?void 0:aCallable$6(s)},call$c=functionCall,isCallable$d=isCallable$i,isObject$i=isObject$j,$TypeError$e=TypeError,ordinaryToPrimitive$1=function(o,e){var s,h;if(e==="string"&&isCallable$d(s=o.toString)&&!isObject$i(h=call$c(s,o))||isCallable$d(s=o.valueOf)&&!isObject$i(h=call$c(s,o))||e!=="string"&&isCallable$d(s=o.toString)&&!isObject$i(h=call$c(s,o)))return h;throw new $TypeError$e("Can't convert object to primitive value")},shared$7={exports:{}},global$j=global$n,defineProperty$f=Object.defineProperty,defineGlobalProperty$1=function(o,e){try{defineProperty$f(global$j,o,{value:e,configurable:!0,writable:!0})}catch{global$j[o]=e}return e},global$i=global$n,defineGlobalProperty=defineGlobalProperty$1,SHARED="__core-js_shared__",store$3=global$i[SHARED]||defineGlobalProperty(SHARED,{}),sharedStore=store$3,store$2=sharedStore;(shared$7.exports=function(o,e){return store$2[o]||(store$2[o]=e!==void 0?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var sharedExports=shared$7.exports,requireObjectCoercible$3=requireObjectCoercible$5,$Object$3=Object,toObject$e=function(o){return $Object$3(requireObjectCoercible$3(o))},uncurryThis$t=functionUncurryThis,toObject$d=toObject$e,hasOwnProperty=uncurryThis$t({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function o(e,s){return hasOwnProperty(toObject$d(e),s)},uncurryThis$s=functionUncurryThis,id$2=0,postfix=Math.random(),toString$b=uncurryThis$s(1 .toString),uid$4=function(o){return"Symbol("+(o===void 0?"":o)+")_"+toString$b(++id$2+postfix,36)},global$h=global$n,shared$6=sharedExports,hasOwn$h=hasOwnProperty_1,uid$3=uid$4,NATIVE_SYMBOL$4=symbolConstructorDetection,USE_SYMBOL_AS_UID=useSymbolAsUid,Symbol$5=global$h.Symbol,WellKnownSymbolsStore$2=shared$6("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$5.for||Symbol$5:Symbol$5&&Symbol$5.withoutSetter||uid$3,wellKnownSymbol$m=function(o){return hasOwn$h(WellKnownSymbolsStore$2,o)||(WellKnownSymbolsStore$2[o]=NATIVE_SYMBOL$4&&hasOwn$h(Symbol$5,o)?Symbol$5[o]:createWellKnownSymbol("Symbol."+o)),WellKnownSymbolsStore$2[o]},call$b=functionCall,isObject$h=isObject$j,isSymbol$4=isSymbol$5,getMethod$2=getMethod$3,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$l=wellKnownSymbol$m,$TypeError$d=TypeError,TO_PRIMITIVE=wellKnownSymbol$l("toPrimitive"),toPrimitive$6=function(o,e){if(!isObject$h(o)||isSymbol$4(o))return o;var s=getMethod$2(o,TO_PRIMITIVE),h;if(s){if(e===void 0&&(e="default"),h=call$b(s,o,e),!isObject$h(h)||isSymbol$4(h))return h;throw new $TypeError$d("Can't convert object to primitive value")}return e===void 0&&(e="number"),ordinaryToPrimitive(o,e)},toPrimitive$5=toPrimitive$6,isSymbol$3=isSymbol$5,toPropertyKey$4=function(o){var e=toPrimitive$5(o,"string");return isSymbol$3(e)?e:e+""},global$g=global$n,isObject$g=isObject$j,document$1=global$g.document,EXISTS$1=isObject$g(document$1)&&isObject$g(document$1.createElement),documentCreateElement$1=function(o){return EXISTS$1?document$1.createElement(o):{}},DESCRIPTORS$h=descriptors,fails$r=fails$w,createElement=documentCreateElement$1,ie8DomDefine=!DESCRIPTORS$h&&!fails$r(function(){return Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a!==7}),DESCRIPTORS$g=descriptors,call$a=functionCall,propertyIsEnumerableModule$2=objectPropertyIsEnumerable,createPropertyDescriptor$4=createPropertyDescriptor$5,toIndexedObject$9=toIndexedObject$a,toPropertyKey$3=toPropertyKey$4,hasOwn$g=hasOwnProperty_1,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$g?$getOwnPropertyDescriptor$2:function o(e,s){if(e=toIndexedObject$9(e),s=toPropertyKey$3(s),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$2(e,s)}catch{}if(hasOwn$g(e,s))return createPropertyDescriptor$4(!call$a(propertyIsEnumerableModule$2.f,e,s),e[s])};var fails$q=fails$w,isCallable$c=isCallable$i,replacement=/#|\.prototype\./,isForced$1=function(o,e){var s=data[normalize(o)];return s===POLYFILL?!0:s===NATIVE?!1:isCallable$c(e)?fails$q(e):!!e},normalize=isForced$1.normalize=function(o){return String(o).replace(replacement,".").toLowerCase()},data=isForced$1.data={},NATIVE=isForced$1.NATIVE="N",POLYFILL=isForced$1.POLYFILL="P",isForced_1=isForced$1,uncurryThis$r=functionUncurryThisClause,aCallable$5=aCallable$7,NATIVE_BIND$1=functionBindNative,bind$e=uncurryThis$r(uncurryThis$r.bind),functionBindContext=function(o,e){return aCallable$5(o),e===void 0?o:NATIVE_BIND$1?bind$e(o,e):function(){return o.apply(e,arguments)}},objectDefineProperty={},DESCRIPTORS$f=descriptors,fails$p=fails$w,v8PrototypeDefineBug=DESCRIPTORS$f&&fails$p(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),isObject$f=isObject$j,$String$3=String,$TypeError$c=TypeError,anObject$d=function(o){if(isObject$f(o))return o;throw new $TypeError$c($String$3(o)+" is not an object")},DESCRIPTORS$e=descriptors,IE8_DOM_DEFINE=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$c=anObject$d,toPropertyKey$2=toPropertyKey$4,$TypeError$b=TypeError,$defineProperty$1=Object.defineProperty,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$e?V8_PROTOTYPE_DEFINE_BUG$1?function o(e,s,h){if(anObject$c(e),s=toPropertyKey$2(s),anObject$c(h),typeof e=="function"&&s==="prototype"&&"value"in h&&WRITABLE in h&&!h[WRITABLE]){var b=$getOwnPropertyDescriptor$1(e,s);b&&b[WRITABLE]&&(e[s]=h.value,h={configurable:CONFIGURABLE$1 in h?h[CONFIGURABLE$1]:b[CONFIGURABLE$1],enumerable:ENUMERABLE in h?h[ENUMERABLE]:b[ENUMERABLE],writable:!1})}return $defineProperty$1(e,s,h)}:$defineProperty$1:function o(e,s,h){if(anObject$c(e),s=toPropertyKey$2(s),anObject$c(h),IE8_DOM_DEFINE)try{return $defineProperty$1(e,s,h)}catch{}if("get"in h||"set"in h)throw new $TypeError$b("Accessors not supported");return"value"in h&&(e[s]=h.value),e};var DESCRIPTORS$d=descriptors,definePropertyModule$3=objectDefineProperty,createPropertyDescriptor$3=createPropertyDescriptor$5,createNonEnumerableProperty$6=DESCRIPTORS$d?function(o,e,s){return definePropertyModule$3.f(o,e,createPropertyDescriptor$3(1,s))}:function(o,e,s){return o[e]=s,o},global$f=global$n,apply$4=functionApply,uncurryThis$q=functionUncurryThisClause,isCallable$b=isCallable$i,getOwnPropertyDescriptor$8=objectGetOwnPropertyDescriptor.f,isForced=isForced_1,path$u=path$w,bind$d=functionBindContext,createNonEnumerableProperty$5=createNonEnumerableProperty$6,hasOwn$f=hasOwnProperty_1,wrapConstructor=function(o){var e=function(s,h,b){if(this instanceof e){switch(arguments.length){case 0:return new o;case 1:return new o(s);case 2:return new o(s,h)}return new o(s,h,b)}return apply$4(o,this,arguments)};return e.prototype=o.prototype,e},_export=function(o,e){var s=o.target,h=o.global,b=o.stat,_e=o.proto,rt=h?global$f:b?global$f[s]:(global$f[s]||{}).prototype,at=h?path$u:path$u[s]||createNonEnumerableProperty$5(path$u,s,{})[s],st=at.prototype,ot,nt,et,d,_,tt,lt,ut,ct;for(d in e)ot=isForced(h?d:s+(b?".":"#")+d,o.forced),nt=!ot&&rt&&hasOwn$f(rt,d),tt=at[d],nt&&(o.dontCallGetSet?(ct=getOwnPropertyDescriptor$8(rt,d),lt=ct&&ct.value):lt=rt[d]),_=nt&&lt?lt:e[d],!(nt&&typeof tt==typeof _)&&(o.bind&&nt?ut=bind$d(_,global$f):o.wrap&&nt?ut=wrapConstructor(_):_e&&isCallable$b(_)?ut=uncurryThis$q(_):ut=_,(o.sham||_&&_.sham||tt&&tt.sham)&&createNonEnumerableProperty$5(ut,"sham",!0),createNonEnumerableProperty$5(at,d,ut),_e&&(et=s+"Prototype",hasOwn$f(path$u,et)||createNonEnumerableProperty$5(path$u,et,{}),createNonEnumerableProperty$5(path$u[et],d,_),o.real&&st&&(ot||!st[d])&&createNonEnumerableProperty$5(st,d,_)))},ceil=Math.ceil,floor$1=Math.floor,mathTrunc=Math.trunc||function o(e){var s=+e;return(s>0?floor$1:ceil)(s)},trunc=mathTrunc,toIntegerOrInfinity$4=function(o){var e=+o;return e!==e||e===0?0:trunc(e)},toIntegerOrInfinity$3=toIntegerOrInfinity$4,max$3=Math.max,min$2=Math.min,toAbsoluteIndex$5=function(o,e){var s=toIntegerOrInfinity$3(o);return s<0?max$3(s+e,0):min$2(s,e)},toIntegerOrInfinity$2=toIntegerOrInfinity$4,min$1=Math.min,toLength$1=function(o){return o>0?min$1(toIntegerOrInfinity$2(o),9007199254740991):0},toLength=toLength$1,lengthOfArrayLike$c=function(o){return toLength(o.length)},toIndexedObject$8=toIndexedObject$a,toAbsoluteIndex$4=toAbsoluteIndex$5,lengthOfArrayLike$b=lengthOfArrayLike$c,createMethod$4=function(o){return function(e,s,h){var b=toIndexedObject$8(e),_e=lengthOfArrayLike$b(b),rt=toAbsoluteIndex$4(h,_e),at;if(o&&s!==s){for(;_e>rt;)if(at=b[rt++],at!==at)return!0}else for(;_e>rt;rt++)if((o||rt in b)&&b[rt]===s)return o||rt||0;return!o&&-1}},arrayIncludes={includes:createMethod$4(!0),indexOf:createMethod$4(!1)},hiddenKeys$6={},uncurryThis$p=functionUncurryThis,hasOwn$e=hasOwnProperty_1,toIndexedObject$7=toIndexedObject$a,indexOf$4=arrayIncludes.indexOf,hiddenKeys$5=hiddenKeys$6,push$b=uncurryThis$p([].push),objectKeysInternal=function(o,e){var s=toIndexedObject$7(o),h=0,b=[],_e;for(_e in s)!hasOwn$e(hiddenKeys$5,_e)&&hasOwn$e(s,_e)&&push$b(b,_e);for(;e.length>h;)hasOwn$e(s,_e=e[h++])&&(~indexOf$4(b,_e)||push$b(b,_e));return b},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,objectKeys$3=Object.keys||function o(e){return internalObjectKeys$1(e,enumBugKeys$2)},objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var DESCRIPTORS$c=descriptors,uncurryThis$o=functionUncurryThis,call$9=functionCall,fails$o=fails$w,objectKeys$2=objectKeys$3,getOwnPropertySymbolsModule$3=objectGetOwnPropertySymbols,propertyIsEnumerableModule$1=objectPropertyIsEnumerable,toObject$c=toObject$e,IndexedObject$2=indexedObject,$assign=Object.assign,defineProperty$e=Object.defineProperty,concat$6=uncurryThis$o([].concat),objectAssign=!$assign||fails$o(function(){if(DESCRIPTORS$c&&$assign({b:1},$assign(defineProperty$e({},"a",{enumerable:!0,get:function(){defineProperty$e(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var o={},e={},s=Symbol("assign detection"),h="abcdefghijklmnopqrst";return o[s]=7,h.split("").forEach(function(b){e[b]=b}),$assign({},o)[s]!==7||objectKeys$2($assign({},e)).join("")!==h})?function o(e,s){for(var h=toObject$c(e),b=arguments.length,_e=1,rt=getOwnPropertySymbolsModule$3.f,at=propertyIsEnumerableModule$1.f;b>_e;)for(var st=IndexedObject$2(arguments[_e++]),ot=rt?concat$6(objectKeys$2(st),rt(st)):objectKeys$2(st),nt=ot.length,et=0,d;nt>et;)d=ot[et++],(!DESCRIPTORS$c||call$9(at,st,d))&&(h[d]=st[d]);return h}:$assign,$$O=_export,assign$5=objectAssign;$$O({target:"Object",stat:!0,arity:2,forced:Object.assign!==assign$5},{assign:assign$5});var path$t=path$w,assign$4=path$t.Object.assign,parent$1b=assign$4,assign$3=parent$1b,assign$2=assign$3,_Object$assign=getDefaultExportFromCjs(assign$2),uncurryThis$n=functionUncurryThis,arraySlice$5=uncurryThis$n([].slice),uncurryThis$m=functionUncurryThis,aCallable$4=aCallable$7,isObject$e=isObject$j,hasOwn$d=hasOwnProperty_1,arraySlice$4=arraySlice$5,NATIVE_BIND=functionBindNative,$Function=Function,concat$5=uncurryThis$m([].concat),join=uncurryThis$m([].join),factories={},construct$4=function(o,e,s){if(!hasOwn$d(factories,e)){for(var h=[],b=0;b<e;b++)h[b]="a["+b+"]";factories[e]=$Function("C,a","return new C("+join(h,",")+")")}return factories[e](o,s)},functionBind=NATIVE_BIND?$Function.bind:function o(e){var s=aCallable$4(this),h=s.prototype,b=arraySlice$4(arguments,1),_e=function(){var at=concat$5(b,arraySlice$4(arguments));return this instanceof _e?construct$4(s,at.length,at):s.apply(e,at)};return isObject$e(h)&&(_e.prototype=h),_e},$$N=_export,bind$c=functionBind;$$N({target:"Function",proto:!0,forced:Function.bind!==bind$c},{bind:bind$c});var path$s=path$w,entryVirtual$i=function(o){return path$s[o+"Prototype"]},entryVirtual$h=entryVirtual$i,bind$b=entryVirtual$h("Function").bind,isPrototypeOf$j=objectIsPrototypeOf,method$f=bind$b,FunctionPrototype$2=Function.prototype,bind$a=function(o){var e=o.bind;return o===FunctionPrototype$2||isPrototypeOf$j(FunctionPrototype$2,o)&&e===FunctionPrototype$2.bind?method$f:e},parent$1a=bind$a,bind$9=parent$1a,bind$8=bind$9,_bindInstanceProperty$1=getDefaultExportFromCjs(bind$8);function drawCircle(o,e,s,h){o.beginPath(),o.arc(e,s,h,0,2*Math.PI,!1),o.closePath()}function drawSquare(o,e,s,h){o.beginPath(),o.rect(e-h,s-h,h*2,h*2),o.closePath()}function drawTriangle(o,e,s,h){o.beginPath(),h*=1.15,s+=.275*h;var b=h*2,_e=b/2,rt=Math.sqrt(3)/6*b,at=Math.sqrt(b*b-_e*_e);o.moveTo(e,s-(at-rt)),o.lineTo(e+_e,s+rt),o.lineTo(e-_e,s+rt),o.lineTo(e,s-(at-rt)),o.closePath()}function drawTriangleDown(o,e,s,h){o.beginPath(),h*=1.15,s-=.275*h;var b=h*2,_e=b/2,rt=Math.sqrt(3)/6*b,at=Math.sqrt(b*b-_e*_e);o.moveTo(e,s+(at-rt)),o.lineTo(e+_e,s-rt),o.lineTo(e-_e,s-rt),o.lineTo(e,s+(at-rt)),o.closePath()}function drawStar(o,e,s,h){o.beginPath(),h*=.82,s+=.1*h;for(var b=0;b<10;b++){var _e=b%2===0?h*1.3:h*.5;o.lineTo(e+_e*Math.sin(b*2*Math.PI/10),s-_e*Math.cos(b*2*Math.PI/10))}o.closePath()}function drawDiamond(o,e,s,h){o.beginPath(),o.lineTo(e,s+h),o.lineTo(e+h,s),o.lineTo(e,s-h),o.lineTo(e-h,s),o.closePath()}function drawRoundRect(o,e,s,h,b,_e){var rt=Math.PI/180;h-2*_e<0&&(_e=h/2),b-2*_e<0&&(_e=b/2),o.beginPath(),o.moveTo(e+_e,s),o.lineTo(e+h-_e,s),o.arc(e+h-_e,s+_e,_e,rt*270,rt*360,!1),o.lineTo(e+h,s+b-_e),o.arc(e+h-_e,s+b-_e,_e,0,rt*90,!1),o.lineTo(e+_e,s+b),o.arc(e+_e,s+b-_e,_e,rt*90,rt*180,!1),o.lineTo(e,s+_e),o.arc(e+_e,s+_e,_e,rt*180,rt*270,!1),o.closePath()}function drawEllipse(o,e,s,h,b){var _e=.5522848,rt=h/2*_e,at=b/2*_e,st=e+h,ot=s+b,nt=e+h/2,et=s+b/2;o.beginPath(),o.moveTo(e,et),o.bezierCurveTo(e,et-at,nt-rt,s,nt,s),o.bezierCurveTo(nt+rt,s,st,et-at,st,et),o.bezierCurveTo(st,et+at,nt+rt,ot,nt,ot),o.bezierCurveTo(nt-rt,ot,e,et+at,e,et),o.closePath()}function drawDatabase(o,e,s,h,b){var _e=.3333333333333333,rt=h,at=b*_e,st=.5522848,ot=rt/2*st,nt=at/2*st,et=e+rt,d=s+at,_=e+rt/2,tt=s+at/2,lt=s+(b-at/2),ut=s+b;o.beginPath(),o.moveTo(et,tt),o.bezierCurveTo(et,tt+nt,_+ot,d,_,d),o.bezierCurveTo(_-ot,d,e,tt+nt,e,tt),o.bezierCurveTo(e,tt-nt,_-ot,s,_,s),o.bezierCurveTo(_+ot,s,et,tt-nt,et,tt),o.lineTo(et,lt),o.bezierCurveTo(et,lt+nt,_+ot,ut,_,ut),o.bezierCurveTo(_-ot,ut,e,lt+nt,e,lt),o.lineTo(e,tt)}function drawDashedLine(o,e,s,h,b,_e){o.beginPath(),o.moveTo(e,s);for(var rt=_e.length,at=h-e,st=b-s,ot=st/at,nt=Math.sqrt(at*at+st*st),et=0,d=!0,_=0,tt=+_e[0];nt>=.1;)tt=+_e[et++%rt],tt>nt&&(tt=nt),_=Math.sqrt(tt*tt/(1+ot*ot)),_=at<0?-_:_,e+=_,s+=ot*_,d===!0?o.lineTo(e,s):o.moveTo(e,s),nt-=tt,d=!d}function drawHexagon(o,e,s,h){o.beginPath();var b=6,_e=Math.PI*2/b;o.moveTo(e+h,s);for(var rt=1;rt<b;rt++)o.lineTo(e+h*Math.cos(_e*rt),s+h*Math.sin(_e*rt));o.closePath()}var shapeMap={circle:drawCircle,dashedLine:drawDashedLine,database:drawDatabase,diamond:drawDiamond,ellipse:drawEllipse,ellipse_vis:drawEllipse,hexagon:drawHexagon,roundRect:drawRoundRect,square:drawSquare,star:drawStar,triangle:drawTriangle,triangleDown:drawTriangleDown};function getShape(o){return Object.prototype.hasOwnProperty.call(shapeMap,o)?shapeMap[o]:function(e){for(var s=arguments.length,h=new Array(s>1?s-1:0),b=1;b<s;b++)h[b-1]=arguments[b];CanvasRenderingContext2D.prototype[o].call(e,h)}}var componentEmitter={exports:{}};(function(o){o.exports=e;function e(h){if(h)return s(h)}function s(h){for(var b in e.prototype)h[b]=e.prototype[b];return h}e.prototype.on=e.prototype.addEventListener=function(h,b){return this._callbacks=this._callbacks||{},(this._callbacks["$"+h]=this._callbacks["$"+h]||[]).push(b),this},e.prototype.once=function(h,b){function _e(){this.off(h,_e),b.apply(this,arguments)}return _e.fn=b,this.on(h,_e),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(h,b){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var _e=this._callbacks["$"+h];if(!_e)return this;if(arguments.length==1)return delete this._callbacks["$"+h],this;for(var rt,at=0;at<_e.length;at++)if(rt=_e[at],rt===b||rt.fn===b){_e.splice(at,1);break}return _e.length===0&&delete this._callbacks["$"+h],this},e.prototype.emit=function(h){this._callbacks=this._callbacks||{};for(var b=new Array(arguments.length-1),_e=this._callbacks["$"+h],rt=1;rt<arguments.length;rt++)b[rt-1]=arguments[rt];if(_e){_e=_e.slice(0);for(var rt=0,at=_e.length;rt<at;++rt)_e[rt].apply(this,b)}return this},e.prototype.listeners=function(h){return this._callbacks=this._callbacks||{},this._callbacks["$"+h]||[]},e.prototype.hasListeners=function(h){return!!this.listeners(h).length}})(componentEmitter);var componentEmitterExports=componentEmitter.exports,Emitter=getDefaultExportFromCjs(componentEmitterExports),wellKnownSymbol$k=wellKnownSymbol$m,TO_STRING_TAG$3=wellKnownSymbol$k("toStringTag"),test$2={};test$2[TO_STRING_TAG$3]="z";var toStringTagSupport=String(test$2)==="[object z]",TO_STRING_TAG_SUPPORT$2=toStringTagSupport,isCallable$a=isCallable$i,classofRaw=classofRaw$2,wellKnownSymbol$j=wellKnownSymbol$m,TO_STRING_TAG$2=wellKnownSymbol$j("toStringTag"),$Object$2=Object,CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())==="Arguments",tryGet=function(o,e){try{return o[e]}catch{}},classof$d=TO_STRING_TAG_SUPPORT$2?classofRaw:function(o){var e,s,h;return o===void 0?"Undefined":o===null?"Null":typeof(s=tryGet(e=$Object$2(o),TO_STRING_TAG$2))=="string"?s:CORRECT_ARGUMENTS?classofRaw(e):(h=classofRaw(e))==="Object"&&isCallable$a(e.callee)?"Arguments":h},classof$c=classof$d,$String$2=String,toString$a=function(o){if(classof$c(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return $String$2(o)},uncurryThis$l=functionUncurryThis,toIntegerOrInfinity$1=toIntegerOrInfinity$4,toString$9=toString$a,requireObjectCoercible$2=requireObjectCoercible$5,charAt$3=uncurryThis$l("".charAt),charCodeAt$1=uncurryThis$l("".charCodeAt),stringSlice=uncurryThis$l("".slice),createMethod$3=function(o){return function(e,s){var h=toString$9(requireObjectCoercible$2(e)),b=toIntegerOrInfinity$1(s),_e=h.length,rt,at;return b<0||b>=_e?o?"":void 0:(rt=charCodeAt$1(h,b),rt<55296||rt>56319||b+1===_e||(at=charCodeAt$1(h,b+1))<56320||at>57343?o?charAt$3(h,b):rt:o?stringSlice(h,b,b+2):(rt-55296<<10)+(at-56320)+65536)}},stringMultibyte={codeAt:createMethod$3(!1),charAt:createMethod$3(!0)},global$e=global$n,isCallable$9=isCallable$i,WeakMap$1=global$e.WeakMap,weakMapBasicDetection=isCallable$9(WeakMap$1)&&/native code/.test(String(WeakMap$1)),shared$5=sharedExports,uid$2=uid$4,keys$3=shared$5("keys"),sharedKey$4=function(o){return keys$3[o]||(keys$3[o]=uid$2(o))},NATIVE_WEAK_MAP$1=weakMapBasicDetection,global$d=global$n,isObject$d=isObject$j,createNonEnumerableProperty$4=createNonEnumerableProperty$6,hasOwn$c=hasOwnProperty_1,shared$4=sharedStore,sharedKey$3=sharedKey$4,hiddenKeys$4=hiddenKeys$6,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$2=global$d.TypeError,WeakMap$2=global$d.WeakMap,set$3,get$6,has,enforce=function(o){return has(o)?get$6(o):set$3(o,{})},getterFor=function(o){return function(e){var s;if(!isObject$d(e)||(s=get$6(e)).type!==o)throw new TypeError$2("Incompatible receiver, "+o+" required");return s}};if(NATIVE_WEAK_MAP$1||shared$4.state){var store$1=shared$4.state||(shared$4.state=new WeakMap$2);store$1.get=store$1.get,store$1.has=store$1.has,store$1.set=store$1.set,set$3=function(o,e){if(store$1.has(o))throw new TypeError$2(OBJECT_ALREADY_INITIALIZED);return e.facade=o,store$1.set(o,e),e},get$6=function(o){return store$1.get(o)||{}},has=function(o){return store$1.has(o)}}else{var STATE=sharedKey$3("state");hiddenKeys$4[STATE]=!0,set$3=function(o,e){if(hasOwn$c(o,STATE))throw new TypeError$2(OBJECT_ALREADY_INITIALIZED);return e.facade=o,createNonEnumerableProperty$4(o,STATE,e),e},get$6=function(o){return hasOwn$c(o,STATE)?o[STATE]:{}},has=function(o){return hasOwn$c(o,STATE)}}var internalState={set:set$3,get:get$6,has,enforce,getterFor},DESCRIPTORS$b=descriptors,hasOwn$b=hasOwnProperty_1,FunctionPrototype$1=Function.prototype,getDescriptor=DESCRIPTORS$b&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$b(FunctionPrototype$1,"name"),PROPER=EXISTS&&(function o(){}).name==="something",CONFIGURABLE=EXISTS&&(!DESCRIPTORS$b||DESCRIPTORS$b&&getDescriptor(FunctionPrototype$1,"name").configurable),functionName={EXISTS,PROPER,CONFIGURABLE},objectDefineProperties={},DESCRIPTORS$a=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$2=objectDefineProperty,anObject$b=anObject$d,toIndexedObject$6=toIndexedObject$a,objectKeys$1=objectKeys$3;objectDefineProperties.f=DESCRIPTORS$a&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function o(e,s){anObject$b(e);for(var h=toIndexedObject$6(s),b=objectKeys$1(s),_e=b.length,rt=0,at;_e>rt;)definePropertyModule$2.f(e,at=b[rt++],h[at]);return e};var getBuiltIn$a=getBuiltIn$c,html$1=getBuiltIn$a("document","documentElement"),anObject$a=anObject$d,definePropertiesModule$1=objectDefineProperties,enumBugKeys$1=enumBugKeys$3,hiddenKeys$3=hiddenKeys$6,html=html$1,documentCreateElement=documentCreateElement$1,sharedKey$2=sharedKey$4,GT=">",LT="<",PROTOTYPE$1="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$2("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(o){return LT+SCRIPT+GT+o+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(o){o.write(scriptTag("")),o.close();var e=o.parentWindow.Object;return o=null,e},NullProtoObjectViaIFrame=function(){var o=documentCreateElement("iframe"),e="java"+SCRIPT+":",s;return o.style.display="none",html.appendChild(o),o.src=String(e),s=o.contentWindow.document,s.open(),s.write(scriptTag("document.F=Object")),s.close(),s.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document<"u"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var o=enumBugKeys$1.length;o--;)delete NullProtoObject[PROTOTYPE$1][enumBugKeys$1[o]];return NullProtoObject()};hiddenKeys$3[IE_PROTO$1]=!0;var objectCreate=Object.create||function o(e,s){var h;return e!==null?(EmptyConstructor[PROTOTYPE$1]=anObject$a(e),h=new EmptyConstructor,EmptyConstructor[PROTOTYPE$1]=null,h[IE_PROTO$1]=e):h=NullProtoObject(),s===void 0?h:definePropertiesModule$1.f(h,s)},fails$n=fails$w,correctPrototypeGetter=!fails$n(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype}),hasOwn$a=hasOwnProperty_1,isCallable$8=isCallable$i,toObject$b=toObject$e,sharedKey$1=sharedKey$4,CORRECT_PROTOTYPE_GETTER$1=correctPrototypeGetter,IE_PROTO=sharedKey$1("IE_PROTO"),$Object$1=Object,ObjectPrototype$2=$Object$1.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER$1?$Object$1.getPrototypeOf:function(o){var e=toObject$b(o);if(hasOwn$a(e,IE_PROTO))return e[IE_PROTO];var s=e.constructor;return isCallable$8(s)&&e instanceof s?s.prototype:e instanceof $Object$1?ObjectPrototype$2:null},createNonEnumerableProperty$3=createNonEnumerableProperty$6,defineBuiltIn$5=function(o,e,s,h){return h&&h.enumerable?o[e]=s:createNonEnumerableProperty$3(o,e,s),o},fails$m=fails$w,isCallable$7=isCallable$i,isObject$c=isObject$j,create$a=objectCreate,getPrototypeOf$8=objectGetPrototypeOf,defineBuiltIn$4=defineBuiltIn$5,wellKnownSymbol$i=wellKnownSymbol$m,ITERATOR$6=wellKnownSymbol$i("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$1,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$8(getPrototypeOf$8(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$1=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=!isObject$c(IteratorPrototype$1)||fails$m(function(){var o={};return IteratorPrototype$1[ITERATOR$6].call(o)!==o});NEW_ITERATOR_PROTOTYPE?IteratorPrototype$1={}:IteratorPrototype$1=create$a(IteratorPrototype$1);isCallable$7(IteratorPrototype$1[ITERATOR$6])||defineBuiltIn$4(IteratorPrototype$1,ITERATOR$6,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},TO_STRING_TAG_SUPPORT$1=toStringTagSupport,classof$b=classof$d,objectToString=TO_STRING_TAG_SUPPORT$1?{}.toString:function o(){return"[object "+classof$b(this)+"]"},TO_STRING_TAG_SUPPORT=toStringTagSupport,defineProperty$d=objectDefineProperty.f,createNonEnumerableProperty$2=createNonEnumerableProperty$6,hasOwn$9=hasOwnProperty_1,toString$8=objectToString,wellKnownSymbol$h=wellKnownSymbol$m,TO_STRING_TAG$1=wellKnownSymbol$h("toStringTag"),setToStringTag$6=function(o,e,s,h){if(o){var b=s?o:o.prototype;hasOwn$9(b,TO_STRING_TAG$1)||defineProperty$d(b,TO_STRING_TAG$1,{configurable:!0,value:e}),h&&!TO_STRING_TAG_SUPPORT&&createNonEnumerableProperty$2(b,"toString",toString$8)}},iterators={},IteratorPrototype=iteratorsCore.IteratorPrototype,create$9=objectCreate,createPropertyDescriptor$2=createPropertyDescriptor$5,setToStringTag$5=setToStringTag$6,Iterators$5=iterators,returnThis$1=function(){return this},iteratorCreateConstructor=function(o,e,s,h){var b=e+" Iterator";return o.prototype=create$9(IteratorPrototype,{next:createPropertyDescriptor$2(+!h,s)}),setToStringTag$5(o,b,!1,!0),Iterators$5[b]=returnThis$1,o},uncurryThis$k=functionUncurryThis,aCallable$3=aCallable$7,functionUncurryThisAccessor=function(o,e,s){try{return uncurryThis$k(aCallable$3(Object.getOwnPropertyDescriptor(o,e)[s]))}catch{}},isCallable$6=isCallable$i,$String$1=String,$TypeError$a=TypeError,aPossiblePrototype$1=function(o){if(typeof o=="object"||isCallable$6(o))return o;throw new $TypeError$a("Can't set "+$String$1(o)+" as a prototype")},uncurryThisAccessor=functionUncurryThisAccessor,anObject$9=anObject$d,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var o=!1,e={},s;try{s=uncurryThisAccessor(Object.prototype,"__proto__","set"),s(e,[]),o=e instanceof Array}catch{}return function(b,_e){return anObject$9(b),aPossiblePrototype(_e),o?s(b,_e):b.__proto__=_e,b}}():void 0),$$M=_export,call$8=functionCall,FunctionName=functionName,createIteratorConstructor=iteratorCreateConstructor,getPrototypeOf$7=objectGetPrototypeOf,setToStringTag$4=setToStringTag$6,defineBuiltIn$3=defineBuiltIn$5,wellKnownSymbol$g=wellKnownSymbol$m,Iterators$4=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME=FunctionName.PROPER,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$5=wellKnownSymbol$g("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},iteratorDefine=function(o,e,s,h,b,_e,rt){createIteratorConstructor(s,e,h);var at=function(ct){if(ct===b&&d)return d;if(!BUGGY_SAFARI_ITERATORS&&ct&&ct in nt)return nt[ct];switch(ct){case KEYS:return function(){return new s(this,ct)};case VALUES:return function(){return new s(this,ct)};case ENTRIES:return function(){return new s(this,ct)}}return function(){return new s(this)}},st=e+" Iterator",ot=!1,nt=o.prototype,et=nt[ITERATOR$5]||nt["@@iterator"]||b&&nt[b],d=!BUGGY_SAFARI_ITERATORS&&et||at(b),_=e==="Array"&&nt.entries||et,tt,lt,ut;if(_&&(tt=getPrototypeOf$7(_.call(new o)),tt!==Object.prototype&&tt.next&&(setToStringTag$4(tt,st,!0,!0),Iterators$4[st]=returnThis)),PROPER_FUNCTION_NAME&&b===VALUES&&et&&et.name!==VALUES&&(ot=!0,d=function(){return call$8(et,this)}),b)if(lt={values:at(VALUES),keys:_e?d:at(KEYS),entries:at(ENTRIES)},rt)for(ut in lt)(BUGGY_SAFARI_ITERATORS||ot||!(ut in nt))&&defineBuiltIn$3(nt,ut,lt[ut]);else $$M({target:e,proto:!0,forced:BUGGY_SAFARI_ITERATORS||ot},lt);return rt&&nt[ITERATOR$5]!==d&&defineBuiltIn$3(nt,ITERATOR$5,d,{name:b}),Iterators$4[e]=d,lt},createIterResultObject$3=function(o,e){return{value:o,done:e}},charAt$2=stringMultibyte.charAt,toString$7=toString$a,InternalStateModule$5=internalState,defineIterator$2=iteratorDefine,createIterResultObject$2=createIterResultObject$3,STRING_ITERATOR="String Iterator",setInternalState$5=InternalStateModule$5.set,getInternalState$2=InternalStateModule$5.getterFor(STRING_ITERATOR);defineIterator$2(String,"String",function(o){setInternalState$5(this,{type:STRING_ITERATOR,string:toString$7(o),index:0})},function o(){var e=getInternalState$2(this),s=e.string,h=e.index,b;return h>=s.length?createIterResultObject$2(void 0,!0):(b=charAt$2(s,h),e.index+=b.length,createIterResultObject$2(b,!1))});var call$7=functionCall,anObject$8=anObject$d,getMethod$1=getMethod$3,iteratorClose$2=function(o,e,s){var h,b;anObject$8(o);try{if(h=getMethod$1(o,"return"),!h){if(e==="throw")throw s;return s}h=call$7(h,o)}catch(_e){b=!0,h=_e}if(e==="throw")throw s;if(b)throw h;return anObject$8(h),s},anObject$7=anObject$d,iteratorClose$1=iteratorClose$2,callWithSafeIterationClosing$1=function(o,e,s,h){try{return h?e(anObject$7(s)[0],s[1]):e(s)}catch(b){iteratorClose$1(o,"throw",b)}},wellKnownSymbol$f=wellKnownSymbol$m,Iterators$3=iterators,ITERATOR$4=wellKnownSymbol$f("iterator"),ArrayPrototype$g=Array.prototype,isArrayIteratorMethod$2=function(o){return o!==void 0&&(Iterators$3.Array===o||ArrayPrototype$g[ITERATOR$4]===o)},uncurryThis$j=functionUncurryThis,isCallable$5=isCallable$i,store=sharedStore,functionToString=uncurryThis$j(Function.toString);isCallable$5(store.inspectSource)||(store.inspectSource=function(o){return functionToString(o)});var inspectSource$1=store.inspectSource,uncurryThis$i=functionUncurryThis,fails$l=fails$w,isCallable$4=isCallable$i,classof$a=classof$d,getBuiltIn$9=getBuiltIn$c,inspectSource=inspectSource$1,noop=function(){},empty=[],construct$3=getBuiltIn$9("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$2=uncurryThis$i(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.test(noop),isConstructorModern=function o(e){if(!isCallable$4(e))return!1;try{return construct$3(noop,empty,e),!0}catch{return!1}},isConstructorLegacy=function o(e){if(!isCallable$4(e))return!1;switch(classof$a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec$2(constructorRegExp,inspectSource(e))}catch{return!0}};isConstructorLegacy.sham=!0;var isConstructor$4=!construct$3||fails$l(function(){var o;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){o=!0})||o})?isConstructorLegacy:isConstructorModern,toPropertyKey$1=toPropertyKey$4,definePropertyModule$1=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$5,createProperty$6=function(o,e,s){var h=toPropertyKey$1(e);h in o?definePropertyModule$1.f(o,h,createPropertyDescriptor$1(0,s)):o[h]=s},classof$9=classof$d,getMethod=getMethod$3,isNullOrUndefined$3=isNullOrUndefined$6,Iterators$2=iterators,wellKnownSymbol$e=wellKnownSymbol$m,ITERATOR$3=wellKnownSymbol$e("iterator"),getIteratorMethod$9=function(o){if(!isNullOrUndefined$3(o))return getMethod(o,ITERATOR$3)||getMethod(o,"@@iterator")||Iterators$2[classof$9(o)]},call$6=functionCall,aCallable$2=aCallable$7,anObject$6=anObject$d,tryToString$4=tryToString$6,getIteratorMethod$8=getIteratorMethod$9,$TypeError$9=TypeError,getIterator$2=function(o,e){var s=arguments.length<2?getIteratorMethod$8(o):e;if(aCallable$2(s))return anObject$6(call$6(s,o));throw new $TypeError$9(tryToString$4(o)+" is not iterable")},bind$7=functionBindContext,call$5=functionCall,toObject$a=toObject$e,callWithSafeIterationClosing=callWithSafeIterationClosing$1,isArrayIteratorMethod$1=isArrayIteratorMethod$2,isConstructor$3=isConstructor$4,lengthOfArrayLike$a=lengthOfArrayLike$c,createProperty$5=createProperty$6,getIterator$1=getIterator$2,getIteratorMethod$7=getIteratorMethod$9,$Array$3=Array,arrayFrom=function o(e){var s=toObject$a(e),h=isConstructor$3(this),b=arguments.length,_e=b>1?arguments[1]:void 0,rt=_e!==void 0;rt&&(_e=bind$7(_e,b>2?arguments[2]:void 0));var at=getIteratorMethod$7(s),st=0,ot,nt,et,d,_,tt;if(at&&!(this===$Array$3&&isArrayIteratorMethod$1(at)))for(d=getIterator$1(s,at),_=d.next,nt=h?new this:[];!(et=call$5(_,d)).done;st++)tt=rt?callWithSafeIterationClosing(d,_e,[et.value,st],!0):et.value,createProperty$5(nt,st,tt);else for(ot=lengthOfArrayLike$a(s),nt=h?new this(ot):$Array$3(ot);ot>st;st++)tt=rt?_e(s[st],st):s[st],createProperty$5(nt,st,tt);return nt.length=st,nt},wellKnownSymbol$d=wellKnownSymbol$m,ITERATOR$2=wellKnownSymbol$d("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$2]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(o){}var checkCorrectnessOfIteration$1=function(o,e){try{if(!e&&!SAFE_CLOSING)return!1}catch{return!1}var s=!1;try{var h={};h[ITERATOR$2]=function(){return{next:function(){return{done:s=!0}}}},o(h)}catch{}return s},$$L=_export,from$6=arrayFrom,checkCorrectnessOfIteration=checkCorrectnessOfIteration$1,INCORRECT_ITERATION=!checkCorrectnessOfIteration(function(o){Array.from(o)});$$L({target:"Array",stat:!0,forced:INCORRECT_ITERATION},{from:from$6});var path$r=path$w,from$5=path$r.Array.from,parent$19=from$5,from$4=parent$19,from$3=from$4,_Array$from$1=getDefaultExportFromCjs(from$3),toIndexedObject$5=toIndexedObject$a,Iterators$1=iterators,InternalStateModule$4=internalState;objectDefineProperty.f;var defineIterator$1=iteratorDefine,createIterResultObject$1=createIterResultObject$3,ARRAY_ITERATOR="Array Iterator",setInternalState$4=InternalStateModule$4.set,getInternalState$1=InternalStateModule$4.getterFor(ARRAY_ITERATOR);defineIterator$1(Array,"Array",function(o,e){setInternalState$4(this,{type:ARRAY_ITERATOR,target:toIndexedObject$5(o),index:0,kind:e})},function(){var o=getInternalState$1(this),e=o.target,s=o.kind,h=o.index++;if(!e||h>=e.length)return o.target=void 0,createIterResultObject$1(void 0,!0);switch(s){case"keys":return createIterResultObject$1(h,!1);case"values":return createIterResultObject$1(e[h],!1)}return createIterResultObject$1([h,e[h]],!1)},"values");Iterators$1.Arguments=Iterators$1.Array;var getIteratorMethod$6=getIteratorMethod$9,getIteratorMethod_1=getIteratorMethod$6,domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},DOMIterables$2=domIterables,global$c=global$n,classof$8=classof$d,createNonEnumerableProperty$1=createNonEnumerableProperty$6,Iterators=iterators,wellKnownSymbol$c=wellKnownSymbol$m,TO_STRING_TAG=wellKnownSymbol$c("toStringTag");for(var COLLECTION_NAME in DOMIterables$2){var Collection=global$c[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;CollectionPrototype&&classof$8(CollectionPrototype)!==TO_STRING_TAG&&createNonEnumerableProperty$1(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),Iterators[COLLECTION_NAME]=Iterators.Array}var parent$18=getIteratorMethod_1,getIteratorMethod$5=parent$18,parent$17=getIteratorMethod$5,getIteratorMethod$4=parent$17,parent$16=getIteratorMethod$4,getIteratorMethod$3=parent$16,getIteratorMethod$2=getIteratorMethod$3,_getIteratorMethod$1=getDefaultExportFromCjs(getIteratorMethod$2),getIteratorMethod$1=getIteratorMethod$2,_getIteratorMethod=getDefaultExportFromCjs(getIteratorMethod$1);function _classCallCheck(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}var defineProperty$c={exports:{}},$$K=_export,DESCRIPTORS$9=descriptors,defineProperty$b=objectDefineProperty.f;$$K({target:"Object",stat:!0,forced:Object.defineProperty!==defineProperty$b,sham:!DESCRIPTORS$9},{defineProperty:defineProperty$b});var path$q=path$w,Object$5=path$q.Object,defineProperty$a=defineProperty$c.exports=function o(e,s,h){return Object$5.defineProperty(e,s,h)};Object$5.defineProperty.sham&&(defineProperty$a.sham=!0);var definePropertyExports=defineProperty$c.exports,parent$15=definePropertyExports,defineProperty$9=parent$15,parent$14=defineProperty$9,defineProperty$8=parent$14,parent$13=defineProperty$8,defineProperty$7=parent$13,defineProperty$6=defineProperty$7,_Object$defineProperty$1=getDefaultExportFromCjs(defineProperty$6),classof$7=classofRaw$2,isArray$e=Array.isArray||function o(e){return classof$7(e)==="Array"},$TypeError$8=TypeError,MAX_SAFE_INTEGER=9007199254740991,doesNotExceedSafeInteger$3=function(o){if(o>MAX_SAFE_INTEGER)throw $TypeError$8("Maximum allowed index exceeded");return o},isArray$d=isArray$e,isConstructor$2=isConstructor$4,isObject$b=isObject$j,wellKnownSymbol$b=wellKnownSymbol$m,SPECIES$3=wellKnownSymbol$b("species"),$Array$2=Array,arraySpeciesConstructor$1=function(o){var e;return isArray$d(o)&&(e=o.constructor,isConstructor$2(e)&&(e===$Array$2||isArray$d(e.prototype))?e=void 0:isObject$b(e)&&(e=e[SPECIES$3],e===null&&(e=void 0))),e===void 0?$Array$2:e},arraySpeciesConstructor=arraySpeciesConstructor$1,arraySpeciesCreate$3=function(o,e){return new(arraySpeciesConstructor(o))(e===0?0:e)},fails$k=fails$w,wellKnownSymbol$a=wellKnownSymbol$m,V8_VERSION$1=engineV8Version,SPECIES$2=wellKnownSymbol$a("species"),arrayMethodHasSpeciesSupport$5=function(o){return V8_VERSION$1>=51||!fails$k(function(){var e=[],s=e.constructor={};return s[SPECIES$2]=function(){return{foo:1}},e[o](Boolean).foo!==1})},$$J=_export,fails$j=fails$w,isArray$c=isArray$e,isObject$a=isObject$j,toObject$9=toObject$e,lengthOfArrayLike$9=lengthOfArrayLike$c,doesNotExceedSafeInteger$2=doesNotExceedSafeInteger$3,createProperty$4=createProperty$6,arraySpeciesCreate$2=arraySpeciesCreate$3,arrayMethodHasSpeciesSupport$4=arrayMethodHasSpeciesSupport$5,wellKnownSymbol$9=wellKnownSymbol$m,V8_VERSION=engineV8Version,IS_CONCAT_SPREADABLE=wellKnownSymbol$9("isConcatSpreadable"),IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails$j(function(){var o=[];return o[IS_CONCAT_SPREADABLE]=!1,o.concat()[0]!==o}),isConcatSpreadable=function(o){if(!isObject$a(o))return!1;var e=o[IS_CONCAT_SPREADABLE];return e!==void 0?!!e:isArray$c(o)},FORCED$a=!IS_CONCAT_SPREADABLE_SUPPORT||!arrayMethodHasSpeciesSupport$4("concat");$$J({target:"Array",proto:!0,arity:1,forced:FORCED$a},{concat:function o(e){var s=toObject$9(this),h=arraySpeciesCreate$2(s,0),b=0,_e,rt,at,st,ot;for(_e=-1,at=arguments.length;_e<at;_e++)if(ot=_e===-1?s:arguments[_e],isConcatSpreadable(ot))for(st=lengthOfArrayLike$9(ot),doesNotExceedSafeInteger$2(b+st),rt=0;rt<st;rt++,b++)rt in ot&&createProperty$4(h,b,ot[rt]);else doesNotExceedSafeInteger$2(b+1),createProperty$4(h,b++,ot);return h.length=b,h}});var objectGetOwnPropertyNames={},internalObjectKeys=objectKeysInternal,enumBugKeys=enumBugKeys$3,hiddenKeys$2=enumBugKeys.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function o(e){return internalObjectKeys(e,hiddenKeys$2)};var objectGetOwnPropertyNamesExternal={},toAbsoluteIndex$3=toAbsoluteIndex$5,lengthOfArrayLike$8=lengthOfArrayLike$c,createProperty$3=createProperty$6,$Array$1=Array,max$2=Math.max,arraySliceSimple=function(o,e,s){for(var h=lengthOfArrayLike$8(o),b=toAbsoluteIndex$3(e,h),_e=toAbsoluteIndex$3(s===void 0?h:s,h),rt=$Array$1(max$2(_e-b,0)),at=0;b<_e;b++,at++)createProperty$3(rt,at,o[b]);return rt.length=at,rt},classof$6=classofRaw$2,toIndexedObject$4=toIndexedObject$a,$getOwnPropertyNames$1=objectGetOwnPropertyNames.f,arraySlice$3=arraySliceSimple,windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(o){try{return $getOwnPropertyNames$1(o)}catch{return arraySlice$3(windowNames)}};objectGetOwnPropertyNamesExternal.f=function o(e){return windowNames&&classof$6(e)==="Window"?getWindowNames(e):$getOwnPropertyNames$1(toIndexedObject$4(e))};var defineProperty$5=objectDefineProperty,defineBuiltInAccessor$3=function(o,e,s){return defineProperty$5.f(o,e,s)},wellKnownSymbolWrapped={},wellKnownSymbol$8=wellKnownSymbol$m;wellKnownSymbolWrapped.f=wellKnownSymbol$8;var path$p=path$w,hasOwn$8=hasOwnProperty_1,wrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped,defineProperty$4=objectDefineProperty.f,wellKnownSymbolDefine=function(o){var e=path$p.Symbol||(path$p.Symbol={});hasOwn$8(e,o)||defineProperty$4(e,o,{value:wrappedWellKnownSymbolModule$1.f(o)})},call$4=functionCall,getBuiltIn$8=getBuiltIn$c,wellKnownSymbol$7=wellKnownSymbol$m,defineBuiltIn$2=defineBuiltIn$5,symbolDefineToPrimitive=function(){var o=getBuiltIn$8("Symbol"),e=o&&o.prototype,s=e&&e.valueOf,h=wellKnownSymbol$7("toPrimitive");e&&!e[h]&&defineBuiltIn$2(e,h,function(b){return call$4(s,this)},{arity:1})},bind$6=functionBindContext,uncurryThis$h=functionUncurryThis,IndexedObject$1=indexedObject,toObject$8=toObject$e,lengthOfArrayLike$7=lengthOfArrayLike$c,arraySpeciesCreate$1=arraySpeciesCreate$3,push$a=uncurryThis$h([].push),createMethod$2=function(o){var e=o===1,s=o===2,h=o===3,b=o===4,_e=o===6,rt=o===7,at=o===5||_e;return function(st,ot,nt,et){for(var d=toObject$8(st),_=IndexedObject$1(d),tt=bind$6(ot,nt),lt=lengthOfArrayLike$7(_),ut=0,ct=et||arraySpeciesCreate$1,ft=e?ct(st,lt):s||rt?ct(st,0):void 0,dt,ht;lt>ut;ut++)if((at||ut in _)&&(dt=_[ut],ht=tt(dt,ut,d),o))if(e)ft[ut]=ht;else if(ht)switch(o){case 3:return!0;case 5:return dt;case 6:return ut;case 2:push$a(ft,dt)}else switch(o){case 4:return!1;case 7:push$a(ft,dt)}return _e?-1:h||b?b:ft}},arrayIteration={forEach:createMethod$2(0),map:createMethod$2(1),filter:createMethod$2(2),some:createMethod$2(3),every:createMethod$2(4),find:createMethod$2(5),findIndex:createMethod$2(6),filterReject:createMethod$2(7)},$$I=_export,global$b=global$n,call$3=functionCall,uncurryThis$g=functionUncurryThis,DESCRIPTORS$8=descriptors,NATIVE_SYMBOL$3=symbolConstructorDetection,fails$i=fails$w,hasOwn$7=hasOwnProperty_1,isPrototypeOf$i=objectIsPrototypeOf,anObject$5=anObject$d,toIndexedObject$3=toIndexedObject$a,toPropertyKey=toPropertyKey$4,$toString=toString$a,createPropertyDescriptor=createPropertyDescriptor$5,nativeObjectCreate=objectCreate,objectKeys=objectKeys$3,getOwnPropertyNamesModule$2=objectGetOwnPropertyNames,getOwnPropertyNamesExternal=objectGetOwnPropertyNamesExternal,getOwnPropertySymbolsModule$2=objectGetOwnPropertySymbols,getOwnPropertyDescriptorModule$2=objectGetOwnPropertyDescriptor,definePropertyModule=objectDefineProperty,definePropertiesModule=objectDefineProperties,propertyIsEnumerableModule=objectPropertyIsEnumerable,defineBuiltIn$1=defineBuiltIn$5,defineBuiltInAccessor$2=defineBuiltInAccessor$3,shared$3=sharedExports,sharedKey=sharedKey$4,hiddenKeys$1=hiddenKeys$6,uid$1=uid$4,wellKnownSymbol$6=wellKnownSymbol$m,wrappedWellKnownSymbolModule=wellKnownSymbolWrapped,defineWellKnownSymbol$l=wellKnownSymbolDefine,defineSymbolToPrimitive$1=symbolDefineToPrimitive,setToStringTag$3=setToStringTag$6,InternalStateModule$3=internalState,$forEach$1=arrayIteration.forEach,HIDDEN=sharedKey("hidden"),SYMBOL="Symbol",PROTOTYPE="prototype",setInternalState$3=InternalStateModule$3.set,getInternalState=InternalStateModule$3.getterFor(SYMBOL),ObjectPrototype$1=Object[PROTOTYPE],$Symbol=global$b.Symbol,SymbolPrototype=$Symbol&&$Symbol[PROTOTYPE],RangeError$1=global$b.RangeError,TypeError$1=global$b.TypeError,QObject=global$b.QObject,nativeGetOwnPropertyDescriptor$1=getOwnPropertyDescriptorModule$2.f,nativeDefineProperty=definePropertyModule.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule.f,push$9=uncurryThis$g([].push),AllSymbols=shared$3("symbols"),ObjectPrototypeSymbols=shared$3("op-symbols"),WellKnownSymbolsStore$1=shared$3("wks"),USE_SETTER=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,fallbackDefineProperty=function(o,e,s){var h=nativeGetOwnPropertyDescriptor$1(ObjectPrototype$1,e);h&&delete ObjectPrototype$1[e],nativeDefineProperty(o,e,s),h&&o!==ObjectPrototype$1&&nativeDefineProperty(ObjectPrototype$1,e,h)},setSymbolDescriptor=DESCRIPTORS$8&&fails$i(function(){return nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a!==7})?fallbackDefineProperty:nativeDefineProperty,wrap=function(o,e){var s=AllSymbols[o]=nativeObjectCreate(SymbolPrototype);return setInternalState$3(s,{type:SYMBOL,tag:o,description:e}),DESCRIPTORS$8||(s.description=e),s},$defineProperty=function o(e,s,h){e===ObjectPrototype$1&&$defineProperty(ObjectPrototypeSymbols,s,h),anObject$5(e);var b=toPropertyKey(s);return anObject$5(h),hasOwn$7(AllSymbols,b)?(h.enumerable?(hasOwn$7(e,HIDDEN)&&e[HIDDEN][b]&&(e[HIDDEN][b]=!1),h=nativeObjectCreate(h,{enumerable:createPropertyDescriptor(0,!1)})):(hasOwn$7(e,HIDDEN)||nativeDefineProperty(e,HIDDEN,createPropertyDescriptor(1,{})),e[HIDDEN][b]=!0),setSymbolDescriptor(e,b,h)):nativeDefineProperty(e,b,h)},$defineProperties=function o(e,s){anObject$5(e);var h=toIndexedObject$3(s),b=objectKeys(h).concat($getOwnPropertySymbols(h));return $forEach$1(b,function(_e){(!DESCRIPTORS$8||call$3($propertyIsEnumerable,h,_e))&&$defineProperty(e,_e,h[_e])}),e},$create=function o(e,s){return s===void 0?nativeObjectCreate(e):$defineProperties(nativeObjectCreate(e),s)},$propertyIsEnumerable=function o(e){var s=toPropertyKey(e),h=call$3(nativePropertyIsEnumerable,this,s);return this===ObjectPrototype$1&&hasOwn$7(AllSymbols,s)&&!hasOwn$7(ObjectPrototypeSymbols,s)?!1:h||!hasOwn$7(this,s)||!hasOwn$7(AllSymbols,s)||hasOwn$7(this,HIDDEN)&&this[HIDDEN][s]?h:!0},$getOwnPropertyDescriptor=function o(e,s){var h=toIndexedObject$3(e),b=toPropertyKey(s);if(!(h===ObjectPrototype$1&&hasOwn$7(AllSymbols,b)&&!hasOwn$7(ObjectPrototypeSymbols,b))){var _e=nativeGetOwnPropertyDescriptor$1(h,b);return _e&&hasOwn$7(AllSymbols,b)&&!(hasOwn$7(h,HIDDEN)&&h[HIDDEN][b])&&(_e.enumerable=!0),_e}},$getOwnPropertyNames=function o(e){var s=nativeGetOwnPropertyNames(toIndexedObject$3(e)),h=[];return $forEach$1(s,function(b){!hasOwn$7(AllSymbols,b)&&!hasOwn$7(hiddenKeys$1,b)&&push$9(h,b)}),h},$getOwnPropertySymbols=function(o){var e=o===ObjectPrototype$1,s=nativeGetOwnPropertyNames(e?ObjectPrototypeSymbols:toIndexedObject$3(o)),h=[];return $forEach$1(s,function(b){hasOwn$7(AllSymbols,b)&&(!e||hasOwn$7(ObjectPrototype$1,b))&&push$9(h,AllSymbols[b])}),h};NATIVE_SYMBOL$3||($Symbol=function(){if(isPrototypeOf$i(SymbolPrototype,this))throw new TypeError$1("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:$toString(arguments[0]),s=uid$1(e),h=function(b){this===ObjectPrototype$1&&call$3(h,ObjectPrototypeSymbols,b),hasOwn$7(this,HIDDEN)&&hasOwn$7(this[HIDDEN],s)&&(this[HIDDEN][s]=!1);var _e=createPropertyDescriptor(1,b);try{setSymbolDescriptor(this,s,_e)}catch(rt){if(!(rt instanceof RangeError$1))throw rt;fallbackDefineProperty(this,s,_e)}};return DESCRIPTORS$8&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype$1,s,{configurable:!0,set:h}),wrap(s,e)},SymbolPrototype=$Symbol[PROTOTYPE],defineBuiltIn$1(SymbolPrototype,"toString",function(){return getInternalState(this).tag}),defineBuiltIn$1($Symbol,"withoutSetter",function(o){return wrap(uid$1(o),o)}),propertyIsEnumerableModule.f=$propertyIsEnumerable,definePropertyModule.f=$defineProperty,definePropertiesModule.f=$defineProperties,getOwnPropertyDescriptorModule$2.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule$2.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule$2.f=$getOwnPropertySymbols,wrappedWellKnownSymbolModule.f=function(o){return wrap(wellKnownSymbol$6(o),o)},DESCRIPTORS$8&&defineBuiltInAccessor$2(SymbolPrototype,"description",{configurable:!0,get:function(){return getInternalState(this).description}}));$$I({global:!0,constructor:!0,wrap:!0,forced:!NATIVE_SYMBOL$3,sham:!NATIVE_SYMBOL$3},{Symbol:$Symbol});$forEach$1(objectKeys(WellKnownSymbolsStore$1),function(o){defineWellKnownSymbol$l(o)});$$I({target:SYMBOL,stat:!0,forced:!NATIVE_SYMBOL$3},{useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}});$$I({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$3,sham:!DESCRIPTORS$8},{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor});$$I({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$3},{getOwnPropertyNames:$getOwnPropertyNames});defineSymbolToPrimitive$1();setToStringTag$3($Symbol,SYMBOL);hiddenKeys$1[HIDDEN]=!0;var NATIVE_SYMBOL$2=symbolConstructorDetection,symbolRegistryDetection=NATIVE_SYMBOL$2&&!!Symbol.for&&!!Symbol.keyFor,$$H=_export,getBuiltIn$7=getBuiltIn$c,hasOwn$6=hasOwnProperty_1,toString$6=toString$a,shared$2=sharedExports,NATIVE_SYMBOL_REGISTRY$1=symbolRegistryDetection,StringToSymbolRegistry=shared$2("string-to-symbol-registry"),SymbolToStringRegistry$1=shared$2("symbol-to-string-registry");$$H({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL_REGISTRY$1},{for:function(o){var e=toString$6(o);if(hasOwn$6(StringToSymbolRegistry,e))return StringToSymbolRegistry[e];var s=getBuiltIn$7("Symbol")(e);return StringToSymbolRegistry[e]=s,SymbolToStringRegistry$1[s]=e,s}});var $$G=_export,hasOwn$5=hasOwnProperty_1,isSymbol$2=isSymbol$5,tryToString$3=tryToString$6,shared$1=sharedExports,NATIVE_SYMBOL_REGISTRY=symbolRegistryDetection,SymbolToStringRegistry=shared$1("symbol-to-string-registry");$$G({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL_REGISTRY},{keyFor:function o(e){if(!isSymbol$2(e))throw new TypeError(tryToString$3(e)+" is not a symbol");if(hasOwn$5(SymbolToStringRegistry,e))return SymbolToStringRegistry[e]}});var uncurryThis$f=functionUncurryThis,isArray$b=isArray$e,isCallable$3=isCallable$i,classof$5=classofRaw$2,toString$5=toString$a,push$8=uncurryThis$f([].push),getJsonReplacerFunction=function(o){if(isCallable$3(o))return o;if(isArray$b(o)){for(var e=o.length,s=[],h=0;h<e;h++){var b=o[h];typeof b=="string"?push$8(s,b):(typeof b=="number"||classof$5(b)==="Number"||classof$5(b)==="String")&&push$8(s,toString$5(b))}var _e=s.length,rt=!0;return function(at,st){if(rt)return rt=!1,st;if(isArray$b(this))return st;for(var ot=0;ot<_e;ot++)if(s[ot]===at)return st}}},$$F=_export,getBuiltIn$6=getBuiltIn$c,apply$3=functionApply,call$2=functionCall,uncurryThis$e=functionUncurryThis,fails$h=fails$w,isCallable$2=isCallable$i,isSymbol$1=isSymbol$5,arraySlice$2=arraySlice$5,getReplacerFunction=getJsonReplacerFunction,NATIVE_SYMBOL$1=symbolConstructorDetection,$String=String,$stringify=getBuiltIn$6("JSON","stringify"),exec$1=uncurryThis$e(/./.exec),charAt$1=uncurryThis$e("".charAt),charCodeAt=uncurryThis$e("".charCodeAt),replace$1=uncurryThis$e("".replace),numberToString=uncurryThis$e(1 .toString),tester=/[\uD800-\uDFFF]/g,low=/^[\uD800-\uDBFF]$/,hi=/^[\uDC00-\uDFFF]$/,WRONG_SYMBOLS_CONVERSION=!NATIVE_SYMBOL$1||fails$h(function(){var o=getBuiltIn$6("Symbol")("stringify detection");return $stringify([o])!=="[null]"||$stringify({a:o})!=="{}"||$stringify(Object(o))!=="{}"}),ILL_FORMED_UNICODE=fails$h(function(){return $stringify("\uDF06\uD834")!=='"\\udf06\\ud834"'||$stringify("\uDEAD")!=='"\\udead"'}),stringifyWithSymbolsFix=function(o,e){var s=arraySlice$2(arguments),h=getReplacerFunction(e);if(!(!isCallable$2(h)&&(o===void 0||isSymbol$1(o))))return s[1]=function(b,_e){if(isCallable$2(h)&&(_e=call$2(h,this,$String(b),_e)),!isSymbol$1(_e))return _e},apply$3($stringify,null,s)},fixIllFormed=function(o,e,s){var h=charAt$1(s,e-1),b=charAt$1(s,e+1);return exec$1(low,o)&&!exec$1(hi,b)||exec$1(hi,o)&&!exec$1(low,h)?"\\u"+numberToString(charCodeAt(o,0),16):o};$stringify&&$$F({target:"JSON",stat:!0,arity:3,forced:WRONG_SYMBOLS_CONVERSION||ILL_FORMED_UNICODE},{stringify:function(e,s,h){var b=arraySlice$2(arguments),_e=apply$3(WRONG_SYMBOLS_CONVERSION?stringifyWithSymbolsFix:$stringify,null,b);return ILL_FORMED_UNICODE&&typeof _e=="string"?replace$1(_e,tester,fixIllFormed):_e}});var $$E=_export,NATIVE_SYMBOL=symbolConstructorDetection,fails$g=fails$w,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols,toObject$7=toObject$e,FORCED$9=!NATIVE_SYMBOL||fails$g(function(){getOwnPropertySymbolsModule$1.f(1)});$$E({target:"Object",stat:!0,forced:FORCED$9},{getOwnPropertySymbols:function o(e){var s=getOwnPropertySymbolsModule$1.f;return s?s(toObject$7(e)):[]}});var defineWellKnownSymbol$k=wellKnownSymbolDefine;defineWellKnownSymbol$k("asyncIterator");var defineWellKnownSymbol$j=wellKnownSymbolDefine;defineWellKnownSymbol$j("hasInstance");var defineWellKnownSymbol$i=wellKnownSymbolDefine;defineWellKnownSymbol$i("isConcatSpreadable");var defineWellKnownSymbol$h=wellKnownSymbolDefine;defineWellKnownSymbol$h("iterator");var defineWellKnownSymbol$g=wellKnownSymbolDefine;defineWellKnownSymbol$g("match");var defineWellKnownSymbol$f=wellKnownSymbolDefine;defineWellKnownSymbol$f("matchAll");var defineWellKnownSymbol$e=wellKnownSymbolDefine;defineWellKnownSymbol$e("replace");var defineWellKnownSymbol$d=wellKnownSymbolDefine;defineWellKnownSymbol$d("search");var defineWellKnownSymbol$c=wellKnownSymbolDefine;defineWellKnownSymbol$c("species");var defineWellKnownSymbol$b=wellKnownSymbolDefine;defineWellKnownSymbol$b("split");var defineWellKnownSymbol$a=wellKnownSymbolDefine,defineSymbolToPrimitive=symbolDefineToPrimitive;defineWellKnownSymbol$a("toPrimitive");defineSymbolToPrimitive();var getBuiltIn$5=getBuiltIn$c,defineWellKnownSymbol$9=wellKnownSymbolDefine,setToStringTag$2=setToStringTag$6;defineWellKnownSymbol$9("toStringTag");setToStringTag$2(getBuiltIn$5("Symbol"),"Symbol");var defineWellKnownSymbol$8=wellKnownSymbolDefine;defineWellKnownSymbol$8("unscopables");var global$a=global$n,setToStringTag$1=setToStringTag$6;setToStringTag$1(global$a.JSON,"JSON",!0);var path$o=path$w,symbol$5=path$o.Symbol,parent$12=symbol$5,symbol$4=parent$12,wellKnownSymbol$5=wellKnownSymbol$m,defineProperty$3=objectDefineProperty.f,METADATA$1=wellKnownSymbol$5("metadata"),FunctionPrototype=Function.prototype;FunctionPrototype[METADATA$1]===void 0&&defineProperty$3(FunctionPrototype,METADATA$1,{value:null});var defineWellKnownSymbol$7=wellKnownSymbolDefine;defineWellKnownSymbol$7("asyncDispose");var defineWellKnownSymbol$6=wellKnownSymbolDefine;defineWellKnownSymbol$6("dispose");var defineWellKnownSymbol$5=wellKnownSymbolDefine;defineWellKnownSymbol$5("metadata");var parent$11=symbol$4,symbol$3=parent$11,getBuiltIn$4=getBuiltIn$c,uncurryThis$d=functionUncurryThis,Symbol$4=getBuiltIn$4("Symbol"),keyFor=Symbol$4.keyFor,thisSymbolValue$1=uncurryThis$d(Symbol$4.prototype.valueOf),symbolIsRegistered=Symbol$4.isRegisteredSymbol||function o(e){try{return keyFor(thisSymbolValue$1(e))!==void 0}catch{return!1}},$$D=_export,isRegisteredSymbol$1=symbolIsRegistered;$$D({target:"Symbol",stat:!0},{isRegisteredSymbol:isRegisteredSymbol$1});var shared=sharedExports,getBuiltIn$3=getBuiltIn$c,uncurryThis$c=functionUncurryThis,isSymbol=isSymbol$5,wellKnownSymbol$4=wellKnownSymbol$m,Symbol$3=getBuiltIn$3("Symbol"),$isWellKnownSymbol=Symbol$3.isWellKnownSymbol,getOwnPropertyNames$4=getBuiltIn$3("Object","getOwnPropertyNames"),thisSymbolValue=uncurryThis$c(Symbol$3.prototype.valueOf),WellKnownSymbolsStore=shared("wks");for(var i=0,symbolKeys=getOwnPropertyNames$4(Symbol$3),symbolKeysLength=symbolKeys.length;i<symbolKeysLength;i++)try{var symbolKey=symbolKeys[i];isSymbol(Symbol$3[symbolKey])&&wellKnownSymbol$4(symbolKey)}catch{}var symbolIsWellKnown=function o(e){if($isWellKnownSymbol&&$isWellKnownSymbol(e))return!0;try{for(var s=thisSymbolValue(e),h=0,b=getOwnPropertyNames$4(WellKnownSymbolsStore),_e=b.length;h<_e;h++)if(WellKnownSymbolsStore[b[h]]==s)return!0}catch{}return!1},$$C=_export,isWellKnownSymbol$1=symbolIsWellKnown;$$C({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:isWellKnownSymbol$1});var defineWellKnownSymbol$4=wellKnownSymbolDefine;defineWellKnownSymbol$4("matcher");var defineWellKnownSymbol$3=wellKnownSymbolDefine;defineWellKnownSymbol$3("observable");var $$B=_export,isRegisteredSymbol=symbolIsRegistered;$$B({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:isRegisteredSymbol});var $$A=_export,isWellKnownSymbol=symbolIsWellKnown;$$A({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:isWellKnownSymbol});var defineWellKnownSymbol$2=wellKnownSymbolDefine;defineWellKnownSymbol$2("metadataKey");var defineWellKnownSymbol$1=wellKnownSymbolDefine;defineWellKnownSymbol$1("patternMatch");var defineWellKnownSymbol=wellKnownSymbolDefine;defineWellKnownSymbol("replaceAll");var parent$10=symbol$3,symbol$2=parent$10,symbol$1=symbol$2,_Symbol$1=getDefaultExportFromCjs(symbol$1),WrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped,iterator$4=WrappedWellKnownSymbolModule$1.f("iterator"),parent$$=iterator$4,iterator$3=parent$$,parent$_=iterator$3,iterator$2=parent$_,parent$Z=iterator$2,iterator$1=parent$Z,iterator=iterator$1,_Symbol$iterator=getDefaultExportFromCjs(iterator);function _typeof(o){"@babel/helpers - typeof";return _typeof=typeof _Symbol$1=="function"&&typeof _Symbol$iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof _Symbol$1=="function"&&e.constructor===_Symbol$1&&e!==_Symbol$1.prototype?"symbol":typeof e},_typeof(o)}var WrappedWellKnownSymbolModule=wellKnownSymbolWrapped,toPrimitive$4=WrappedWellKnownSymbolModule.f("toPrimitive"),parent$Y=toPrimitive$4,toPrimitive$3=parent$Y,parent$X=toPrimitive$3,toPrimitive$2=parent$X,parent$W=toPrimitive$2,toPrimitive$1=parent$W,toPrimitive=toPrimitive$1,_Symbol$toPrimitive=getDefaultExportFromCjs(toPrimitive);function _toPrimitive(o,e){if(_typeof(o)!=="object"||o===null)return o;var s=o[_Symbol$toPrimitive];if(s!==void 0){var h=s.call(o,e||"default");if(_typeof(h)!=="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}function _toPropertyKey(o){var e=_toPrimitive(o,"string");return _typeof(e)==="symbol"?e:String(e)}function _defineProperties(o,e){for(var s=0;s<e.length;s++){var h=e[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),_Object$defineProperty$1(o,_toPropertyKey(h.key),h)}}function _createClass(o,e,s){return e&&_defineProperties(o.prototype,e),s&&_defineProperties(o,s),_Object$defineProperty$1(o,"prototype",{writable:!1}),o}var $$z=_export,isArray$a=isArray$e;$$z({target:"Array",stat:!0},{isArray:isArray$a});var path$n=path$w,isArray$9=path$n.Array.isArray,parent$V=isArray$9,isArray$8=parent$V,parent$U=isArray$8,isArray$7=parent$U,parent$T=isArray$7,isArray$6=parent$T,isArray$5=isArray$6,_Array$isArray$1=getDefaultExportFromCjs(isArray$5);function _arrayWithHoles(o){if(_Array$isArray$1(o))return o}var DESCRIPTORS$7=descriptors,isArray$4=isArray$e,$TypeError$7=TypeError,getOwnPropertyDescriptor$7=Object.getOwnPropertyDescriptor,SILENT_ON_NON_WRITABLE_LENGTH_SET=DESCRIPTORS$7&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}}(),arraySetLength=SILENT_ON_NON_WRITABLE_LENGTH_SET?function(o,e){if(isArray$4(o)&&!getOwnPropertyDescriptor$7(o,"length").writable)throw new $TypeError$7("Cannot set read only .length");return o.length=e}:function(o,e){return o.length=e},$$y=_export,toObject$6=toObject$e,lengthOfArrayLike$6=lengthOfArrayLike$c,setArrayLength$1=arraySetLength,doesNotExceedSafeInteger$1=doesNotExceedSafeInteger$3,fails$f=fails$w,INCORRECT_TO_LENGTH=fails$f(function(){return[].push.call({length:4294967296},1)!==4294967297}),properErrorOnNonWritableLength=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(o){return o instanceof TypeError}},FORCED$8=INCORRECT_TO_LENGTH||!properErrorOnNonWritableLength();$$y({target:"Array",proto:!0,arity:1,forced:FORCED$8},{push:function o(e){var s=toObject$6(this),h=lengthOfArrayLike$6(s),b=arguments.length;doesNotExceedSafeInteger$1(h+b);for(var _e=0;_e<b;_e++)s[h]=arguments[_e],h++;return setArrayLength$1(s,h),h}});var entryVirtual$g=entryVirtual$i,push$7=entryVirtual$g("Array").push,isPrototypeOf$h=objectIsPrototypeOf,method$e=push$7,ArrayPrototype$f=Array.prototype,push$6=function(o){var e=o.push;return o===ArrayPrototype$f||isPrototypeOf$h(ArrayPrototype$f,o)&&e===ArrayPrototype$f.push?method$e:e},parent$S=push$6,push$5=parent$S,parent$R=push$5,push$4=parent$R,parent$Q=push$4,push$3=parent$Q,push$2=push$3,_pushInstanceProperty=getDefaultExportFromCjs(push$2);function _iterableToArrayLimit(o,e){var s=o==null?null:typeof _Symbol$1<"u"&&_getIteratorMethod$1(o)||o["@@iterator"];if(s!=null){var h,b,_e,rt,at=[],st=!0,ot=!1;try{if(_e=(s=s.call(o)).next,e===0){if(Object(s)!==s)return;st=!1}else for(;!(st=(h=_e.call(s)).done)&&(_pushInstanceProperty(at).call(at,h.value),at.length!==e);st=!0);}catch(nt){ot=!0,b=nt}finally{try{if(!st&&s.return!=null&&(rt=s.return(),Object(rt)!==rt))return}finally{if(ot)throw b}}return at}}var $$x=_export,isArray$3=isArray$e,isConstructor$1=isConstructor$4,isObject$9=isObject$j,toAbsoluteIndex$2=toAbsoluteIndex$5,lengthOfArrayLike$5=lengthOfArrayLike$c,toIndexedObject$2=toIndexedObject$a,createProperty$2=createProperty$6,wellKnownSymbol$3=wellKnownSymbol$m,arrayMethodHasSpeciesSupport$3=arrayMethodHasSpeciesSupport$5,nativeSlice=arraySlice$5,HAS_SPECIES_SUPPORT$3=arrayMethodHasSpeciesSupport$3("slice"),SPECIES$1=wellKnownSymbol$3("species"),$Array=Array,max$1=Math.max;$$x({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$3},{slice:function o(e,s){var h=toIndexedObject$2(this),b=lengthOfArrayLike$5(h),_e=toAbsoluteIndex$2(e,b),rt=toAbsoluteIndex$2(s===void 0?b:s,b),at,st,ot;if(isArray$3(h)&&(at=h.constructor,isConstructor$1(at)&&(at===$Array||isArray$3(at.prototype))?at=void 0:isObject$9(at)&&(at=at[SPECIES$1],at===null&&(at=void 0)),at===$Array||at===void 0))return nativeSlice(h,_e,rt);for(st=new(at===void 0?$Array:at)(max$1(rt-_e,0)),ot=0;_e<rt;_e++,ot++)_e in h&&createProperty$2(st,ot,h[_e]);return st.length=ot,st}});var entryVirtual$f=entryVirtual$i,slice$6=entryVirtual$f("Array").slice,isPrototypeOf$g=objectIsPrototypeOf,method$d=slice$6,ArrayPrototype$e=Array.prototype,slice$5=function(o){var e=o.slice;return o===ArrayPrototype$e||isPrototypeOf$g(ArrayPrototype$e,o)&&e===ArrayPrototype$e.slice?method$d:e},parent$P=slice$5,slice$4=parent$P,parent$O=slice$4,slice$3=parent$O,parent$N=slice$3,slice$2=parent$N,slice$1=slice$2,_sliceInstanceProperty$1=getDefaultExportFromCjs(slice$1),parent$M=from$4,from$2=parent$M,parent$L=from$2,from$1=parent$L,from=from$1,_Array$from=getDefaultExportFromCjs(from);function _arrayLikeToArray$7(o,e){(e==null||e>o.length)&&(e=o.length);for(var s=0,h=new Array(e);s<e;s++)h[s]=o[s];return h}function _unsupportedIterableToArray$7(o,e){var s;if(o){if(typeof o=="string")return _arrayLikeToArray$7(o,e);var h=_sliceInstanceProperty$1(s=Object.prototype.toString.call(o)).call(s,8,-1);if(h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set")return _Array$from(o);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray$7(o,e)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(o,e){return _arrayWithHoles(o)||_iterableToArrayLimit(o,e)||_unsupportedIterableToArray$7(o,e)||_nonIterableRest()}function _arrayWithoutHoles(o){if(_Array$isArray$1(o))return _arrayLikeToArray$7(o)}function _iterableToArray(o){if(typeof _Symbol$1<"u"&&_getIteratorMethod$1(o)!=null||o["@@iterator"]!=null)return _Array$from(o)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(o){return _arrayWithoutHoles(o)||_iterableToArray(o)||_unsupportedIterableToArray$7(o)||_nonIterableSpread()}var symbol=symbol$4,_Symbol=getDefaultExportFromCjs(symbol),entryVirtual$e=entryVirtual$i,concat$4=entryVirtual$e("Array").concat,isPrototypeOf$f=objectIsPrototypeOf,method$c=concat$4,ArrayPrototype$d=Array.prototype,concat$3=function(o){var e=o.concat;return o===ArrayPrototype$d||isPrototypeOf$f(ArrayPrototype$d,o)&&e===ArrayPrototype$d.concat?method$c:e},parent$K=concat$3,concat$2=parent$K,concat$1=concat$2,_concatInstanceProperty=getDefaultExportFromCjs(concat$1),slice=slice$4,_sliceInstanceProperty=getDefaultExportFromCjs(slice),getBuiltIn$2=getBuiltIn$c,uncurryThis$b=functionUncurryThis,getOwnPropertyNamesModule$1=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$4=anObject$d,concat=uncurryThis$b([].concat),ownKeys$5=getBuiltIn$2("Reflect","ownKeys")||function o(e){var s=getOwnPropertyNamesModule$1.f(anObject$4(e)),h=getOwnPropertySymbolsModule.f;return h?concat(s,h(e)):s},isArray$2=isArray$8,_Array$isArray=getDefaultExportFromCjs(isArray$2),$$w=_export,$map=arrayIteration.map,arrayMethodHasSpeciesSupport$2=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$2=arrayMethodHasSpeciesSupport$2("map");$$w({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$2},{map:function o(e){return $map(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$d=entryVirtual$i,map$6=entryVirtual$d("Array").map,isPrototypeOf$e=objectIsPrototypeOf,method$b=map$6,ArrayPrototype$c=Array.prototype,map$5=function(o){var e=o.map;return o===ArrayPrototype$c||isPrototypeOf$e(ArrayPrototype$c,o)&&e===ArrayPrototype$c.map?method$b:e},parent$J=map$5,map$4=parent$J,map$3=map$4,_mapInstanceProperty=getDefaultExportFromCjs(map$3),$$v=_export,toObject$5=toObject$e,nativeKeys=objectKeys$3,fails$e=fails$w,FAILS_ON_PRIMITIVES$3=fails$e(function(){nativeKeys(1)});$$v({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$3},{keys:function o(e){return nativeKeys(toObject$5(e))}});var path$m=path$w,keys$2=path$m.Object.keys,parent$I=keys$2,keys$1=parent$I,keys=keys$1,_Object$keys=getDefaultExportFromCjs(keys),$$u=_export,uncurryThis$a=functionUncurryThis,$Date=Date,thisTimeValue=uncurryThis$a($Date.prototype.getTime);$$u({target:"Date",stat:!0},{now:function o(){return thisTimeValue(new $Date)}});var path$l=path$w,now$3=path$l.Date.now,parent$H=now$3,now$2=parent$H,now$1=now$2,_Date$now=getDefaultExportFromCjs(now$1),fails$d=fails$w,arrayMethodIsStrict$6=function(o,e){var s=[][o];return!!s&&fails$d(function(){s.call(null,e||function(){return 1},1)})},$forEach=arrayIteration.forEach,arrayMethodIsStrict$5=arrayMethodIsStrict$6,STRICT_METHOD$3=arrayMethodIsStrict$5("forEach"),arrayForEach=STRICT_METHOD$3?[].forEach:function o(e){return $forEach(this,e,arguments.length>1?arguments[1]:void 0)},$$t=_export,forEach$6=arrayForEach;$$t({target:"Array",proto:!0,forced:[].forEach!==forEach$6},{forEach:forEach$6});var entryVirtual$c=entryVirtual$i,forEach$5=entryVirtual$c("Array").forEach,parent$G=forEach$5,forEach$4=parent$G,classof$4=classof$d,hasOwn$4=hasOwnProperty_1,isPrototypeOf$d=objectIsPrototypeOf,method$a=forEach$4,ArrayPrototype$b=Array.prototype,DOMIterables$1={DOMTokenList:!0,NodeList:!0},forEach$3=function(o){var e=o.forEach;return o===ArrayPrototype$b||isPrototypeOf$d(ArrayPrototype$b,o)&&e===ArrayPrototype$b.forEach||hasOwn$4(DOMIterables$1,classof$4(o))?method$a:e},forEach$2=forEach$3,_forEachInstanceProperty=getDefaultExportFromCjs(forEach$2),$$s=_export,uncurryThis$9=functionUncurryThis,isArray$1=isArray$e,nativeReverse=uncurryThis$9([].reverse),test$1=[1,2];$$s({target:"Array",proto:!0,forced:String(test$1)===String(test$1.reverse())},{reverse:function o(){return isArray$1(this)&&(this.length=this.length),nativeReverse(this)}});var entryVirtual$b=entryVirtual$i,reverse$3=entryVirtual$b("Array").reverse,isPrototypeOf$c=objectIsPrototypeOf,method$9=reverse$3,ArrayPrototype$a=Array.prototype,reverse$2=function(o){var e=o.reverse;return o===ArrayPrototype$a||isPrototypeOf$c(ArrayPrototype$a,o)&&e===ArrayPrototype$a.reverse?method$9:e},parent$F=reverse$2,reverse$1=parent$F,reverse=reverse$1,_reverseInstanceProperty=getDefaultExportFromCjs(reverse),tryToString$2=tryToString$6,$TypeError$6=TypeError,deletePropertyOrThrow$2=function(o,e){if(!delete o[e])throw new $TypeError$6("Cannot delete property "+tryToString$2(e)+" of "+tryToString$2(o))},$$r=_export,toObject$4=toObject$e,toAbsoluteIndex$1=toAbsoluteIndex$5,toIntegerOrInfinity=toIntegerOrInfinity$4,lengthOfArrayLike$4=lengthOfArrayLike$c,setArrayLength=arraySetLength,doesNotExceedSafeInteger=doesNotExceedSafeInteger$3,arraySpeciesCreate=arraySpeciesCreate$3,createProperty$1=createProperty$6,deletePropertyOrThrow$1=deletePropertyOrThrow$2,arrayMethodHasSpeciesSupport$1=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport$1("splice"),max=Math.max,min=Math.min;$$r({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1},{splice:function o(e,s){var h=toObject$4(this),b=lengthOfArrayLike$4(h),_e=toAbsoluteIndex$1(e,b),rt=arguments.length,at,st,ot,nt,et,d;for(rt===0?at=st=0:rt===1?(at=0,st=b-_e):(at=rt-2,st=min(max(toIntegerOrInfinity(s),0),b-_e)),doesNotExceedSafeInteger(b+at-st),ot=arraySpeciesCreate(h,st),nt=0;nt<st;nt++)et=_e+nt,et in h&&createProperty$1(ot,nt,h[et]);if(ot.length=st,at<st){for(nt=_e;nt<b-st;nt++)et=nt+st,d=nt+at,et in h?h[d]=h[et]:deletePropertyOrThrow$1(h,d);for(nt=b;nt>b-st+at;nt--)deletePropertyOrThrow$1(h,nt-1)}else if(at>st)for(nt=b-st;nt>_e;nt--)et=nt+st-1,d=nt+at-1,et in h?h[d]=h[et]:deletePropertyOrThrow$1(h,d);for(nt=0;nt<at;nt++)h[nt+_e]=arguments[nt+2];return setArrayLength(h,b-st+at),ot}});var entryVirtual$a=entryVirtual$i,splice$4=entryVirtual$a("Array").splice,isPrototypeOf$b=objectIsPrototypeOf,method$8=splice$4,ArrayPrototype$9=Array.prototype,splice$3=function(o){var e=o.splice;return o===ArrayPrototype$9||isPrototypeOf$b(ArrayPrototype$9,o)&&e===ArrayPrototype$9.splice?method$8:e},parent$E=splice$3,splice$2=parent$E,splice$1=splice$2,_spliceInstanceProperty=getDefaultExportFromCjs(splice$1),$$q=_export,$includes=arrayIncludes.includes,fails$c=fails$w,BROKEN_ON_SPARSE=fails$c(function(){return!Array(1).includes()});$$q({target:"Array",proto:!0,forced:BROKEN_ON_SPARSE},{includes:function o(e){return $includes(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$9=entryVirtual$i,includes$4=entryVirtual$9("Array").includes,isObject$8=isObject$j,classof$3=classofRaw$2,wellKnownSymbol$2=wellKnownSymbol$m,MATCH$1=wellKnownSymbol$2("match"),isRegexp=function(o){var e;return isObject$8(o)&&((e=o[MATCH$1])!==void 0?!!e:classof$3(o)==="RegExp")},isRegExp=isRegexp,$TypeError$5=TypeError,notARegexp=function(o){if(isRegExp(o))throw new $TypeError$5("The method doesn't accept regular expressions");return o},wellKnownSymbol$1=wellKnownSymbol$m,MATCH=wellKnownSymbol$1("match"),correctIsRegexpLogic=function(o){var e=/./;try{"/./"[o](e)}catch{try{return e[MATCH]=!1,"/./"[o](e)}catch{}}return!1},$$p=_export,uncurryThis$8=functionUncurryThis,notARegExp=notARegexp,requireObjectCoercible$1=requireObjectCoercible$5,toString$4=toString$a,correctIsRegExpLogic=correctIsRegexpLogic,stringIndexOf=uncurryThis$8("".indexOf);$$p({target:"String",proto:!0,forced:!correctIsRegExpLogic("includes")},{includes:function o(e){return!!~stringIndexOf(toString$4(requireObjectCoercible$1(this)),toString$4(notARegExp(e)),arguments.length>1?arguments[1]:void 0)}});var entryVirtual$8=entryVirtual$i,includes$3=entryVirtual$8("String").includes,isPrototypeOf$a=objectIsPrototypeOf,arrayMethod=includes$4,stringMethod=includes$3,ArrayPrototype$8=Array.prototype,StringPrototype=String.prototype,includes$2=function(o){var e=o.includes;return o===ArrayPrototype$8||isPrototypeOf$a(ArrayPrototype$8,o)&&e===ArrayPrototype$8.includes?arrayMethod:typeof o=="string"||o===StringPrototype||isPrototypeOf$a(StringPrototype,o)&&e===StringPrototype.includes?stringMethod:e},parent$D=includes$2,includes$1=parent$D,includes=includes$1,_includesInstanceProperty=getDefaultExportFromCjs(includes),$$o=_export,fails$b=fails$w,toObject$3=toObject$e,nativeGetPrototypeOf=objectGetPrototypeOf,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,FAILS_ON_PRIMITIVES$2=fails$b(function(){nativeGetPrototypeOf(1)});$$o({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$2,sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function o(e){return nativeGetPrototypeOf(toObject$3(e))}});var path$k=path$w,getPrototypeOf$6=path$k.Object.getPrototypeOf,parent$C=getPrototypeOf$6,getPrototypeOf$5=parent$C,getPrototypeOf$4=getPrototypeOf$5,_Object$getPrototypeOf$1=getDefaultExportFromCjs(getPrototypeOf$4),$$n=_export,$filter=arrayIteration.filter,arrayMethodHasSpeciesSupport=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("filter");$$n({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT},{filter:function o(e){return $filter(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$7=entryVirtual$i,filter$3=entryVirtual$7("Array").filter,isPrototypeOf$9=objectIsPrototypeOf,method$7=filter$3,ArrayPrototype$7=Array.prototype,filter$2=function(o){var e=o.filter;return o===ArrayPrototype$7||isPrototypeOf$9(ArrayPrototype$7,o)&&e===ArrayPrototype$7.filter?method$7:e},parent$B=filter$2,filter$1=parent$B,filter=filter$1,_filterInstanceProperty=getDefaultExportFromCjs(filter),whitespaces$3=`	
\v\f\r \u2028\u2029\uFEFF`,uncurryThis$7=functionUncurryThis,requireObjectCoercible=requireObjectCoercible$5,toString$3=toString$a,whitespaces$2=whitespaces$3,replace=uncurryThis$7("".replace),ltrim=RegExp("^["+whitespaces$2+"]+"),rtrim=RegExp("(^|[^"+whitespaces$2+"])["+whitespaces$2+"]+$"),createMethod$1=function(o){return function(e){var s=toString$3(requireObjectCoercible(e));return o&1&&(s=replace(s,ltrim,"")),o&2&&(s=replace(s,rtrim,"$1")),s}},stringTrim={start:createMethod$1(1),end:createMethod$1(2),trim:createMethod$1(3)},global$9=global$n,fails$a=fails$w,uncurryThis$6=functionUncurryThis,toString$2=toString$a,trim$1=stringTrim.trim,whitespaces$1=whitespaces$3,$parseInt$1=global$9.parseInt,Symbol$2=global$9.Symbol,ITERATOR$1=Symbol$2&&Symbol$2.iterator,hex=/^[+-]?0x/i,exec=uncurryThis$6(hex.exec),FORCED$7=$parseInt$1(whitespaces$1+"08")!==8||$parseInt$1(whitespaces$1+"0x16")!==22||ITERATOR$1&&!fails$a(function(){$parseInt$1(Object(ITERATOR$1))}),numberParseInt=FORCED$7?function o(e,s){var h=trim$1(toString$2(e));return $parseInt$1(h,s>>>0||(exec(hex,h)?16:10))}:$parseInt$1,$$m=_export,$parseInt=numberParseInt;$$m({global:!0,forced:parseInt!==$parseInt},{parseInt:$parseInt});var path$j=path$w,_parseInt$3=path$j.parseInt,parent$A=_parseInt$3,_parseInt$2=parent$A,_parseInt=_parseInt$2,_parseInt$1=getDefaultExportFromCjs(_parseInt),$$l=_export,uncurryThis$5=functionUncurryThisClause,$indexOf=arrayIncludes.indexOf,arrayMethodIsStrict$4=arrayMethodIsStrict$6,nativeIndexOf=uncurryThis$5([].indexOf),NEGATIVE_ZERO=!!nativeIndexOf&&1/nativeIndexOf([1],1,-0)<0,FORCED$6=NEGATIVE_ZERO||!arrayMethodIsStrict$4("indexOf");$$l({target:"Array",proto:!0,forced:FORCED$6},{indexOf:function o(e){var s=arguments.length>1?arguments[1]:void 0;return NEGATIVE_ZERO?nativeIndexOf(this,e,s)||0:$indexOf(this,e,s)}});var entryVirtual$6=entryVirtual$i,indexOf$3=entryVirtual$6("Array").indexOf,isPrototypeOf$8=objectIsPrototypeOf,method$6=indexOf$3,ArrayPrototype$6=Array.prototype,indexOf$2=function(o){var e=o.indexOf;return o===ArrayPrototype$6||isPrototypeOf$8(ArrayPrototype$6,o)&&e===ArrayPrototype$6.indexOf?method$6:e},parent$z=indexOf$2,indexOf$1=parent$z,indexOf=indexOf$1,_indexOfInstanceProperty=getDefaultExportFromCjs(indexOf),$$k=_export,DESCRIPTORS$6=descriptors,create$8=objectCreate;$$k({target:"Object",stat:!0,sham:!DESCRIPTORS$6},{create:create$8});var path$i=path$w,Object$4=path$i.Object,create$7=function o(e,s){return Object$4.create(e,s)},parent$y=create$7,create$6=parent$y,create$5=create$6,_Object$create$1=getDefaultExportFromCjs(create$5),path$h=path$w,apply$2=functionApply;path$h.JSON||(path$h.JSON={stringify:JSON.stringify});var stringify$2=function o(e,s,h){return apply$2(path$h.JSON.stringify,null,arguments)},parent$x=stringify$2,stringify$1=parent$x,stringify=stringify$1,_JSON$stringify=getDefaultExportFromCjs(stringify),engineIsBun=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",$TypeError$4=TypeError,validateArgumentsLength$1=function(o,e){if(o<e)throw new $TypeError$4("Not enough arguments");return o},global$8=global$n,apply$1=functionApply,isCallable$1=isCallable$i,ENGINE_IS_BUN=engineIsBun,USER_AGENT=engineUserAgent,arraySlice$1=arraySlice$5,validateArgumentsLength=validateArgumentsLength$1,Function$1=global$8.Function,WRAP=/MSIE .\./.test(USER_AGENT)||ENGINE_IS_BUN&&function(){var o=global$8.Bun.version.split(".");return o.length<3||o[0]==="0"&&(o[1]<3||o[1]==="3"&&o[2]==="0")}(),schedulersFix$2=function(o,e){var s=e?2:1;return WRAP?function(h,b){var _e=validateArgumentsLength(arguments.length,1)>s,rt=isCallable$1(h)?h:Function$1(h),at=_e?arraySlice$1(arguments,s):[],st=_e?function(){apply$1(rt,this,at)}:rt;return e?o(st,b):o(st)}:o},$$j=_export,global$7=global$n,schedulersFix$1=schedulersFix$2,setInterval$2=schedulersFix$1(global$7.setInterval,!0);$$j({global:!0,bind:!0,forced:global$7.setInterval!==setInterval$2},{setInterval:setInterval$2});var $$i=_export,global$6=global$n,schedulersFix=schedulersFix$2,setTimeout$3=schedulersFix(global$6.setTimeout,!0);$$i({global:!0,bind:!0,forced:global$6.setTimeout!==setTimeout$3},{setTimeout:setTimeout$3});var path$g=path$w,setTimeout$2=path$g.setTimeout,setTimeout$1=setTimeout$2,_setTimeout=getDefaultExportFromCjs(setTimeout$1),toObject$2=toObject$e,toAbsoluteIndex=toAbsoluteIndex$5,lengthOfArrayLike$3=lengthOfArrayLike$c,arrayFill=function o(e){for(var s=toObject$2(this),h=lengthOfArrayLike$3(s),b=arguments.length,_e=toAbsoluteIndex(b>1?arguments[1]:void 0,h),rt=b>2?arguments[2]:void 0,at=rt===void 0?h:toAbsoluteIndex(rt,h);at>_e;)s[_e++]=e;return s},$$h=_export,fill$4=arrayFill;$$h({target:"Array",proto:!0},{fill:fill$4});var entryVirtual$5=entryVirtual$i,fill$3=entryVirtual$5("Array").fill,isPrototypeOf$7=objectIsPrototypeOf,method$5=fill$3,ArrayPrototype$5=Array.prototype,fill$2=function(o){var e=o.fill;return o===ArrayPrototype$5||isPrototypeOf$7(ArrayPrototype$5,o)&&e===ArrayPrototype$5.fill?method$5:e},parent$w=fill$2,fill$1=parent$w,fill=fill$1,_fillInstanceProperty=getDefaultExportFromCjs(fill);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function _extends(){return _extends=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(o[h]=s[h])}return o},_extends.apply(this,arguments)}function _inheritsLoose(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.__proto__=e}function _assertThisInitialized$1(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}var assign;typeof Object.assign!="function"?assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),h=1;h<arguments.length;h++){var b=arguments[h];if(b!=null)for(var _e in b)b.hasOwnProperty(_e)&&(s[_e]=b[_e])}return s}:assign=Object.assign;var assign$1=assign,VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT=typeof document>"u"?{style:{}}:document.createElement("div"),TYPE_FUNCTION="function",round=Math.round,abs$1=Math.abs,now=Date.now;function prefixed(o,e){for(var s,h,b=e[0].toUpperCase()+e.slice(1),_e=0;_e<VENDOR_PREFIXES.length;){if(s=VENDOR_PREFIXES[_e],h=s?s+b:e,h in o)return h;_e++}}var win;typeof window>"u"?win={}:win=window;var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction"),NATIVE_TOUCH_ACTION=PREFIXED_TOUCH_ACTION!==void 0;function getTouchActionProps(){if(!NATIVE_TOUCH_ACTION)return!1;var o={},e=win.CSS&&win.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(s){return o[s]=e?win.CSS.supports("touch-action",s):!0}),o}var TOUCH_ACTION_COMPUTE="compute",TOUCH_ACTION_AUTO="auto",TOUCH_ACTION_MANIPULATION="manipulation",TOUCH_ACTION_NONE="none",TOUCH_ACTION_PAN_X="pan-x",TOUCH_ACTION_PAN_Y="pan-y",TOUCH_ACTION_MAP=getTouchActionProps(),MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER_EVENTS=prefixed(win,"PointerEvent")!==void 0,SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent),INPUT_TYPE_TOUCH="touch",INPUT_TYPE_PEN="pen",INPUT_TYPE_MOUSE="mouse",INPUT_TYPE_KINECT="kinect",COMPUTE_INTERVAL=25,INPUT_START=1,INPUT_MOVE=2,INPUT_END=4,INPUT_CANCEL=8,DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_HORIZONTAL=DIRECTION_LEFT|DIRECTION_RIGHT,DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN,DIRECTION_ALL=DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,PROPS_XY=["x","y"],PROPS_CLIENT_XY=["clientX","clientY"];function each(o,e,s){var h;if(o)if(o.forEach)o.forEach(e,s);else if(o.length!==void 0)for(h=0;h<o.length;)e.call(s,o[h],h,o),h++;else for(h in o)o.hasOwnProperty(h)&&e.call(s,o[h],h,o)}function boolOrFn(o,e){return typeof o===TYPE_FUNCTION?o.apply(e&&e[0]||void 0,e):o}function inStr(o,e){return o.indexOf(e)>-1}function cleanTouchActions(o){if(inStr(o,TOUCH_ACTION_NONE))return TOUCH_ACTION_NONE;var e=inStr(o,TOUCH_ACTION_PAN_X),s=inStr(o,TOUCH_ACTION_PAN_Y);return e&&s?TOUCH_ACTION_NONE:e||s?e?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y:inStr(o,TOUCH_ACTION_MANIPULATION)?TOUCH_ACTION_MANIPULATION:TOUCH_ACTION_AUTO}var TouchAction=function(){function o(s,h){this.manager=s,this.set(h)}var e=o.prototype;return e.set=function(h){h===TOUCH_ACTION_COMPUTE&&(h=this.compute()),NATIVE_TOUCH_ACTION&&this.manager.element.style&&TOUCH_ACTION_MAP[h]&&(this.manager.element.style[PREFIXED_TOUCH_ACTION]=h),this.actions=h.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var h=[];return each(this.manager.recognizers,function(b){boolOrFn(b.options.enable,[b])&&(h=h.concat(b.getTouchAction()))}),cleanTouchActions(h.join(" "))},e.preventDefaults=function(h){var b=h.srcEvent,_e=h.offsetDirection;if(this.manager.session.prevented){b.preventDefault();return}var rt=this.actions,at=inStr(rt,TOUCH_ACTION_NONE)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_NONE],st=inStr(rt,TOUCH_ACTION_PAN_Y)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y],ot=inStr(rt,TOUCH_ACTION_PAN_X)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];if(at){var nt=h.pointers.length===1,et=h.distance<2,d=h.deltaTime<250;if(nt&&et&&d)return}if(!(ot&&st)&&(at||st&&_e&DIRECTION_HORIZONTAL||ot&&_e&DIRECTION_VERTICAL))return this.preventSrc(b)},e.preventSrc=function(h){this.manager.session.prevented=!0,h.preventDefault()},o}();function hasParent(o,e){for(;o;){if(o===e)return!0;o=o.parentNode}return!1}function getCenter(o){var e=o.length;if(e===1)return{x:round(o[0].clientX),y:round(o[0].clientY)};for(var s=0,h=0,b=0;b<e;)s+=o[b].clientX,h+=o[b].clientY,b++;return{x:round(s/e),y:round(h/e)}}function simpleCloneInputData(o){for(var e=[],s=0;s<o.pointers.length;)e[s]={clientX:round(o.pointers[s].clientX),clientY:round(o.pointers[s].clientY)},s++;return{timeStamp:now(),pointers:e,center:getCenter(e),deltaX:o.deltaX,deltaY:o.deltaY}}function getDistance(o,e,s){s||(s=PROPS_XY);var h=e[s[0]]-o[s[0]],b=e[s[1]]-o[s[1]];return Math.sqrt(h*h+b*b)}function getAngle(o,e,s){s||(s=PROPS_XY);var h=e[s[0]]-o[s[0]],b=e[s[1]]-o[s[1]];return Math.atan2(b,h)*180/Math.PI}function getDirection(o,e){return o===e?DIRECTION_NONE:abs$1(o)>=abs$1(e)?o<0?DIRECTION_LEFT:DIRECTION_RIGHT:e<0?DIRECTION_UP:DIRECTION_DOWN}function computeDeltaXY(o,e){var s=e.center,h=o.offsetDelta||{},b=o.prevDelta||{},_e=o.prevInput||{};(e.eventType===INPUT_START||_e.eventType===INPUT_END)&&(b=o.prevDelta={x:_e.deltaX||0,y:_e.deltaY||0},h=o.offsetDelta={x:s.x,y:s.y}),e.deltaX=b.x+(s.x-h.x),e.deltaY=b.y+(s.y-h.y)}function getVelocity(o,e,s){return{x:e/o||0,y:s/o||0}}function getScale(o,e){return getDistance(e[0],e[1],PROPS_CLIENT_XY)/getDistance(o[0],o[1],PROPS_CLIENT_XY)}function getRotation(o,e){return getAngle(e[1],e[0],PROPS_CLIENT_XY)+getAngle(o[1],o[0],PROPS_CLIENT_XY)}function computeIntervalInputData(o,e){var s=o.lastInterval||e,h=e.timeStamp-s.timeStamp,b,_e,rt,at;if(e.eventType!==INPUT_CANCEL&&(h>COMPUTE_INTERVAL||s.velocity===void 0)){var st=e.deltaX-s.deltaX,ot=e.deltaY-s.deltaY,nt=getVelocity(h,st,ot);_e=nt.x,rt=nt.y,b=abs$1(nt.x)>abs$1(nt.y)?nt.x:nt.y,at=getDirection(st,ot),o.lastInterval=e}else b=s.velocity,_e=s.velocityX,rt=s.velocityY,at=s.direction;e.velocity=b,e.velocityX=_e,e.velocityY=rt,e.direction=at}function computeInputData(o,e){var s=o.session,h=e.pointers,b=h.length;s.firstInput||(s.firstInput=simpleCloneInputData(e)),b>1&&!s.firstMultiple?s.firstMultiple=simpleCloneInputData(e):b===1&&(s.firstMultiple=!1);var _e=s.firstInput,rt=s.firstMultiple,at=rt?rt.center:_e.center,st=e.center=getCenter(h);e.timeStamp=now(),e.deltaTime=e.timeStamp-_e.timeStamp,e.angle=getAngle(at,st),e.distance=getDistance(at,st),computeDeltaXY(s,e),e.offsetDirection=getDirection(e.deltaX,e.deltaY);var ot=getVelocity(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=ot.x,e.overallVelocityY=ot.y,e.overallVelocity=abs$1(ot.x)>abs$1(ot.y)?ot.x:ot.y,e.scale=rt?getScale(rt.pointers,h):1,e.rotation=rt?getRotation(rt.pointers,h):0,e.maxPointers=s.prevInput?e.pointers.length>s.prevInput.maxPointers?e.pointers.length:s.prevInput.maxPointers:e.pointers.length,computeIntervalInputData(s,e);var nt=o.element,et=e.srcEvent,d;et.composedPath?d=et.composedPath()[0]:et.path?d=et.path[0]:d=et.target,hasParent(d,nt)&&(nt=d),e.target=nt}function inputHandler(o,e,s){var h=s.pointers.length,b=s.changedPointers.length,_e=e&INPUT_START&&h-b===0,rt=e&(INPUT_END|INPUT_CANCEL)&&h-b===0;s.isFirst=!!_e,s.isFinal=!!rt,_e&&(o.session={}),s.eventType=e,computeInputData(o,s),o.emit("hammer.input",s),o.recognize(s),o.session.prevInput=s}function splitStr(o){return o.trim().split(/\s+/g)}function addEventListeners(o,e,s){each(splitStr(e),function(h){o.addEventListener(h,s,!1)})}function removeEventListeners(o,e,s){each(splitStr(e),function(h){o.removeEventListener(h,s,!1)})}function getWindowForElement(o){var e=o.ownerDocument||o;return e.defaultView||e.parentWindow||window}var Input=function(){function o(s,h){var b=this;this.manager=s,this.callback=h,this.element=s.element,this.target=s.options.inputTarget,this.domHandler=function(_e){boolOrFn(s.options.enable,[s])&&b.handler(_e)},this.init()}var e=o.prototype;return e.handler=function(){},e.init=function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},o}();function inArray(o,e,s){if(o.indexOf&&!s)return o.indexOf(e);for(var h=0;h<o.length;){if(s&&o[h][s]==e||!s&&o[h]===e)return h;h++}return-1}var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL},IE10_POINTER_TYPE_ENUM={2:INPUT_TYPE_TOUCH,3:INPUT_TYPE_PEN,4:INPUT_TYPE_MOUSE,5:INPUT_TYPE_KINECT},POINTER_ELEMENT_EVENTS="pointerdown",POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";win.MSPointerEvent&&!win.PointerEvent&&(POINTER_ELEMENT_EVENTS="MSPointerDown",POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel");var PointerEventInput=function(o){_inheritsLoose(e,o);function e(){var h,b=e.prototype;return b.evEl=POINTER_ELEMENT_EVENTS,b.evWin=POINTER_WINDOW_EVENTS,h=o.apply(this,arguments)||this,h.store=h.manager.session.pointerEvents=[],h}var s=e.prototype;return s.handler=function(b){var _e=this.store,rt=!1,at=b.type.toLowerCase().replace("ms",""),st=POINTER_INPUT_MAP[at],ot=IE10_POINTER_TYPE_ENUM[b.pointerType]||b.pointerType,nt=ot===INPUT_TYPE_TOUCH,et=inArray(_e,b.pointerId,"pointerId");st&INPUT_START&&(b.button===0||nt)?et<0&&(_e.push(b),et=_e.length-1):st&(INPUT_END|INPUT_CANCEL)&&(rt=!0),!(et<0)&&(_e[et]=b,this.callback(this.manager,st,{pointers:_e,changedPointers:[b],pointerType:ot,srcEvent:b}),rt&&_e.splice(et,1))},e}(Input);function toArray(o){return Array.prototype.slice.call(o,0)}function uniqueArray(o,e,s){for(var h=[],b=[],_e=0;_e<o.length;){var rt=e?o[_e][e]:o[_e];inArray(b,rt)<0&&h.push(o[_e]),b[_e]=rt,_e++}return s&&(e?h=h.sort(function(at,st){return at[e]>st[e]}):h=h.sort()),h}var TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel",TouchInput=function(o){_inheritsLoose(e,o);function e(){var h;return e.prototype.evTarget=TOUCH_TARGET_EVENTS,h=o.apply(this,arguments)||this,h.targetIds={},h}var s=e.prototype;return s.handler=function(b){var _e=TOUCH_INPUT_MAP[b.type],rt=getTouches.call(this,b,_e);rt&&this.callback(this.manager,_e,{pointers:rt[0],changedPointers:rt[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:b})},e}(Input);function getTouches(o,e){var s=toArray(o.touches),h=this.targetIds;if(e&(INPUT_START|INPUT_MOVE)&&s.length===1)return h[s[0].identifier]=!0,[s,s];var b,_e,rt=toArray(o.changedTouches),at=[],st=this.target;if(_e=s.filter(function(ot){return hasParent(ot.target,st)}),e===INPUT_START)for(b=0;b<_e.length;)h[_e[b].identifier]=!0,b++;for(b=0;b<rt.length;)h[rt[b].identifier]&&at.push(rt[b]),e&(INPUT_END|INPUT_CANCEL)&&delete h[rt[b].identifier],b++;if(at.length)return[uniqueArray(_e.concat(at),"identifier",!0),at]}var MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END},MOUSE_ELEMENT_EVENTS="mousedown",MOUSE_WINDOW_EVENTS="mousemove mouseup",MouseInput=function(o){_inheritsLoose(e,o);function e(){var h,b=e.prototype;return b.evEl=MOUSE_ELEMENT_EVENTS,b.evWin=MOUSE_WINDOW_EVENTS,h=o.apply(this,arguments)||this,h.pressed=!1,h}var s=e.prototype;return s.handler=function(b){var _e=MOUSE_INPUT_MAP[b.type];_e&INPUT_START&&b.button===0&&(this.pressed=!0),_e&INPUT_MOVE&&b.which!==1&&(_e=INPUT_END),this.pressed&&(_e&INPUT_END&&(this.pressed=!1),this.callback(this.manager,_e,{pointers:[b],changedPointers:[b],pointerType:INPUT_TYPE_MOUSE,srcEvent:b}))},e}(Input),DEDUP_TIMEOUT=2500,DEDUP_DISTANCE=25;function setLastTouch(o){var e=o.changedPointers,s=e[0];if(s.identifier===this.primaryTouch){var h={x:s.clientX,y:s.clientY},b=this.lastTouches;this.lastTouches.push(h);var _e=function(){var at=b.indexOf(h);at>-1&&b.splice(at,1)};setTimeout(_e,DEDUP_TIMEOUT)}}function recordTouches(o,e){o&INPUT_START?(this.primaryTouch=e.changedPointers[0].identifier,setLastTouch.call(this,e)):o&(INPUT_END|INPUT_CANCEL)&&setLastTouch.call(this,e)}function isSyntheticEvent(o){for(var e=o.srcEvent.clientX,s=o.srcEvent.clientY,h=0;h<this.lastTouches.length;h++){var b=this.lastTouches[h],_e=Math.abs(e-b.x),rt=Math.abs(s-b.y);if(_e<=DEDUP_DISTANCE&&rt<=DEDUP_DISTANCE)return!0}return!1}var TouchMouseInput=function(){var o=function(e){_inheritsLoose(s,e);function s(b,_e){var rt;return rt=e.call(this,b,_e)||this,rt.handler=function(at,st,ot){var nt=ot.pointerType===INPUT_TYPE_TOUCH,et=ot.pointerType===INPUT_TYPE_MOUSE;if(!(et&&ot.sourceCapabilities&&ot.sourceCapabilities.firesTouchEvents)){if(nt)recordTouches.call(_assertThisInitialized$1(_assertThisInitialized$1(rt)),st,ot);else if(et&&isSyntheticEvent.call(_assertThisInitialized$1(_assertThisInitialized$1(rt)),ot))return;rt.callback(at,st,ot)}},rt.touch=new TouchInput(rt.manager,rt.handler),rt.mouse=new MouseInput(rt.manager,rt.handler),rt.primaryTouch=null,rt.lastTouches=[],rt}var h=s.prototype;return h.destroy=function(){this.touch.destroy(),this.mouse.destroy()},s}(Input);return o}();function createInputInstance(o){var e,s=o.options.inputClass;return s?e=s:SUPPORT_POINTER_EVENTS?e=PointerEventInput:SUPPORT_ONLY_TOUCH?e=TouchInput:SUPPORT_TOUCH?e=TouchMouseInput:e=MouseInput,new e(o,inputHandler)}function invokeArrayArg(o,e,s){return Array.isArray(o)?(each(o,s[e],s),!0):!1}var STATE_POSSIBLE=1,STATE_BEGAN=2,STATE_CHANGED=4,STATE_ENDED=8,STATE_RECOGNIZED=STATE_ENDED,STATE_CANCELLED=16,STATE_FAILED=32,_uniqueId=1;function uniqueId(){return _uniqueId++}function getRecognizerByNameIfManager(o,e){var s=e.manager;return s?s.get(o):o}function stateStr(o){return o&STATE_CANCELLED?"cancel":o&STATE_ENDED?"end":o&STATE_CHANGED?"move":o&STATE_BEGAN?"start":""}var Recognizer=function(){function o(s){s===void 0&&(s={}),this.options=_extends({enable:!0},s),this.id=uniqueId(),this.manager=null,this.state=STATE_POSSIBLE,this.simultaneous={},this.requireFail=[]}var e=o.prototype;return e.set=function(h){return assign$1(this.options,h),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(h){if(invokeArrayArg(h,"recognizeWith",this))return this;var b=this.simultaneous;return h=getRecognizerByNameIfManager(h,this),b[h.id]||(b[h.id]=h,h.recognizeWith(this)),this},e.dropRecognizeWith=function(h){return invokeArrayArg(h,"dropRecognizeWith",this)?this:(h=getRecognizerByNameIfManager(h,this),delete this.simultaneous[h.id],this)},e.requireFailure=function(h){if(invokeArrayArg(h,"requireFailure",this))return this;var b=this.requireFail;return h=getRecognizerByNameIfManager(h,this),inArray(b,h)===-1&&(b.push(h),h.requireFailure(this)),this},e.dropRequireFailure=function(h){if(invokeArrayArg(h,"dropRequireFailure",this))return this;h=getRecognizerByNameIfManager(h,this);var b=inArray(this.requireFail,h);return b>-1&&this.requireFail.splice(b,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(h){return!!this.simultaneous[h.id]},e.emit=function(h){var b=this,_e=this.state;function rt(at){b.manager.emit(at,h)}_e<STATE_ENDED&&rt(b.options.event+stateStr(_e)),rt(b.options.event),h.additionalEvent&&rt(h.additionalEvent),_e>=STATE_ENDED&&rt(b.options.event+stateStr(_e))},e.tryEmit=function(h){if(this.canEmit())return this.emit(h);this.state=STATE_FAILED},e.canEmit=function(){for(var h=0;h<this.requireFail.length;){if(!(this.requireFail[h].state&(STATE_FAILED|STATE_POSSIBLE)))return!1;h++}return!0},e.recognize=function(h){var b=assign$1({},h);if(!boolOrFn(this.options.enable,[this,b])){this.reset(),this.state=STATE_FAILED;return}this.state&(STATE_RECOGNIZED|STATE_CANCELLED|STATE_FAILED)&&(this.state=STATE_POSSIBLE),this.state=this.process(b),this.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED|STATE_CANCELLED)&&this.tryEmit(b)},e.process=function(h){},e.getTouchAction=function(){},e.reset=function(){},o}(),TapRecognizer=function(o){_inheritsLoose(e,o);function e(h){var b;return h===void 0&&(h={}),b=o.call(this,_extends({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},h))||this,b.pTime=!1,b.pCenter=!1,b._timer=null,b._input=null,b.count=0,b}var s=e.prototype;return s.getTouchAction=function(){return[TOUCH_ACTION_MANIPULATION]},s.process=function(b){var _e=this,rt=this.options,at=b.pointers.length===rt.pointers,st=b.distance<rt.threshold,ot=b.deltaTime<rt.time;if(this.reset(),b.eventType&INPUT_START&&this.count===0)return this.failTimeout();if(st&&ot&&at){if(b.eventType!==INPUT_END)return this.failTimeout();var nt=this.pTime?b.timeStamp-this.pTime<rt.interval:!0,et=!this.pCenter||getDistance(this.pCenter,b.center)<rt.posThreshold;this.pTime=b.timeStamp,this.pCenter=b.center,!et||!nt?this.count=1:this.count+=1,this._input=b;var d=this.count%rt.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){_e.state=STATE_RECOGNIZED,_e.tryEmit()},rt.interval),STATE_BEGAN):STATE_RECOGNIZED}return STATE_FAILED},s.failTimeout=function(){var b=this;return this._timer=setTimeout(function(){b.state=STATE_FAILED},this.options.interval),STATE_FAILED},s.reset=function(){clearTimeout(this._timer)},s.emit=function(){this.state===STATE_RECOGNIZED&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Recognizer),AttrRecognizer=function(o){_inheritsLoose(e,o);function e(h){return h===void 0&&(h={}),o.call(this,_extends({pointers:1},h))||this}var s=e.prototype;return s.attrTest=function(b){var _e=this.options.pointers;return _e===0||b.pointers.length===_e},s.process=function(b){var _e=this.state,rt=b.eventType,at=_e&(STATE_BEGAN|STATE_CHANGED),st=this.attrTest(b);return at&&(rt&INPUT_CANCEL||!st)?_e|STATE_CANCELLED:at||st?rt&INPUT_END?_e|STATE_ENDED:_e&STATE_BEGAN?_e|STATE_CHANGED:STATE_BEGAN:STATE_FAILED},e}(Recognizer);function directionStr(o){return o===DIRECTION_DOWN?"down":o===DIRECTION_UP?"up":o===DIRECTION_LEFT?"left":o===DIRECTION_RIGHT?"right":""}var PanRecognizer=function(o){_inheritsLoose(e,o);function e(h){var b;return h===void 0&&(h={}),b=o.call(this,_extends({event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},h))||this,b.pX=null,b.pY=null,b}var s=e.prototype;return s.getTouchAction=function(){var b=this.options.direction,_e=[];return b&DIRECTION_HORIZONTAL&&_e.push(TOUCH_ACTION_PAN_Y),b&DIRECTION_VERTICAL&&_e.push(TOUCH_ACTION_PAN_X),_e},s.directionTest=function(b){var _e=this.options,rt=!0,at=b.distance,st=b.direction,ot=b.deltaX,nt=b.deltaY;return st&_e.direction||(_e.direction&DIRECTION_HORIZONTAL?(st=ot===0?DIRECTION_NONE:ot<0?DIRECTION_LEFT:DIRECTION_RIGHT,rt=ot!==this.pX,at=Math.abs(b.deltaX)):(st=nt===0?DIRECTION_NONE:nt<0?DIRECTION_UP:DIRECTION_DOWN,rt=nt!==this.pY,at=Math.abs(b.deltaY))),b.direction=st,rt&&at>_e.threshold&&st&_e.direction},s.attrTest=function(b){return AttrRecognizer.prototype.attrTest.call(this,b)&&(this.state&STATE_BEGAN||!(this.state&STATE_BEGAN)&&this.directionTest(b))},s.emit=function(b){this.pX=b.deltaX,this.pY=b.deltaY;var _e=directionStr(b.direction);_e&&(b.additionalEvent=this.options.event+_e),o.prototype.emit.call(this,b)},e}(AttrRecognizer),SwipeRecognizer=function(o){_inheritsLoose(e,o);function e(h){return h===void 0&&(h={}),o.call(this,_extends({event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,pointers:1},h))||this}var s=e.prototype;return s.getTouchAction=function(){return PanRecognizer.prototype.getTouchAction.call(this)},s.attrTest=function(b){var _e=this.options.direction,rt;return _e&(DIRECTION_HORIZONTAL|DIRECTION_VERTICAL)?rt=b.overallVelocity:_e&DIRECTION_HORIZONTAL?rt=b.overallVelocityX:_e&DIRECTION_VERTICAL&&(rt=b.overallVelocityY),o.prototype.attrTest.call(this,b)&&_e&b.offsetDirection&&b.distance>this.options.threshold&&b.maxPointers===this.options.pointers&&abs$1(rt)>this.options.velocity&&b.eventType&INPUT_END},s.emit=function(b){var _e=directionStr(b.offsetDirection);_e&&this.manager.emit(this.options.event+_e,b),this.manager.emit(this.options.event,b)},e}(AttrRecognizer),PinchRecognizer=function(o){_inheritsLoose(e,o);function e(h){return h===void 0&&(h={}),o.call(this,_extends({event:"pinch",threshold:0,pointers:2},h))||this}var s=e.prototype;return s.getTouchAction=function(){return[TOUCH_ACTION_NONE]},s.attrTest=function(b){return o.prototype.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&STATE_BEGAN)},s.emit=function(b){if(b.scale!==1){var _e=b.scale<1?"in":"out";b.additionalEvent=this.options.event+_e}o.prototype.emit.call(this,b)},e}(AttrRecognizer),RotateRecognizer=function(o){_inheritsLoose(e,o);function e(h){return h===void 0&&(h={}),o.call(this,_extends({event:"rotate",threshold:0,pointers:2},h))||this}var s=e.prototype;return s.getTouchAction=function(){return[TOUCH_ACTION_NONE]},s.attrTest=function(b){return o.prototype.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&STATE_BEGAN)},e}(AttrRecognizer),PressRecognizer=function(o){_inheritsLoose(e,o);function e(h){var b;return h===void 0&&(h={}),b=o.call(this,_extends({event:"press",pointers:1,time:251,threshold:9},h))||this,b._timer=null,b._input=null,b}var s=e.prototype;return s.getTouchAction=function(){return[TOUCH_ACTION_AUTO]},s.process=function(b){var _e=this,rt=this.options,at=b.pointers.length===rt.pointers,st=b.distance<rt.threshold,ot=b.deltaTime>rt.time;if(this._input=b,!st||!at||b.eventType&(INPUT_END|INPUT_CANCEL)&&!ot)this.reset();else if(b.eventType&INPUT_START)this.reset(),this._timer=setTimeout(function(){_e.state=STATE_RECOGNIZED,_e.tryEmit()},rt.time);else if(b.eventType&INPUT_END)return STATE_RECOGNIZED;return STATE_FAILED},s.reset=function(){clearTimeout(this._timer)},s.emit=function(b){this.state===STATE_RECOGNIZED&&(b&&b.eventType&INPUT_END?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=now(),this.manager.emit(this.options.event,this._input)))},e}(Recognizer),defaults={domEvents:!1,touchAction:TOUCH_ACTION_COMPUTE,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},preset=[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],STOP=1,FORCED_STOP=2;function toggleCssProps(o,e){var s=o.element;if(s.style){var h;each(o.options.cssProps,function(b,_e){h=prefixed(s.style,_e),e?(o.oldCssProps[h]=s.style[h],s.style[h]=b):s.style[h]=o.oldCssProps[h]||""}),e||(o.oldCssProps={})}}function triggerDomEvent(o,e){var s=document.createEvent("Event");s.initEvent(o,!0,!0),s.gesture=e,e.target.dispatchEvent(s)}var Manager=function(){function o(s,h){var b=this;this.options=assign$1({},defaults,h||{}),this.options.inputTarget=this.options.inputTarget||s,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=s,this.input=createInputInstance(this),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,function(_e){var rt=b.add(new _e[0](_e[1]));_e[2]&&rt.recognizeWith(_e[2]),_e[3]&&rt.requireFailure(_e[3])},this)}var e=o.prototype;return e.set=function(h){return assign$1(this.options,h),h.touchAction&&this.touchAction.update(),h.inputTarget&&(this.input.destroy(),this.input.target=h.inputTarget,this.input.init()),this},e.stop=function(h){this.session.stopped=h?FORCED_STOP:STOP},e.recognize=function(h){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(h);var _e,rt=this.recognizers,at=b.curRecognizer;(!at||at&&at.state&STATE_RECOGNIZED)&&(b.curRecognizer=null,at=null);for(var st=0;st<rt.length;)_e=rt[st],b.stopped!==FORCED_STOP&&(!at||_e===at||_e.canRecognizeWith(at))?_e.recognize(h):_e.reset(),!at&&_e.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED)&&(b.curRecognizer=_e,at=_e),st++}},e.get=function(h){if(h instanceof Recognizer)return h;for(var b=this.recognizers,_e=0;_e<b.length;_e++)if(b[_e].options.event===h)return b[_e];return null},e.add=function(h){if(invokeArrayArg(h,"add",this))return this;var b=this.get(h.options.event);return b&&this.remove(b),this.recognizers.push(h),h.manager=this,this.touchAction.update(),h},e.remove=function(h){if(invokeArrayArg(h,"remove",this))return this;var b=this.get(h);if(h){var _e=this.recognizers,rt=inArray(_e,b);rt!==-1&&(_e.splice(rt,1),this.touchAction.update())}return this},e.on=function(h,b){if(h===void 0||b===void 0)return this;var _e=this.handlers;return each(splitStr(h),function(rt){_e[rt]=_e[rt]||[],_e[rt].push(b)}),this},e.off=function(h,b){if(h===void 0)return this;var _e=this.handlers;return each(splitStr(h),function(rt){b?_e[rt]&&_e[rt].splice(inArray(_e[rt],b),1):delete _e[rt]}),this},e.emit=function(h,b){this.options.domEvents&&triggerDomEvent(h,b);var _e=this.handlers[h]&&this.handlers[h].slice();if(!(!_e||!_e.length)){b.type=h,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var rt=0;rt<_e.length;)_e[rt](b),rt++}},e.destroy=function(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},o}(),SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},SINGLE_TOUCH_TARGET_EVENTS="touchstart",SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel",SingleTouchInput=function(o){_inheritsLoose(e,o);function e(){var h,b=e.prototype;return b.evTarget=SINGLE_TOUCH_TARGET_EVENTS,b.evWin=SINGLE_TOUCH_WINDOW_EVENTS,h=o.apply(this,arguments)||this,h.started=!1,h}var s=e.prototype;return s.handler=function(b){var _e=SINGLE_TOUCH_INPUT_MAP[b.type];if(_e===INPUT_START&&(this.started=!0),!!this.started){var rt=normalizeSingleTouches.call(this,b,_e);_e&(INPUT_END|INPUT_CANCEL)&&rt[0].length-rt[1].length===0&&(this.started=!1),this.callback(this.manager,_e,{pointers:rt[0],changedPointers:rt[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:b})}},e}(Input);function normalizeSingleTouches(o,e){var s=toArray(o.touches),h=toArray(o.changedTouches);return e&(INPUT_END|INPUT_CANCEL)&&(s=uniqueArray(s.concat(h),"identifier",!0)),[s,h]}function deprecate(o,e,s){var h="DEPRECATED METHOD: "+e+`
`+s+` AT 
`;return function(){var b=new Error("get-stack-trace"),_e=b&&b.stack?b.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",rt=window.console&&(window.console.warn||window.console.log);return rt&&rt.call(window.console,h,_e),o.apply(this,arguments)}}var extend=deprecate(function(o,e,s){for(var h=Object.keys(e),b=0;b<h.length;)(!s||s&&o[h[b]]===void 0)&&(o[h[b]]=e[h[b]]),b++;return o},"extend","Use `assign`."),merge$2=deprecate(function(o,e){return extend(o,e,!0)},"merge","Use `assign`.");function inherit(o,e,s){var h=e.prototype,b;b=o.prototype=Object.create(h),b.constructor=o,b._super=h,s&&assign$1(b,s)}function bindFn(o,e){return function(){return o.apply(e,arguments)}}var Hammer$2=function(){var o=function(s,h){return h===void 0&&(h={}),new Manager(s,_extends({recognizers:preset.concat()},h))};return o.VERSION="2.0.17-rc",o.DIRECTION_ALL=DIRECTION_ALL,o.DIRECTION_DOWN=DIRECTION_DOWN,o.DIRECTION_LEFT=DIRECTION_LEFT,o.DIRECTION_RIGHT=DIRECTION_RIGHT,o.DIRECTION_UP=DIRECTION_UP,o.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,o.DIRECTION_VERTICAL=DIRECTION_VERTICAL,o.DIRECTION_NONE=DIRECTION_NONE,o.DIRECTION_DOWN=DIRECTION_DOWN,o.INPUT_START=INPUT_START,o.INPUT_MOVE=INPUT_MOVE,o.INPUT_END=INPUT_END,o.INPUT_CANCEL=INPUT_CANCEL,o.STATE_POSSIBLE=STATE_POSSIBLE,o.STATE_BEGAN=STATE_BEGAN,o.STATE_CHANGED=STATE_CHANGED,o.STATE_ENDED=STATE_ENDED,o.STATE_RECOGNIZED=STATE_RECOGNIZED,o.STATE_CANCELLED=STATE_CANCELLED,o.STATE_FAILED=STATE_FAILED,o.Manager=Manager,o.Input=Input,o.TouchAction=TouchAction,o.TouchInput=TouchInput,o.MouseInput=MouseInput,o.PointerEventInput=PointerEventInput,o.TouchMouseInput=TouchMouseInput,o.SingleTouchInput=SingleTouchInput,o.Recognizer=Recognizer,o.AttrRecognizer=AttrRecognizer,o.Tap=TapRecognizer,o.Pan=PanRecognizer,o.Swipe=SwipeRecognizer,o.Pinch=PinchRecognizer,o.Rotate=RotateRecognizer,o.Press=PressRecognizer,o.on=addEventListeners,o.off=removeEventListeners,o.each=each,o.merge=merge$2,o.extend=extend,o.bindFn=bindFn,o.assign=assign$1,o.inherit=inherit,o.bindFn=bindFn,o.prefixed=prefixed,o.toArray=toArray,o.inArray=inArray,o.uniqueArray=uniqueArray,o.splitStr=splitStr,o.boolOrFn=boolOrFn,o.hasParent=hasParent,o.addEventListeners=addEventListeners,o.removeEventListeners=removeEventListeners,o.defaults=assign$1({},defaults,{preset}),o}();Hammer$2.defaults;var RealHammer=Hammer$2;function _createForOfIteratorHelper$6(o,e){var s=typeof _Symbol<"u"&&_getIteratorMethod(o)||o["@@iterator"];if(!s){if(_Array$isArray(o)||(s=_unsupportedIterableToArray$6(o))||e&&o&&typeof o.length=="number"){s&&(o=s);var h=0,b=function(){};return{s:b,n:function(){return h>=o.length?{done:!0}:{done:!1,value:o[h++]}},e:function(ot){throw ot},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,rt=!1,at;return{s:function(){s=s.call(o)},n:function(){var ot=s.next();return _e=ot.done,ot},e:function(ot){rt=!0,at=ot},f:function(){try{!_e&&s.return!=null&&s.return()}finally{if(rt)throw at}}}}function _unsupportedIterableToArray$6(o,e){var s;if(o){if(typeof o=="string")return _arrayLikeToArray$6(o,e);var h=_sliceInstanceProperty(s=Object.prototype.toString.call(o)).call(s,8,-1);if(h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set")return _Array$from$1(o);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray$6(o,e)}}function _arrayLikeToArray$6(o,e){(e==null||e>o.length)&&(e=o.length);for(var s=0,h=new Array(e);s<e;s++)h[s]=o[s];return h}_Symbol("DELETE");function Alea(){for(var o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return AleaImplementation(e.length?e:[_Date$now()])}function AleaImplementation(o){var e=mashSeed(o),s=_slicedToArray(e,3),h=s[0],b=s[1],_e=s[2],rt=1,at=function(){var ot=2091639*h+rt*23283064365386963e-26;return h=b,b=_e,_e=ot-(rt=ot|0)};return at.uint32=function(){return at()*4294967296},at.fract53=function(){return at()+(at()*2097152|0)*11102230246251565e-32},at.algorithm="Alea",at.seed=o,at.version="0.9",at}function mashSeed(){for(var o=Mash(),e=o(" "),s=o(" "),h=o(" "),b=0;b<arguments.length;b++)e-=o(b<0||arguments.length<=b?void 0:arguments[b]),e<0&&(e+=1),s-=o(b<0||arguments.length<=b?void 0:arguments[b]),s<0&&(s+=1),h-=o(b<0||arguments.length<=b?void 0:arguments[b]),h<0&&(h+=1);return[e,s,h]}function Mash(){var o=4022871197;return function(e){for(var s=e.toString(),h=0;h<s.length;h++){o+=s.charCodeAt(h);var b=.02519603282416938*o;o=b>>>0,b-=o,b*=o,o=b>>>0,b-=o,o+=b*4294967296}return(o>>>0)*23283064365386963e-26}}function hammerMock(){var o=function(){};return{on:o,off:o,destroy:o,emit:o,get:function(){return{set:o}}}}var Hammer$1=typeof window<"u"?window.Hammer||RealHammer:function(){return hammerMock()};function Activator$1(o){var e=this,s;this._cleanupQueue=[],this.active=!1,this._dom={container:o,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){e._dom.overlay.parentNode.removeChild(e._dom.overlay)});var h=Hammer$1(this._dom.overlay);h.on("tap",_bindInstanceProperty$1(s=this._onTapOverlay).call(s,this)),this._cleanupQueue.push(function(){h.destroy()});var b=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];_forEachInstanceProperty(b).call(b,function(_e){h.on(_e,function(rt){rt.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(_e){_hasParent(_e.target,o)||e.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",e._onClick)})),this._escListener=function(_e){("key"in _e?_e.key==="Escape":_e.keyCode===27)&&e.deactivate()}}Emitter(Activator$1.prototype);Activator$1.current=null;Activator$1.prototype.destroy=function(){var o,e;this.deactivate();var s=_createForOfIteratorHelper$6(_reverseInstanceProperty(o=_spliceInstanceProperty(e=this._cleanupQueue).call(e,0)).call(o)),h;try{for(s.s();!(h=s.n()).done;){var b=h.value;b()}}catch(_e){s.e(_e)}finally{s.f()}};Activator$1.prototype.activate=function(){Activator$1.current&&Activator$1.current.deactivate(),Activator$1.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Activator$1.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Activator$1.prototype._onTapOverlay=function(o){this.activate(),o.srcEvent.stopPropagation()};function _hasParent(o,e){for(;o;){if(o===e)return!0;o=o.parentNode}return!1}var fullHexRE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,shortHexRE=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rgbRE=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,rgbaRE=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function recursiveDOMDelete(o){if(o)for(;o.hasChildNodes()===!0;){var e=o.firstChild;e&&(recursiveDOMDelete(e),o.removeChild(e))}}function isString(o){return o instanceof String||typeof o=="string"}function isObject$7(o){return _typeof(o)==="object"&&o!==null}function copyOrDelete(o,e,s,h){var b=!1;h===!0&&(b=e[s]===null&&o[s]!==void 0),b?delete o[s]:o[s]=e[s]}function fillIfDefined(o,e){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var h in o)if(e[h]!==void 0)if(e[h]===null||_typeof(e[h])!=="object")copyOrDelete(o,e,h,s);else{var b=o[h],_e=e[h];isObject$7(b)&&isObject$7(_e)&&fillIfDefined(b,_e,s)}}function selectiveDeepExtend(o,e,s){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(_Array$isArray(s))throw new TypeError("Arrays are not supported by deepExtend");for(var b=0;b<o.length;b++){var _e=o[b];if(Object.prototype.hasOwnProperty.call(s,_e))if(s[_e]&&s[_e].constructor===Object)e[_e]===void 0&&(e[_e]={}),e[_e].constructor===Object?deepExtend(e[_e],s[_e],!1,h):copyOrDelete(e,s,_e,h);else{if(_Array$isArray(s[_e]))throw new TypeError("Arrays are not supported by deepExtend");copyOrDelete(e,s,_e,h)}}return e}function selectiveNotDeepExtend(o,e,s){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(_Array$isArray(s))throw new TypeError("Arrays are not supported by deepExtend");for(var b in s)if(Object.prototype.hasOwnProperty.call(s,b)&&!_includesInstanceProperty(o).call(o,b))if(s[b]&&s[b].constructor===Object)e[b]===void 0&&(e[b]={}),e[b].constructor===Object?deepExtend(e[b],s[b]):copyOrDelete(e,s,b,h);else if(_Array$isArray(s[b])){e[b]=[];for(var _e=0;_e<s[b].length;_e++)e[b].push(s[b][_e])}else copyOrDelete(e,s,b,h);return e}function deepExtend(o,e){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var b in e)if(Object.prototype.hasOwnProperty.call(e,b)||s===!0)if(_typeof(e[b])==="object"&&e[b]!==null&&_Object$getPrototypeOf$1(e[b])===Object.prototype)o[b]===void 0?o[b]=deepExtend({},e[b],s):_typeof(o[b])==="object"&&o[b]!==null&&_Object$getPrototypeOf$1(o[b])===Object.prototype?deepExtend(o[b],e[b],s):copyOrDelete(o,e,b,h);else if(_Array$isArray(e[b])){var _e;o[b]=_sliceInstanceProperty(_e=e[b]).call(_e)}else copyOrDelete(o,e,b,h);return o}function copyAndExtendArray(o,e){var s;return _concatInstanceProperty(s=[]).call(s,_toConsumableArray(o),[e])}function copyArray(o){return _sliceInstanceProperty(o).call(o)}function getAbsoluteLeft(o){return o.getBoundingClientRect().left}function getAbsoluteTop(o){return o.getBoundingClientRect().top}function forEach$1(o,e){if(_Array$isArray(o))for(var s=o.length,h=0;h<s;h++)e(o[h],h,o);else for(var b in o)Object.prototype.hasOwnProperty.call(o,b)&&e(o[b],b,o)}function hexToRGB(o){var e;switch(o.length){case 3:case 4:return e=shortHexRE.exec(o),e?{r:_parseInt$1(e[1]+e[1],16),g:_parseInt$1(e[2]+e[2],16),b:_parseInt$1(e[3]+e[3],16)}:null;case 6:case 7:return e=fullHexRE.exec(o),e?{r:_parseInt$1(e[1],16),g:_parseInt$1(e[2],16),b:_parseInt$1(e[3],16)}:null;default:return null}}function overrideOpacity(o,e){if(_includesInstanceProperty(o).call(o,"rgba"))return o;if(_includesInstanceProperty(o).call(o,"rgb")){var s=o.substr(_indexOfInstanceProperty(o).call(o,"(")+1).replace(")","").split(",");return"rgba("+s[0]+","+s[1]+","+s[2]+","+e+")"}else{var h=hexToRGB(o);return h==null?o:"rgba("+h.r+","+h.g+","+h.b+","+e+")"}}function RGBToHex(o,e,s){var h;return"#"+_sliceInstanceProperty(h=((1<<24)+(o<<16)+(e<<8)+s).toString(16)).call(h,1)}function parseColor(o,e){if(isString(o)){var s=o;if(isValidRGB(s)){var h,b=_mapInstanceProperty(h=s.substr(4).substr(0,s.length-5).split(",")).call(h,function(d){return _parseInt$1(d)});s=RGBToHex(b[0],b[1],b[2])}if(isValidHex(s)===!0){var _e=hexToHSV(s),rt={h:_e.h,s:_e.s*.8,v:Math.min(1,_e.v*1.02)},at={h:_e.h,s:Math.min(1,_e.s*1.25),v:_e.v*.8},st=HSVToHex(at.h,at.s,at.v),ot=HSVToHex(rt.h,rt.s,rt.v);return{background:s,border:st,highlight:{background:ot,border:st},hover:{background:ot,border:st}}}else return{background:s,border:s,highlight:{background:s,border:s},hover:{background:s,border:s}}}else if(e){var nt={background:o.background||e.background,border:o.border||e.border,highlight:isString(o.highlight)?{border:o.highlight,background:o.highlight}:{background:o.highlight&&o.highlight.background||e.highlight.background,border:o.highlight&&o.highlight.border||e.highlight.border},hover:isString(o.hover)?{border:o.hover,background:o.hover}:{border:o.hover&&o.hover.border||e.hover.border,background:o.hover&&o.hover.background||e.hover.background}};return nt}else{var et={background:o.background||void 0,border:o.border||void 0,highlight:isString(o.highlight)?{border:o.highlight,background:o.highlight}:{background:o.highlight&&o.highlight.background||void 0,border:o.highlight&&o.highlight.border||void 0},hover:isString(o.hover)?{border:o.hover,background:o.hover}:{border:o.hover&&o.hover.border||void 0,background:o.hover&&o.hover.background||void 0}};return et}}function RGBToHSV(o,e,s){o=o/255,e=e/255,s=s/255;var h=Math.min(o,Math.min(e,s)),b=Math.max(o,Math.max(e,s));if(h===b)return{h:0,s:0,v:h};var _e=o===h?e-s:s===h?o-e:s-o,rt=o===h?3:s===h?1:5,at=60*(rt-_e/(b-h))/360,st=(b-h)/b,ot=b;return{h:at,s:st,v:ot}}function HSVToRGB(o,e,s){var h,b,_e,rt=Math.floor(o*6),at=o*6-rt,st=s*(1-e),ot=s*(1-at*e),nt=s*(1-(1-at)*e);switch(rt%6){case 0:h=s,b=nt,_e=st;break;case 1:h=ot,b=s,_e=st;break;case 2:h=st,b=s,_e=nt;break;case 3:h=st,b=ot,_e=s;break;case 4:h=nt,b=st,_e=s;break;case 5:h=s,b=st,_e=ot;break}return{r:Math.floor(h*255),g:Math.floor(b*255),b:Math.floor(_e*255)}}function HSVToHex(o,e,s){var h=HSVToRGB(o,e,s);return RGBToHex(h.r,h.g,h.b)}function hexToHSV(o){var e=hexToRGB(o);if(!e)throw new TypeError("'".concat(o,"' is not a valid color."));return RGBToHSV(e.r,e.g,e.b)}function isValidHex(o){var e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(o);return e}function isValidRGB(o){return rgbRE.test(o)}function isValidRGBA(o){return rgbaRE.test(o)}function bridgeObject(o){if(o===null||_typeof(o)!=="object")return null;if(o instanceof Element)return o;var e=_Object$create$1(o);for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&_typeof(o[s])=="object"&&(e[s]=bridgeObject(o[s]));return e}function mergeOptions(o,e,s){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=function(tt){return tt!=null},_e=function(tt){return tt!==null&&_typeof(tt)==="object"},rt=function(tt){for(var lt in tt)if(Object.prototype.hasOwnProperty.call(tt,lt))return!1;return!0};if(!_e(o))throw new Error("Parameter mergeTarget must be an object");if(!_e(e))throw new Error("Parameter options must be an object");if(!b(s))throw new Error("Parameter option must have a value");if(!_e(h))throw new Error("Parameter globalOptions must be an object");var at=function(tt,lt,ut){_e(tt[ut])||(tt[ut]={});var ct=lt[ut],ft=tt[ut];for(var dt in ct)Object.prototype.hasOwnProperty.call(ct,dt)&&(ft[dt]=ct[dt])},st=e[s],ot=_e(h)&&!rt(h),nt=ot?h[s]:void 0,et=nt?nt.enabled:void 0;if(st!==void 0){if(typeof st=="boolean"){_e(o[s])||(o[s]={}),o[s].enabled=st;return}if(st===null&&!_e(o[s]))if(b(nt))o[s]=_Object$create$1(nt);else return;if(_e(st)){var d=!0;st.enabled!==void 0?d=st.enabled:et!==void 0&&(d=nt.enabled),at(o,e,s),o[s].enabled=d}}}var easingFunctions={linear:function o(e){return e},easeInQuad:function o(e){return e*e},easeOutQuad:function o(e){return e*(2-e)},easeInOutQuad:function o(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function o(e){return e*e*e},easeOutCubic:function o(e){return--e*e*e+1},easeInOutCubic:function o(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function o(e){return e*e*e*e},easeOutQuart:function o(e){return 1- --e*e*e*e},easeInOutQuart:function o(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function o(e){return e*e*e*e*e},easeOutQuint:function o(e){return 1+--e*e*e*e*e},easeInOutQuint:function o(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};function topMost(o,e){var s;_Array$isArray(e)||(e=[e]);var h=_createForOfIteratorHelper$6(o),b;try{for(h.s();!(b=h.n()).done;){var _e=b.value;if(_e){s=_e[e[0]];for(var rt=1;rt<e.length;rt++)s&&(s=s[e[rt]]);if(typeof s<"u")break}}}catch(at){h.e(at)}finally{h.f()}return s}var htmlColors={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},ColorPicker$1=function(){function o(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;_classCallCheck(this,o),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return _createClass(o,[{key:"insertTo",value:function(s){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=s,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(s){if(typeof s=="function")this.updateCallback=s;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(s){if(typeof s=="function")this.closeCallback=s;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(s){if(typeof s=="string")return htmlColors[s]}},{key:"setColor",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(s!=="none"){var b,_e=this._isColorString(s);if(_e!==void 0&&(s=_e),isString(s)===!0){if(isValidRGB(s)===!0){var rt=s.substr(4).substr(0,s.length-5).split(",");b={r:rt[0],g:rt[1],b:rt[2],a:1}}else if(isValidRGBA(s)===!0){var at=s.substr(5).substr(0,s.length-6).split(",");b={r:at[0],g:at[1],b:at[2],a:at[3]}}else if(isValidHex(s)===!0){var st=hexToRGB(s);b={r:st.r,g:st.g,b:st.b,a:1}}}else if(s instanceof Object&&s.r!==void 0&&s.g!==void 0&&s.b!==void 0){var ot=s.a!==void 0?s.a:"1.0";b={r:s.r,g:s.g,b:s.b,a:ot}}if(b===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+_JSON$stringify(s));this._setColor(b,h)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var s=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;h===!0&&(this.previousColor=_Object$assign({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",_setTimeout(function(){s.closeCallback!==void 0&&(s.closeCallback(),s.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;h===!0&&(this.initialColor=_Object$assign({},s)),this.color=s;var b=RGBToHSV(s.r,s.g,s.b),_e=2*Math.PI,rt=this.r*b.s,at=this.centerCoordinates.x+rt*Math.sin(_e*b.h),st=this.centerCoordinates.y+rt*Math.cos(_e*b.h);this.colorPickerSelector.style.left=at-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=st-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(s)}},{key:"_setOpacity",value:function(s){this.color.a=s/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(s){var h=RGBToHSV(this.color.r,this.color.g,this.color.b);h.v=s/100;var b=HSVToRGB(h.h,h.s,h.v);b.a=this.color.a,this.color=b,this._updatePicker()}},{key:"_updatePicker",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,h=RGBToHSV(s.r,s.g,s.b),b=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1)),b.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var _e=this.colorPickerCanvas.clientWidth,rt=this.colorPickerCanvas.clientHeight;b.clearRect(0,0,_e,rt),b.putImageData(this.hueCircle,0,0),b.fillStyle="rgba(0,0,0,"+(1-h.v)+")",b.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),_fillInstanceProperty(b).call(b),this.brightnessRange.value=100*h.v,this.opacityRange.value=100*s.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var s,h,b,_e;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var at=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(at.webkitBackingStorePixelRatio||at.mozBackingStorePixelRatio||at.msBackingStorePixelRatio||at.oBackingStorePixelRatio||at.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var rt=document.createElement("DIV");rt.style.color="red",rt.style.fontWeight="bold",rt.style.padding="10px",rt.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(rt)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var st=this;this.opacityRange.onchange=function(){st._setOpacity(this.value)},this.opacityRange.oninput=function(){st._setOpacity(this.value)},this.brightnessRange.onchange=function(){st._setBrightness(this.value)},this.brightnessRange.oninput=function(){st._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=_bindInstanceProperty$1(s=this._hide).call(s,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=_bindInstanceProperty$1(h=this._apply).call(h,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=_bindInstanceProperty$1(b=this._save).call(b,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=_bindInstanceProperty$1(_e=this._loadLast).call(_e,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var s=this;this.drag={},this.pinch={},this.hammer=new Hammer$1(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(h){h.isFirst&&s._moveSelector(h)}),this.hammer.on("tap",function(h){s._moveSelector(h)}),this.hammer.on("panstart",function(h){s._moveSelector(h)}),this.hammer.on("panmove",function(h){s._moveSelector(h)}),this.hammer.on("panend",function(h){s._moveSelector(h)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var s=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1)),s.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var h=this.colorPickerCanvas.clientWidth,b=this.colorPickerCanvas.clientHeight;s.clearRect(0,0,h,b);var _e,rt,at,st;this.centerCoordinates={x:h*.5,y:b*.5},this.r=.49*h;var ot=2*Math.PI/360,nt=1/360,et=1/this.r,d;for(at=0;at<360;at++)for(st=0;st<this.r;st++)_e=this.centerCoordinates.x+st*Math.sin(ot*at),rt=this.centerCoordinates.y+st*Math.cos(ot*at),d=HSVToRGB(at*nt,st*et,1),s.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",s.fillRect(_e-.5,rt-.5,2,2);s.strokeStyle="rgba(0,0,0,1)",s.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),s.stroke(),this.hueCircle=s.getImageData(0,0,h,b)}this.generated=!0}},{key:"_moveSelector",value:function(s){var h=this.colorPickerDiv.getBoundingClientRect(),b=s.center.x-h.left,_e=s.center.y-h.top,rt=.5*this.colorPickerDiv.clientHeight,at=.5*this.colorPickerDiv.clientWidth,st=b-at,ot=_e-rt,nt=Math.atan2(st,ot),et=.98*Math.min(Math.sqrt(st*st+ot*ot),at),d=Math.cos(nt)*et+rt,_=Math.sin(nt)*et+at;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=_-.5*this.colorPickerSelector.clientWidth+"px";var tt=nt/(2*Math.PI);tt=tt<0?tt+1:tt;var lt=et/this.r,ut=RGBToHSV(this.color.r,this.color.g,this.color.b);ut.h=tt,ut.s=lt;var ct=HSVToRGB(ut.h,ut.s,ut.v);ct.a=this.color.a,this.color=ct,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),o}();function wrapInTag(){for(var o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);var h=document.createElement(e[0]);return h.appendChild(wrapInTag.apply(void 0,_toConsumableArray(_sliceInstanceProperty(e).call(e,1)))),h}var Configurator$1=function(){function o(e,s,h){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,_e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};_classCallCheck(this,o),this.parent=e,this.changedOptions=[],this.container=s,this.allowCreation=!1,this.hideOption=_e,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},_Object$assign(this.options,this.defaultOptions),this.configureOptions=h,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ColorPicker$1(b),this.wrapper=void 0}return _createClass(o,[{key:"setOptions",value:function(s){if(s!==void 0){this.popupHistory={},this._removePopup();var h=!0;if(typeof s=="string")this.options.filter=s;else if(_Array$isArray(s))this.options.filter=s.join();else if(_typeof(s)==="object"){if(s==null)throw new TypeError("options cannot be null");s.container!==void 0&&(this.options.container=s.container),_filterInstanceProperty(s)!==void 0&&(this.options.filter=_filterInstanceProperty(s)),s.showButton!==void 0&&(this.options.showButton=s.showButton),s.enabled!==void 0&&(h=s.enabled)}else typeof s=="boolean"?(this.options.filter=!0,h=s):typeof s=="function"&&(this.options.filter=s,h=!0);_filterInstanceProperty(this.options)===!1&&(h=!1),this.options.enabled=h}this._clean()}},{key:"setModuleOptions",value:function(s){this.moduleOptions=s,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var s=_filterInstanceProperty(this.options),h=0,b=!1;for(var _e in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,_e)&&(this.allowCreation=!1,b=!1,typeof s=="function"?(b=s(_e,[]),b=b||this._handleObject(this.configureOptions[_e],[_e],!0)):(s===!0||_indexOfInstanceProperty(s).call(s,_e)!==-1)&&(b=!0),b!==!1&&(this.allowCreation=!0,h>0&&this._makeItem([]),this._makeHeader(_e),this._handleObject(this.configureOptions[_e],[_e])),h++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var s=0;s<this.domElements.length;s++)this.wrapper.appendChild(this.domElements[s]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var s=0;s<this.domElements.length;s++)this.wrapper.removeChild(this.domElements[s]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(s){for(var h=this.moduleOptions,b=0;b<s.length;b++)if(h[s[b]]!==void 0)h=h[s[b]];else{h=void 0;break}return h}},{key:"_makeItem",value:function(s){if(this.allowCreation===!0){var h=document.createElement("div");h.className="vis-configuration vis-config-item vis-config-s"+s.length;for(var b=arguments.length,_e=new Array(b>1?b-1:0),rt=1;rt<b;rt++)_e[rt-1]=arguments[rt];return _forEachInstanceProperty(_e).call(_e,function(at){h.appendChild(at)}),this.domElements.push(h),this.domElements.length}return 0}},{key:"_makeHeader",value:function(s){var h=document.createElement("div");h.className="vis-configuration vis-config-header",h.innerText=s,this._makeItem([],h)}},{key:"_makeLabel",value:function(s,h){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_e=document.createElement("div");if(_e.className="vis-configuration vis-config-label vis-config-s"+h.length,b===!0){for(;_e.firstChild;)_e.removeChild(_e.firstChild);_e.appendChild(wrapInTag("i","b",s))}else _e.innerText=s+":";return _e}},{key:"_makeDropdown",value:function(s,h,b){var _e=document.createElement("select");_e.className="vis-configuration vis-config-select";var rt=0;h!==void 0&&_indexOfInstanceProperty(s).call(s,h)!==-1&&(rt=_indexOfInstanceProperty(s).call(s,h));for(var at=0;at<s.length;at++){var st=document.createElement("option");st.value=s[at],at===rt&&(st.selected="selected"),st.innerText=s[at],_e.appendChild(st)}var ot=this;_e.onchange=function(){ot._update(this.value,b)};var nt=this._makeLabel(b[b.length-1],b);this._makeItem(b,nt,_e)}},{key:"_makeRange",value:function(s,h,b){var _e=s[0],rt=s[1],at=s[2],st=s[3],ot=document.createElement("input");ot.className="vis-configuration vis-config-range";try{ot.type="range",ot.min=rt,ot.max=at}catch{}ot.step=st;var nt="",et=0;if(h!==void 0){var d=1.2;h<0&&h*d<rt?(ot.min=Math.ceil(h*d),et=ot.min,nt="range increased"):h/d<rt&&(ot.min=Math.ceil(h/d),et=ot.min,nt="range increased"),h*d>at&&at!==1&&(ot.max=Math.ceil(h*d),et=ot.max,nt="range increased"),ot.value=h}else ot.value=_e;var _=document.createElement("input");_.className="vis-configuration vis-config-rangeinput",_.value=ot.value;var tt=this;ot.onchange=function(){_.value=this.value,tt._update(Number(this.value),b)},ot.oninput=function(){_.value=this.value};var lt=this._makeLabel(b[b.length-1],b),ut=this._makeItem(b,lt,ot,_);nt!==""&&this.popupHistory[ut]!==et&&(this.popupHistory[ut]=et,this._setupPopup(nt,ut))}},{key:"_makeButton",value:function(){var s=this;if(this.options.showButton===!0){var h=document.createElement("div");h.className="vis-configuration vis-config-button",h.innerText="generate options",h.onclick=function(){s._printOptions()},h.onmouseover=function(){h.className="vis-configuration vis-config-button hover"},h.onmouseout=function(){h.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(h)}}},{key:"_setupPopup",value:function(s,h){var b=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var _e=document.createElement("div");_e.id="vis-configuration-popup",_e.className="vis-configuration-popup",_e.innerText=s,_e.onclick=function(){b._removePopup()},this.popupCounter+=1,this.popupDiv={html:_e,index:h}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var s=this;if(this.popupDiv.html!==void 0){var h=this.domElements[this.popupDiv.index],b=h.getBoundingClientRect();this.popupDiv.html.style.left=b.left+"px",this.popupDiv.html.style.top=b.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=_setTimeout(function(){s.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=_setTimeout(function(){s._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(s,h,b){var _e=document.createElement("input");_e.type="checkbox",_e.className="vis-configuration vis-config-checkbox",_e.checked=s,h!==void 0&&(_e.checked=h,h!==s&&(_typeof(s)==="object"?h!==s.enabled&&this.changedOptions.push({path:b,value:h}):this.changedOptions.push({path:b,value:h})));var rt=this;_e.onchange=function(){rt._update(this.checked,b)};var at=this._makeLabel(b[b.length-1],b);this._makeItem(b,at,_e)}},{key:"_makeTextInput",value:function(s,h,b){var _e=document.createElement("input");_e.type="text",_e.className="vis-configuration vis-config-text",_e.value=h,h!==s&&this.changedOptions.push({path:b,value:h});var rt=this;_e.onchange=function(){rt._update(this.value,b)};var at=this._makeLabel(b[b.length-1],b);this._makeItem(b,at,_e)}},{key:"_makeColorField",value:function(s,h,b){var _e=this,rt=s[1],at=document.createElement("div");h=h===void 0?rt:h,h!=="none"?(at.className="vis-configuration vis-config-colorBlock",at.style.backgroundColor=h):at.className="vis-configuration vis-config-colorBlock none",h=h===void 0?rt:h,at.onclick=function(){_e._showColorPicker(h,at,b)};var st=this._makeLabel(b[b.length-1],b);this._makeItem(b,st,at)}},{key:"_showColorPicker",value:function(s,h,b){var _e=this;h.onclick=function(){},this.colorPicker.insertTo(h),this.colorPicker.show(),this.colorPicker.setColor(s),this.colorPicker.setUpdateCallback(function(rt){var at="rgba("+rt.r+","+rt.g+","+rt.b+","+rt.a+")";h.style.backgroundColor=at,_e._update(at,b)}),this.colorPicker.setCloseCallback(function(){h.onclick=function(){_e._showColorPicker(s,h,b)}})}},{key:"_handleObject",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_e=!1,rt=_filterInstanceProperty(this.options),at=!1;for(var st in s)if(Object.prototype.hasOwnProperty.call(s,st)){_e=!0;var ot=s[st],nt=copyAndExtendArray(h,st);if(typeof rt=="function"&&(_e=rt(st,h),_e===!1&&!_Array$isArray(ot)&&typeof ot!="string"&&typeof ot!="boolean"&&ot instanceof Object&&(this.allowCreation=!1,_e=this._handleObject(ot,nt,!0),this.allowCreation=b===!1)),_e!==!1){at=!0;var et=this._getValue(nt);if(_Array$isArray(ot))this._handleArray(ot,et,nt);else if(typeof ot=="string")this._makeTextInput(ot,et,nt);else if(typeof ot=="boolean")this._makeCheckbox(ot,et,nt);else if(ot instanceof Object){if(!this.hideOption(h,st,this.moduleOptions))if(ot.enabled!==void 0){var d=copyAndExtendArray(nt,"enabled"),_=this._getValue(d);if(_===!0){var tt=this._makeLabel(st,nt,!0);this._makeItem(nt,tt),at=this._handleObject(ot,nt)||at}else this._makeCheckbox(ot,_,nt)}else{var lt=this._makeLabel(st,nt,!0);this._makeItem(nt,lt),at=this._handleObject(ot,nt)||at}}else console.error("dont know how to handle",ot,st,nt)}}return at}},{key:"_handleArray",value:function(s,h,b){typeof s[0]=="string"&&s[0]==="color"?(this._makeColorField(s,h,b),s[1]!==h&&this.changedOptions.push({path:b,value:h})):typeof s[0]=="string"?(this._makeDropdown(s,h,b),s[0]!==h&&this.changedOptions.push({path:b,value:h})):typeof s[0]=="number"&&(this._makeRange(s,h,b),s[0]!==h&&this.changedOptions.push({path:b,value:Number(h)}))}},{key:"_update",value:function(s,h){var b=this._constructOptions(s,h);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",b),this.initialized=!0,this.parent.setOptions(b)}},{key:"_constructOptions",value:function(s,h){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_e=b;s=s==="true"?!0:s,s=s==="false"?!1:s;for(var rt=0;rt<h.length;rt++)h[rt]!=="global"&&(_e[h[rt]]===void 0&&(_e[h[rt]]={}),rt!==h.length-1?_e=_e[h[rt]]:_e[h[rt]]=s);return b}},{key:"_printOptions",value:function(){for(var s=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(wrapInTag("pre","const options = "+_JSON$stringify(s,null,2)))}},{key:"getOptions",value:function(){for(var s={},h=0;h<this.changedOptions.length;h++)this._constructOptions(this.changedOptions[h].value,this.changedOptions[h].path,s);return s}}]),o}(),Popup$1=function(){function o(e,s){_classCallCheck(this,o),this.container=e,this.overflowMethod=s||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return _createClass(o,[{key:"setPosition",value:function(s,h){this.x=_parseInt$1(s),this.y=_parseInt$1(h)}},{key:"setText",value:function(s){if(s instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(s)}else this.frame.innerText=s}},{key:"show",value:function(s){if(s===void 0&&(s=!0),s===!0){var h=this.frame.clientHeight,b=this.frame.clientWidth,_e=this.frame.parentNode.clientHeight,rt=this.frame.parentNode.clientWidth,at=0,st=0;if(this.overflowMethod=="flip"){var ot=!1,nt=!0;this.y-h<this.padding&&(nt=!1),this.x+b>rt-this.padding&&(ot=!0),ot?at=this.x-b:at=this.x,nt?st=this.y-h:st=this.y}else st=this.y-h,st+h+this.padding>_e&&(st=_e-h-this.padding),st<this.padding&&(st=this.padding),at=this.x,at+b+this.padding>rt&&(at=rt-b-this.padding),at<this.padding&&(at=this.padding);this.frame.style.left=at+"px",this.frame.style.top=st+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),o}(),errorFound=!1,allOptions$1,VALIDATOR_PRINT_STYLE$1="background: #FFeeee; color: #dd0000",Validator$1=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"validate",value:function(s,h,b){errorFound=!1,allOptions$1=h;var _e=h;return b!==void 0&&(_e=h[b]),o.parse(s,_e,[]),errorFound}},{key:"parse",value:function(s,h,b){for(var _e in s)Object.prototype.hasOwnProperty.call(s,_e)&&o.check(_e,s,h,b)}},{key:"check",value:function(s,h,b,_e){if(b[s]===void 0&&b.__any__===void 0){o.getSuggestion(s,b,_e);return}var rt=s,at=!0;b[s]===void 0&&b.__any__!==void 0&&(rt="__any__",at=o.getType(h[s])==="object");var st=b[rt];at&&st.__type__!==void 0&&(st=st.__type__),o.checkFields(s,h,b,rt,st,_e)}},{key:"checkFields",value:function(s,h,b,_e,rt,at){var st=function(d){console.error("%c"+d+o.printLocation(at,s),VALIDATOR_PRINT_STYLE$1)},ot=o.getType(h[s]),nt=rt[ot];nt!==void 0?o.getType(nt)==="array"&&_indexOfInstanceProperty(nt).call(nt,h[s])===-1?(st('Invalid option detected in "'+s+'". Allowed values are:'+o.print(nt)+' not "'+h[s]+'". '),errorFound=!0):ot==="object"&&_e!=="__any__"&&(at=copyAndExtendArray(at,s),o.parse(h[s],b[_e],at)):rt.any===void 0&&(st('Invalid type received for "'+s+'". Expected: '+o.print(_Object$keys(rt))+". Received ["+ot+'] "'+h[s]+'"'),errorFound=!0)}},{key:"getType",value:function(s){var h=_typeof(s);return h==="object"?s===null?"null":s instanceof Boolean?"boolean":s instanceof Number?"number":s instanceof String?"string":_Array$isArray(s)?"array":s instanceof Date?"date":s.nodeType!==void 0?"dom":s._isAMomentObject===!0?"moment":"object":h==="number"?"number":h==="boolean"?"boolean":h==="string"?"string":h===void 0?"undefined":h}},{key:"getSuggestion",value:function(s,h,b){var _e=o.findInOptions(s,h,b,!1),rt=o.findInOptions(s,allOptions$1,[],!0),at=8,st=4,ot;_e.indexMatch!==void 0?ot=" in "+o.printLocation(_e.path,s,"")+'Perhaps it was incomplete? Did you mean: "'+_e.indexMatch+`"?

`:rt.distance<=st&&_e.distance>rt.distance?ot=" in "+o.printLocation(_e.path,s,"")+"Perhaps it was misplaced? Matching option found at: "+o.printLocation(rt.path,rt.closestMatch,""):_e.distance<=at?ot='. Did you mean "'+_e.closestMatch+'"?'+o.printLocation(_e.path,s):ot=". Did you mean one of these: "+o.print(_Object$keys(h))+o.printLocation(b,s),console.error('%cUnknown option detected: "'+s+'"'+ot,VALIDATOR_PRINT_STYLE$1),errorFound=!0}},{key:"findInOptions",value:function(s,h,b){var _e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,rt=1e9,at="",st=[],ot=s.toLowerCase(),nt=void 0;for(var et in h){var d=void 0;if(h[et].__type__!==void 0&&_e===!0){var _=o.findInOptions(s,h[et],copyAndExtendArray(b,et));rt>_.distance&&(at=_.closestMatch,st=_.path,rt=_.distance,nt=_.indexMatch)}else{var tt;_indexOfInstanceProperty(tt=et.toLowerCase()).call(tt,ot)!==-1&&(nt=et),d=o.levenshteinDistance(s,et),rt>d&&(at=et,st=copyArray(b),rt=d)}}return{closestMatch:at,path:st,distance:rt,indexMatch:nt}}},{key:"printLocation",value:function(s,h){for(var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,_e=`

`+b+`options = {
`,rt=0;rt<s.length;rt++){for(var at=0;at<rt+1;at++)_e+="  ";_e+=s[rt]+`: {
`}for(var st=0;st<s.length+1;st++)_e+="  ";_e+=h+`
`;for(var ot=0;ot<s.length+1;ot++){for(var nt=0;nt<s.length-ot;nt++)_e+="  ";_e+=`}
`}return _e+`

`}},{key:"print",value:function(s){return _JSON$stringify(s).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(s,h){if(s.length===0)return h.length;if(h.length===0)return s.length;var b=[],_e;for(_e=0;_e<=h.length;_e++)b[_e]=[_e];var rt;for(rt=0;rt<=s.length;rt++)b[0][rt]=rt;for(_e=1;_e<=h.length;_e++)for(rt=1;rt<=s.length;rt++)h.charAt(_e-1)==s.charAt(rt-1)?b[_e][rt]=b[_e-1][rt-1]:b[_e][rt]=Math.min(b[_e-1][rt-1]+1,Math.min(b[_e][rt-1]+1,b[_e-1][rt]+1));return b[h.length][s.length]}}]),o}(),Activator=Activator$1,Configurator=Configurator$1,Hammer=Hammer$1,Popup=Popup$1,VALIDATOR_PRINT_STYLE=VALIDATOR_PRINT_STYLE$1,Validator=Validator$1;function parseDOT(o){return dot=o,parseGraph()}var NODE_ATTR_MAPPING={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},EDGE_ATTR_MAPPING=_Object$create$1(NODE_ATTR_MAPPING);EDGE_ATTR_MAPPING.color="color.color";EDGE_ATTR_MAPPING.style="dashes";var TOKENTYPE={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},DELIMITERS={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},dot="",index=0,c="",token="",tokenType=TOKENTYPE.NULL;function first(){index=0,c=dot.charAt(0)}function next(){index++,c=dot.charAt(index)}function nextPreview(){return dot.charAt(index+1)}function isAlphaNumeric(o){var e=o.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function merge$1(o,e){if(o||(o={}),e)for(var s in e)e.hasOwnProperty(s)&&(o[s]=e[s]);return o}function setValue(o,e,s){for(var h=e.split("."),b=o;h.length;){var _e=h.shift();h.length?(b[_e]||(b[_e]={}),b=b[_e]):b[_e]=s}}function addNode(o,e){for(var s,h,b=null,_e=[o],rt=o;rt.parent;)_e.push(rt.parent),rt=rt.parent;if(rt.nodes){for(s=0,h=rt.nodes.length;s<h;s++)if(e.id===rt.nodes[s].id){b=rt.nodes[s];break}}for(b||(b={id:e.id},o.node&&(b.attr=merge$1(b.attr,o.node))),s=_e.length-1;s>=0;s--){var at,st=_e[s];st.nodes||(st.nodes=[]),_indexOfInstanceProperty(at=st.nodes).call(at,b)===-1&&st.nodes.push(b)}e.attr&&(b.attr=merge$1(b.attr,e.attr))}function addEdge(o,e){if(o.edges||(o.edges=[]),o.edges.push(e),o.edge){var s=merge$1({},o.edge);e.attr=merge$1(s,e.attr)}}function createEdge(o,e,s,h,b){var _e={from:e,to:s,type:h};return o.edge&&(_e.attr=merge$1({},o.edge)),_e.attr=merge$1(_e.attr||{},b),b!=null&&b.hasOwnProperty("arrows")&&b.arrows!=null&&(_e.arrows={to:{enabled:!0,type:b.arrows.type}},b.arrows=null),_e}function getToken(){for(tokenType=TOKENTYPE.NULL,token="";c===" "||c==="	"||c===`
`||c==="\r";)next();do{var o=!1;if(c==="#"){for(var e=index-1;dot.charAt(e)===" "||dot.charAt(e)==="	";)e--;if(dot.charAt(e)===`
`||dot.charAt(e)===""){for(;c!=""&&c!=`
`;)next();o=!0}}if(c==="/"&&nextPreview()==="/"){for(;c!=""&&c!=`
`;)next();o=!0}if(c==="/"&&nextPreview()==="*"){for(;c!="";)if(c==="*"&&nextPreview()==="/"){next(),next();break}else next();o=!0}for(;c===" "||c==="	"||c===`
`||c==="\r";)next()}while(o);if(c===""){tokenType=TOKENTYPE.DELIMITER;return}var s=c+nextPreview();if(DELIMITERS[s]){tokenType=TOKENTYPE.DELIMITER,token=s,next(),next();return}if(DELIMITERS[c]){tokenType=TOKENTYPE.DELIMITER,token=c,next();return}if(isAlphaNumeric(c)||c==="-"){for(token+=c,next();isAlphaNumeric(c);)token+=c,next();token==="false"?token=!1:token==="true"?token=!0:isNaN(Number(token))||(token=Number(token)),tokenType=TOKENTYPE.IDENTIFIER;return}if(c==='"'){for(next();c!=""&&(c!='"'||c==='"'&&nextPreview()==='"');)c==='"'?(token+=c,next()):c==="\\"&&nextPreview()==="n"?(token+=`
`,next()):token+=c,next();if(c!='"')throw newSyntaxError('End of string " expected');next(),tokenType=TOKENTYPE.IDENTIFIER;return}for(tokenType=TOKENTYPE.UNKNOWN;c!="";)token+=c,next();throw new SyntaxError('Syntax error in part "'+chop(token,30)+'"')}function parseGraph(){var o={};if(first(),getToken(),token==="strict"&&(o.strict=!0,getToken()),(token==="graph"||token==="digraph")&&(o.type=token,getToken()),tokenType===TOKENTYPE.IDENTIFIER&&(o.id=token,getToken()),token!="{")throw newSyntaxError("Angle bracket { expected");if(getToken(),parseStatements(o),token!="}")throw newSyntaxError("Angle bracket } expected");if(getToken(),token!=="")throw newSyntaxError("End of file expected");return getToken(),delete o.node,delete o.edge,delete o.graph,o}function parseStatements(o){for(;token!==""&&token!="}";)parseStatement(o),token===";"&&getToken()}function parseStatement(o){var e=parseSubgraph(o);if(e){parseEdge(o,e);return}var s=parseAttributeStatement(o);if(!s){if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier expected");var h=token;if(getToken(),token==="="){if(getToken(),tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier expected");o[h]=token,getToken()}else parseNodeStatement(o,h)}}function parseSubgraph(o){var e=null;if(token==="subgraph"&&(e={},e.type="subgraph",getToken(),tokenType===TOKENTYPE.IDENTIFIER&&(e.id=token,getToken())),token==="{"){if(getToken(),e||(e={}),e.parent=o,e.node=o.node,e.edge=o.edge,e.graph=o.graph,parseStatements(e),token!="}")throw newSyntaxError("Angle bracket } expected");getToken(),delete e.node,delete e.edge,delete e.graph,delete e.parent,o.subgraphs||(o.subgraphs=[]),o.subgraphs.push(e)}return e}function parseAttributeStatement(o){return token==="node"?(getToken(),o.node=parseAttributeList(),"node"):token==="edge"?(getToken(),o.edge=parseAttributeList(),"edge"):token==="graph"?(getToken(),o.graph=parseAttributeList(),"graph"):null}function parseNodeStatement(o,e){var s={id:e},h=parseAttributeList();h&&(s.attr=h),addNode(o,s),parseEdge(o,e)}function parseEdge(o,e){for(;token==="->"||token==="--";){var s,h=token;getToken();var b=parseSubgraph(o);if(b)s=b;else{if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier or subgraph expected");s=token,addNode(o,{id:s}),getToken()}var _e=parseAttributeList(),rt=createEdge(o,e,s,h,_e);addEdge(o,rt),e=s}}function parseAttributeList(){for(var o,e=null,s={dashed:!0,solid:!1,dotted:[1,5]},h={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},b=new Array,_e=new Array;token==="[";){for(getToken(),e={};token!==""&&token!="]";){if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Attribute name expected");var rt=token;if(getToken(),token!="=")throw newSyntaxError("Equal sign = expected");if(getToken(),tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Attribute value expected");var at=token;rt==="style"&&(at=s[at]);var st;rt==="arrowhead"&&(st=h[at],rt="arrows",at={to:{enabled:!0,type:st}}),rt==="arrowtail"&&(st=h[at],rt="arrows",at={from:{enabled:!0,type:st}}),b.push({attr:e,name:rt,value:at}),_e.push(rt),getToken(),token==","&&getToken()}if(token!="]")throw newSyntaxError("Bracket ] expected");getToken()}if(_includesInstanceProperty(_e).call(_e,"dir")){var ot={};for(ot.arrows={},o=0;o<b.length;o++)if(b[o].name==="arrows")if(b[o].value.to!=null)ot.arrows.to=o;else if(b[o].value.from!=null)ot.arrows.from=o;else throw newSyntaxError("Invalid value of arrows");else b[o].name==="dir"&&(ot.dir=o);var nt=b[ot.dir].value;if(!_includesInstanceProperty(_e).call(_e,"arrows"))if(nt==="both")b.push({attr:b[ot.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),ot.arrows.to=b.length-1,b.push({attr:b[ot.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),ot.arrows.from=b.length-1;else if(nt==="forward")b.push({attr:b[ot.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),ot.arrows.to=b.length-1;else if(nt==="back")b.push({attr:b[ot.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),ot.arrows.from=b.length-1;else if(nt==="none")b.push({attr:b[ot.dir].attr,name:"arrows",value:""}),ot.arrows.to=b.length-1;else throw newSyntaxError('Invalid dir type "'+nt+'"');var et,d;if(nt==="both")ot.arrows.to&&ot.arrows.from?(d=b[ot.arrows.to].value.to.type,et=b[ot.arrows.from].value.from.type,b[ot.arrows.to]={attr:b[ot.arrows.to].attr,name:b[ot.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:et}}},_spliceInstanceProperty(b).call(b,ot.arrows.from,1)):ot.arrows.to?(d=b[ot.arrows.to].value.to.type,et="arrow",b[ot.arrows.to]={attr:b[ot.arrows.to].attr,name:b[ot.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:et}}}):ot.arrows.from&&(d="arrow",et=b[ot.arrows.from].value.from.type,b[ot.arrows.from]={attr:b[ot.arrows.from].attr,name:b[ot.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:et}}});else if(nt==="back")ot.arrows.to&&ot.arrows.from?(d="",et=b[ot.arrows.from].value.from.type,b[ot.arrows.from]={attr:b[ot.arrows.from].attr,name:b[ot.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:et}}}):ot.arrows.to?(d="",et="arrow",ot.arrows.from=ot.arrows.to,b[ot.arrows.from]={attr:b[ot.arrows.from].attr,name:b[ot.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:et}}}):ot.arrows.from&&(d="",et=b[ot.arrows.from].value.from.type,b[ot.arrows.to]={attr:b[ot.arrows.from].attr,name:b[ot.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:et}}}),b[ot.arrows.from]={attr:b[ot.arrows.from].attr,name:b[ot.arrows.from].name,value:{from:{enabled:!0,type:b[ot.arrows.from].value.from.type}}};else if(nt==="none"){var _;ot.arrows.to?_=ot.arrows.to:_=ot.arrows.from,b[_]={attr:b[_].attr,name:b[_].name,value:""}}else if(nt==="forward")ot.arrows.to&&ot.arrows.from?(d=b[ot.arrows.to].value.to.type,et="",b[ot.arrows.to]={attr:b[ot.arrows.to].attr,name:b[ot.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:et}}}):ot.arrows.to?(d=b[ot.arrows.to].value.to.type,et="",b[ot.arrows.to]={attr:b[ot.arrows.to].attr,name:b[ot.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:et}}}):ot.arrows.from&&(d="arrow",et="",ot.arrows.to=ot.arrows.from,b[ot.arrows.to]={attr:b[ot.arrows.to].attr,name:b[ot.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:et}}}),b[ot.arrows.to]={attr:b[ot.arrows.to].attr,name:b[ot.arrows.to].name,value:{to:{enabled:!0,type:b[ot.arrows.to].value.to.type}}};else throw newSyntaxError('Invalid dir type "'+nt+'"');_spliceInstanceProperty(b).call(b,ot.dir,1)}var tt;if(_includesInstanceProperty(_e).call(_e,"penwidth")){var lt=[];for(tt=b.length,o=0;o<tt;o++)b[o].name!=="width"&&(b[o].name==="penwidth"&&(b[o].name="width"),lt.push(b[o]));b=lt}for(tt=b.length,o=0;o<tt;o++)setValue(b[o].attr,b[o].name,b[o].value);return e}function newSyntaxError(o){return new SyntaxError(o+', got "'+chop(token,30)+'" (char '+index+")")}function chop(o,e){return o.length<=e?o:o.substr(0,27)+"..."}function forEach2(o,e,s){_Array$isArray(o)?_forEachInstanceProperty(o).call(o,function(h){_Array$isArray(e)?_forEachInstanceProperty(e).call(e,function(b){s(h,b)}):s(h,e)}):_Array$isArray(e)?_forEachInstanceProperty(e).call(e,function(h){s(o,h)}):s(o,e)}function setProp(o,e,s){for(var h=e.split("."),b=h.pop(),_e=o,rt=0;rt<h.length;rt++){var at=h[rt];at in _e||(_e[at]={}),_e=_e[at]}return _e[b]=s,o}function convertAttr(o,e){var s={};for(var h in o)if(o.hasOwnProperty(h)){var b=e[h];_Array$isArray(b)?_forEachInstanceProperty(b).call(b,function(_e){setProp(s,_e,o[h])}):typeof b=="string"?setProp(s,b,o[h]):setProp(s,h,o[h])}return s}function DOTToGraph(o){var e=parseDOT(o),s={nodes:[],edges:[],options:{}};if(e.nodes){var h;_forEachInstanceProperty(h=e.nodes).call(h,function(rt){var at={id:rt.id,label:String(rt.label||rt.id)};merge$1(at,convertAttr(rt.attr,NODE_ATTR_MAPPING)),at.image&&(at.shape="image"),s.nodes.push(at)})}if(e.edges){var b,_e=function(at){var st={from:at.from,to:at.to};return merge$1(st,convertAttr(at.attr,EDGE_ATTR_MAPPING)),st.arrows==null&&at.type==="->"&&(st.arrows="to"),st};_forEachInstanceProperty(b=e.edges).call(b,function(rt){var at,st;if(rt.from instanceof Object?at=rt.from.nodes:at={id:rt.from},rt.to instanceof Object?st=rt.to.nodes:st={id:rt.to},rt.from instanceof Object&&rt.from.edges){var ot;_forEachInstanceProperty(ot=rt.from.edges).call(ot,function(et){var d=_e(et);s.edges.push(d)})}if(forEach2(at,st,function(et,d){var _=createEdge(s,et.id,d.id,rt.type,rt.attr),tt=_e(_);s.edges.push(tt)}),rt.to instanceof Object&&rt.to.edges){var nt;_forEachInstanceProperty(nt=rt.to.edges).call(nt,function(et){var d=_e(et);s.edges.push(d)})}})}return e.attr&&(s.options=e.attr),s}function parseGephi(o,e){var s,h={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(h.nodes.fixed=e.fixed),e.parseColor!=null&&(h.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(h.edges.inheritColor=e.inheritColor));var b=o.edges,_e=_mapInstanceProperty(b).call(b,function(at){var st={from:at.source,id:at.id,to:at.target};return at.attributes!=null&&(st.attributes=at.attributes),at.label!=null&&(st.label=at.label),at.attributes!=null&&at.attributes.title!=null&&(st.title=at.attributes.title),at.type==="Directed"&&(st.arrows="to"),at.color&&h.edges.inheritColor===!1&&(st.color=at.color),st}),rt=_mapInstanceProperty(s=o.nodes).call(s,function(at){var st={id:at.id,fixed:h.nodes.fixed&&at.x!=null&&at.y!=null};return at.attributes!=null&&(st.attributes=at.attributes),at.label!=null&&(st.label=at.label),at.size!=null&&(st.size=at.size),at.attributes!=null&&at.attributes.title!=null&&(st.title=at.attributes.title),at.title!=null&&(st.title=at.title),at.x!=null&&(st.x=at.x),at.y!=null&&(st.y=at.y),at.color!=null&&(h.nodes.parseColor===!0?st.color=at.color:st.color={background:at.color,border:at.color,highlight:{background:at.color,border:at.color},hover:{background:at.color,border:at.color}}),st});return{nodes:rt,edges:_e}}var en={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},ru={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},cn={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},uk={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},fr={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},cs={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"},locales=Object.freeze({__proto__:null,cn,cs,de,en,es,fr,it,nl,pt,ru,uk});function normalizeLanguageCode(o,e){try{var s=e.split(/[-_ /]/,2),h=_slicedToArray(s,2),b=h[0],_e=h[1],rt=b!=null?b.toLowerCase():null,at=_e!=null?_e.toUpperCase():null;if(rt&&at){var st=rt+"-"+at;if(Object.prototype.hasOwnProperty.call(o,st))return st;var ot;console.warn(_concatInstanceProperty(ot="Unknown variant ".concat(at," of language ")).call(ot,rt,"."))}if(rt){var nt=rt;if(Object.prototype.hasOwnProperty.call(o,nt))return nt;console.warn("Unknown language ".concat(rt))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(et){return console.error(et),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}var CachedImage=function(){function o(){_classCallCheck(this,o),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return _createClass(o,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var s=this.image.width,h=this.image.height;this.width=s,this.height=h;var b=Math.floor(h/2),_e=Math.floor(h/4),rt=Math.floor(h/8),at=Math.floor(h/16),st=Math.floor(s/2),ot=Math.floor(s/4),nt=Math.floor(s/8),et=Math.floor(s/16);this.canvas.width=3*ot,this.canvas.height=b,this.coordinates=[[0,0,st,b],[st,0,ot,_e],[st,_e,nt,rt],[5*nt,_e,et,at]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var s=this.canvas.getContext("2d"),h=this.coordinates[0];s.drawImage(this.image,h[0],h[1],h[2],h[3]);for(var b=1;b<this.NUM_ITERATIONS;b++){var _e=this.coordinates[b-1],rt=this.coordinates[b];s.drawImage(this.canvas,_e[0],_e[1],_e[2],_e[3],rt[0],rt[1],rt[2],rt[3])}}},{key:"drawImageAtPosition",value:function(s,h,b,_e,rt,at){if(this.initialized())if(h>2){h*=.5;for(var st=0;h>2&&st<this.NUM_ITERATIONS;)h*=.5,st+=1;st>=this.NUM_ITERATIONS&&(st=this.NUM_ITERATIONS-1);var ot=this.coordinates[st];s.drawImage(this.canvas,ot[0],ot[1],ot[2],ot[3],b,_e,rt,at)}else s.drawImage(this.image,b,_e,rt,at)}}]),o}(),Images=function(){function o(e){_classCallCheck(this,o),this.images={},this.imageBroken={},this.callback=e}return _createClass(o,[{key:"_tryloadBrokenUrl",value:function(s,h,b){if(!(s===void 0||b===void 0)){if(h===void 0){console.warn("No broken url image defined");return}b.image.onerror=function(){console.error("Could not load brokenImage:",h)},b.image.src=h}}},{key:"_redrawWithImage",value:function(s){this.callback&&this.callback(s)}},{key:"load",value:function(s,h){var b=this,_e=this.images[s];if(_e)return _e;var rt=new CachedImage;return this.images[s]=rt,rt.image.onload=function(){b._fixImageCoordinates(rt.image),rt.init(),b._redrawWithImage(rt)},rt.image.onerror=function(){console.error("Could not load image:",s),b._tryloadBrokenUrl(s,h,rt)},rt.image.src=s,rt}},{key:"_fixImageCoordinates",value:function(s){s.width===0&&(document.body.appendChild(s),s.width=s.offsetWidth,s.height=s.offsetHeight,document.body.removeChild(s))}}]),o}(),internalMetadata={exports:{}},fails$9=fails$w,arrayBufferNonExtensible=fails$9(function(){if(typeof ArrayBuffer=="function"){var o=new ArrayBuffer(8);Object.isExtensible(o)&&Object.defineProperty(o,"a",{value:8})}}),fails$8=fails$w,isObject$6=isObject$j,classof$2=classofRaw$2,ARRAY_BUFFER_NON_EXTENSIBLE=arrayBufferNonExtensible,$isExtensible=Object.isExtensible,FAILS_ON_PRIMITIVES$1=fails$8(function(){$isExtensible(1)}),objectIsExtensible=FAILS_ON_PRIMITIVES$1||ARRAY_BUFFER_NON_EXTENSIBLE?function o(e){return!isObject$6(e)||ARRAY_BUFFER_NON_EXTENSIBLE&&classof$2(e)==="ArrayBuffer"?!1:$isExtensible?$isExtensible(e):!0}:$isExtensible,fails$7=fails$w,freezing=!fails$7(function(){return Object.isExtensible(Object.preventExtensions({}))}),$$g=_export,uncurryThis$4=functionUncurryThis,hiddenKeys=hiddenKeys$6,isObject$5=isObject$j,hasOwn$3=hasOwnProperty_1,defineProperty$2=objectDefineProperty.f,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertyNamesExternalModule=objectGetOwnPropertyNamesExternal,isExtensible$1=objectIsExtensible,uid=uid$4,FREEZING$1=freezing,REQUIRED=!1,METADATA=uid("meta"),id$1=0,setMetadata=function(o){defineProperty$2(o,METADATA,{value:{objectID:"O"+id$1++,weakData:{}}})},fastKey$1=function(o,e){if(!isObject$5(o))return typeof o=="symbol"?o:(typeof o=="string"?"S":"P")+o;if(!hasOwn$3(o,METADATA)){if(!isExtensible$1(o))return"F";if(!e)return"E";setMetadata(o)}return o[METADATA].objectID},getWeakData$1=function(o,e){if(!hasOwn$3(o,METADATA)){if(!isExtensible$1(o))return!0;if(!e)return!1;setMetadata(o)}return o[METADATA].weakData},onFreeze=function(o){return FREEZING$1&&REQUIRED&&isExtensible$1(o)&&!hasOwn$3(o,METADATA)&&setMetadata(o),o},enable=function(){meta.enable=function(){},REQUIRED=!0;var o=getOwnPropertyNamesModule.f,e=uncurryThis$4([].splice),s={};s[METADATA]=1,o(s).length&&(getOwnPropertyNamesModule.f=function(h){for(var b=o(h),_e=0,rt=b.length;_e<rt;_e++)if(b[_e]===METADATA){e(b,_e,1);break}return b},$$g({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule.f}))},meta=internalMetadata.exports={enable,fastKey:fastKey$1,getWeakData:getWeakData$1,onFreeze};hiddenKeys[METADATA]=!0;var internalMetadataExports=internalMetadata.exports,bind$5=functionBindContext,call$1=functionCall,anObject$3=anObject$d,tryToString$1=tryToString$6,isArrayIteratorMethod=isArrayIteratorMethod$2,lengthOfArrayLike$2=lengthOfArrayLike$c,isPrototypeOf$6=objectIsPrototypeOf,getIterator=getIterator$2,getIteratorMethod=getIteratorMethod$9,iteratorClose=iteratorClose$2,$TypeError$3=TypeError,Result=function(o,e){this.stopped=o,this.result=e},ResultPrototype=Result.prototype,iterate$3=function(o,e,s){var h=s&&s.that,b=!!(s&&s.AS_ENTRIES),_e=!!(s&&s.IS_RECORD),rt=!!(s&&s.IS_ITERATOR),at=!!(s&&s.INTERRUPTED),st=bind$5(e,h),ot,nt,et,d,_,tt,lt,ut=function(ft){return ot&&iteratorClose(ot,"normal",ft),new Result(!0,ft)},ct=function(ft){return b?(anObject$3(ft),at?st(ft[0],ft[1],ut):st(ft[0],ft[1])):at?st(ft,ut):st(ft)};if(_e)ot=o.iterator;else if(rt)ot=o;else{if(nt=getIteratorMethod(o),!nt)throw new $TypeError$3(tryToString$1(o)+" is not iterable");if(isArrayIteratorMethod(nt)){for(et=0,d=lengthOfArrayLike$2(o);d>et;et++)if(_=ct(o[et]),_&&isPrototypeOf$6(ResultPrototype,_))return _;return new Result(!1)}ot=getIterator(o,nt)}for(tt=_e?o.next:ot.next;!(lt=call$1(tt,ot)).done;){try{_=ct(lt.value)}catch(ft){iteratorClose(ot,"throw",ft)}if(typeof _=="object"&&_&&isPrototypeOf$6(ResultPrototype,_))return _}return new Result(!1)},isPrototypeOf$5=objectIsPrototypeOf,$TypeError$2=TypeError,anInstance$3=function(o,e){if(isPrototypeOf$5(e,o))return o;throw new $TypeError$2("Incorrect invocation")},$$f=_export,global$5=global$n,InternalMetadataModule$1=internalMetadataExports,fails$6=fails$w,createNonEnumerableProperty=createNonEnumerableProperty$6,iterate$2=iterate$3,anInstance$2=anInstance$3,isCallable=isCallable$i,isObject$4=isObject$j,isNullOrUndefined$2=isNullOrUndefined$6,setToStringTag=setToStringTag$6,defineProperty$1=objectDefineProperty.f,forEach=arrayIteration.forEach,DESCRIPTORS$5=descriptors,InternalStateModule$2=internalState,setInternalState$2=InternalStateModule$2.set,internalStateGetterFor$2=InternalStateModule$2.getterFor,collection$3=function(o,e,s){var h=o.indexOf("Map")!==-1,b=o.indexOf("Weak")!==-1,_e=h?"set":"add",rt=global$5[o],at=rt&&rt.prototype,st={},ot;if(!DESCRIPTORS$5||!isCallable(rt)||!(b||at.forEach&&!fails$6(function(){new rt().entries().next()})))ot=s.getConstructor(e,o,h,_e),InternalMetadataModule$1.enable();else{ot=e(function(d,_){setInternalState$2(anInstance$2(d,nt),{type:o,collection:new rt}),isNullOrUndefined$2(_)||iterate$2(_,d[_e],{that:d,AS_ENTRIES:h})});var nt=ot.prototype,et=internalStateGetterFor$2(o);forEach(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(d){var _=d==="add"||d==="set";d in at&&!(b&&d==="clear")&&createNonEnumerableProperty(nt,d,function(tt,lt){var ut=et(this).collection;if(!_&&b&&!isObject$4(tt))return d==="get"?void 0:!1;var ct=ut[d](tt===0?0:tt,lt);return _?this:ct})}),b||defineProperty$1(nt,"size",{configurable:!0,get:function(){return et(this).collection.size}})}return setToStringTag(ot,o,!1,!0),st[o]=ot,$$f({global:!0,forced:!0},st),b||s.setStrong(ot,o,h),ot},defineBuiltIn=defineBuiltIn$5,defineBuiltIns$3=function(o,e,s){for(var h in e)s&&s.unsafe&&o[h]?o[h]=e[h]:defineBuiltIn(o,h,e[h],s);return o},getBuiltIn$1=getBuiltIn$c,defineBuiltInAccessor$1=defineBuiltInAccessor$3,wellKnownSymbol=wellKnownSymbol$m,DESCRIPTORS$4=descriptors,SPECIES=wellKnownSymbol("species"),setSpecies$1=function(o){var e=getBuiltIn$1(o);DESCRIPTORS$4&&e&&!e[SPECIES]&&defineBuiltInAccessor$1(e,SPECIES,{configurable:!0,get:function(){return this}})},create$4=objectCreate,defineBuiltInAccessor=defineBuiltInAccessor$3,defineBuiltIns$2=defineBuiltIns$3,bind$4=functionBindContext,anInstance$1=anInstance$3,isNullOrUndefined$1=isNullOrUndefined$6,iterate$1=iterate$3,defineIterator=iteratorDefine,createIterResultObject=createIterResultObject$3,setSpecies=setSpecies$1,DESCRIPTORS$3=descriptors,fastKey=internalMetadataExports.fastKey,InternalStateModule$1=internalState,setInternalState$1=InternalStateModule$1.set,internalStateGetterFor$1=InternalStateModule$1.getterFor,collectionStrong$2={getConstructor:function(o,e,s,h){var b=o(function(ot,nt){anInstance$1(ot,_e),setInternalState$1(ot,{type:e,index:create$4(null),first:void 0,last:void 0,size:0}),DESCRIPTORS$3||(ot.size=0),isNullOrUndefined$1(nt)||iterate$1(nt,ot[h],{that:ot,AS_ENTRIES:s})}),_e=b.prototype,rt=internalStateGetterFor$1(e),at=function(ot,nt,et){var d=rt(ot),_=st(ot,nt),tt,lt;return _?_.value=et:(d.last=_={index:lt=fastKey(nt,!0),key:nt,value:et,previous:tt=d.last,next:void 0,removed:!1},d.first||(d.first=_),tt&&(tt.next=_),DESCRIPTORS$3?d.size++:ot.size++,lt!=="F"&&(d.index[lt]=_)),ot},st=function(ot,nt){var et=rt(ot),d=fastKey(nt),_;if(d!=="F")return et.index[d];for(_=et.first;_;_=_.next)if(_.key===nt)return _};return defineBuiltIns$2(_e,{clear:function(){for(var nt=this,et=rt(nt),d=et.index,_=et.first;_;)_.removed=!0,_.previous&&(_.previous=_.previous.next=void 0),delete d[_.index],_=_.next;et.first=et.last=void 0,DESCRIPTORS$3?et.size=0:nt.size=0},delete:function(ot){var nt=this,et=rt(nt),d=st(nt,ot);if(d){var _=d.next,tt=d.previous;delete et.index[d.index],d.removed=!0,tt&&(tt.next=_),_&&(_.previous=tt),et.first===d&&(et.first=_),et.last===d&&(et.last=tt),DESCRIPTORS$3?et.size--:nt.size--}return!!d},forEach:function(nt){for(var et=rt(this),d=bind$4(nt,arguments.length>1?arguments[1]:void 0),_;_=_?_.next:et.first;)for(d(_.value,_.key,this);_&&_.removed;)_=_.previous},has:function(nt){return!!st(this,nt)}}),defineBuiltIns$2(_e,s?{get:function(nt){var et=st(this,nt);return et&&et.value},set:function(nt,et){return at(this,nt===0?0:nt,et)}}:{add:function(nt){return at(this,nt=nt===0?0:nt,nt)}}),DESCRIPTORS$3&&defineBuiltInAccessor(_e,"size",{configurable:!0,get:function(){return rt(this).size}}),b},setStrong:function(o,e,s){var h=e+" Iterator",b=internalStateGetterFor$1(e),_e=internalStateGetterFor$1(h);defineIterator(o,e,function(rt,at){setInternalState$1(this,{type:h,target:rt,state:b(rt),kind:at,last:void 0})},function(){for(var rt=_e(this),at=rt.kind,st=rt.last;st&&st.removed;)st=st.previous;return!rt.target||!(rt.last=st=st?st.next:rt.state.first)?(rt.target=void 0,createIterResultObject(void 0,!0)):createIterResultObject(at==="keys"?st.key:at==="values"?st.value:[st.key,st.value],!1)},s?"entries":"values",!s,!0),setSpecies(e)}},collection$2=collection$3,collectionStrong$1=collectionStrong$2;collection$2("Map",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},collectionStrong$1);var path$f=path$w,map$2=path$f.Map,parent$v=map$2,map$1=parent$v,map=map$1,_Map=getDefaultExportFromCjs(map),Groups=function(){function o(){_classCallCheck(this,o),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},_Object$assign(this.options,this.defaultOptions)}return _createClass(o,[{key:"setOptions",value:function(s){var h=["useDefaultGroups"];if(s!==void 0){for(var b in s)if(Object.prototype.hasOwnProperty.call(s,b)&&_indexOfInstanceProperty(h).call(h,b)===-1){var _e=s[b];this.add(b,_e)}}}},{key:"clear",value:function(){this._groups=new _Map,this._groupNames=[]}},{key:"get",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,b=this._groups.get(s);if(b===void 0&&h)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var _e=this._groupIndex%this._groupNames.length;++this._groupIndex,b={},b.color=this._groups.get(this._groupNames[_e]),this._groups.set(s,b)}else{var rt=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,b={},b.color=this._defaultGroups[rt],this._groups.set(s,b)}return b}},{key:"add",value:function(s,h){return this._groups.has(s)||this._groupNames.push(s),this._groups.set(s,h),h}}]),o}(),$$e=_export;$$e({target:"Number",stat:!0},{isNaN:function o(e){return e!==e}});var path$e=path$w,isNan$2=path$e.Number.isNaN,parent$u=isNan$2,isNan$1=parent$u,isNan=isNan$1,_Number$isNaN=getDefaultExportFromCjs(isNan),global$4=global$n,globalIsFinite=global$4.isFinite,numberIsFinite$1=Number.isFinite||function o(e){return typeof e=="number"&&globalIsFinite(e)},$$d=_export,numberIsFinite=numberIsFinite$1;$$d({target:"Number",stat:!0},{isFinite:numberIsFinite});var path$d=path$w,_isFinite$2=path$d.Number.isFinite,parent$t=_isFinite$2,_isFinite$1=parent$t,_isFinite=_isFinite$1,_Number$isFinite=getDefaultExportFromCjs(_isFinite),$$c=_export,$some=arrayIteration.some,arrayMethodIsStrict$3=arrayMethodIsStrict$6,STRICT_METHOD$2=arrayMethodIsStrict$3("some");$$c({target:"Array",proto:!0,forced:!STRICT_METHOD$2},{some:function o(e){return $some(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$4=entryVirtual$i,some$3=entryVirtual$4("Array").some,isPrototypeOf$4=objectIsPrototypeOf,method$4=some$3,ArrayPrototype$4=Array.prototype,some$2=function(o){var e=o.some;return o===ArrayPrototype$4||isPrototypeOf$4(ArrayPrototype$4,o)&&e===ArrayPrototype$4.some?method$4:e},parent$s=some$2,some$1=parent$s,some=some$1,_someInstanceProperty=getDefaultExportFromCjs(some),path$c=path$w,getOwnPropertySymbols$2=path$c.Object.getOwnPropertySymbols,parent$r=getOwnPropertySymbols$2,getOwnPropertySymbols$1=parent$r,getOwnPropertySymbols=getOwnPropertySymbols$1,_Object$getOwnPropertySymbols=getDefaultExportFromCjs(getOwnPropertySymbols),getOwnPropertyDescriptor$6={exports:{}},$$b=_export,fails$5=fails$w,toIndexedObject$1=toIndexedObject$a,nativeGetOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,DESCRIPTORS$2=descriptors,FORCED$5=!DESCRIPTORS$2||fails$5(function(){nativeGetOwnPropertyDescriptor(1)});$$b({target:"Object",stat:!0,forced:FORCED$5,sham:!DESCRIPTORS$2},{getOwnPropertyDescriptor:function o(e,s){return nativeGetOwnPropertyDescriptor(toIndexedObject$1(e),s)}});var path$b=path$w,Object$3=path$b.Object,getOwnPropertyDescriptor$5=getOwnPropertyDescriptor$6.exports=function o(e,s){return Object$3.getOwnPropertyDescriptor(e,s)};Object$3.getOwnPropertyDescriptor.sham&&(getOwnPropertyDescriptor$5.sham=!0);var getOwnPropertyDescriptorExports=getOwnPropertyDescriptor$6.exports,parent$q=getOwnPropertyDescriptorExports,getOwnPropertyDescriptor$4=parent$q,getOwnPropertyDescriptor$3=getOwnPropertyDescriptor$4,_Object$getOwnPropertyDescriptor$1=getDefaultExportFromCjs(getOwnPropertyDescriptor$3),$$a=_export,DESCRIPTORS$1=descriptors,ownKeys$4=ownKeys$5,toIndexedObject=toIndexedObject$a,getOwnPropertyDescriptorModule$1=objectGetOwnPropertyDescriptor,createProperty=createProperty$6;$$a({target:"Object",stat:!0,sham:!DESCRIPTORS$1},{getOwnPropertyDescriptors:function o(e){for(var s=toIndexedObject(e),h=getOwnPropertyDescriptorModule$1.f,b=ownKeys$4(s),_e={},rt=0,at,st;b.length>rt;)st=h(s,at=b[rt++]),st!==void 0&&createProperty(_e,at,st);return _e}});var path$a=path$w,getOwnPropertyDescriptors$2=path$a.Object.getOwnPropertyDescriptors,parent$p=getOwnPropertyDescriptors$2,getOwnPropertyDescriptors$1=parent$p,getOwnPropertyDescriptors=getOwnPropertyDescriptors$1,_Object$getOwnPropertyDescriptors=getDefaultExportFromCjs(getOwnPropertyDescriptors),defineProperties$4={exports:{}},$$9=_export,DESCRIPTORS=descriptors,defineProperties$3=objectDefineProperties.f;$$9({target:"Object",stat:!0,forced:Object.defineProperties!==defineProperties$3,sham:!DESCRIPTORS},{defineProperties:defineProperties$3});var path$9=path$w,Object$2=path$9.Object,defineProperties$2=defineProperties$4.exports=function o(e,s){return Object$2.defineProperties(e,s)};Object$2.defineProperties.sham&&(defineProperties$2.sham=!0);var definePropertiesExports=defineProperties$4.exports,parent$o=definePropertiesExports,defineProperties$1=parent$o,defineProperties=defineProperties$1,_Object$defineProperties=getDefaultExportFromCjs(defineProperties),defineProperty=defineProperty$9,_Object$defineProperty=getDefaultExportFromCjs(defineProperty);function _defineProperty(o,e,s){return e=_toPropertyKey(e),e in o?_Object$defineProperty$1(o,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[e]=s,o}var global$3=global$n,fails$4=fails$w,uncurryThis$3=functionUncurryThis,toString$1=toString$a,trim=stringTrim.trim,whitespaces=whitespaces$3,charAt=uncurryThis$3("".charAt),$parseFloat$1=global$3.parseFloat,Symbol$1=global$3.Symbol,ITERATOR=Symbol$1&&Symbol$1.iterator,FORCED$4=1/$parseFloat$1(whitespaces+"-0")!==-1/0||ITERATOR&&!fails$4(function(){$parseFloat$1(Object(ITERATOR))}),numberParseFloat=FORCED$4?function o(e){var s=trim(toString$1(e)),h=$parseFloat$1(s);return h===0&&charAt(s,0)==="-"?-0:h}:$parseFloat$1,$$8=_export,$parseFloat=numberParseFloat;$$8({global:!0,forced:parseFloat!==$parseFloat},{parseFloat:$parseFloat});var path$8=path$w,_parseFloat$3=path$8.parseFloat,parent$n=_parseFloat$3,_parseFloat$2=parent$n,_parseFloat=_parseFloat$2,_parseFloat$1=getDefaultExportFromCjs(_parseFloat),$$7=_export,fails$3=fails$w,getOwnPropertyNames$3=objectGetOwnPropertyNamesExternal.f,FAILS_ON_PRIMITIVES=fails$3(function(){return!Object.getOwnPropertyNames(1)});$$7({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES},{getOwnPropertyNames:getOwnPropertyNames$3});var path$7=path$w,Object$1=path$7.Object,getOwnPropertyNames$2=function o(e){return Object$1.getOwnPropertyNames(e)},parent$m=getOwnPropertyNames$2,getOwnPropertyNames$1=parent$m,getOwnPropertyNames=getOwnPropertyNames$1,_Object$getOwnPropertyNames=getDefaultExportFromCjs(getOwnPropertyNames);function choosify(o,e){var s=["node","edge","label"],h=!0,b=topMost(e,"chosen");if(typeof b=="boolean")h=b;else if(_typeof(b)==="object"){if(_indexOfInstanceProperty(s).call(s,o)===-1)throw new Error("choosify: subOption '"+o+"' should be one of '"+s.join("', '")+"'");var _e=topMost(e,["chosen",o]);(typeof _e=="boolean"||typeof _e=="function")&&(h=_e)}return h}function pointInRect(o,e,s){if(o.width<=0||o.height<=0)return!1;if(s!==void 0){var h={x:e.x-s.x,y:e.y-s.y};if(s.angle!==0){var b=-s.angle,_e={x:Math.cos(b)*h.x-Math.sin(b)*h.y,y:Math.sin(b)*h.x+Math.cos(b)*h.y};e=_e}else e=h}var rt=o.x+o.width,at=o.y+o.width;return o.left<e.x&&rt>e.x&&o.top<e.y&&at>e.y}function isValidLabel(o){return typeof o=="string"&&o!==""}function getSelfRefCoordinates(o,e,s,h){var b=h.x,_e=h.y;if(typeof h.distanceToBorder=="function"){var rt=h.distanceToBorder(o,e),at=Math.sin(e)*rt,st=Math.cos(e)*rt;st===rt?(b+=rt,_e=h.y):at===rt?(b=h.x,_e-=rt):(b+=st,_e-=at)}else h.shape.width>h.shape.height?(b=h.x+h.shape.width*.5,_e=h.y-s):(b=h.x+s,_e=h.y-h.shape.height*.5);return{x:b,y:_e}}var entryVirtual$3=entryVirtual$i,values$3=entryVirtual$3("Array").values,parent$l=values$3,values$2=parent$l,classof$1=classof$d,hasOwn$2=hasOwnProperty_1,isPrototypeOf$3=objectIsPrototypeOf,method$3=values$2,ArrayPrototype$3=Array.prototype,DOMIterables={DOMTokenList:!0,NodeList:!0},values$1=function(o){var e=o.values;return o===ArrayPrototype$3||isPrototypeOf$3(ArrayPrototype$3,o)&&e===ArrayPrototype$3.values||hasOwn$2(DOMIterables,classof$1(o))?method$3:e},values=values$1,_valuesInstanceProperty=getDefaultExportFromCjs(values),LabelAccumulator=function(){function o(e){_classCallCheck(this,o),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return _createClass(o,[{key:"_add",value:function(s,h){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[s]===void 0&&(this.lines[s]={width:0,height:0,blocks:[]});var _e=h;(h===void 0||h==="")&&(_e=" ");var rt=this.measureText(_e,b),at=_Object$assign({},_valuesInstanceProperty(rt));at.text=h,at.width=rt.width,at.mod=b,(h===void 0||h==="")&&(at.width=0),this.lines[s].blocks.push(at),this.lines[s].width+=at.width}},{key:"curWidth",value:function(){var s=this.lines[this.current];return s===void 0?0:s.width}},{key:"append",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,s,h)}},{key:"newLine",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,s,h),this.current++}},{key:"determineLineHeights",value:function(){for(var s=0;s<this.lines.length;s++){var h=this.lines[s],b=0;if(h.blocks!==void 0)for(var _e=0;_e<h.blocks.length;_e++){var rt=h.blocks[_e];b<rt.height&&(b=rt.height)}h.height=b}}},{key:"determineLabelSize",value:function(){for(var s=0,h=0,b=0;b<this.lines.length;b++){var _e=this.lines[b];_e.width>s&&(s=_e.width),h+=_e.height}this.width=s,this.height=h}},{key:"removeEmptyBlocks",value:function(){for(var s=[],h=0;h<this.lines.length;h++){var b=this.lines[h];if(b.blocks.length!==0&&!(h===this.lines.length-1&&b.width===0)){var _e={};_Object$assign(_e,b),_e.blocks=[];for(var rt=void 0,at=[],st=0;st<b.blocks.length;st++){var ot=b.blocks[st];ot.width!==0?at.push(ot):rt===void 0&&(rt=ot)}at.length===0&&rt!==void 0&&at.push(rt),_e.blocks=at,s.push(_e)}}return s}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var s=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:s}}}]),o}(),tagPattern={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},MarkupAccumulator=function(){function o(e){_classCallCheck(this,o),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return _createClass(o,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(s){s===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),s!=" "&&(this.buffer+=s)}},{key:"parseWS",value:function(s){return/[ \t]/.test(s)?(this.mono?this.add(s):this.spacing=!0,!0):!1}},{key:"setTag",value:function(s){this.emitBlock(),this[s]=!0,this.modStack.unshift(s)}},{key:"unsetTag",value:function(s){this.emitBlock(),this[s]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(s,h){return!this.mono&&!this[s]&&this.match(h)?(this.setTag(s),!0):!1}},{key:"match",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,b=this.prepareRegExp(s),_e=_slicedToArray(b,2),rt=_e[0],at=_e[1],st=rt.test(this.text.substr(this.position,at));return st&&h&&(this.position+=at-1),st}},{key:"parseEndTag",value:function(s,h,b){var _e=this.mod()===s;return s==="mono"?_e=_e&&this.mono:_e=_e&&!this.mono,_e&&this.match(h)?(b!==void 0?(this.position===this.text.length-1||this.match(b,!1))&&this.unsetTag(s):this.unsetTag(s),!0):!1}},{key:"replace",value:function(s,h){return this.match(s)?(this.add(h),this.position+=length-1,!0):!1}},{key:"prepareRegExp",value:function(s){var h,b;if(s instanceof RegExp)b=s,h=1;else{var _e=tagPattern[s];_e!==void 0?b=_e:b=new RegExp(s),h=s.length}return[b,h]}}]),o}(),LabelSplitter=function(){function o(e,s,h,b){var _e=this;_classCallCheck(this,o),this.ctx=e,this.parent=s,this.selected=h,this.hover=b;var rt=function(st,ot){if(st===void 0)return 0;var nt=_e.parent.getFormattingValues(e,h,b,ot),et=0;if(st!==""){var d=_e.ctx.measureText(st);et=d.width}return{width:et,values:nt}};this.lines=new LabelAccumulator(rt)}return _createClass(o,[{key:"process",value:function(s){if(!isValidLabel(s))return this.lines.finalize();var h=this.parent.fontOptions;s=s.replace(/\r\n/g,`
`),s=s.replace(/\r/g,`
`);var b=String(s).split(`
`),_e=b.length;if(h.multi)for(var rt=0;rt<_e;rt++){var at=this.splitBlocks(b[rt],h.multi);if(at!==void 0){if(at.length===0){this.lines.newLine("");continue}if(h.maxWdt>0)for(var st=0;st<at.length;st++){var ot=at[st].mod,nt=at[st].text;this.splitStringIntoLines(nt,ot,!0)}else for(var et=0;et<at.length;et++){var d=at[et].mod,_=at[et].text;this.lines.append(_,d)}this.lines.newLine()}}else if(h.maxWdt>0)for(var tt=0;tt<_e;tt++)this.splitStringIntoLines(b[tt]);else for(var lt=0;lt<_e;lt++)this.lines.newLine(b[lt]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(s){var h="none";return s==="markdown"||s==="md"?h="markdown":(s===!0||s==="html")&&(h="html"),h}},{key:"splitHtmlBlocks",value:function(s){for(var h=new MarkupAccumulator(s),b=function(st){if(/&/.test(st)){var ot=h.replace(h.text,"&lt;","<")||h.replace(h.text,"&amp;","&");return ot||h.add("&"),!0}return!1};h.position<h.text.length;){var _e=h.text.charAt(h.position),rt=h.parseWS(_e)||/</.test(_e)&&(h.parseStartTag("bold","<b>")||h.parseStartTag("ital","<i>")||h.parseStartTag("mono","<code>")||h.parseEndTag("bold","</b>")||h.parseEndTag("ital","</i>")||h.parseEndTag("mono","</code>"))||b(_e);rt||h.add(_e),h.position++}return h.emitBlock(),h.blocks}},{key:"splitMarkdownBlocks",value:function(s){for(var h=this,b=new MarkupAccumulator(s),_e=!0,rt=function(nt){return/\\/.test(nt)?(b.position<h.text.length+1&&(b.position++,nt=h.text.charAt(b.position),/ \t/.test(nt)?b.spacing=!0:(b.add(nt),_e=!1)),!0):!1};b.position<b.text.length;){var at=b.text.charAt(b.position),st=b.parseWS(at)||rt(at)||(_e||b.spacing)&&(b.parseStartTag("bold","*")||b.parseStartTag("ital","_")||b.parseStartTag("mono","`"))||b.parseEndTag("bold","*","afterBold")||b.parseEndTag("ital","_","afterItal")||b.parseEndTag("mono","`","afterMono");st||(b.add(at),_e=!1),b.position++}return b.emitBlock(),b.blocks}},{key:"splitBlocks",value:function(s,h){var b=this.decodeMarkupSystem(h);if(b==="none")return[{text:s,mod:"normal"}];if(b==="markdown")return this.splitMarkdownBlocks(s);if(b==="html")return this.splitHtmlBlocks(s)}},{key:"overMaxWidth",value:function(s){var h=this.ctx.measureText(s).width;return this.lines.curWidth()+h>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(s){for(var h="",b=0;b<s.length;){var _e=h===""?"":" ",rt=h+_e+s[b];if(this.overMaxWidth(rt))break;h=rt,b++}return b}},{key:"getLongestFitWord",value:function(s){for(var h=0;h<s.length&&!this.overMaxWidth(_sliceInstanceProperty(s).call(s,0,h));)h++;return h}},{key:"splitStringIntoLines",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,h),s=s.replace(/^( +)/g,"$1\r"),s=s.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var _e=s.split("\r");_e.length>0;){var rt=this.getLongestFit(_e);if(rt===0){var at=_e[0],st=this.getLongestFitWord(at);this.lines.newLine(_sliceInstanceProperty(at).call(at,0,st),h),_e[0]=_sliceInstanceProperty(at).call(at,st)}else{var ot=rt;_e[rt-1]===" "?rt--:_e[ot]===" "&&ot++;var nt=_sliceInstanceProperty(_e).call(_e,0,rt).join("");rt==_e.length&&b?this.lines.append(nt,h):this.lines.newLine(nt,h),_e=_sliceInstanceProperty(_e).call(_e,ot)}}}}]),o}(),multiFontStyle=["bold","ital","boldital","mono"],Label=function(){function o(e,s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;_classCallCheck(this,o),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(s),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=h}return _createClass(o,[{key:"setOptions",value:function(s){if(this.elementOptions=s,this.initFontOptions(s.font),isValidLabel(s.label)?this.labelDirty=!0:s.label=void 0,s.font!==void 0&&s.font!==null){if(typeof s.font=="string")this.baseSize=this.fontOptions.size;else if(_typeof(s.font)==="object"){var h=s.font.size;h!==void 0&&(this.baseSize=h)}}}},{key:"initFontOptions",value:function(s){var h=this;if(forEach$1(multiFontStyle,function(b){h.fontOptions[b]={}}),o.parseFontString(this.fontOptions,s)){this.fontOptions.vadjust=0;return}forEach$1(s,function(b,_e){b!=null&&_typeof(b)!=="object"&&(h.fontOptions[_e]=b)})}},{key:"constrain",value:function(s){var h={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},b=topMost(s,"widthConstraint");if(typeof b=="number")h.maxWdt=Number(b),h.minWdt=Number(b);else if(_typeof(b)==="object"){var _e=topMost(s,["widthConstraint","maximum"]);typeof _e=="number"&&(h.maxWdt=Number(_e));var rt=topMost(s,["widthConstraint","minimum"]);typeof rt=="number"&&(h.minWdt=Number(rt))}var at=topMost(s,"heightConstraint");if(typeof at=="number")h.minHgt=Number(at);else if(_typeof(at)==="object"){var st=topMost(s,["heightConstraint","minimum"]);typeof st=="number"&&(h.minHgt=Number(st));var ot=topMost(s,["heightConstraint","valign"]);typeof ot=="string"&&(ot==="top"||ot==="bottom")&&(h.valign=ot)}return h}},{key:"update",value:function(s,h){this.setOptions(s,!0),this.propagateFonts(h),deepExtend(this.fontOptions,this.constrain(h)),this.fontOptions.chooser=choosify("label",h)}},{key:"adjustSizes",value:function(s){var h=s?s.right+s.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=h,this.fontOptions.minWdt-=h);var b=s?s.top+s.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=b)}},{key:"addFontOptionsToPile",value:function(s,h){for(var b=0;b<h.length;++b)this.addFontToPile(s,h[b])}},{key:"addFontToPile",value:function(s,h){if(h!==void 0&&!(h.font===void 0||h.font===null)){var b=h.font;s.push(b)}}},{key:"getBasicOptions",value:function(s){for(var h={},b=0;b<s.length;++b){var _e=s[b],rt={};o.parseFontString(rt,_e)&&(_e=rt),forEach$1(_e,function(at,st){at!==void 0&&(Object.prototype.hasOwnProperty.call(h,st)||(_indexOfInstanceProperty(multiFontStyle).call(multiFontStyle,st)!==-1?h[st]={}:h[st]=at))})}return h}},{key:"getFontOption",value:function(s,h,b){for(var _e,rt=0;rt<s.length;++rt){var at=s[rt];if(Object.prototype.hasOwnProperty.call(at,h)){if(_e=at[h],_e==null)continue;var st={};if(o.parseFontString(st,_e)&&(_e=st),Object.prototype.hasOwnProperty.call(_e,b))return _e[b]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,b))return this.fontOptions[b];throw new Error("Did not find value for multi-font for property: '"+b+"'")}},{key:"getFontOptions",value:function(s,h){for(var b={},_e=["color","size","face","mod","vadjust"],rt=0;rt<_e.length;++rt){var at=_e[rt];b[at]=this.getFontOption(s,h,at)}return b}},{key:"propagateFonts",value:function(s){var h=this,b=[];this.addFontOptionsToPile(b,s),this.fontOptions=this.getBasicOptions(b);for(var _e=function(){var st=multiFontStyle[rt],ot=h.fontOptions[st],nt=h.getFontOptions(b,st);forEach$1(nt,function(et,d){ot[d]=et}),ot.size=Number(ot.size),ot.vadjust=Number(ot.vadjust)},rt=0;rt<multiFontStyle.length;++rt)_e()}},{key:"draw",value:function(s,h,b,_e,rt){var at=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var st=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&st<this.elementOptions.scaling.label.drawThreshold-1||(st>=this.elementOptions.scaling.label.maxVisible&&(st=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(s,_e,rt,h,b,at),this._drawBackground(s),this._drawText(s,h,this.size.yLine,at,st))}}},{key:"_drawBackground",value:function(s){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){s.fillStyle=this.fontOptions.background;var h=this.getSize();s.fillRect(h.left,h.top,h.width,h.height)}}},{key:"_drawText",value:function(s,h,b){var _e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",rt=arguments.length>4?arguments[4]:void 0,at=this._setAlignment(s,h,b,_e),st=_slicedToArray(at,2);h=st[0],b=st[1],s.textAlign="left",h=h-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(b-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(b+=(this.size.height-this.size.labelHeight)/2));for(var ot=0;ot<this.lineCount;ot++){var nt=this.lines[ot];if(nt&&nt.blocks){var et=0;this.isEdgeLabel||this.fontOptions.align==="center"?et+=(this.size.width-nt.width)/2:this.fontOptions.align==="right"&&(et+=this.size.width-nt.width);for(var d=0;d<nt.blocks.length;d++){var _=nt.blocks[d];s.font=_.font;var tt=this._getColor(_.color,rt,_.strokeColor),lt=_slicedToArray(tt,2),ut=lt[0],ct=lt[1];_.strokeWidth>0&&(s.lineWidth=_.strokeWidth,s.strokeStyle=ct,s.lineJoin="round"),s.fillStyle=ut,_.strokeWidth>0&&s.strokeText(_.text,h+et,b+_.vadjust),s.fillText(_.text,h+et,b+_.vadjust),et+=_.width}b+=nt.height}}}},{key:"_setAlignment",value:function(s,h,b,_e){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){h=0,b=0;var rt=2;this.fontOptions.align==="top"?(s.textBaseline="alphabetic",b-=2*rt):this.fontOptions.align==="bottom"?(s.textBaseline="hanging",b+=2*rt):s.textBaseline="middle"}else s.textBaseline=_e;return[h,b]}},{key:"_getColor",value:function(s,h,b){var _e=s||"#000000",rt=b||"#ffffff";if(h<=this.elementOptions.scaling.label.drawThreshold){var at=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-h)));_e=overrideOpacity(_e,at),rt=overrideOpacity(rt,at)}return[_e,rt]}},{key:"getTextSize",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(s,h,b),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var s=2,h=this.size.left,b=this.size.top-.5*s;if(this.isEdgeLabel){var _e=-this.size.width*.5;switch(this.fontOptions.align){case"middle":h=_e,b=-this.size.height*.5;break;case"top":h=_e,b=-(this.size.height+s);break;case"bottom":h=_e,b=s;break}}var rt={left:h,top:b,width:this.size.width,height:this.size.height};return rt}},{key:"calculateLabelSize",value:function(s,h,b){var _e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,at=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(s,h,b),this.size.left=_e-this.size.width*.5,this.size.top=rt-this.size.height*.5,this.size.yLine=rt+(1-this.lineCount)*.5*this.fontOptions.size,at==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(s,h,b,_e){var rt=function(nt,et,d){return et==="normal"?d==="mod"?"":nt[d]:nt[et][d]!==void 0?nt[et][d]:nt[d]},at={color:rt(this.fontOptions,_e,"color"),size:rt(this.fontOptions,_e,"size"),face:rt(this.fontOptions,_e,"face"),mod:rt(this.fontOptions,_e,"mod"),vadjust:rt(this.fontOptions,_e,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(h||b)&&(_e==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?at.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(at,this.elementOptions.id,h,b));var st="";return at.mod!==void 0&&at.mod!==""&&(st+=at.mod+" "),st+=at.size+"px "+at.face,s.font=st.replace(/"/g,""),at.font=s.font,at.height=at.size,at}},{key:"differentState",value:function(s,h){return s!==this.selectedState||h!==this.hoverState}},{key:"_processLabelText",value:function(s,h,b,_e){var rt=new LabelSplitter(s,this,h,b);return rt.process(_e)}},{key:"_processLabel",value:function(s,h,b){if(!(this.labelDirty===!1&&!this.differentState(h,b))){var _e=this._processLabelText(s,h,b,this.elementOptions.label);this.fontOptions.minWdt>0&&_e.width<this.fontOptions.minWdt&&(_e.width=this.fontOptions.minWdt),this.size.labelHeight=_e.height,this.fontOptions.minHgt>0&&_e.height<this.fontOptions.minHgt&&(_e.height=this.fontOptions.minHgt),this.lines=_e.lines,this.lineCount=_e.lines.length,this.size.width=_e.width,this.size.height=_e.height,this.selectedState=h,this.hoverState=b,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var s=this.fontOptions.size*this.body.view.scale;return!(s<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(s,h){if(!h||typeof h!="string")return!1;var b=h.split(" ");return s.size=+b[0].replace("px",""),s.face=b[1],s.color=b[2],!0}}]),o}(),isConstructor=isConstructor$4,tryToString=tryToString$6,$TypeError$1=TypeError,aConstructor$1=function(o){if(isConstructor(o))return o;throw new $TypeError$1(tryToString(o)+" is not a constructor")},$$6=_export,getBuiltIn=getBuiltIn$c,apply=functionApply,bind$3=functionBind,aConstructor=aConstructor$1,anObject$2=anObject$d,isObject$3=isObject$j,create$3=objectCreate,fails$2=fails$w,nativeConstruct=getBuiltIn("Reflect","construct"),ObjectPrototype=Object.prototype,push$1=[].push,NEW_TARGET_BUG=fails$2(function(){function o(){}return!(nativeConstruct(function(){},[],o)instanceof o)}),ARGS_BUG=!fails$2(function(){nativeConstruct(function(){})}),FORCED$3=NEW_TARGET_BUG||ARGS_BUG;$$6({target:"Reflect",stat:!0,forced:FORCED$3,sham:FORCED$3},{construct:function o(e,s){aConstructor(e),anObject$2(s);var h=arguments.length<3?e:aConstructor(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return nativeConstruct(e,s,h);if(e===h){switch(s.length){case 0:return new e;case 1:return new e(s[0]);case 2:return new e(s[0],s[1]);case 3:return new e(s[0],s[1],s[2]);case 4:return new e(s[0],s[1],s[2],s[3])}var b=[null];return apply(push$1,b,s),new(apply(bind$3,e,b))}var _e=h.prototype,rt=create$3(isObject$3(_e)?_e:ObjectPrototype),at=apply(e,rt,s);return isObject$3(at)?at:rt}});var path$6=path$w,construct$2=path$6.Reflect.construct,parent$k=construct$2,construct$1=parent$k,construct=construct$1,_Reflect$construct=getDefaultExportFromCjs(construct),parent$j=create$6,create$2=parent$j,parent$i=create$2,create$1=parent$i,create=create$1,_Object$create=getDefaultExportFromCjs(create),$$5=_export,setPrototypeOf$5=objectSetPrototypeOf;$$5({target:"Object",stat:!0},{setPrototypeOf:setPrototypeOf$5});var path$5=path$w,setPrototypeOf$4=path$5.Object.setPrototypeOf,parent$h=setPrototypeOf$4,setPrototypeOf$3=parent$h,parent$g=setPrototypeOf$3,setPrototypeOf$2=parent$g,parent$f=setPrototypeOf$2,setPrototypeOf$1=parent$f,setPrototypeOf=setPrototypeOf$1,_Object$setPrototypeOf=getDefaultExportFromCjs(setPrototypeOf),parent$e=bind$9,bind$2=parent$e,parent$d=bind$2,bind$1=parent$d,bind=bind$1,_bindInstanceProperty=getDefaultExportFromCjs(bind);function _setPrototypeOf(o,e){var s;return _setPrototypeOf=_Object$setPrototypeOf?_bindInstanceProperty(s=_Object$setPrototypeOf).call(s):function(b,_e){return b.__proto__=_e,b},_setPrototypeOf(o,e)}function _inherits(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=_Object$create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),_Object$defineProperty$1(o,"prototype",{writable:!1}),e&&_setPrototypeOf(o,e)}function _assertThisInitialized(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _possibleConstructorReturn(o,e){if(e&&(_typeof(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(o)}var parent$c=getPrototypeOf$5,getPrototypeOf$3=parent$c,parent$b=getPrototypeOf$3,getPrototypeOf$2=parent$b,getPrototypeOf$1=getPrototypeOf$2,_Object$getPrototypeOf=getDefaultExportFromCjs(getPrototypeOf$1);function _getPrototypeOf(o){var e;return _getPrototypeOf=_Object$setPrototypeOf?_bindInstanceProperty(e=_Object$getPrototypeOf).call(e):function(h){return h.__proto__||_Object$getPrototypeOf(h)},_getPrototypeOf(o)}var NodeBase=function(){function o(e,s,h){_classCallCheck(this,o),this.body=s,this.labelModule=h,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return _createClass(o,[{key:"setOptions",value:function(s){this.options=s}},{key:"_setMargins",value:function(s){this.margin={},this.options.margin&&(_typeof(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),s.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(s,h){var b=this.options.borderWidth;return s&&this.resize(s),Math.min(Math.abs(this.width/2/Math.cos(h)),Math.abs(this.height/2/Math.sin(h)))+b}},{key:"enableShadow",value:function(s,h){h.shadow&&(s.shadowColor=h.shadowColor,s.shadowBlur=h.shadowSize,s.shadowOffsetX=h.shadowX,s.shadowOffsetY=h.shadowY)}},{key:"disableShadow",value:function(s,h){h.shadow&&(s.shadowColor="rgba(0,0,0,0)",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(s,h){if(h.borderDashes!==!1)if(s.setLineDash!==void 0){var b=h.borderDashes;b===!0&&(b=[5,15]),s.setLineDash(b)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,h.borderDashes=!1}},{key:"disableBorderDashes",value:function(s,h){h.borderDashes!==!1&&(s.setLineDash!==void 0?s.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,h.borderDashes=!1))}},{key:"needsRefresh",value:function(s,h){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(s,h)}},{key:"initContextForDraw",value:function(s,h){var b=h.borderWidth/this.body.view.scale;s.lineWidth=Math.min(this.width,b),s.strokeStyle=h.borderColor,s.fillStyle=h.color}},{key:"performStroke",value:function(s,h){var b=h.borderWidth/this.body.view.scale;s.save(),b>0&&(this.enableBorderDashes(s,h),s.stroke(),this.disableBorderDashes(s,h)),s.restore()}},{key:"performFill",value:function(s,h){s.save(),s.fillStyle=h.color,this.enableShadow(s,h),_fillInstanceProperty(s).call(s),this.disableShadow(s,h),s.restore(),this.performStroke(s,h)}},{key:"_addBoundingBoxMargin",value:function(s){this.boundingBox.left-=s,this.boundingBox.top-=s,this.boundingBox.bottom+=s,this.boundingBox.right+=s}},{key:"_updateBoundingBox",value:function(s,h,b,_e,rt){b!==void 0&&this.resize(b,_e,rt),this.left=s-this.width/2,this.top=h-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(s,h,b,_e,rt){this._updateBoundingBox(s,h,b,_e,rt)}},{key:"getDimensionsFromLabel",value:function(s,h,b){this.textSize=this.labelModule.getTextSize(s,h,b);var _e=this.textSize.width,rt=this.textSize.height,at=14;return _e===0&&(_e=at,rt=at),{width:_e,height:rt}}}]),o}();function _createSuper$s(o){var e=_isNativeReflectConstruct$s();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$s(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Box$1=function(o){_inherits(s,o);var e=_createSuper$s(s);function s(h,b,_e){var rt;return _classCallCheck(this,s),rt=e.call(this,h,b,_e),rt._setMargins(_e),rt}return _createClass(s,[{key:"resize",value:function(b){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(_e,rt)){var at=this.getDimensionsFromLabel(b,_e,rt);this.width=at.width+this.margin.right+this.margin.left,this.height=at.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(b,_e,rt,at,st,ot){this.resize(b,at,st),this.left=_e-this.width/2,this.top=rt-this.height/2,this.initContextForDraw(b,ot),drawRoundRect(b,this.left,this.top,this.width,this.height,ot.borderRadius),this.performFill(b,ot),this.updateBoundingBox(_e,rt,b,at,st),this.labelModule.draw(b,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,at,st)}},{key:"updateBoundingBox",value:function(b,_e,rt,at,st){this._updateBoundingBox(b,_e,rt,at,st);var ot=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(ot)}},{key:"distanceToBorder",value:function(b,_e){b&&this.resize(b);var rt=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(_e)),Math.abs(this.height/2/Math.sin(_e)))+rt}}]),s}(NodeBase);function _createSuper$r(o){var e=_isNativeReflectConstruct$r();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$r(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var CircleImageBase=function(o){_inherits(s,o);var e=_createSuper$r(s);function s(h,b,_e){var rt;return _classCallCheck(this,s),rt=e.call(this,h,b,_e),rt.labelOffset=0,rt.selected=!1,rt}return _createClass(s,[{key:"setOptions",value:function(b,_e,rt){this.options=b,_e===void 0&&rt===void 0||this.setImages(_e,rt)}},{key:"setImages",value:function(b,_e){_e&&this.selected?(this.imageObj=_e,this.imageObjAlt=b):(this.imageObj=b,this.imageObjAlt=_e)}},{key:"switchImages",value:function(b){var _e=b&&!this.selected||!b&&this.selected;if(this.selected=b,this.imageObjAlt!==void 0&&_e){var rt=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=rt}}},{key:"_getImagePadding",value:function(){var b={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var _e=this.options.imagePadding;_typeof(_e)=="object"?(b.top=_e.top,b.right=_e.right,b.bottom=_e.bottom,b.left=_e.left):(b.top=_e,b.right=_e,b.bottom=_e,b.left=_e)}return b}},{key:"_resizeImage",value:function(){var b,_e;if(this.options.shapeProperties.useImageSize===!1){var rt=1,at=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?rt=this.imageObj.width/this.imageObj.height:at=this.imageObj.height/this.imageObj.width),b=this.options.size*2*rt,_e=this.options.size*2*at}else{var st=this._getImagePadding();b=this.imageObj.width+st.left+st.right,_e=this.imageObj.height+st.top+st.bottom}this.width=b,this.height=_e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(b,_e,rt,at){this.initContextForDraw(b,at),drawCircle(b,_e,rt,at.size),this.performFill(b,at)}},{key:"_drawImageAtPosition",value:function(b,_e){if(this.imageObj.width!=0){b.globalAlpha=_e.opacity!==void 0?_e.opacity:1,this.enableShadow(b,_e);var rt=1;this.options.shapeProperties.interpolation===!0&&(rt=this.imageObj.width/this.width/this.body.view.scale);var at=this._getImagePadding(),st=this.left+at.left,ot=this.top+at.top,nt=this.width-at.left-at.right,et=this.height-at.top-at.bottom;this.imageObj.drawImageAtPosition(b,rt,st,ot,nt,et),this.disableShadow(b,_e)}}},{key:"_drawImageLabel",value:function(b,_e,rt,at,st){var ot=0;if(this.height!==void 0){ot=this.height*.5;var nt=this.labelModule.getTextSize(b,at,st);nt.lineCount>=1&&(ot+=nt.height/2)}var et=rt+ot;this.options.label&&(this.labelOffset=ot),this.labelModule.draw(b,_e,et,at,st,"hanging")}}]),s}(NodeBase);function _createSuper$q(o){var e=_isNativeReflectConstruct$q();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$q(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Circle$1=function(o){_inherits(s,o);var e=_createSuper$q(s);function s(h,b,_e){var rt;return _classCallCheck(this,s),rt=e.call(this,h,b,_e),rt._setMargins(_e),rt}return _createClass(s,[{key:"resize",value:function(b){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(_e,rt)){var at=this.getDimensionsFromLabel(b,_e,rt),st=Math.max(at.width+this.margin.right+this.margin.left,at.height+this.margin.top+this.margin.bottom);this.options.size=st/2,this.width=st,this.height=st,this.radius=this.width/2}}},{key:"draw",value:function(b,_e,rt,at,st,ot){this.resize(b,at,st),this.left=_e-this.width/2,this.top=rt-this.height/2,this._drawRawCircle(b,_e,rt,ot),this.updateBoundingBox(_e,rt),this.labelModule.draw(b,this.left+this.textSize.width/2+this.margin.left,rt,at,st)}},{key:"updateBoundingBox",value:function(b,_e){this.boundingBox.top=_e-this.options.size,this.boundingBox.left=b-this.options.size,this.boundingBox.right=b+this.options.size,this.boundingBox.bottom=_e+this.options.size}},{key:"distanceToBorder",value:function(b){return b&&this.resize(b),this.width*.5}}]),s}(CircleImageBase);function _createSuper$p(o){var e=_isNativeReflectConstruct$p();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$p(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var CircularImage=function(o){_inherits(s,o);var e=_createSuper$p(s);function s(h,b,_e,rt,at){var st;return _classCallCheck(this,s),st=e.call(this,h,b,_e),st.setImages(rt,at),st}return _createClass(s,[{key:"resize",value:function(b){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,at=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(at){var st=this.options.size*2;this.width=st,this.height=st,this.radius=.5*this.width;return}this.needsRefresh(_e,rt)&&this._resizeImage()}},{key:"draw",value:function(b,_e,rt,at,st,ot){this.switchImages(at),this.resize();var nt=_e,et=rt;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=_e,this.top=rt,nt+=this.width/2,et+=this.height/2):(this.left=_e-this.width/2,this.top=rt-this.height/2),this._drawRawCircle(b,nt,et,ot),b.save(),b.clip(),this._drawImageAtPosition(b,ot),b.restore(),this._drawImageLabel(b,nt,et,at,st),this.updateBoundingBox(_e,rt)}},{key:"updateBoundingBox",value:function(b,_e){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=_e,this.boundingBox.left=b,this.boundingBox.right=b+this.options.size*2,this.boundingBox.bottom=_e+this.options.size*2):(this.boundingBox.top=_e-this.options.size,this.boundingBox.left=b-this.options.size,this.boundingBox.right=b+this.options.size,this.boundingBox.bottom=_e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(b){return b&&this.resize(b),this.width*.5}}]),s}(CircleImageBase);function _createSuper$o(o){var e=_isNativeReflectConstruct$o();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$o(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var ShapeBase=function(o){_inherits(s,o);var e=_createSuper$o(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"resize",value:function(b){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(_e,rt)){var st,ot;this.labelModule.getTextSize(b,_e,rt);var nt=2*at.size;this.width=(st=this.customSizeWidth)!==null&&st!==void 0?st:nt,this.height=(ot=this.customSizeHeight)!==null&&ot!==void 0?ot:nt,this.radius=.5*this.width}}},{key:"_drawShape",value:function(b,_e,rt,at,st,ot,nt,et){var d=this;return this.resize(b,ot,nt,et),this.left=at-this.width/2,this.top=st-this.height/2,this.initContextForDraw(b,et),getShape(_e)(b,at,st,et.size),this.performFill(b,et),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(b.font=(ot?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),b.fillStyle=this.options.icon.color||"black",b.textAlign="center",b.textBaseline="middle",b.fillText(this.options.icon.code,at,st)),{drawExternalLabel:function(){if(d.options.label!==void 0){d.labelModule.calculateLabelSize(b,ot,nt,at,st,"hanging");var tt=st+.5*d.height+.5*d.labelModule.size.height;d.labelModule.draw(b,at,tt,ot,nt,"hanging")}d.updateBoundingBox(at,st)}}}},{key:"updateBoundingBox",value:function(b,_e){this.boundingBox.top=_e-this.options.size,this.boundingBox.left=b-this.options.size,this.boundingBox.right=b+this.options.size,this.boundingBox.bottom=_e+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),s}(NodeBase);function ownKeys$3(o,e){var s=_Object$keys(o);if(_Object$getOwnPropertySymbols){var h=_Object$getOwnPropertySymbols(o);e&&(h=_filterInstanceProperty(h).call(h,function(b){return _Object$getOwnPropertyDescriptor$1(o,b).enumerable})),s.push.apply(s,h)}return s}function _objectSpread$3(o){for(var e=1;e<arguments.length;e++){var s,h,b=arguments[e]!=null?arguments[e]:{};e%2?_forEachInstanceProperty(s=ownKeys$3(Object(b),!0)).call(s,function(_e){_defineProperty(o,_e,b[_e])}):_Object$getOwnPropertyDescriptors?_Object$defineProperties(o,_Object$getOwnPropertyDescriptors(b)):_forEachInstanceProperty(h=ownKeys$3(Object(b))).call(h,function(_e){_Object$defineProperty(o,_e,_Object$getOwnPropertyDescriptor$1(b,_e))})}return o}function _createSuper$n(o){var e=_isNativeReflectConstruct$n();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$n(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var CustomShape=function(o){_inherits(s,o);var e=_createSuper$n(s);function s(h,b,_e,rt){var at;return _classCallCheck(this,s),at=e.call(this,h,b,_e,rt),at.ctxRenderer=rt,at}return _createClass(s,[{key:"draw",value:function(b,_e,rt,at,st,ot){this.resize(b,at,st,ot),this.left=_e-this.width/2,this.top=rt-this.height/2,b.save();var nt=this.ctxRenderer({ctx:b,id:this.options.id,x:_e,y:rt,state:{selected:at,hover:st},style:_objectSpread$3({},ot),label:this.options.label});if(nt.drawNode!=null&&nt.drawNode(),b.restore(),nt.drawExternalLabel){var et=nt.drawExternalLabel;nt.drawExternalLabel=function(){b.save(),et(),b.restore()}}return nt.nodeDimensions&&(this.customSizeWidth=nt.nodeDimensions.width,this.customSizeHeight=nt.nodeDimensions.height),nt}},{key:"distanceToBorder",value:function(b,_e){return this._distanceToBorder(b,_e)}}]),s}(ShapeBase);function _createSuper$m(o){var e=_isNativeReflectConstruct$m();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$m(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Database=function(o){_inherits(s,o);var e=_createSuper$m(s);function s(h,b,_e){var rt;return _classCallCheck(this,s),rt=e.call(this,h,b,_e),rt._setMargins(_e),rt}return _createClass(s,[{key:"resize",value:function(b,_e,rt){if(this.needsRefresh(_e,rt)){var at=this.getDimensionsFromLabel(b,_e,rt),st=at.width+this.margin.right+this.margin.left;this.width=st,this.height=st,this.radius=this.width/2}}},{key:"draw",value:function(b,_e,rt,at,st,ot){this.resize(b,at,st),this.left=_e-this.width/2,this.top=rt-this.height/2,this.initContextForDraw(b,ot),drawDatabase(b,_e-this.width/2,rt-this.height/2,this.width,this.height),this.performFill(b,ot),this.updateBoundingBox(_e,rt,b,at,st),this.labelModule.draw(b,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,at,st)}},{key:"distanceToBorder",value:function(b,_e){return this._distanceToBorder(b,_e)}}]),s}(NodeBase);function _createSuper$l(o){var e=_isNativeReflectConstruct$l();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$l(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Diamond$1=function(o){_inherits(s,o);var e=_createSuper$l(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"draw",value:function(b,_e,rt,at,st,ot){return this._drawShape(b,"diamond",4,_e,rt,at,st,ot)}},{key:"distanceToBorder",value:function(b,_e){return this._distanceToBorder(b,_e)}}]),s}(ShapeBase);function _createSuper$k(o){var e=_isNativeReflectConstruct$k();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$k(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Dot=function(o){_inherits(s,o);var e=_createSuper$k(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"draw",value:function(b,_e,rt,at,st,ot){return this._drawShape(b,"circle",2,_e,rt,at,st,ot)}},{key:"distanceToBorder",value:function(b){return b&&this.resize(b),this.options.size}}]),s}(ShapeBase);function _createSuper$j(o){var e=_isNativeReflectConstruct$j();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$j(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Ellipse=function(o){_inherits(s,o);var e=_createSuper$j(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"resize",value:function(b){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(_e,rt)){var at=this.getDimensionsFromLabel(b,_e,rt);this.height=at.height*2,this.width=at.width+at.height,this.radius=.5*this.width}}},{key:"draw",value:function(b,_e,rt,at,st,ot){this.resize(b,at,st),this.left=_e-this.width*.5,this.top=rt-this.height*.5,this.initContextForDraw(b,ot),drawEllipse(b,this.left,this.top,this.width,this.height),this.performFill(b,ot),this.updateBoundingBox(_e,rt,b,at,st),this.labelModule.draw(b,_e,rt,at,st)}},{key:"distanceToBorder",value:function(b,_e){b&&this.resize(b);var rt=this.width*.5,at=this.height*.5,st=Math.sin(_e)*rt,ot=Math.cos(_e)*at;return rt*at/Math.sqrt(st*st+ot*ot)}}]),s}(NodeBase);function _createSuper$i(o){var e=_isNativeReflectConstruct$i();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$i(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Icon=function(o){_inherits(s,o);var e=_createSuper$i(s);function s(h,b,_e){var rt;return _classCallCheck(this,s),rt=e.call(this,h,b,_e),rt._setMargins(_e),rt}return _createClass(s,[{key:"resize",value:function(b,_e,rt){this.needsRefresh(_e,rt)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(b,_e,rt,at,st,ot){var nt=this;return this.resize(b,at,st),this.options.icon.size=this.options.icon.size||50,this.left=_e-this.width/2,this.top=rt-this.height/2,this._icon(b,_e,rt,at,st,ot),{drawExternalLabel:function(){if(nt.options.label!==void 0){var d=5;nt.labelModule.draw(b,nt.left+nt.iconSize.width/2+nt.margin.left,rt+nt.height/2+d,at)}nt.updateBoundingBox(_e,rt)}}}},{key:"updateBoundingBox",value:function(b,_e){if(this.boundingBox.top=_e-this.options.icon.size*.5,this.boundingBox.left=b-this.options.icon.size*.5,this.boundingBox.right=b+this.options.icon.size*.5,this.boundingBox.bottom=_e+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var rt=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+rt)}}},{key:"_icon",value:function(b,_e,rt,at,st,ot){var nt=Number(this.options.icon.size);this.options.icon.code!==void 0?(b.font=[this.options.icon.weight!=null?this.options.icon.weight:at?"bold":"",(this.options.icon.weight!=null&&at?5:0)+nt+"px",this.options.icon.face].join(" "),b.fillStyle=this.options.icon.color||"black",b.textAlign="center",b.textBaseline="middle",this.enableShadow(b,ot),b.fillText(this.options.icon.code,_e,rt),this.disableShadow(b,ot)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(b,_e){return this._distanceToBorder(b,_e)}}]),s}(NodeBase);function _createSuper$h(o){var e=_isNativeReflectConstruct$h();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$h(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Image$2=function(o){_inherits(s,o);var e=_createSuper$h(s);function s(h,b,_e,rt,at){var st;return _classCallCheck(this,s),st=e.call(this,h,b,_e),st.setImages(rt,at),st}return _createClass(s,[{key:"resize",value:function(b){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,at=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(at){var st=this.options.size*2;this.width=st,this.height=st;return}this.needsRefresh(_e,rt)&&this._resizeImage()}},{key:"draw",value:function(b,_e,rt,at,st,ot){b.save(),this.switchImages(at),this.resize();var nt=_e,et=rt;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=_e,this.top=rt,nt+=this.width/2,et+=this.height/2):(this.left=_e-this.width/2,this.top=rt-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var d=this.options.borderWidth,_=this.options.borderWidthSelected||2*this.options.borderWidth,tt=(at?_:d)/this.body.view.scale;b.lineWidth=Math.min(this.width,tt),b.beginPath();var lt=at?this.options.color.highlight.border:st?this.options.color.hover.border:this.options.color.border,ut=at?this.options.color.highlight.background:st?this.options.color.hover.background:this.options.color.background;ot.opacity!==void 0&&(lt=overrideOpacity(lt,ot.opacity),ut=overrideOpacity(ut,ot.opacity)),b.strokeStyle=lt,b.fillStyle=ut,b.rect(this.left-.5*b.lineWidth,this.top-.5*b.lineWidth,this.width+b.lineWidth,this.height+b.lineWidth),_fillInstanceProperty(b).call(b),this.performStroke(b,ot),b.closePath()}this._drawImageAtPosition(b,ot),this._drawImageLabel(b,nt,et,at,st),this.updateBoundingBox(_e,rt),b.restore()}},{key:"updateBoundingBox",value:function(b,_e){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=b,this.top=_e):(this.left=b-this.width/2,this.top=_e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(b,_e){return this._distanceToBorder(b,_e)}}]),s}(CircleImageBase);function _createSuper$g(o){var e=_isNativeReflectConstruct$g();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$g(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Square=function(o){_inherits(s,o);var e=_createSuper$g(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"draw",value:function(b,_e,rt,at,st,ot){return this._drawShape(b,"square",2,_e,rt,at,st,ot)}},{key:"distanceToBorder",value:function(b,_e){return this._distanceToBorder(b,_e)}}]),s}(ShapeBase);function _createSuper$f(o){var e=_isNativeReflectConstruct$f();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$f(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Hexagon=function(o){_inherits(s,o);var e=_createSuper$f(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"draw",value:function(b,_e,rt,at,st,ot){return this._drawShape(b,"hexagon",4,_e,rt,at,st,ot)}},{key:"distanceToBorder",value:function(b,_e){return this._distanceToBorder(b,_e)}}]),s}(ShapeBase);function _createSuper$e(o){var e=_isNativeReflectConstruct$e();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$e(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Star=function(o){_inherits(s,o);var e=_createSuper$e(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"draw",value:function(b,_e,rt,at,st,ot){return this._drawShape(b,"star",4,_e,rt,at,st,ot)}},{key:"distanceToBorder",value:function(b,_e){return this._distanceToBorder(b,_e)}}]),s}(ShapeBase);function _createSuper$d(o){var e=_isNativeReflectConstruct$d();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$d(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Text=function(o){_inherits(s,o);var e=_createSuper$d(s);function s(h,b,_e){var rt;return _classCallCheck(this,s),rt=e.call(this,h,b,_e),rt._setMargins(_e),rt}return _createClass(s,[{key:"resize",value:function(b,_e,rt){this.needsRefresh(_e,rt)&&(this.textSize=this.labelModule.getTextSize(b,_e,rt),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(b,_e,rt,at,st,ot){this.resize(b,at,st),this.left=_e-this.width/2,this.top=rt-this.height/2,this.enableShadow(b,ot),this.labelModule.draw(b,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,at,st),this.disableShadow(b,ot),this.updateBoundingBox(_e,rt,b,at,st)}},{key:"distanceToBorder",value:function(b,_e){return this._distanceToBorder(b,_e)}}]),s}(NodeBase);function _createSuper$c(o){var e=_isNativeReflectConstruct$c();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$c(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Triangle$1=function(o){_inherits(s,o);var e=_createSuper$c(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"draw",value:function(b,_e,rt,at,st,ot){return this._drawShape(b,"triangle",3,_e,rt,at,st,ot)}},{key:"distanceToBorder",value:function(b,_e){return this._distanceToBorder(b,_e)}}]),s}(ShapeBase);function _createSuper$b(o){var e=_isNativeReflectConstruct$b();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$b(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var TriangleDown=function(o){_inherits(s,o);var e=_createSuper$b(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"draw",value:function(b,_e,rt,at,st,ot){return this._drawShape(b,"triangleDown",3,_e,rt,at,st,ot)}},{key:"distanceToBorder",value:function(b,_e){return this._distanceToBorder(b,_e)}}]),s}(ShapeBase);function ownKeys$2(o,e){var s=_Object$keys(o);if(_Object$getOwnPropertySymbols){var h=_Object$getOwnPropertySymbols(o);e&&(h=_filterInstanceProperty(h).call(h,function(b){return _Object$getOwnPropertyDescriptor$1(o,b).enumerable})),s.push.apply(s,h)}return s}function _objectSpread$2(o){for(var e=1;e<arguments.length;e++){var s,h,b=arguments[e]!=null?arguments[e]:{};e%2?_forEachInstanceProperty(s=ownKeys$2(Object(b),!0)).call(s,function(_e){_defineProperty(o,_e,b[_e])}):_Object$getOwnPropertyDescriptors?_Object$defineProperties(o,_Object$getOwnPropertyDescriptors(b)):_forEachInstanceProperty(h=ownKeys$2(Object(b))).call(h,function(_e){_Object$defineProperty(o,_e,_Object$getOwnPropertyDescriptor$1(b,_e))})}return o}var Node=function(){function o(e,s,h,b,_e,rt){_classCallCheck(this,o),this.options=bridgeObject(_e),this.globalOptions=_e,this.defaultOptions=rt,this.body=s,this.edges=[],this.id=void 0,this.imagelist=h,this.grouplist=b,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Label(this.body,this.options,!1),this.setOptions(e)}return _createClass(o,[{key:"attachEdge",value:function(s){var h;_indexOfInstanceProperty(h=this.edges).call(h,s)===-1&&this.edges.push(s)}},{key:"detachEdge",value:function(s){var h,b=_indexOfInstanceProperty(h=this.edges).call(h,s);if(b!=-1){var _e;_spliceInstanceProperty(_e=this.edges).call(_e,b,1)}}},{key:"setOptions",value:function(s){var h=this.options.shape;if(s){if(typeof s.color<"u"&&(this._localColor=s.color),s.id!==void 0&&(this.id=s.id),this.id===void 0)throw new Error("Node must have an id");o.checkMass(s,this.id),s.x!==void 0&&(s.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=_parseInt$1(s.x),this.predefinedPosition=!0)),s.y!==void 0&&(s.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=_parseInt$1(s.y),this.predefinedPosition=!0)),s.size!==void 0&&(this.baseSize=s.size),s.value!==void 0&&(s.value=_parseFloat$1(s.value)),o.parseOptions(this.options,s,!0,this.globalOptions,this.grouplist);var b=[s,this.options,this.defaultOptions];return this.chooser=choosify("node",b),this._load_images(),this.updateLabelModule(s),s.opacity!==void 0&&o.checkOpacity(s.opacity)&&(this.options.opacity=s.opacity),this.updateShape(h),s.hidden!==void 0||s.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var s={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?s.borderWidth=this.options.borderWidthSelected:s.borderWidth*=2,s.color=this.options.color.highlight.background,s.borderColor=this.options.color.highlight.border,s.shadow=this.options.shadow.enabled):this.hover&&(s.color=this.options.color.hover.background,s.borderColor=this.options.color.hover.border,s.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0)):s.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var h=this.options.opacity;s.borderColor=overrideOpacity(s.borderColor,h),s.color=overrideOpacity(s.color,h),s.shadowColor=overrideOpacity(s.shadowColor,h)}return s}},{key:"updateLabelModule",value:function(s){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),o.updateGroupOptions(this.options,_objectSpread$2(_objectSpread$2({},s),{},{color:s&&s.color||this._localColor||void 0}),this.grouplist);var h=this.grouplist.get(this.options.group,!1),b=[s,this.options,h,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,b),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(s){if(s===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Box$1(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Circle$1(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new CircularImage(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new CustomShape(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Database(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Diamond$1(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Dot(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Ellipse(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Icon(this.options,this.body,this.labelModule);break;case"image":this.shape=new Image$2(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Square(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Hexagon(this.options,this.body,this.labelModule);break;case"star":this.shape=new Star(this.options,this.body,this.labelModule);break;case"text":this.shape=new Text(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Triangle$1(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new TriangleDown(this.options,this.body,this.labelModule);break;default:this.shape=new Ellipse(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(s,h){return this.shape.distanceToBorder(s,h)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(s,h,b){if(this.options.value!==void 0){var _e=this.options.scaling.customScalingFunction(s,h,b,this.options.value),rt=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var at=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+_e*at}this.options.size=this.options.scaling.min+_e*rt}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(s){var h=this.getFormattingValues();return this.shape.draw(s,this.x,this.y,this.selected,this.hover,h)||{}}},{key:"updateBoundingBox",value:function(s){this.shape.updateBoundingBox(this.x,this.y,s)}},{key:"resize",value:function(s){var h=this.getFormattingValues();this.shape.resize(s,this.selected,this.hover,h)}},{key:"getItemsOnPoint",value:function(s){var h=[];return this.labelModule.visible()&&pointInRect(this.labelModule.getSize(),s)&&h.push({nodeId:this.id,labelId:0}),pointInRect(this.shape.boundingBox,s)&&h.push({nodeId:this.id}),h}},{key:"isOverlappingWith",value:function(s){return this.shape.left<s.right&&this.shape.left+this.shape.width>s.left&&this.shape.top<s.bottom&&this.shape.top+this.shape.height>s.top}},{key:"isBoundingBoxOverlappingWith",value:function(s){return this.shape.boundingBox.left<s.right&&this.shape.boundingBox.right>s.left&&this.shape.boundingBox.top<s.bottom&&this.shape.boundingBox.bottom>s.top}}],[{key:"checkOpacity",value:function(s){return 0<=s&&s<=1}},{key:"checkCoordinateOrigin",value:function(s){return s===void 0||s==="center"||s==="top-left"}},{key:"updateGroupOptions",value:function(s,h,b){var _e;if(b!==void 0){var rt=s.group;if(h!==void 0&&h.group!==void 0&&rt!==h.group)throw new Error("updateGroupOptions: group values in options don't match.");var at=typeof rt=="number"||typeof rt=="string"&&rt!="";if(at){var st=b.get(rt);st.opacity!==void 0&&h.opacity===void 0&&(o.checkOpacity(st.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+st.opacity),st.opacity=void 0));var ot=_filterInstanceProperty(_e=_Object$getOwnPropertyNames(h)).call(_e,function(nt){return h[nt]!=null});ot.push("font"),selectiveNotDeepExtend(ot,s,st),s.color=parseColor(s.color)}}}},{key:"parseOptions",value:function(s,h){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},rt=arguments.length>4?arguments[4]:void 0,at=["color","fixed","shadow"];if(selectiveNotDeepExtend(at,s,h,b),o.checkMass(h),s.opacity!==void 0&&(o.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0)),h.opacity!==void 0&&(o.checkOpacity(h.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+h.opacity),h.opacity=void 0)),h.shapeProperties&&!o.checkCoordinateOrigin(h.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+h.shapeProperties.coordinateOrigin),mergeOptions(s,h,"shadow",_e),h.color!==void 0&&h.color!==null){var st=parseColor(h.color);fillIfDefined(s.color,st)}else b===!0&&h.color===null&&(s.color=bridgeObject(_e.color));h.fixed!==void 0&&h.fixed!==null&&(typeof h.fixed=="boolean"?(s.fixed.x=h.fixed,s.fixed.y=h.fixed):(h.fixed.x!==void 0&&typeof h.fixed.x=="boolean"&&(s.fixed.x=h.fixed.x),h.fixed.y!==void 0&&typeof h.fixed.y=="boolean"&&(s.fixed.y=h.fixed.y))),b===!0&&h.font===null&&(s.font=bridgeObject(_e.font)),o.updateGroupOptions(s,h,rt),h.scaling!==void 0&&mergeOptions(s.scaling,h.scaling,"label",_e.scaling)}},{key:"checkMass",value:function(s,h){if(s.mass!==void 0&&s.mass<=0){var b="";h!==void 0&&(b=" in node id: "+h),console.error("%cNegative or zero mass disallowed"+b+", setting mass to 1.",VALIDATOR_PRINT_STYLE),s.mass=1}}}]),o}();function _createForOfIteratorHelper$5(o,e){var s=typeof _Symbol<"u"&&_getIteratorMethod(o)||o["@@iterator"];if(!s){if(_Array$isArray(o)||(s=_unsupportedIterableToArray$5(o))||e&&o&&typeof o.length=="number"){s&&(o=s);var h=0,b=function(){};return{s:b,n:function(){return h>=o.length?{done:!0}:{done:!1,value:o[h++]}},e:function(ot){throw ot},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,rt=!1,at;return{s:function(){s=s.call(o)},n:function(){var ot=s.next();return _e=ot.done,ot},e:function(ot){rt=!0,at=ot},f:function(){try{!_e&&s.return!=null&&s.return()}finally{if(rt)throw at}}}}function _unsupportedIterableToArray$5(o,e){var s;if(o){if(typeof o=="string")return _arrayLikeToArray$5(o,e);var h=_sliceInstanceProperty(s=Object.prototype.toString.call(o)).call(s,8,-1);if(h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set")return _Array$from$1(o);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray$5(o,e)}}function _arrayLikeToArray$5(o,e){(e==null||e>o.length)&&(e=o.length);for(var s=0,h=new Array(e);s<e;s++)h[s]=o[s];return h}var NodesHandler=function(){function o(e,s,h,b){var _e,rt=this;if(_classCallCheck(this,o),this.body=e,this.images=s,this.groups=h,this.layoutEngine=b,this.body.functions.createNode=_bindInstanceProperty$1(_e=this.create).call(_e,this),this.nodesListeners={add:function(st,ot){rt.add(ot.items)},update:function(st,ot){rt.update(ot.items,ot.data,ot.oldData)},remove:function(st,ot){rt.remove(ot.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(st,ot,nt,et){if(ot===st)return .5;var d=1/(ot-st);return Math.max(0,(et-st)*d)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=bridgeObject(this.defaultOptions),this.bindEventListeners()}return _createClass(o,[{key:"bindEventListeners",value:function(){var s,h,b=this;this.body.emitter.on("refreshNodes",_bindInstanceProperty$1(s=this.refresh).call(s,this)),this.body.emitter.on("refresh",_bindInstanceProperty$1(h=this.refresh).call(h,this)),this.body.emitter.on("destroy",function(){forEach$1(b.nodesListeners,function(_e,rt){b.body.data.nodes&&b.body.data.nodes.off(rt,_e)}),delete b.body.functions.createNode,delete b.nodesListeners.add,delete b.nodesListeners.update,delete b.nodesListeners.remove,delete b.nodesListeners})}},{key:"setOptions",value:function(s){if(s!==void 0){if(Node.parseOptions(this.options,s),s.opacity!==void 0&&(_Number$isNaN(s.opacity)||!_Number$isFinite(s.opacity)||s.opacity<0||s.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity):this.options.opacity=s.opacity),s.shape!==void 0)for(var h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].updateShape();if(typeof s.font<"u"||typeof s.widthConstraint<"u"||typeof s.heightConstraint<"u")for(var b=0,_e=_Object$keys(this.body.nodes);b<_e.length;b++){var rt=_e[b];this.body.nodes[rt].updateLabelModule(),this.body.nodes[rt].needsRefresh()}if(s.size!==void 0)for(var at in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,at)&&this.body.nodes[at].needsRefresh();(s.hidden!==void 0||s.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.body.data.nodes;if(isDataViewLike("id",s))this.body.data.nodes=s;else if(_Array$isArray(s))this.body.data.nodes=new DataSet,this.body.data.nodes.add(s);else if(!s)this.body.data.nodes=new DataSet;else throw new TypeError("Array or DataSet expected");if(b&&forEach$1(this.nodesListeners,function(at,st){b.off(st,at)}),this.body.nodes={},this.body.data.nodes){var _e=this;forEach$1(this.nodesListeners,function(at,st){_e.body.data.nodes.on(st,at)});var rt=this.body.data.nodes.getIds();this.add(rt,!0)}h===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(s){for(var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b,_e=[],rt=0;rt<s.length;rt++){b=s[rt];var at=this.body.data.nodes.get(b),st=this.create(at);_e.push(st),this.body.nodes[b]=st}this.layoutEngine.positionInitially(_e),h===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(s,h,b){for(var _e=this.body.nodes,rt=!1,at=0;at<s.length;at++){var st=s[at],ot=_e[st],nt=h[at];ot!==void 0?ot.setOptions(nt)&&(rt=!0):(rt=!0,ot=this.create(nt),_e[st]=ot)}!rt&&b!==void 0&&(rt=_someInstanceProperty(h).call(h,function(et,d){var _=b[d];return _&&_.level!==et.level})),rt===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(s){for(var h=this.body.nodes,b=0;b<s.length;b++){var _e=s[b];delete h[_e]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Node;return new h(s,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var s=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;forEach$1(this.body.nodes,function(b,_e){var rt=s.body.data.nodes.get(_e);rt!==void 0&&(h===!0&&b.setOptions({x:null,y:null}),b.setOptions({fixed:!1}),b.setOptions(rt))})}},{key:"getPositions",value:function(s){var h={};if(s!==void 0){if(_Array$isArray(s)===!0){for(var b=0;b<s.length;b++)if(this.body.nodes[s[b]]!==void 0){var _e=this.body.nodes[s[b]];h[s[b]]={x:Math.round(_e.x),y:Math.round(_e.y)}}}else if(this.body.nodes[s]!==void 0){var rt=this.body.nodes[s];h[s]={x:Math.round(rt.x),y:Math.round(rt.y)}}}else for(var at=0;at<this.body.nodeIndices.length;at++){var st=this.body.nodes[this.body.nodeIndices[at]];h[this.body.nodeIndices[at]]={x:Math.round(st.x),y:Math.round(st.y)}}return h}},{key:"getPosition",value:function(s){if(s==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[s]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(s));return{x:Math.round(this.body.nodes[s].x),y:Math.round(this.body.nodes[s].y)}}},{key:"storePositions",value:function(){var s=[],h=this.body.data.nodes.getDataSet(),b=_createForOfIteratorHelper$5(h.get()),_e;try{for(b.s();!(_e=b.n()).done;){var rt=_e.value,at=rt.id,st=this.body.nodes[at],ot=Math.round(st.x),nt=Math.round(st.y);(rt.x!==ot||rt.y!==nt)&&s.push({id:at,x:ot,y:nt})}}catch(et){b.e(et)}finally{b.f()}h.update(s)}},{key:"getBoundingBox",value:function(s){if(this.body.nodes[s]!==void 0)return this.body.nodes[s].shape.boundingBox}},{key:"getConnectedNodes",value:function(s,h){var b=[];if(this.body.nodes[s]!==void 0)for(var _e=this.body.nodes[s],rt={},at=0;at<_e.edges.length;at++){var st=_e.edges[at];h!=="to"&&st.toId==_e.id?rt[st.fromId]===void 0&&(b.push(st.fromId),rt[st.fromId]=!0):h!=="from"&&st.fromId==_e.id&&rt[st.toId]===void 0&&(b.push(st.toId),rt[st.toId]=!0)}return b}},{key:"getConnectedEdges",value:function(s){var h=[];if(this.body.nodes[s]!==void 0)for(var b=this.body.nodes[s],_e=0;_e<b.edges.length;_e++)h.push(b.edges[_e].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",s);return h}},{key:"moveNode",value:function(s,h,b){var _e=this;this.body.nodes[s]!==void 0?(this.body.nodes[s].x=Number(h),this.body.nodes[s].y=Number(b),_setTimeout(function(){_e.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",s)}}]),o}(),hasOwn$1=hasOwnProperty_1,isDataDescriptor$1=function(o){return o!==void 0&&(hasOwn$1(o,"value")||hasOwn$1(o,"writable"))},$$4=_export,call=functionCall,isObject$2=isObject$j,anObject$1=anObject$d,isDataDescriptor=isDataDescriptor$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,getPrototypeOf=objectGetPrototypeOf;function get$5(o,e){var s=arguments.length<3?o:arguments[2],h,b;if(anObject$1(o)===s)return o[e];if(h=getOwnPropertyDescriptorModule.f(o,e),h)return isDataDescriptor(h)?h.value:h.get===void 0?void 0:call(h.get,s);if(isObject$2(b=getPrototypeOf(o)))return get$5(b,e,s)}$$4({target:"Reflect",stat:!0},{get:get$5});var path$4=path$w,get$4=path$4.Reflect.get,parent$a=get$4,get$3=parent$a,parent$9=get$3,get$2=parent$9,parent$8=get$2,get$1=parent$8,get=get$1,_Reflect$get=getDefaultExportFromCjs(get),parent$7=getOwnPropertyDescriptor$4,getOwnPropertyDescriptor$2=parent$7,parent$6=getOwnPropertyDescriptor$2,getOwnPropertyDescriptor$1=parent$6,getOwnPropertyDescriptor=getOwnPropertyDescriptor$1,_Object$getOwnPropertyDescriptor=getDefaultExportFromCjs(getOwnPropertyDescriptor);function _superPropBase(o,e){for(;!Object.prototype.hasOwnProperty.call(o,e)&&(o=_getPrototypeOf(o),o!==null););return o}function _get(){if(typeof Reflect<"u"&&_Reflect$get){var o;_get=_bindInstanceProperty(o=_Reflect$get).call(o)}else _get=function(s,h,b){var _e=_superPropBase(s,h);if(_e){var rt=_Object$getOwnPropertyDescriptor(_e,h);return rt.get?rt.get.call(arguments.length<3?s:b):rt.value}};return _get.apply(this,arguments)}var $$3=_export,$hypot=Math.hypot,abs=Math.abs,sqrt=Math.sqrt,FORCED$2=!!$hypot&&$hypot(1/0,NaN)!==1/0;$$3({target:"Math",stat:!0,arity:2,forced:FORCED$2},{hypot:function o(e,s){for(var h=0,b=0,_e=arguments.length,rt=0,at,st;b<_e;)at=abs(arguments[b++]),rt<at?(st=rt/at,h=h*st*st+1,rt=at):at>0?(st=at/rt,h+=st*st):h+=at;return rt===1/0?1/0:rt*sqrt(h)}});var path$3=path$w,hypot$2=path$3.Math.hypot,parent$5=hypot$2,hypot$1=parent$5,hypot=hypot$1,_Math$hypot=getDefaultExportFromCjs(hypot);function _createSuper$a(o){var e=_isNativeReflectConstruct$a();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$a(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var EndPoint=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"transform",value:function(s,h){_Array$isArray(s)||(s=[s]);for(var b=h.point.x,_e=h.point.y,rt=h.angle,at=h.length,st=0;st<s.length;++st){var ot=s[st],nt=ot.x*Math.cos(rt)-ot.y*Math.sin(rt),et=ot.x*Math.sin(rt)+ot.y*Math.cos(rt);ot.x=b+at*nt,ot.y=_e+at*et}}},{key:"drawPath",value:function(s,h){s.beginPath(),s.moveTo(h[0].x,h[0].y);for(var b=1;b<h.length;++b)s.lineTo(h[b].x,h[b].y);s.closePath()}}]),o}(),Image$1=function(o){_inherits(s,o);var e=_createSuper$a(s);function s(){return _classCallCheck(this,s),e.apply(this,arguments)}return _createClass(s,null,[{key:"draw",value:function(b,_e){if(_e.image){b.save(),b.translate(_e.point.x,_e.point.y),b.rotate(Math.PI/2+_e.angle);var rt=_e.imageWidth!=null?_e.imageWidth:_e.image.width,at=_e.imageHeight!=null?_e.imageHeight:_e.image.height;_e.image.drawImageAtPosition(b,1,-rt/2,0,rt,at),b.restore()}return!1}}]),s}(EndPoint),Arrow=function(o){_inherits(s,o);var e=_createSuper$a(s);function s(){return _classCallCheck(this,s),e.apply(this,arguments)}return _createClass(s,null,[{key:"draw",value:function(b,_e){var rt=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return EndPoint.transform(rt,_e),EndPoint.drawPath(b,rt),!0}}]),s}(EndPoint),Crow=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"draw",value:function(s,h){var b=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return EndPoint.transform(b,h),EndPoint.drawPath(s,b),!0}}]),o}(),Curve=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"draw",value:function(s,h){var b={x:-.4,y:0};EndPoint.transform(b,h),s.strokeStyle=s.fillStyle,s.fillStyle="rgba(0, 0, 0, 0)";var _e=Math.PI,rt=h.angle-_e/2,at=h.angle+_e/2;return s.beginPath(),s.arc(b.x,b.y,h.length*.4,rt,at,!1),s.stroke(),!0}}]),o}(),InvertedCurve=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"draw",value:function(s,h){var b={x:-.3,y:0};EndPoint.transform(b,h),s.strokeStyle=s.fillStyle,s.fillStyle="rgba(0, 0, 0, 0)";var _e=Math.PI,rt=h.angle+_e/2,at=h.angle+3*_e/2;return s.beginPath(),s.arc(b.x,b.y,h.length*.4,rt,at,!1),s.stroke(),!0}}]),o}(),Triangle=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"draw",value:function(s,h){var b=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return EndPoint.transform(b,h),EndPoint.drawPath(s,b),!0}}]),o}(),InvertedTriangle=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"draw",value:function(s,h){var b=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return EndPoint.transform(b,h),EndPoint.drawPath(s,b),!0}}]),o}(),Circle=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"draw",value:function(s,h){var b={x:-.4,y:0};return EndPoint.transform(b,h),drawCircle(s,b.x,b.y,h.length*.4),!0}}]),o}(),Bar=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"draw",value:function(s,h){var b=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return EndPoint.transform(b,h),EndPoint.drawPath(s,b),!0}}]),o}(),Box=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"draw",value:function(s,h){var b=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return EndPoint.transform(b,h),EndPoint.drawPath(s,b),!0}}]),o}(),Diamond=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"draw",value:function(s,h){var b=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return EndPoint.transform(b,h),EndPoint.drawPath(s,b),!0}}]),o}(),Vee=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"draw",value:function(s,h){var b=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return EndPoint.transform(b,h),EndPoint.drawPath(s,b),!0}}]),o}(),EndPoints=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"draw",value:function(s,h){var b;switch(h.type&&(b=h.type.toLowerCase()),b){case"image":return Image$1.draw(s,h);case"circle":return Circle.draw(s,h);case"box":return Box.draw(s,h);case"crow":return Crow.draw(s,h);case"curve":return Curve.draw(s,h);case"diamond":return Diamond.draw(s,h);case"inv_curve":return InvertedCurve.draw(s,h);case"triangle":return Triangle.draw(s,h);case"inv_triangle":return InvertedTriangle.draw(s,h);case"bar":return Bar.draw(s,h);case"vee":return Vee.draw(s,h);case"arrow":default:return Arrow.draw(s,h)}}}]),o}();function ownKeys$1(o,e){var s=_Object$keys(o);if(_Object$getOwnPropertySymbols){var h=_Object$getOwnPropertySymbols(o);e&&(h=_filterInstanceProperty(h).call(h,function(b){return _Object$getOwnPropertyDescriptor$1(o,b).enumerable})),s.push.apply(s,h)}return s}function _objectSpread$1(o){for(var e=1;e<arguments.length;e++){var s,h,b=arguments[e]!=null?arguments[e]:{};e%2?_forEachInstanceProperty(s=ownKeys$1(Object(b),!0)).call(s,function(_e){_defineProperty(o,_e,b[_e])}):_Object$getOwnPropertyDescriptors?_Object$defineProperties(o,_Object$getOwnPropertyDescriptors(b)):_forEachInstanceProperty(h=ownKeys$1(Object(b))).call(h,function(_e){_Object$defineProperty(o,_e,_Object$getOwnPropertyDescriptor$1(b,_e))})}return o}var EdgeBase=function(){function o(e,s,h){_classCallCheck(this,o),this._body=s,this._labelModule=h,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return _createClass(o,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(s){this.options=s,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(s,h,b,_e){var rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();s.strokeStyle=this.getColor(s,h),s.lineWidth=h.width,h.dashes!==!1?this._drawDashedLine(s,h,rt):this._drawLine(s,h,rt)}},{key:"_drawLine",value:function(s,h,b,_e,rt){if(this.from!=this.to)this._line(s,h,b,_e,rt);else{var at=this._getCircleData(s),st=_slicedToArray(at,3),ot=st[0],nt=st[1],et=st[2];this._circle(s,h,ot,nt,et)}}},{key:"_drawDashedLine",value:function(s,h,b,_e,rt){s.lineCap="round";var at=_Array$isArray(h.dashes)?h.dashes:[5,5];if(s.setLineDash!==void 0){if(s.save(),s.setLineDash(at),s.lineDashOffset=0,this.from!=this.to)this._line(s,h,b);else{var st=this._getCircleData(s),ot=_slicedToArray(st,3),nt=ot[0],et=ot[1],d=ot[2];this._circle(s,h,nt,et,d)}s.setLineDash([0]),s.lineDashOffset=0,s.restore()}else{if(this.from!=this.to)drawDashedLine(s,this.from.x,this.from.y,this.to.x,this.to.y,at);else{var _=this._getCircleData(s),tt=_slicedToArray(_,3),lt=tt[0],ut=tt[1],ct=tt[2];this._circle(s,h,lt,ut,ct)}this.enableShadow(s,h),s.stroke(),this.disableShadow(s,h)}}},{key:"findBorderPosition",value:function(s,h,b){return this.from!=this.to?this._findBorderPosition(s,h,b):this._findBorderPositionCircle(s,h,b)}},{key:"findBorderPositions",value:function(s){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,s),to:this._findBorderPosition(this.to,s)};var h,b=_sliceInstanceProperty(h=this._getCircleData(s)).call(h,0,2),_e=_slicedToArray(b,2),rt=_e[0],at=_e[1];return{from:this._findBorderPositionCircle(this.from,s,{x:rt,y:at,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,s,{x:rt,y:at,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(s){var h=this.options.selfReference.size;s!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(s);var b=getSelfRefCoordinates(s,this.options.selfReference.angle,h,this.from);return[b.x,b.y,h]}},{key:"_pointOnCircle",value:function(s,h,b,_e){var rt=_e*2*Math.PI;return{x:s+b*Math.cos(rt),y:h-b*Math.sin(rt)}}},{key:"_findBorderPositionCircle",value:function(s,h,b){var _e=b.x,rt=b.y,at=b.low,st=b.high,ot=b.direction,nt=10,et=this.options.selfReference.size,d=.05,_,tt=(at+st)*.5,lt=0;this.options.arrowStrikethrough===!0&&(ot===-1?lt=this.options.endPointOffset.from:ot===1&&(lt=this.options.endPointOffset.to));var ut=0;do{tt=(at+st)*.5,_=this._pointOnCircle(_e,rt,et,tt);var ct=Math.atan2(s.y-_.y,s.x-_.x),ft=s.distanceToBorder(h,ct)+lt,dt=Math.sqrt(Math.pow(_.x-s.x,2)+Math.pow(_.y-s.y,2)),ht=ft-dt;if(Math.abs(ht)<d)break;ht>0?ot>0?at=tt:st=tt:ot>0?st=tt:at=tt,++ut}while(at<=st&&ut<nt);return _objectSpread$1(_objectSpread$1({},_),{},{t:tt})}},{key:"getLineWidth",value:function(s,h){return s===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):h===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(s,h){if(h.inheritsColor!==!1){if(h.inheritsColor==="both"&&this.from.id!==this.to.id){var b=s.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),_e=this.from.options.color.highlight.border,rt=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(_e=overrideOpacity(this.from.options.color.border,h.opacity),rt=overrideOpacity(this.to.options.color.border,h.opacity)):this.from.selected===!0&&this.to.selected===!1?rt=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(_e=this.from.options.color.border),b.addColorStop(0,_e),b.addColorStop(1,rt),b}return h.inheritsColor==="to"?overrideOpacity(this.to.options.color.border,h.opacity):overrideOpacity(this.from.options.color.border,h.opacity)}else return overrideOpacity(h.color,h.opacity)}},{key:"_circle",value:function(s,h,b,_e,rt){this.enableShadow(s,h);var at=0,st=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){var ot=this.options.selfReference.angle,nt=this.options.selfReference.angle+Math.PI,et=this._findBorderPositionCircle(this.from,s,{x:b,y:_e,low:ot,high:nt,direction:-1}),d=this._findBorderPositionCircle(this.from,s,{x:b,y:_e,low:ot,high:nt,direction:1});at=Math.atan2(et.y-_e,et.x-b),st=Math.atan2(d.y-_e,d.x-b)}s.beginPath(),s.arc(b,_e,rt,at,st,!1),s.stroke(),this.disableShadow(s,h)}},{key:"getDistanceToEdge",value:function(s,h,b,_e,rt,at){if(this.from!=this.to)return this._getDistanceToEdge(s,h,b,_e,rt,at);var st=this._getCircleData(void 0),ot=_slicedToArray(st,3),nt=ot[0],et=ot[1],d=ot[2],_=nt-rt,tt=et-at;return Math.abs(Math.sqrt(_*_+tt*tt)-d)}},{key:"_getDistanceToLine",value:function(s,h,b,_e,rt,at){var st=b-s,ot=_e-h,nt=st*st+ot*ot,et=((rt-s)*st+(at-h)*ot)/nt;et>1?et=1:et<0&&(et=0);var d=s+et*st,_=h+et*ot,tt=d-rt,lt=_-at;return Math.sqrt(tt*tt+lt*lt)}},{key:"getArrowData",value:function(s,h,b,_e,rt,at){var st,ot,nt,et,d,_,tt,lt=at.width;h==="from"?(nt=this.from,et=this.to,d=at.fromArrowScale<0,_=Math.abs(at.fromArrowScale),tt=at.fromArrowType):h==="to"?(nt=this.to,et=this.from,d=at.toArrowScale<0,_=Math.abs(at.toArrowScale),tt=at.toArrowType):(nt=this.to,et=this.from,d=at.middleArrowScale<0,_=Math.abs(at.middleArrowScale),tt=at.middleArrowType);var ut=15*_+3*lt;if(nt!=et){var ct=_Math$hypot(nt.x-et.x,nt.y-et.y),ft=ut/ct;if(h!=="middle")if(this.options.smooth.enabled===!0){var dt=this._findBorderPosition(nt,s,{via:b}),ht=this.getPoint(dt.t+ft*(h==="from"?1:-1),b);st=Math.atan2(dt.y-ht.y,dt.x-ht.x),ot=dt}else st=Math.atan2(nt.y-et.y,nt.x-et.x),ot=this._findBorderPosition(nt,s);else{var gt=(d?-ft:ft)/2,yt=this.getPoint(.5+gt,b),vt=this.getPoint(.5-gt,b);st=Math.atan2(yt.y-vt.y,yt.x-vt.x),ot=this.getPoint(.5,b)}}else{var mt=this._getCircleData(s),bt=_slicedToArray(mt,3),$t=bt[0],St=bt[1],Pt=bt[2];if(h==="from"){var _t=this.options.selfReference.angle,wt=this.options.selfReference.angle+Math.PI,xt=this._findBorderPositionCircle(this.from,s,{x:$t,y:St,low:_t,high:wt,direction:-1});st=xt.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,ot=xt}else if(h==="to"){var Tt=this.options.selfReference.angle,It=this.options.selfReference.angle+Math.PI,Ct=this._findBorderPositionCircle(this.from,s,{x:$t,y:St,low:Tt,high:It,direction:1});st=Ct.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,ot=Ct}else{var Rt=this.options.selfReference.angle/(2*Math.PI);ot=this._pointOnCircle($t,St,Pt,Rt),st=Rt*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}var Ut=ot.x-ut*.9*Math.cos(st),kt=ot.y-ut*.9*Math.sin(st),jt={x:Ut,y:kt};return{point:ot,core:jt,angle:st,length:ut,type:tt}}},{key:"drawArrowHead",value:function(s,h,b,_e,rt){s.strokeStyle=this.getColor(s,h),s.fillStyle=s.strokeStyle,s.lineWidth=h.width;var at=EndPoints.draw(s,rt);at&&(this.enableShadow(s,h),_fillInstanceProperty(s).call(s),this.disableShadow(s,h))}},{key:"enableShadow",value:function(s,h){h.shadow===!0&&(s.shadowColor=h.shadowColor,s.shadowBlur=h.shadowSize,s.shadowOffsetX=h.shadowX,s.shadowOffsetY=h.shadowY)}},{key:"disableShadow",value:function(s,h){h.shadow===!0&&(s.shadowColor="rgba(0,0,0,0)",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0)}},{key:"drawBackground",value:function(s,h){if(h.background!==!1){var b={strokeStyle:s.strokeStyle,lineWidth:s.lineWidth,dashes:s.dashes};s.strokeStyle=h.backgroundColor,s.lineWidth=h.backgroundSize,this.setStrokeDashed(s,h.backgroundDashes),s.stroke(),s.strokeStyle=b.strokeStyle,s.lineWidth=b.lineWidth,s.dashes=b.dashes,this.setStrokeDashed(s,h.dashes)}}},{key:"setStrokeDashed",value:function(s,h){if(h!==!1)if(s.setLineDash!==void 0){var b=_Array$isArray(h)?h:[5,5];s.setLineDash(b)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else s.setLineDash!==void 0?s.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),o}();function ownKeys(o,e){var s=_Object$keys(o);if(_Object$getOwnPropertySymbols){var h=_Object$getOwnPropertySymbols(o);e&&(h=_filterInstanceProperty(h).call(h,function(b){return _Object$getOwnPropertyDescriptor$1(o,b).enumerable})),s.push.apply(s,h)}return s}function _objectSpread(o){for(var e=1;e<arguments.length;e++){var s,h,b=arguments[e]!=null?arguments[e]:{};e%2?_forEachInstanceProperty(s=ownKeys(Object(b),!0)).call(s,function(_e){_defineProperty(o,_e,b[_e])}):_Object$getOwnPropertyDescriptors?_Object$defineProperties(o,_Object$getOwnPropertyDescriptors(b)):_forEachInstanceProperty(h=ownKeys(Object(b))).call(h,function(_e){_Object$defineProperty(o,_e,_Object$getOwnPropertyDescriptor$1(b,_e))})}return o}function _createSuper$9(o){var e=_isNativeReflectConstruct$9();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$9(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var BezierEdgeBase=function(o){_inherits(s,o);var e=_createSuper$9(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"_findBorderPositionBezier",value:function(b,_e){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),at=10,st=.2,ot=!1,nt=1,et=0,d=this.to,_,tt,lt=this.options.endPointOffset?this.options.endPointOffset.to:0;b.id===this.from.id&&(d=this.from,ot=!0,lt=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(lt=0);var ut=0;do{tt=(et+nt)*.5,_=this.getPoint(tt,rt);var ct=Math.atan2(d.y-_.y,d.x-_.x),ft=d.distanceToBorder(_e,ct)+lt,dt=Math.sqrt(Math.pow(_.x-d.x,2)+Math.pow(_.y-d.y,2)),ht=ft-dt;if(Math.abs(ht)<st)break;ht<0?ot===!1?et=tt:nt=tt:ot===!1?nt=tt:et=tt,++ut}while(et<=nt&&ut<at);return _objectSpread(_objectSpread({},_),{},{t:tt})}},{key:"_getDistanceToBezierEdge",value:function(b,_e,rt,at,st,ot,nt){var et=1e9,d,_,tt,lt,ut,ct=b,ft=_e;for(_=1;_<10;_++)tt=.1*_,lt=Math.pow(1-tt,2)*b+2*tt*(1-tt)*nt.x+Math.pow(tt,2)*rt,ut=Math.pow(1-tt,2)*_e+2*tt*(1-tt)*nt.y+Math.pow(tt,2)*at,_>0&&(d=this._getDistanceToLine(ct,ft,lt,ut,st,ot),et=d<et?d:et),ct=lt,ft=ut;return et}},{key:"_bezierCurve",value:function(b,_e,rt,at){b.beginPath(),b.moveTo(this.fromPoint.x,this.fromPoint.y),rt!=null&&rt.x!=null?at!=null&&at.x!=null?b.bezierCurveTo(rt.x,rt.y,at.x,at.y,this.toPoint.x,this.toPoint.y):b.quadraticCurveTo(rt.x,rt.y,this.toPoint.x,this.toPoint.y):b.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(b,_e),this.enableShadow(b,_e),b.stroke(),this.disableShadow(b,_e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),s}(EdgeBase);function _createSuper$8(o){var e=_isNativeReflectConstruct$8();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$8(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var BezierEdgeDynamic=function(o){_inherits(s,o);var e=_createSuper$8(s);function s(h,b,_e){var rt;return _classCallCheck(this,s),rt=e.call(this,h,b,_e),rt.via=rt.via,rt._boundFunction=function(){rt.positionBezierNode()},rt._body.emitter.on("_repositionBezierNodes",rt._boundFunction),rt}return _createClass(s,[{key:"setOptions",value:function(b){_get(_getPrototypeOf(s.prototype),"setOptions",this).call(this,b);var _e=!1;this.options.physics!==b.physics&&(_e=!0),this.options=b,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),_e===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var b="edgeId:"+this.id,_e=this._body.functions.createNode({id:b,shape:"circle",physics:!0,hidden:!0});this._body.nodes[b]=_e,this.via=_e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(b,_e,rt){this._bezierCurve(b,_e,rt)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(b){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var rt=this._getCircleData(),at=_slicedToArray(rt,3),st=at[0],ot=at[1],nt=at[2],et=2*Math.PI*(1-b);return{x:st+nt*Math.sin(et),y:ot+nt-nt*(1-Math.cos(et))}}else return{x:Math.pow(1-b,2)*this.fromPoint.x+2*b*(1-b)*_e.x+Math.pow(b,2)*this.toPoint.x,y:Math.pow(1-b,2)*this.fromPoint.y+2*b*(1-b)*_e.y+Math.pow(b,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(b,_e){return this._findBorderPositionBezier(b,_e,this.via)}},{key:"_getDistanceToEdge",value:function(b,_e,rt,at,st,ot){return this._getDistanceToBezierEdge(b,_e,rt,at,st,ot,this.via)}}]),s}(BezierEdgeBase);function _createSuper$7(o){var e=_isNativeReflectConstruct$7();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$7(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var BezierEdgeStatic=function(o){_inherits(s,o);var e=_createSuper$7(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"_line",value:function(b,_e,rt){this._bezierCurve(b,_e,rt)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var b=this.options.smooth.roundness,_e=this.options.smooth.type,rt=Math.abs(this.from.x-this.to.x),at=Math.abs(this.from.y-this.to.y);if(_e==="discrete"||_e==="diagonalCross"){var st,ot;rt<=at?st=ot=b*at:st=ot=b*rt,this.from.x>this.to.x&&(st=-st),this.from.y>=this.to.y&&(ot=-ot);var nt=this.from.x+st,et=this.from.y+ot;return _e==="discrete"&&(rt<=at?nt=rt<b*at?this.from.x:nt:et=at<b*rt?this.from.y:et),{x:nt,y:et}}else if(_e==="straightCross"){var d=(1-b)*rt,_=(1-b)*at;return rt<=at?(d=0,this.from.y<this.to.y&&(_=-_)):(this.from.x<this.to.x&&(d=-d),_=0),{x:this.to.x+d,y:this.to.y+_}}else if(_e==="horizontal"){var tt=(1-b)*rt;return this.from.x<this.to.x&&(tt=-tt),{x:this.to.x+tt,y:this.from.y}}else if(_e==="vertical"){var lt=(1-b)*at;return this.from.y<this.to.y&&(lt=-lt),{x:this.from.x,y:this.to.y+lt}}else if(_e==="curvedCW"){rt=this.to.x-this.from.x,at=this.from.y-this.to.y;var ut=Math.sqrt(rt*rt+at*at),ct=Math.PI,ft=Math.atan2(at,rt),dt=(ft+(b*.5+.5)*ct)%(2*ct);return{x:this.from.x+(b*.5+.5)*ut*Math.sin(dt),y:this.from.y+(b*.5+.5)*ut*Math.cos(dt)}}else if(_e==="curvedCCW"){rt=this.to.x-this.from.x,at=this.from.y-this.to.y;var ht=Math.sqrt(rt*rt+at*at),gt=Math.PI,yt=Math.atan2(at,rt),vt=(yt+(-b*.5+.5)*gt)%(2*gt);return{x:this.from.x+(b*.5+.5)*ht*Math.sin(vt),y:this.from.y+(b*.5+.5)*ht*Math.cos(vt)}}else{var mt,bt;rt<=at?mt=bt=b*at:mt=bt=b*rt,this.from.x>this.to.x&&(mt=-mt),this.from.y>=this.to.y&&(bt=-bt);var $t=this.from.x+mt,St=this.from.y+bt;return rt<=at?this.from.x<=this.to.x?$t=this.to.x<$t?this.to.x:$t:$t=this.to.x>$t?this.to.x:$t:this.from.y>=this.to.y?St=this.to.y>St?this.to.y:St:St=this.to.y<St?this.to.y:St,{x:$t,y:St}}}},{key:"_findBorderPosition",value:function(b,_e){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(b,_e,rt.via)}},{key:"_getDistanceToEdge",value:function(b,_e,rt,at,st,ot){var nt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(b,_e,rt,at,st,ot,nt)}},{key:"getPoint",value:function(b){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),rt=b,at=Math.pow(1-rt,2)*this.fromPoint.x+2*rt*(1-rt)*_e.x+Math.pow(rt,2)*this.toPoint.x,st=Math.pow(1-rt,2)*this.fromPoint.y+2*rt*(1-rt)*_e.y+Math.pow(rt,2)*this.toPoint.y;return{x:at,y:st}}}]),s}(BezierEdgeBase);function _createSuper$6(o){var e=_isNativeReflectConstruct$6();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$6(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var CubicBezierEdgeBase=function(o){_inherits(s,o);var e=_createSuper$6(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"_getDistanceToBezierEdge2",value:function(b,_e,rt,at,st,ot,nt,et){for(var d=1e9,_=b,tt=_e,lt=[0,0,0,0],ut=1;ut<10;ut++){var ct=.1*ut;lt[0]=Math.pow(1-ct,3),lt[1]=3*ct*Math.pow(1-ct,2),lt[2]=3*Math.pow(ct,2)*(1-ct),lt[3]=Math.pow(ct,3);var ft=lt[0]*b+lt[1]*nt.x+lt[2]*et.x+lt[3]*rt,dt=lt[0]*_e+lt[1]*nt.y+lt[2]*et.y+lt[3]*at;if(ut>0){var ht=this._getDistanceToLine(_,tt,ft,dt,st,ot);d=ht<d?ht:d}_=ft,tt=dt}return d}}]),s}(BezierEdgeBase);function _createSuper$5(o){var e=_isNativeReflectConstruct$5();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var CubicBezierEdge=function(o){_inherits(s,o);var e=_createSuper$5(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"_line",value:function(b,_e,rt){var at=rt[0],st=rt[1];this._bezierCurve(b,_e,at,st)}},{key:"_getViaCoordinates",value:function(){var b=this.from.x-this.to.x,_e=this.from.y-this.to.y,rt,at,st,ot,nt=this.options.smooth.roundness;return(Math.abs(b)>Math.abs(_e)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(at=this.from.y,ot=this.to.y,rt=this.from.x-nt*b,st=this.to.x+nt*b):(at=this.from.y-nt*_e,ot=this.to.y+nt*_e,rt=this.from.x,st=this.to.x),[{x:rt,y:at},{x:st,y:ot}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(b,_e){return this._findBorderPositionBezier(b,_e)}},{key:"_getDistanceToEdge",value:function(b,_e,rt,at,st,ot){var nt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),et=_slicedToArray(nt,2),d=et[0],_=et[1];return this._getDistanceToBezierEdge2(b,_e,rt,at,st,ot,d,_)}},{key:"getPoint",value:function(b){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),rt=_slicedToArray(_e,2),at=rt[0],st=rt[1],ot=b,nt=[Math.pow(1-ot,3),3*ot*Math.pow(1-ot,2),3*Math.pow(ot,2)*(1-ot),Math.pow(ot,3)],et=nt[0]*this.fromPoint.x+nt[1]*at.x+nt[2]*st.x+nt[3]*this.toPoint.x,d=nt[0]*this.fromPoint.y+nt[1]*at.y+nt[2]*st.y+nt[3]*this.toPoint.y;return{x:et,y:d}}}]),s}(CubicBezierEdgeBase);function _createSuper$4(o){var e=_isNativeReflectConstruct$4();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$4(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var StraightEdge=function(o){_inherits(s,o);var e=_createSuper$4(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"_line",value:function(b,_e){b.beginPath(),b.moveTo(this.fromPoint.x,this.fromPoint.y),b.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(b,_e),b.stroke(),this.disableShadow(b,_e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(b){return{x:(1-b)*this.fromPoint.x+b*this.toPoint.x,y:(1-b)*this.fromPoint.y+b*this.toPoint.y}}},{key:"_findBorderPosition",value:function(b,_e){var rt=this.to,at=this.from;b.id===this.from.id&&(rt=this.from,at=this.to);var st=Math.atan2(rt.y-at.y,rt.x-at.x),ot=rt.x-at.x,nt=rt.y-at.y,et=Math.sqrt(ot*ot+nt*nt),d=b.distanceToBorder(_e,st),_=(et-d)/et;return{x:(1-_)*at.x+_*rt.x,y:(1-_)*at.y+_*rt.y,t:0}}},{key:"_getDistanceToEdge",value:function(b,_e,rt,at,st,ot){return this._getDistanceToLine(b,_e,rt,at,st,ot)}}]),s}(EdgeBase),Edge=function(){function o(e,s,h,b,_e){if(_classCallCheck(this,o),s===void 0)throw new Error("No body provided");this.options=bridgeObject(b),this.globalOptions=b,this.defaultOptions=_e,this.body=s,this.imagelist=h,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Label(this.body,this.options,!0),this.setOptions(e)}return _createClass(o,[{key:"setOptions",value:function(s){if(s){var h=typeof s.physics<"u"&&this.options.physics!==s.physics||typeof s.hidden<"u"&&(this.options.hidden||!1)!==(s.hidden||!1)||typeof s.from<"u"&&this.options.from!==s.from||typeof s.to<"u"&&this.options.to!==s.to;o.parseOptions(this.options,s,!0,this.globalOptions),s.id!==void 0&&(this.id=s.id),s.from!==void 0&&(this.fromId=s.from),s.to!==void 0&&(this.toId=s.to),s.title!==void 0&&(this.title=s.title),s.value!==void 0&&(s.value=_parseFloat$1(s.value));var b=[s,this.options,this.defaultOptions];return this.chooser=choosify("edge",b),this.updateLabelModule(s),h=this.updateEdgeType()||h,this._setInteractionWidths(),this.connect(),h}}},{key:"getFormattingValues",value:function(){var s=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,h=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,b=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,_e=this.options.color.inherit,rt={toArrow:s,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:b,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:h,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:_e?void 0:this.options.color.color,inheritsColor:_e,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var at=this.options.selectionWidth;typeof at=="function"?rt.width=at(rt.width):typeof at=="number"&&(rt.width+=at),rt.width=Math.max(rt.width,.3/this.body.view.scale),rt.color=this.options.color.highlight,rt.shadow=this.options.shadow.enabled}else if(this.hover){var st=this.options.hoverWidth;typeof st=="function"?rt.width=st(rt.width):typeof st=="number"&&(rt.width+=st),rt.width=Math.max(rt.width,.3/this.body.view.scale),rt.color=this.options.color.hover,rt.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(rt,this.options.id,this.selected,this.hover),rt.color!==void 0&&(rt.inheritsColor=!1),rt.shadow===!1&&(rt.shadowColor!==this.options.shadow.color||rt.shadowSize!==this.options.shadow.size||rt.shadowX!==this.options.shadow.x||rt.shadowY!==this.options.shadow.y)&&(rt.shadow=!0));else rt.shadow=this.options.shadow.enabled,rt.width=Math.max(rt.width,.3/this.body.view.scale);return rt}},{key:"updateLabelModule",value:function(s){var h=[s,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,h),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var s=this.options.smooth,h=!1,b=!0;return this.edgeType!==void 0&&((this.edgeType instanceof BezierEdgeDynamic&&s.enabled===!0&&s.type==="dynamic"||this.edgeType instanceof CubicBezierEdge&&s.enabled===!0&&s.type==="cubicBezier"||this.edgeType instanceof BezierEdgeStatic&&s.enabled===!0&&s.type!=="dynamic"&&s.type!=="cubicBezier"||this.edgeType instanceof StraightEdge&&s.type.enabled===!1)&&(b=!1),b===!0&&(h=this.cleanup())),b===!0?s.enabled===!0?s.type==="dynamic"?(h=!0,this.edgeType=new BezierEdgeDynamic(this.options,this.body,this.labelModule)):s.type==="cubicBezier"?this.edgeType=new CubicBezierEdge(this.options,this.body,this.labelModule):this.edgeType=new BezierEdgeStatic(this.options,this.body,this.labelModule):this.edgeType=new StraightEdge(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),h}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(s,h,b){if(this.options.value!==void 0){var _e=this.options.scaling.customScalingFunction(s,h,b,this.options.value),rt=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var at=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+_e*at}this.options.width=this.options.scaling.min+_e*rt}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(s){var h=this.getFormattingValues();if(!h.hidden){var b=this.edgeType.getViaNode();this.edgeType.drawLine(s,h,this.selected,this.hover,b),this.drawLabel(s,b)}}},{key:"drawArrows",value:function(s){var h=this.getFormattingValues();if(!h.hidden){var b=this.edgeType.getViaNode(),_e={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,h.fromArrow&&(_e.from=this.edgeType.getArrowData(s,"from",b,this.selected,this.hover,h),h.arrowStrikethrough===!1&&(this.edgeType.fromPoint=_e.from.core),h.fromArrowSrc&&(_e.from.image=this.imagelist.load(h.fromArrowSrc)),h.fromArrowImageWidth&&(_e.from.imageWidth=h.fromArrowImageWidth),h.fromArrowImageHeight&&(_e.from.imageHeight=h.fromArrowImageHeight)),h.toArrow&&(_e.to=this.edgeType.getArrowData(s,"to",b,this.selected,this.hover,h),h.arrowStrikethrough===!1&&(this.edgeType.toPoint=_e.to.core),h.toArrowSrc&&(_e.to.image=this.imagelist.load(h.toArrowSrc)),h.toArrowImageWidth&&(_e.to.imageWidth=h.toArrowImageWidth),h.toArrowImageHeight&&(_e.to.imageHeight=h.toArrowImageHeight)),h.middleArrow&&(_e.middle=this.edgeType.getArrowData(s,"middle",b,this.selected,this.hover,h),h.middleArrowSrc&&(_e.middle.image=this.imagelist.load(h.middleArrowSrc)),h.middleArrowImageWidth&&(_e.middle.imageWidth=h.middleArrowImageWidth),h.middleArrowImageHeight&&(_e.middle.imageHeight=h.middleArrowImageHeight)),h.fromArrow&&this.edgeType.drawArrowHead(s,h,this.selected,this.hover,_e.from),h.middleArrow&&this.edgeType.drawArrowHead(s,h,this.selected,this.hover,_e.middle),h.toArrow&&this.edgeType.drawArrowHead(s,h,this.selected,this.hover,_e.to)}}},{key:"drawLabel",value:function(s,h){if(this.options.label!==void 0){var b=this.from,_e=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(s,this.selected,this.hover);var rt;if(b.id!=_e.id){this.labelModule.pointToSelf=!1,rt=this.edgeType.getPoint(.5,h),s.save();var at=this._getRotation(s);at.angle!=0&&(s.translate(at.x,at.y),s.rotate(at.angle)),this.labelModule.draw(s,rt.x,rt.y,this.selected,this.hover),s.restore()}else{this.labelModule.pointToSelf=!0;var st=getSelfRefCoordinates(s,this.options.selfReference.angle,this.options.selfReference.size,b);rt=this._pointOnCircle(st.x,st.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(s,rt.x,rt.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(s){var h=[];if(this.labelModule.visible()){var b=this._getRotation();pointInRect(this.labelModule.getSize(),s,b)&&h.push({edgeId:this.id,labelId:0})}var _e={left:s.x,top:s.y};return this.isOverlappingWith(_e)&&h.push({edgeId:this.id}),h}},{key:"isOverlappingWith",value:function(s){if(this.connected){var h=10,b=this.from.x,_e=this.from.y,rt=this.to.x,at=this.to.y,st=s.left,ot=s.top,nt=this.edgeType.getDistanceToEdge(b,_e,rt,at,st,ot);return nt<h}else return!1}},{key:"_getRotation",value:function(s){var h=this.edgeType.getViaNode(),b=this.edgeType.getPoint(.5,h);s!==void 0&&this.labelModule.calculateLabelSize(s,this.selected,this.hover,b.x,b.y);var _e={x:b.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return _e;var rt=this.from.y-this.to.y,at=this.from.x-this.to.x,st=Math.atan2(rt,at);return(st<-1&&at<0||st>0&&at<0)&&(st+=Math.PI),_e.angle=st,_e}},{key:"_pointOnCircle",value:function(s,h,b,_e){return{x:s+b*Math.cos(_e),y:h-b*Math.sin(_e)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(s,h){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,at=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(selectiveDeepExtend(at,s,h,b),h.endPointOffset!==void 0&&h.endPointOffset.from!==void 0&&(_Number$isFinite(h.endPointOffset.from)?s.endPointOffset.from=h.endPointOffset.from:(s.endPointOffset.from=_e.endPointOffset.from!==void 0?_e.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),h.endPointOffset!==void 0&&h.endPointOffset.to!==void 0&&(_Number$isFinite(h.endPointOffset.to)?s.endPointOffset.to=h.endPointOffset.to:(s.endPointOffset.to=_e.endPointOffset.to!==void 0?_e.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),isValidLabel(h.label)?s.label=h.label:isValidLabel(s.label)||(s.label=void 0),mergeOptions(s,h,"smooth",_e),mergeOptions(s,h,"shadow",_e),mergeOptions(s,h,"background",_e),h.dashes!==void 0&&h.dashes!==null?s.dashes=h.dashes:b===!0&&h.dashes===null&&(s.dashes=_Object$create$1(_e.dashes)),h.scaling!==void 0&&h.scaling!==null?(h.scaling.min!==void 0&&(s.scaling.min=h.scaling.min),h.scaling.max!==void 0&&(s.scaling.max=h.scaling.max),mergeOptions(s.scaling,h.scaling,"label",_e.scaling)):b===!0&&h.scaling===null&&(s.scaling=_Object$create$1(_e.scaling)),h.arrows!==void 0&&h.arrows!==null)if(typeof h.arrows=="string"){var st=h.arrows.toLowerCase();s.arrows.to.enabled=_indexOfInstanceProperty(st).call(st,"to")!=-1,s.arrows.middle.enabled=_indexOfInstanceProperty(st).call(st,"middle")!=-1,s.arrows.from.enabled=_indexOfInstanceProperty(st).call(st,"from")!=-1}else if(_typeof(h.arrows)==="object")mergeOptions(s.arrows,h.arrows,"to",_e.arrows),mergeOptions(s.arrows,h.arrows,"middle",_e.arrows),mergeOptions(s.arrows,h.arrows,"from",_e.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+_JSON$stringify(h.arrows));else b===!0&&h.arrows===null&&(s.arrows=_Object$create$1(_e.arrows));if(h.color!==void 0&&h.color!==null){var ot=isString(h.color)?{color:h.color,highlight:h.color,hover:h.color,inherit:!1,opacity:1}:h.color,nt=s.color;if(rt)deepExtend(nt,_e.color,!1,b);else for(var et in nt)Object.prototype.hasOwnProperty.call(nt,et)&&delete nt[et];if(isString(nt))nt.color=nt,nt.highlight=nt,nt.hover=nt,nt.inherit=!1,ot.opacity===void 0&&(nt.opacity=1);else{var d=!1;ot.color!==void 0&&(nt.color=ot.color,d=!0),ot.highlight!==void 0&&(nt.highlight=ot.highlight,d=!0),ot.hover!==void 0&&(nt.hover=ot.hover,d=!0),ot.inherit!==void 0&&(nt.inherit=ot.inherit),ot.opacity!==void 0&&(nt.opacity=Math.min(1,Math.max(0,ot.opacity))),d===!0?nt.inherit=!1:nt.inherit===void 0&&(nt.inherit="from")}}else b===!0&&h.color===null&&(s.color=bridgeObject(_e.color));b===!0&&h.font===null&&(s.font=bridgeObject(_e.font)),Object.prototype.hasOwnProperty.call(h,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),s.selfReference.size=h.selfReferenceSize)}}]),o}(),EdgesHandler=function(){function o(e,s,h){var b,_e=this;_classCallCheck(this,o),this.body=e,this.images=s,this.groups=h,this.body.functions.createEdge=_bindInstanceProperty$1(b=this.create).call(b,this),this.edgesListeners={add:function(at,st){_e.add(st.items)},update:function(at,st){_e.update(st.items)},remove:function(at,st){_e.remove(st.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(at,st,ot,nt){if(st===at)return .5;var et=1/(st-at);return Math.max(0,(nt-at)*et)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(o,[{key:"bindEventListeners",value:function(){var s=this,h,b;this.body.emitter.on("_forceDisableDynamicCurves",function(_e){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;_e==="dynamic"&&(_e="continuous");var at=!1;for(var st in s.body.edges)if(Object.prototype.hasOwnProperty.call(s.body.edges,st)){var ot=s.body.edges[st],nt=s.body.data.edges.get(st);if(nt!=null){var et=nt.smooth;et!==void 0&&et.enabled===!0&&et.type==="dynamic"&&(_e===void 0?ot.setOptions({smooth:!1}):ot.setOptions({smooth:{type:_e}}),at=!0)}}rt===!0&&at===!0&&s.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){s.reconnectEdges()}),this.body.emitter.on("refreshEdges",_bindInstanceProperty$1(h=this.refresh).call(h,this)),this.body.emitter.on("refresh",_bindInstanceProperty$1(b=this.refresh).call(b,this)),this.body.emitter.on("destroy",function(){forEach$1(s.edgesListeners,function(_e,rt){s.body.data.edges&&s.body.data.edges.off(rt,_e)}),delete s.body.functions.createEdge,delete s.edgesListeners.add,delete s.edgesListeners.update,delete s.edgesListeners.remove,delete s.edgesListeners})}},{key:"setOptions",value:function(s){if(s!==void 0){Edge.parseOptions(this.options,s,!0,this.defaultOptions,!0);var h=!1;if(s.smooth!==void 0)for(var b in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,b)&&(h=this.body.edges[b].updateEdgeType()||h);if(s.font!==void 0)for(var _e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,_e)&&this.body.edges[_e].updateLabelModule();(s.hidden!==void 0||s.physics!==void 0||h===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(s){var h=this,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_e=this.body.data.edges;if(isDataViewLike("id",s))this.body.data.edges=s;else if(_Array$isArray(s))this.body.data.edges=new DataSet,this.body.data.edges.add(s);else if(!s)this.body.data.edges=new DataSet;else throw new TypeError("Array or DataSet expected");if(_e&&forEach$1(this.edgesListeners,function(at,st){_e.off(st,at)}),this.body.edges={},this.body.data.edges){forEach$1(this.edgesListeners,function(at,st){h.body.data.edges.on(st,at)});var rt=this.body.data.edges.getIds();this.add(rt,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),b===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(s){for(var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.body.edges,_e=this.body.data.edges,rt=0;rt<s.length;rt++){var at=s[rt],st=b[at];st&&st.disconnect();var ot=_e.get(at,{showInternalIds:!0});b[at]=this.create(ot)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),h===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(s){for(var h=this.body.edges,b=this.body.data.edges,_e=!1,rt=0;rt<s.length;rt++){var at=s[rt],st=b.get(at),ot=h[at];ot!==void 0?(ot.disconnect(),_e=ot.setOptions(st)||_e,ot.connect()):(this.body.edges[at]=this.create(st),_e=!0)}_e===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(s.length!==0){var b=this.body.edges;forEach$1(s,function(_e){var rt=b[_e];rt!==void 0&&rt.remove()}),h&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var s=this;forEach$1(this.body.edges,function(h,b){var _e=s.body.data.edges.get(b);_e!==void 0&&h.setOptions(_e)})}},{key:"create",value:function(s){return new Edge(s,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var s,h=this.body.nodes,b=this.body.edges;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(h[s].edges=[]);for(s in b)if(Object.prototype.hasOwnProperty.call(b,s)){var _e=b[s];_e.from=null,_e.to=null,_e.connect()}}},{key:"getConnectedNodes",value:function(s){var h=[];if(this.body.edges[s]!==void 0){var b=this.body.edges[s];b.fromId!==void 0&&h.push(b.fromId),b.toId!==void 0&&h.push(b.toId)}return h}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var s=this,h=[];forEach$1(this.body.edges,function(b,_e){var rt=s.body.nodes[b.toId],at=s.body.nodes[b.fromId];rt!==void 0&&rt.isCluster===!0||at!==void 0&&at.isCluster===!0||(rt===void 0||at===void 0)&&h.push(_e)}),this.remove(h,!1)}},{key:"_addMissingEdges",value:function(){var s=this.body.data.edges;if(s!=null){var h=this.body.edges,b=[];_forEachInstanceProperty(s).call(s,function(_e,rt){var at=h[rt];at===void 0&&b.push(rt)}),this.add(b,!0)}}}]),o}(),BarnesHutSolver=function(){function o(e,s,h){_classCallCheck(this,o),this.body=e,this.physicsBody=s,this.barnesHutTree,this.setOptions(h),this._rng=Alea("BARNES HUT SOLVER")}return _createClass(o,[{key:"setOptions",value:function(s){this.options=s,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var s,h=this.body.nodes,b=this.physicsBody.physicsNodeIndices,_e=b.length,rt=this._formBarnesHutTree(h,b);this.barnesHutTree=rt;for(var at=0;at<_e;at++)s=h[b[at]],s.options.mass>0&&this._getForceContributions(rt.root,s)}}},{key:"_getForceContributions",value:function(s,h){this._getForceContribution(s.children.NW,h),this._getForceContribution(s.children.NE,h),this._getForceContribution(s.children.SW,h),this._getForceContribution(s.children.SE,h)}},{key:"_getForceContribution",value:function(s,h){if(s.childrenCount>0){var b=s.centerOfMass.x-h.x,_e=s.centerOfMass.y-h.y,rt=Math.sqrt(b*b+_e*_e);rt*s.calcSize>this.thetaInversed?this._calculateForces(rt,b,_e,h,s):s.childrenCount===4?this._getForceContributions(s,h):s.children.data.id!=h.id&&this._calculateForces(rt,b,_e,h,s)}}},{key:"_calculateForces",value:function(s,h,b,_e,rt){s===0&&(s=.1,h=s),this.overlapAvoidanceFactor<1&&_e.shape.radius&&(s=Math.max(.1+this.overlapAvoidanceFactor*_e.shape.radius,s-_e.shape.radius));var at=this.options.gravitationalConstant*rt.mass*_e.options.mass/Math.pow(s,3),st=h*at,ot=b*at;this.physicsBody.forces[_e.id].x+=st,this.physicsBody.forces[_e.id].y+=ot}},{key:"_formBarnesHutTree",value:function(s,h){for(var b,_e=h.length,rt=s[h[0]].x,at=s[h[0]].y,st=s[h[0]].x,ot=s[h[0]].y,nt=1;nt<_e;nt++){var et=s[h[nt]],d=et.x,_=et.y;et.options.mass>0&&(d<rt&&(rt=d),d>st&&(st=d),_<at&&(at=_),_>ot&&(ot=_))}var tt=Math.abs(st-rt)-Math.abs(ot-at);tt>0?(at-=.5*tt,ot+=.5*tt):(rt+=.5*tt,st-=.5*tt);var lt=1e-5,ut=Math.max(lt,Math.abs(st-rt)),ct=.5*ut,ft=.5*(rt+st),dt=.5*(at+ot),ht={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:ft-ct,maxX:ft+ct,minY:dt-ct,maxY:dt+ct},size:ut,calcSize:1/ut,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(ht.root);for(var gt=0;gt<_e;gt++)b=s[h[gt]],b.options.mass>0&&this._placeInTree(ht.root,b);return ht}},{key:"_updateBranchMass",value:function(s,h){var b=s.centerOfMass,_e=s.mass+h.options.mass,rt=1/_e;b.x=b.x*s.mass+h.x*h.options.mass,b.x*=rt,b.y=b.y*s.mass+h.y*h.options.mass,b.y*=rt,s.mass=_e;var at=Math.max(Math.max(h.height,h.radius),h.width);s.maxWidth=s.maxWidth<at?at:s.maxWidth}},{key:"_placeInTree",value:function(s,h,b){(b!=!0||b===void 0)&&this._updateBranchMass(s,h);var _e=s.children.NW.range,rt;_e.maxX>h.x?_e.maxY>h.y?rt="NW":rt="SW":_e.maxY>h.y?rt="NE":rt="SE",this._placeInRegion(s,h,rt)}},{key:"_placeInRegion",value:function(s,h,b){var _e=s.children[b];switch(_e.childrenCount){case 0:_e.children.data=h,_e.childrenCount=1,this._updateBranchMass(_e,h);break;case 1:_e.children.data.x===h.x&&_e.children.data.y===h.y?(h.x+=this._rng(),h.y+=this._rng()):(this._splitBranch(_e),this._placeInTree(_e,h));break;case 4:this._placeInTree(_e,h);break}}},{key:"_splitBranch",value:function(s){var h=null;s.childrenCount===1&&(h=s.children.data,s.mass=0,s.centerOfMass.x=0,s.centerOfMass.y=0),s.childrenCount=4,s.children.data=null,this._insertRegion(s,"NW"),this._insertRegion(s,"NE"),this._insertRegion(s,"SW"),this._insertRegion(s,"SE"),h!=null&&this._placeInTree(s,h)}},{key:"_insertRegion",value:function(s,h){var b,_e,rt,at,st=.5*s.size;switch(h){case"NW":b=s.range.minX,_e=s.range.minX+st,rt=s.range.minY,at=s.range.minY+st;break;case"NE":b=s.range.minX+st,_e=s.range.maxX,rt=s.range.minY,at=s.range.minY+st;break;case"SW":b=s.range.minX,_e=s.range.minX+st,rt=s.range.minY+st,at=s.range.maxY;break;case"SE":b=s.range.minX+st,_e=s.range.maxX,rt=s.range.minY+st,at=s.range.maxY;break}s.children[h]={centerOfMass:{x:0,y:0},mass:0,range:{minX:b,maxX:_e,minY:rt,maxY:at},size:.5*s.size,calcSize:2*s.calcSize,children:{data:null},maxWidth:0,level:s.level+1,childrenCount:0}}},{key:"_debug",value:function(s,h){this.barnesHutTree!==void 0&&(s.lineWidth=1,this._drawBranch(this.barnesHutTree.root,s,h))}},{key:"_drawBranch",value:function(s,h,b){b===void 0&&(b="#FF0000"),s.childrenCount===4&&(this._drawBranch(s.children.NW,h),this._drawBranch(s.children.NE,h),this._drawBranch(s.children.SE,h),this._drawBranch(s.children.SW,h)),h.strokeStyle=b,h.beginPath(),h.moveTo(s.range.minX,s.range.minY),h.lineTo(s.range.maxX,s.range.minY),h.stroke(),h.beginPath(),h.moveTo(s.range.maxX,s.range.minY),h.lineTo(s.range.maxX,s.range.maxY),h.stroke(),h.beginPath(),h.moveTo(s.range.maxX,s.range.maxY),h.lineTo(s.range.minX,s.range.maxY),h.stroke(),h.beginPath(),h.moveTo(s.range.minX,s.range.maxY),h.lineTo(s.range.minX,s.range.minY),h.stroke()}}]),o}(),RepulsionSolver=function(){function o(e,s,h){_classCallCheck(this,o),this._rng=Alea("REPULSION SOLVER"),this.body=e,this.physicsBody=s,this.setOptions(h)}return _createClass(o,[{key:"setOptions",value:function(s){this.options=s}},{key:"solve",value:function(){for(var s,h,b,_e,rt,at,st,ot,nt=this.body.nodes,et=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,_=this.options.nodeDistance,tt=-2/3/_,lt=4/3,ut=0;ut<et.length-1;ut++){st=nt[et[ut]];for(var ct=ut+1;ct<et.length;ct++)ot=nt[et[ct]],s=ot.x-st.x,h=ot.y-st.y,b=Math.sqrt(s*s+h*h),b===0&&(b=.1*this._rng(),s=b),b<2*_&&(b<.5*_?at=1:at=tt*b+lt,at=at/b,_e=s*at,rt=h*at,d[st.id].x-=_e,d[st.id].y-=rt,d[ot.id].x+=_e,d[ot.id].y+=rt)}}}]),o}(),HierarchicalRepulsionSolver=function(){function o(e,s,h){_classCallCheck(this,o),this.body=e,this.physicsBody=s,this.setOptions(h)}return _createClass(o,[{key:"setOptions",value:function(s){this.options=s,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var s=this.body.nodes,h=this.physicsBody.physicsNodeIndices,b=this.physicsBody.forces,_e=this.options.nodeDistance,rt=0;rt<h.length-1;rt++)for(var at=s[h[rt]],st=rt+1;st<h.length;st++){var ot=s[h[st]];if(at.level===ot.level){var nt=_e+this.overlapAvoidanceFactor*((at.shape.radius||0)/2+(ot.shape.radius||0)/2),et=ot.x-at.x,d=ot.y-at.y,_=Math.sqrt(et*et+d*d),tt=.05,lt=void 0;_<nt?lt=-Math.pow(tt*_,2)+Math.pow(tt*nt,2):lt=0,_!==0&&(lt=lt/_);var ut=et*lt,ct=d*lt;b[at.id].x-=ut,b[at.id].y-=ct,b[ot.id].x+=ut,b[ot.id].y+=ct}}}}]),o}(),SpringSolver=function(){function o(e,s,h){_classCallCheck(this,o),this.body=e,this.physicsBody=s,this.setOptions(h)}return _createClass(o,[{key:"setOptions",value:function(s){this.options=s}},{key:"solve",value:function(){for(var s,h,b=this.physicsBody.physicsEdgeIndices,_e=this.body.edges,rt,at,st,ot=0;ot<b.length;ot++)h=_e[b[ot]],h.connected===!0&&h.toId!==h.fromId&&this.body.nodes[h.toId]!==void 0&&this.body.nodes[h.fromId]!==void 0&&(h.edgeType.via!==void 0?(s=h.options.length===void 0?this.options.springLength:h.options.length,rt=h.to,at=h.edgeType.via,st=h.from,this._calculateSpringForce(rt,at,.5*s),this._calculateSpringForce(at,st,.5*s)):(s=h.options.length===void 0?this.options.springLength*1.5:h.options.length,this._calculateSpringForce(h.from,h.to,s)))}},{key:"_calculateSpringForce",value:function(s,h,b){var _e=s.x-h.x,rt=s.y-h.y,at=Math.max(Math.sqrt(_e*_e+rt*rt),.01),st=this.options.springConstant*(b-at)/at,ot=_e*st,nt=rt*st;this.physicsBody.forces[s.id]!==void 0&&(this.physicsBody.forces[s.id].x+=ot,this.physicsBody.forces[s.id].y+=nt),this.physicsBody.forces[h.id]!==void 0&&(this.physicsBody.forces[h.id].x-=ot,this.physicsBody.forces[h.id].y-=nt)}}]),o}(),HierarchicalSpringSolver=function(){function o(e,s,h){_classCallCheck(this,o),this.body=e,this.physicsBody=s,this.setOptions(h)}return _createClass(o,[{key:"setOptions",value:function(s){this.options=s}},{key:"solve",value:function(){for(var s,h,b,_e,rt,at,st,ot,nt=this.body.edges,et=.5,d=this.physicsBody.physicsEdgeIndices,_=this.physicsBody.physicsNodeIndices,tt=this.physicsBody.forces,lt=0;lt<_.length;lt++){var ut=_[lt];tt[ut].springFx=0,tt[ut].springFy=0}for(var ct=0;ct<d.length;ct++)h=nt[d[ct]],h.connected===!0&&(s=h.options.length===void 0?this.options.springLength:h.options.length,b=h.from.x-h.to.x,_e=h.from.y-h.to.y,ot=Math.sqrt(b*b+_e*_e),ot=ot===0?.01:ot,st=this.options.springConstant*(s-ot)/ot,rt=b*st,at=_e*st,h.to.level!=h.from.level?(tt[h.toId]!==void 0&&(tt[h.toId].springFx-=rt,tt[h.toId].springFy-=at),tt[h.fromId]!==void 0&&(tt[h.fromId].springFx+=rt,tt[h.fromId].springFy+=at)):(tt[h.toId]!==void 0&&(tt[h.toId].x-=et*rt,tt[h.toId].y-=et*at),tt[h.fromId]!==void 0&&(tt[h.fromId].x+=et*rt,tt[h.fromId].y+=et*at)));st=1;for(var ft,dt,ht=0;ht<_.length;ht++){var gt=_[ht];ft=Math.min(st,Math.max(-st,tt[gt].springFx)),dt=Math.min(st,Math.max(-st,tt[gt].springFy)),tt[gt].x+=ft,tt[gt].y+=dt}for(var yt=0,vt=0,mt=0;mt<_.length;mt++){var bt=_[mt];yt+=tt[bt].x,vt+=tt[bt].y}for(var $t=yt/_.length,St=vt/_.length,Pt=0;Pt<_.length;Pt++){var _t=_[Pt];tt[_t].x-=$t,tt[_t].y-=St}}}]),o}(),CentralGravitySolver=function(){function o(e,s,h){_classCallCheck(this,o),this.body=e,this.physicsBody=s,this.setOptions(h)}return _createClass(o,[{key:"setOptions",value:function(s){this.options=s}},{key:"solve",value:function(){for(var s,h,b,_e,rt=this.body.nodes,at=this.physicsBody.physicsNodeIndices,st=this.physicsBody.forces,ot=0;ot<at.length;ot++){var nt=at[ot];_e=rt[nt],s=-_e.x,h=-_e.y,b=Math.sqrt(s*s+h*h),this._calculateForces(b,s,h,st,_e)}}},{key:"_calculateForces",value:function(s,h,b,_e,rt){var at=s===0?0:this.options.centralGravity/s;_e[rt.id].x=h*at,_e[rt.id].y=b*at}}]),o}();function _createSuper$3(o){var e=_isNativeReflectConstruct$3();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var ForceAtlas2BasedRepulsionSolver=function(o){_inherits(s,o);var e=_createSuper$3(s);function s(h,b,_e){var rt;return _classCallCheck(this,s),rt=e.call(this,h,b,_e),rt._rng=Alea("FORCE ATLAS 2 BASED REPULSION SOLVER"),rt}return _createClass(s,[{key:"_calculateForces",value:function(b,_e,rt,at,st){b===0&&(b=.1*this._rng(),_e=b),this.overlapAvoidanceFactor<1&&at.shape.radius&&(b=Math.max(.1+this.overlapAvoidanceFactor*at.shape.radius,b-at.shape.radius));var ot=at.edges.length+1,nt=this.options.gravitationalConstant*st.mass*at.options.mass*ot/Math.pow(b,2),et=_e*nt,d=rt*nt;this.physicsBody.forces[at.id].x+=et,this.physicsBody.forces[at.id].y+=d}}]),s}(BarnesHutSolver);function _createSuper$2(o){var e=_isNativeReflectConstruct$2();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var ForceAtlas2BasedCentralGravitySolver=function(o){_inherits(s,o);var e=_createSuper$2(s);function s(h,b,_e){return _classCallCheck(this,s),e.call(this,h,b,_e)}return _createClass(s,[{key:"_calculateForces",value:function(b,_e,rt,at,st){if(b>0){var ot=st.edges.length+1,nt=this.options.centralGravity*ot*st.options.mass;at[st.id].x=_e*nt,at[st.id].y=rt*nt}}}]),s}(CentralGravitySolver),PhysicsEngine=function(){function o(e){_classCallCheck(this,o),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},_Object$assign(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return _createClass(o,[{key:"bindEventListeners",value:function(){var s=this;this.body.emitter.on("initPhysics",function(){s.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){s.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){s.stopSimulation(),s.ready=!1}),this.body.emitter.on("disablePhysics",function(){s.physicsEnabled=!1,s.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){s.setOptions(s.options),s.ready===!0&&s.startSimulation()}),this.body.emitter.on("startSimulation",function(){s.ready===!0&&s.startSimulation()}),this.body.emitter.on("stopSimulation",function(){s.stopSimulation()}),this.body.emitter.on("destroy",function(){s.stopSimulation(!1),s.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){s.updatePhysicsData()})}},{key:"setOptions",value:function(s){if(s!==void 0)if(s===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(s===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,selectiveNotDeepExtend(["stabilization"],this.options,s),mergeOptions(this.options,s,"stabilization"),s.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var h=this.options.wind;h&&((typeof h.x!="number"||_Number$isNaN(h.x))&&(h.x=0),(typeof h.y!="number"||_Number$isNaN(h.y))&&(h.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var s;this.options.solver==="forceAtlas2Based"?(s=this.options.forceAtlas2Based,this.nodesSolver=new ForceAtlas2BasedRepulsionSolver(this.body,this.physicsBody,s),this.edgesSolver=new SpringSolver(this.body,this.physicsBody,s),this.gravitySolver=new ForceAtlas2BasedCentralGravitySolver(this.body,this.physicsBody,s)):this.options.solver==="repulsion"?(s=this.options.repulsion,this.nodesSolver=new RepulsionSolver(this.body,this.physicsBody,s),this.edgesSolver=new SpringSolver(this.body,this.physicsBody,s),this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,s)):this.options.solver==="hierarchicalRepulsion"?(s=this.options.hierarchicalRepulsion,this.nodesSolver=new HierarchicalRepulsionSolver(this.body,this.physicsBody,s),this.edgesSolver=new HierarchicalSpringSolver(this.body,this.physicsBody,s),this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,s)):(s=this.options.barnesHut,this.nodesSolver=new BarnesHutSolver(this.body,this.physicsBody,s),this.edgesSolver=new SpringSolver(this.body,this.physicsBody,s),this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,s)),this.modelOptions=s}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var s;this.viewFunction=_bindInstanceProperty$1(s=this.simulationStep).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,s===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,s===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var s=_Date$now();this.physicsTick();var h=_Date$now()-s;(h<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var s=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&_setTimeout(function(){s.body.emitter.emit("stabilized",{iterations:h}),s.startedStabilization=!1,s.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var s=1.2;this._evaluateStepQuality()===!0?this.timestep=s*this.timestep:this.timestep/s<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/s))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var s=this.adaptiveCounter%this.adaptiveInterval===0;s?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var s=this.body.nodes,h=this.body.edges;for(var b in s)Object.prototype.hasOwnProperty.call(s,b)&&s[b].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(s[b].id);for(var _e in h)Object.prototype.hasOwnProperty.call(h,_e)&&h[_e].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(h[_e].id);for(var rt=0;rt<this.physicsBody.physicsNodeIndices.length;rt++){var at=this.physicsBody.physicsNodeIndices[rt];this.physicsBody.forces[at]={x:0,y:0},this.physicsBody.velocities[at]===void 0&&(this.physicsBody.velocities[at]={x:0,y:0})}for(var st in this.physicsBody.velocities)s[st]===void 0&&delete this.physicsBody.velocities[st]}},{key:"revert",value:function(){var s=_Object$keys(this.previousStates),h=this.body.nodes,b=this.physicsBody.velocities;this.referenceState={};for(var _e=0;_e<s.length;_e++){var rt=s[_e];h[rt]!==void 0?h[rt].options.physics===!0&&(this.referenceState[rt]={positions:{x:h[rt].x,y:h[rt].y}},b[rt].x=this.previousStates[rt].vx,b[rt].y=this.previousStates[rt].vy,h[rt].x=this.previousStates[rt].x,h[rt].y=this.previousStates[rt].y):delete this.previousStates[rt]}}},{key:"_evaluateStepQuality",value:function(){var s,h,b,_e=this.body.nodes,rt=this.referenceState,at=.3;for(var st in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,st)&&_e[st]!==void 0&&(s=_e[st].x-rt[st].positions.x,h=_e[st].y-rt[st].positions.y,b=Math.sqrt(Math.pow(s,2)+Math.pow(h,2)),b>at))return!1;return!0}},{key:"moveNodes",value:function(){for(var s=this.physicsBody.physicsNodeIndices,h=0,b=0,_e=5,rt=0;rt<s.length;rt++){var at=s[rt],st=this._performStep(at);h=Math.max(h,st),b+=st}this.adaptiveTimestepEnabled=b/s.length<_e,this.stabilized=h<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(s,h,b){var _e=this.modelOptions.damping*s,rt=(h-_e)/b;s+=rt*this.timestep;var at=this.options.maxVelocity||1e9;return Math.abs(s)>at&&(s=s>0?at:-at),s}},{key:"_performStep",value:function(s){var h=this.body.nodes[s],b=this.physicsBody.forces[s];this.options.wind&&(b.x+=this.options.wind.x,b.y+=this.options.wind.y);var _e=this.physicsBody.velocities[s];this.previousStates[s]={x:h.x,y:h.y,vx:_e.x,vy:_e.y},h.options.fixed.x===!1?(_e.x=this.calculateComponentVelocity(_e.x,b.x,h.options.mass),h.x+=_e.x*this.timestep):(b.x=0,_e.x=0),h.options.fixed.y===!1?(_e.y=this.calculateComponentVelocity(_e.y,b.y,h.options.mass),h.y+=_e.y*this.timestep):(b.y=0,_e.y=0);var rt=Math.sqrt(Math.pow(_e.x,2)+Math.pow(_e.y,2));return rt}},{key:"_freezeNodes",value:function(){var s=this.body.nodes;for(var h in s)if(Object.prototype.hasOwnProperty.call(s,h)&&s[h].x&&s[h].y){var b=s[h].options.fixed;this.freezeCache[h]={x:b.x,y:b.y},b.x=!0,b.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var s=this.body.nodes;for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&this.freezeCache[h]!==void 0&&(s[h].options.fixed.x=this.freezeCache[h].x,s[h].options.fixed.y=this.freezeCache[h].y);this.freezeCache={}}},{key:"stabilize",value:function(){var s=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof h!="number"&&(h=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",h)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=h,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,_setTimeout(function(){return s._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var s=this,h=function(){return s.stabilized===!1&&s.stabilizationIterations<s.targetIterations},b=function(){s.body.emitter.emit("stabilizationProgress",{iterations:s.stabilizationIterations,total:s.targetIterations})};this._startStabilizing()&&b();for(var _e=0;h()&&_e<this.options.stabilization.updateInterval;)this.physicsTick(),_e++;if(b(),h()){var rt;_setTimeout(_bindInstanceProperty$1(rt=this._stabilizationBatch).call(rt,this),0)}else this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(s){for(var h=0;h<this.physicsBody.physicsNodeIndices.length;h++){var b=this.physicsBody.physicsNodeIndices[h],_e=this.body.nodes[b],rt=this.physicsBody.forces[b],at=20,st=.03,ot=Math.sqrt(Math.pow(rt.x,2)+Math.pow(rt.x,2)),nt=Math.min(Math.max(5,ot),15),et=3*nt,d=HSVToHex((180-Math.min(1,Math.max(0,st*ot))*180)/360,1,1),_={x:_e.x+at*rt.x,y:_e.y+at*rt.y};s.lineWidth=nt,s.strokeStyle=d,s.beginPath(),s.moveTo(_e.x,_e.y),s.lineTo(_.x,_.y),s.stroke();var tt=Math.atan2(rt.y,rt.x);s.fillStyle=d,EndPoints.draw(s,{type:"arrow",point:_,angle:tt,length:et}),_fillInstanceProperty(s).call(s)}}}]),o}();let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let o=0;o<256;++o)byteToHex.push((o+256).toString(16).slice(1));function unsafeStringify(o,e=0){return byteToHex[o[e+0]]+byteToHex[o[e+1]]+byteToHex[o[e+2]]+byteToHex[o[e+3]]+"-"+byteToHex[o[e+4]]+byteToHex[o[e+5]]+"-"+byteToHex[o[e+6]]+byteToHex[o[e+7]]+"-"+byteToHex[o[e+8]]+byteToHex[o[e+9]]+"-"+byteToHex[o[e+10]]+byteToHex[o[e+11]]+byteToHex[o[e+12]]+byteToHex[o[e+13]]+byteToHex[o[e+14]]+byteToHex[o[e+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var native={randomUUID};function v4(o,e,s){if(native.randomUUID&&!e&&!o)return native.randomUUID();o=o||{};const h=o.random||(o.rng||rng)();if(h[6]=h[6]&15|64,h[8]=h[8]&63|128,e){s=s||0;for(let b=0;b<16;++b)e[s+b]=h[b];return e}return unsafeStringify(h)}var NetworkUtil=function(){function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"getRange",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],b=1e9,_e=-1e9,rt=1e9,at=-1e9,st;if(h.length>0)for(var ot=0;ot<h.length;ot++)st=s[h[ot]],rt>st.shape.boundingBox.left&&(rt=st.shape.boundingBox.left),at<st.shape.boundingBox.right&&(at=st.shape.boundingBox.right),b>st.shape.boundingBox.top&&(b=st.shape.boundingBox.top),_e<st.shape.boundingBox.bottom&&(_e=st.shape.boundingBox.bottom);return rt===1e9&&at===-1e9&&b===1e9&&_e===-1e9&&(b=0,_e=0,rt=0,at=0),{minX:rt,maxX:at,minY:b,maxY:_e}}},{key:"getRangeCore",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],b=1e9,_e=-1e9,rt=1e9,at=-1e9,st;if(h.length>0)for(var ot=0;ot<h.length;ot++)st=s[h[ot]],rt>st.x&&(rt=st.x),at<st.x&&(at=st.x),b>st.y&&(b=st.y),_e<st.y&&(_e=st.y);return rt===1e9&&at===-1e9&&b===1e9&&_e===-1e9&&(b=0,_e=0,rt=0,at=0),{minX:rt,maxX:at,minY:b,maxY:_e}}},{key:"findCenter",value:function(s){return{x:.5*(s.maxX+s.minX),y:.5*(s.maxY+s.minY)}}},{key:"cloneOptions",value:function(s,h){var b={};return h===void 0||h==="node"?(deepExtend(b,s.options,!0),b.x=s.x,b.y=s.y,b.amountOfConnections=s.edges.length):deepExtend(b,s.options,!0),b}}]),o}();function _createSuper$1(o){var e=_isNativeReflectConstruct$1();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var Cluster=function(o){_inherits(s,o);var e=_createSuper$1(s);function s(h,b,_e,rt,at,st){var ot;return _classCallCheck(this,s),ot=e.call(this,h,b,_e,rt,at,st),ot.isCluster=!0,ot.containedNodes={},ot.containedEdges={},ot}return _createClass(s,[{key:"_openChildCluster",value:function(b){var _e=this,rt=this.body.nodes[b];if(this.containedNodes[b]===void 0)throw new Error("node with id: "+b+" not in current cluster");if(!rt.isCluster)throw new Error("node with id: "+b+" is not a cluster");delete this.containedNodes[b],forEach$1(rt.edges,function(at){delete _e.containedEdges[at.id]}),forEach$1(rt.containedNodes,function(at,st){_e.containedNodes[st]=at}),rt.containedNodes={},forEach$1(rt.containedEdges,function(at,st){_e.containedEdges[st]=at}),rt.containedEdges={},forEach$1(rt.edges,function(at){forEach$1(_e.edges,function(st){var ot,nt,et=_indexOfInstanceProperty(ot=st.clusteringEdgeReplacingIds).call(ot,at.id);et!==-1&&(forEach$1(at.clusteringEdgeReplacingIds,function(d){st.clusteringEdgeReplacingIds.push(d),_e.body.edges[d].edgeReplacedById=st.id}),_spliceInstanceProperty(nt=st.clusteringEdgeReplacingIds).call(nt,et,1))})}),rt.edges=[]}}]),s}(Node),ClusterEngine=function(){function o(e){var s=this;_classCallCheck(this,o),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},_Object$assign(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){s.clusteredNodes={},s.clusteredEdges={}})}return _createClass(o,[{key:"clusterByHubsize",value:function(s,h){s===void 0?s=this._getHubSize():_typeof(s)==="object"&&(h=this._checkOptions(s),s=this._getHubSize());for(var b=[],_e=0;_e<this.body.nodeIndices.length;_e++){var rt=this.body.nodes[this.body.nodeIndices[_e]];rt.edges.length>=s&&b.push(rt.id)}for(var at=0;at<b.length;at++)this.clusterByConnection(b[at],h,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var s=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(h.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");h=this._checkOptions(h);var _e={},rt={};forEach$1(this.body.nodes,function(at,st){at.options&&h.joinCondition(at.options)===!0&&(_e[st]=at,forEach$1(at.edges,function(ot){s.clusteredEdges[ot.id]===void 0&&(rt[ot.id]=ot)}))}),this._cluster(_e,rt,h,b)}},{key:"clusterByEdgeCount",value:function(s,h){var b=this,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;h=this._checkOptions(h);for(var rt=[],at={},st,ot,nt,et=function(){var lt={},ut={},ct=b.body.nodeIndices[d],ft=b.body.nodes[ct];if(at[ct]===void 0){nt=0,ot=[];for(var dt=0;dt<ft.edges.length;dt++)st=ft.edges[dt],b.clusteredEdges[st.id]===void 0&&(st.toId!==st.fromId&&nt++,ot.push(st));if(nt===s){for(var ht=function(_t){if(h.joinCondition===void 0||h.joinCondition===null)return!0;var wt=NetworkUtil.cloneOptions(_t);return h.joinCondition(wt)},gt=!0,yt=0;yt<ot.length;yt++){st=ot[yt];var vt=b._getConnectedId(st,ct);if(ht(ft))ut[st.id]=st,lt[ct]=ft,lt[vt]=b.body.nodes[vt],at[ct]=!0;else{gt=!1;break}}if(_Object$keys(lt).length>0&&_Object$keys(ut).length>0&&gt===!0){var mt=function(){for(var _t=0;_t<rt.length;++_t)for(var wt in lt)if(rt[_t].nodes[wt]!==void 0)return rt[_t]},bt=mt();if(bt!==void 0){for(var $t in lt)bt.nodes[$t]===void 0&&(bt.nodes[$t]=lt[$t]);for(var St in ut)bt.edges[St]===void 0&&(bt.edges[St]=ut[St])}else rt.push({nodes:lt,edges:ut})}}}},d=0;d<this.body.nodeIndices.length;d++)et();for(var _=0;_<rt.length;_++)this._cluster(rt[_].nodes,rt[_].edges,h,!1);_e===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,s,h)}},{key:"clusterBridges",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,s,h)}},{key:"clusterByConnection",value:function(s,h){var b,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(s===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[s]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var rt=this.body.nodes[s];h=this._checkOptions(h,rt),h.clusterNodeProperties.x===void 0&&(h.clusterNodeProperties.x=rt.x),h.clusterNodeProperties.y===void 0&&(h.clusterNodeProperties.y=rt.y),h.clusterNodeProperties.fixed===void 0&&(h.clusterNodeProperties.fixed={},h.clusterNodeProperties.fixed.x=rt.options.fixed.x,h.clusterNodeProperties.fixed.y=rt.options.fixed.y);var at={},st={},ot=rt.id,nt=NetworkUtil.cloneOptions(rt);at[ot]=rt;for(var et=0;et<rt.edges.length;et++){var d=rt.edges[et];if(this.clusteredEdges[d.id]===void 0){var _=this._getConnectedId(d,ot);if(this.clusteredNodes[_]===void 0)if(_!==ot)if(h.joinCondition===void 0)st[d.id]=d,at[_]=this.body.nodes[_];else{var tt=NetworkUtil.cloneOptions(this.body.nodes[_]);h.joinCondition(nt,tt)===!0&&(st[d.id]=d,at[_]=this.body.nodes[_])}else st[d.id]=d}}var lt=_mapInstanceProperty(b=_Object$keys(at)).call(b,function(ht){return at[ht].id});for(var ut in at)if(Object.prototype.hasOwnProperty.call(at,ut))for(var ct=at[ut],ft=0;ft<ct.edges.length;ft++){var dt=ct.edges[ft];_indexOfInstanceProperty(lt).call(lt,this._getConnectedId(dt,ct.id))>-1&&(st[dt.id]=dt)}this._cluster(at,st,h,_e)}},{key:"_createClusterEdges",value:function(s,h,b,_e){for(var rt,at,st,ot,nt,et,d=_Object$keys(s),_=[],tt=0;tt<d.length;tt++){at=d[tt],st=s[at];for(var lt=0;lt<st.edges.length;lt++)rt=st.edges[lt],this.clusteredEdges[rt.id]===void 0&&(rt.toId==rt.fromId?h[rt.id]=rt:rt.toId==at?(ot=b.id,nt=rt.fromId,et=nt):(ot=rt.toId,nt=b.id,et=ot),s[et]===void 0&&_.push({edge:rt,fromId:nt,toId:ot}))}for(var ut=[],ct=function(vt){for(var mt=0;mt<ut.length;mt++){var bt=ut[mt],$t=vt.fromId===bt.fromId&&vt.toId===bt.toId,St=vt.fromId===bt.toId&&vt.toId===bt.fromId;if($t||St)return bt}return null},ft=0;ft<_.length;ft++){var dt=_[ft],ht=dt.edge,gt=ct(dt);gt===null?(gt=this._createClusteredEdge(dt.fromId,dt.toId,ht,_e),ut.push(gt)):gt.clusteringEdgeReplacingIds.push(ht.id),this.body.edges[ht.id].edgeReplacedById=gt.id,this._backupEdgeOptions(ht),ht.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return s.clusterEdgeProperties===void 0&&(s.clusterEdgeProperties={}),s.clusterNodeProperties===void 0&&(s.clusterNodeProperties={}),s}},{key:"_cluster",value:function(s,h,b){var _e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,rt=[];for(var at in s)Object.prototype.hasOwnProperty.call(s,at)&&this.clusteredNodes[at]!==void 0&&rt.push(at);for(var st=0;st<rt.length;++st)delete s[rt[st]];if(_Object$keys(s).length!=0&&!(_Object$keys(s).length==1&&b.clusterNodeProperties.allowSingleNodeCluster!=!0)){var ot=deepExtend({},b.clusterNodeProperties);if(b.processProperties!==void 0){var nt=[];for(var et in s)if(Object.prototype.hasOwnProperty.call(s,et)){var d=NetworkUtil.cloneOptions(s[et]);nt.push(d)}var _=[];for(var tt in h)if(Object.prototype.hasOwnProperty.call(h,tt)&&tt.substr(0,12)!=="clusterEdge:"){var lt=NetworkUtil.cloneOptions(h[tt],"edge");_.push(lt)}if(ot=b.processProperties(ot,nt,_),!ot)throw new Error("The processProperties function does not return properties!")}ot.id===void 0&&(ot.id="cluster:"+v4());var ut=ot.id;ot.label===void 0&&(ot.label="cluster");var ct=void 0;ot.x===void 0&&(ct=this._getClusterPosition(s),ot.x=ct.x),ot.y===void 0&&(ct===void 0&&(ct=this._getClusterPosition(s)),ot.y=ct.y),ot.id=ut;var ft=this.body.functions.createNode(ot,Cluster);ft.containedNodes=s,ft.containedEdges=h,ft.clusterEdgeProperties=b.clusterEdgeProperties,this.body.nodes[ot.id]=ft,this._clusterEdges(s,h,ot,b.clusterEdgeProperties),ot.id=void 0,_e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(s){this.clusteredEdges[s.id]===void 0&&(this.clusteredEdges[s.id]={physics:s.options.physics})}},{key:"_restoreEdge",value:function(s){var h=this.clusteredEdges[s.id];h!==void 0&&(s.setOptions({physics:h.physics}),delete this.clusteredEdges[s.id])}},{key:"isCluster",value:function(s){return this.body.nodes[s]!==void 0?this.body.nodes[s].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(s){for(var h=_Object$keys(s),b=s[h[0]].x,_e=s[h[0]].x,rt=s[h[0]].y,at=s[h[0]].y,st,ot=1;ot<h.length;ot++)st=s[h[ot]],b=st.x<b?st.x:b,_e=st.x>_e?st.x:_e,rt=st.y<rt?st.y:rt,at=st.y>at?st.y:at;return{x:.5*(b+_e),y:.5*(rt+at)}}},{key:"openCluster",value:function(s,h){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(s===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var _e=this.body.nodes[s];if(_e===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(_e.isCluster!==!0||_e.containedNodes===void 0||_e.containedEdges===void 0)throw new Error("The node:"+s+" is not a valid cluster.");var rt=this.findNode(s),at=_indexOfInstanceProperty(rt).call(rt,s)-1;if(at>=0){var st=rt[at],ot=this.body.nodes[st];ot._openChildCluster(s),delete this.body.nodes[s],b===!0&&this.body.emitter.emit("_dataChanged");return}var nt=_e.containedNodes,et=_e.containedEdges;if(h!==void 0&&h.releaseFunction!==void 0&&typeof h.releaseFunction=="function"){var d={},_={x:_e.x,y:_e.y};for(var tt in nt)if(Object.prototype.hasOwnProperty.call(nt,tt)){var lt=this.body.nodes[tt];d[tt]={x:lt.x,y:lt.y}}var ut=h.releaseFunction(_,d);for(var ct in nt)if(Object.prototype.hasOwnProperty.call(nt,ct)){var ft=this.body.nodes[ct];ut[ct]!==void 0&&(ft.x=ut[ct].x===void 0?_e.x:ut[ct].x,ft.y=ut[ct].y===void 0?_e.y:ut[ct].y)}}else forEach$1(nt,function(Ct){Ct.options.fixed.x===!1&&(Ct.x=_e.x),Ct.options.fixed.y===!1&&(Ct.y=_e.y)});for(var dt in nt)if(Object.prototype.hasOwnProperty.call(nt,dt)){var ht=this.body.nodes[dt];ht.vx=_e.vx,ht.vy=_e.vy,ht.setOptions({physics:!0}),delete this.clusteredNodes[dt]}for(var gt=[],yt=0;yt<_e.edges.length;yt++)gt.push(_e.edges[yt]);for(var vt=0;vt<gt.length;vt++){for(var mt=gt[vt],bt=this._getConnectedId(mt,s),$t=this.clusteredNodes[bt],St=0;St<mt.clusteringEdgeReplacingIds.length;St++){var Pt=mt.clusteringEdgeReplacingIds[St],_t=this.body.edges[Pt];if(_t!==void 0)if($t!==void 0){var wt=this.body.nodes[$t.clusterId];wt.containedEdges[_t.id]=_t,delete et[_t.id];var xt=_t.fromId,Tt=_t.toId;_t.toId==bt?Tt=$t.clusterId:xt=$t.clusterId,this._createClusteredEdge(xt,Tt,_t,wt.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(_t)}mt.remove()}for(var It in et)Object.prototype.hasOwnProperty.call(et,It)&&this._restoreEdge(et[It]);delete this.body.nodes[s],b===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(s){var h=[];if(this.isCluster(s)===!0){var b=this.body.nodes[s].containedNodes;for(var _e in b)Object.prototype.hasOwnProperty.call(b,_e)&&h.push(this.body.nodes[_e].id)}return h}},{key:"findNode",value:function(s){for(var h=[],b=100,_e=0,rt;this.clusteredNodes[s]!==void 0&&_e<b;){if(rt=this.body.nodes[s],rt===void 0)return[];h.push(rt.id),s=this.clusteredNodes[s].clusterId,_e++}return rt=this.body.nodes[s],rt===void 0?[]:(h.push(rt.id),_reverseInstanceProperty(h).call(h),h)}},{key:"updateClusteredNode",value:function(s,h){if(s===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(h===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[s]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[s].setOptions(h),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(s,h){if(s===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(h===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[s]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var b=this.getClusteredEdges(s),_e=0;_e<b.length;_e++){var rt=this.body.edges[b[_e]];rt.setOptions(h)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(s){for(var h=[],b=100,_e=0;s!==void 0&&this.body.edges[s]!==void 0&&_e<b;)h.push(this.body.edges[s].id),s=this.body.edges[s].edgeReplacedById,_e++;return _reverseInstanceProperty(h).call(h),h}},{key:"getBaseEdge",value:function(s){return this.getBaseEdges(s)[0]}},{key:"getBaseEdges",value:function(s){for(var h=[s],b=[],_e=[],rt=100,at=0;h.length>0&&at<rt;){var st=h.pop();if(st!==void 0){var ot=this.body.edges[st];if(ot!==void 0){at++;var nt=ot.clusteringEdgeReplacingIds;if(nt===void 0)_e.push(st);else for(var et=0;et<nt.length;++et){var d=nt[et];_indexOfInstanceProperty(h).call(h,nt)!==-1||_indexOfInstanceProperty(b).call(b,nt)!==-1||h.push(d)}b.push(st)}}}return _e}},{key:"_getConnectedId",value:function(s,h){return s.toId!=h?s.toId:(s.fromId!=h,s.fromId)}},{key:"_getHubSize",value:function(){for(var s=0,h=0,b=0,_e=0,rt=0;rt<this.body.nodeIndices.length;rt++){var at=this.body.nodes[this.body.nodeIndices[rt]];at.edges.length>_e&&(_e=at.edges.length),s+=at.edges.length,h+=Math.pow(at.edges.length,2),b+=1}s=s/b,h=h/b;var st=h-Math.pow(s,2),ot=Math.sqrt(st),nt=Math.floor(s+2*ot);return nt>_e&&(nt=_e),nt}},{key:"_createClusteredEdge",value:function(s,h,b,_e,rt){var at=NetworkUtil.cloneOptions(b,"edge");deepExtend(at,_e),at.from=s,at.to=h,at.id="clusterEdge:"+v4(),rt!==void 0&&deepExtend(at,rt);var st=this.body.functions.createEdge(at);return st.clusteringEdgeReplacingIds=[b.id],st.connect(),this.body.edges[st.id]=st,st}},{key:"_clusterEdges",value:function(s,h,b,_e){if(h instanceof Edge){var rt=h,at={};at[rt.id]=rt,h=at}if(s instanceof Node){var st=s,ot={};ot[st.id]=st,s=ot}if(b==null)throw new Error("_clusterEdges: parameter clusterNode required");_e===void 0&&(_e=b.clusterEdgeProperties),this._createClusterEdges(s,h,b,_e);for(var nt in h)if(Object.prototype.hasOwnProperty.call(h,nt)&&this.body.edges[nt]!==void 0){var et=this.body.edges[nt];this._backupEdgeOptions(et),et.setOptions({physics:!1})}for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(this.clusteredNodes[d]={clusterId:b.id,node:this.body.nodes[d]},this.body.nodes[d].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(s){if(s!==void 0){var h=this.clusteredNodes[s];if(h!==void 0){var b=h.clusterId;if(b!==void 0)return this.body.nodes[b]}}}},{key:"_filter",value:function(s,h){var b=[];return forEach$1(s,function(_e){h(_e)&&b.push(_e)}),b}},{key:"_updateState",value:function(){var s=this,h,b=[],_e={},rt=function(tt){forEach$1(s.body.nodes,function(lt){lt.isCluster===!0&&tt(lt)})};for(h in this.clusteredNodes)if(Object.prototype.hasOwnProperty.call(this.clusteredNodes,h)){var at=this.body.nodes[h];at===void 0&&b.push(h)}rt(function(_){for(var tt=0;tt<b.length;tt++)delete _.containedNodes[b[tt]]});for(var st=0;st<b.length;st++)delete this.clusteredNodes[b[st]];forEach$1(this.clusteredEdges,function(_){var tt=s.body.edges[_];(tt===void 0||!tt.endPointsValid())&&(_e[_]=_)}),rt(function(_){forEach$1(_.containedEdges,function(tt,lt){!tt.endPointsValid()&&!_e[lt]&&(_e[lt]=lt)})}),forEach$1(this.body.edges,function(_,tt){var lt=!0,ut=_.clusteringEdgeReplacingIds;if(ut!==void 0){var ct=0;forEach$1(ut,function(ft){var dt=s.body.edges[ft];dt!==void 0&&dt.endPointsValid()&&(ct+=1)}),lt=ct>0}(!_.endPointsValid()||!lt)&&(_e[tt]=tt)}),rt(function(_){forEach$1(_e,function(tt){delete _.containedEdges[tt],forEach$1(_.edges,function(lt,ut){if(lt.id===tt){_.edges[ut]=null;return}lt.clusteringEdgeReplacingIds=s._filter(lt.clusteringEdgeReplacingIds,function(ct){return!_e[ct]})}),_.edges=s._filter(_.edges,function(lt){return lt!==null})})}),forEach$1(_e,function(_){delete s.clusteredEdges[_]}),forEach$1(_e,function(_){delete s.body.edges[_]});var ot=_Object$keys(this.body.edges);forEach$1(ot,function(_){var tt=s.body.edges[_],lt=s._isClusteredNode(tt.fromId)||s._isClusteredNode(tt.toId);if(lt!==s._isClusteredEdge(tt.id))if(lt){var ut=s._getClusterNodeForNode(tt.fromId);ut!==void 0&&s._clusterEdges(s.body.nodes[tt.fromId],tt,ut);var ct=s._getClusterNodeForNode(tt.toId);ct!==void 0&&s._clusterEdges(s.body.nodes[tt.toId],tt,ct)}else delete s._clusterEdges[_],s._restoreEdge(tt)});for(var nt=!1,et=!0,d=function(){var tt=[];rt(function(ut){var ct=_Object$keys(ut.containedNodes).length,ft=ut.options.allowSingleNodeCluster===!0;(ft&&ct<1||!ft&&ct<2)&&tt.push(ut.id)});for(var lt=0;lt<tt.length;++lt)s.openCluster(tt[lt],{},!1);et=tt.length>0,nt=nt||et};et;)d();nt&&this._updateState()}},{key:"_isClusteredNode",value:function(s){return this.clusteredNodes[s]!==void 0}},{key:"_isClusteredEdge",value:function(s){return this.clusteredEdges[s]!==void 0}}]),o}();function _initRequestAnimationFrame(){var o;window!==void 0&&(o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),o===void 0?window.requestAnimationFrame=function(e){e()}:window.requestAnimationFrame=o}var CanvasRenderer=function(){function o(e,s){_classCallCheck(this,o),_initRequestAnimationFrame(),this.body=e,this.canvas=s,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},_Object$assign(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return _createClass(o,[{key:"bindEventListeners",value:function(){var s=this,h;this.body.emitter.on("dragStart",function(){s.dragging=!0}),this.body.emitter.on("dragEnd",function(){s.dragging=!1}),this.body.emitter.on("zoom",function(){s.zooming=!0,window.clearTimeout(s.zoomTimeoutId),s.zoomTimeoutId=_setTimeout(function(){var b;s.zooming=!1,_bindInstanceProperty$1(b=s._requestRedraw).call(b,s)()},250)}),this.body.emitter.on("_resizeNodes",function(){s._resizeNodes()}),this.body.emitter.on("_redraw",function(){s.renderingActive===!1&&s._redraw()}),this.body.emitter.on("_blockRedraw",function(){s.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){s.allowRedraw=!0,s.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",_bindInstanceProperty$1(h=this._requestRedraw).call(h,this)),this.body.emitter.on("_startRendering",function(){s.renderRequests+=1,s.renderingActive=!0,s._startRendering()}),this.body.emitter.on("_stopRendering",function(){s.renderRequests-=1,s.renderingActive=s.renderRequests>0,s.renderTimer=void 0}),this.body.emitter.on("destroy",function(){s.renderRequests=0,s.allowRedraw=!1,s.renderingActive=!1,s.requiresTimeout===!0?clearTimeout(s.renderTimer):window.cancelAnimationFrame(s.renderTimer),s.body.emitter.off()})}},{key:"setOptions",value:function(s){if(s!==void 0){var h=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];selectiveDeepExtend(h,this.options,s)}}},{key:"_requestNextFrame",value:function(s,h){if(!(typeof window>"u")){var b,_e=window;return this.requiresTimeout===!0?b=_setTimeout(s,h):_e.requestAnimationFrame&&(b=_e.requestAnimationFrame(s)),b}}},{key:"_startRendering",value:function(){if(this.renderingActive===!0&&this.renderTimer===void 0){var s;this.renderTimer=this._requestNextFrame(_bindInstanceProperty$1(s=this._renderStep).call(s,this),this.simulationInterval)}}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var s=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){s._redraw(!1)},0))}},{key:"_redraw",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var h={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var b=this.canvas.getContext(),_e=this.canvas.frame.canvas.clientWidth,rt=this.canvas.frame.canvas.clientHeight;if(b.clearRect(0,0,_e,rt),this.canvas.frame.clientWidth===0)return;if(b.save(),b.translate(this.body.view.translation.x,this.body.view.translation.y),b.scale(this.body.view.scale,this.body.view.scale),b.beginPath(),this.body.emitter.emit("beforeDrawing",b),b.closePath(),s===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(b),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var at=this._drawNodes(b,s),st=at.drawExternalLabels;h.drawExternalLabels=st}s===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(b),h.drawExternalLabels!=null&&h.drawExternalLabels(),s===!1&&this._drawSelectionBox(b),b.beginPath(),this.body.emitter.emit("afterDrawing",b),b.closePath(),b.restore(),s===!0&&b.clearRect(0,0,_e,rt)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var s=this.canvas.getContext();s.save(),s.translate(this.body.view.translation.x,this.body.view.translation.y),s.scale(this.body.view.scale,this.body.view.scale);var h=this.body.nodes,b;for(var _e in h)Object.prototype.hasOwnProperty.call(h,_e)&&(b=h[_e],b.resize(s),b.updateBoundingBox(s,b.selected));s.restore()}},{key:"_drawNodes",value:function(s){for(var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.body.nodes,_e=this.body.nodeIndices,rt,at=[],st=[],ot=20,nt=this.canvas.DOMtoCanvas({x:-ot,y:-ot}),et=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+ot,y:this.canvas.frame.canvas.clientHeight+ot}),d={top:nt.y,left:nt.x,bottom:et.y,right:et.x},_=[],tt=0;tt<_e.length;tt++)if(rt=b[_e[tt]],rt.hover)st.push(_e[tt]);else if(rt.isSelected())at.push(_e[tt]);else if(h===!0){var lt=rt.draw(s);lt.drawExternalLabel!=null&&_.push(lt.drawExternalLabel)}else if(rt.isBoundingBoxOverlappingWith(d)===!0){var ut=rt.draw(s);ut.drawExternalLabel!=null&&_.push(ut.drawExternalLabel)}else rt.updateBoundingBox(s,rt.selected);var ct,ft=at.length,dt=st.length;for(ct=0;ct<ft;ct++){rt=b[at[ct]];var ht=rt.draw(s);ht.drawExternalLabel!=null&&_.push(ht.drawExternalLabel)}for(ct=0;ct<dt;ct++){rt=b[st[ct]];var gt=rt.draw(s);gt.drawExternalLabel!=null&&_.push(gt.drawExternalLabel)}return{drawExternalLabels:function(){for(var vt=0,mt=_;vt<mt.length;vt++){var bt=mt[vt];bt()}}}}},{key:"_drawEdges",value:function(s){for(var h=this.body.edges,b=this.body.edgeIndices,_e=0;_e<b.length;_e++){var rt=h[b[_e]];rt.connected===!0&&rt.draw(s)}}},{key:"_drawArrows",value:function(s){for(var h=this.body.edges,b=this.body.edgeIndices,_e=0;_e<b.length;_e++){var rt=h[b[_e]];rt.connected===!0&&rt.drawArrows(s)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var s=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,_indexOfInstanceProperty(s).call(s,"msie 9.0")!=-1?this.requiresTimeout=!0:_indexOfInstanceProperty(s).call(s,"safari")!=-1&&_indexOfInstanceProperty(s).call(s,"chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(s){if(this.body.selectionBox.show){s.beginPath();var h=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,b=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;s.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,h,b),s.fillStyle="rgba(151, 194, 252, 0.2)",s.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,h,b),s.strokeStyle="rgba(151, 194, 252, 1)",s.stroke()}else s.closePath()}}]),o}(),path$2=path$w,setInterval$1=path$2.setInterval,setInterval=setInterval$1,_setInterval=getDefaultExportFromCjs(setInterval);function onTouch(o,e){e.inputHandler=function(s){s.isFirst&&e(s)},o.on("hammer.input",e.inputHandler)}function onRelease(o,e){return e.inputHandler=function(s){s.isFinal&&e(s)},o.on("hammer.input",e.inputHandler)}var Canvas=function(){function o(e){_classCallCheck(this,o),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},_Object$assign(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(o,[{key:"bindEventListeners",value:function(){var s=this,h;this.body.emitter.once("resize",function(b){b.width!==0&&(s.body.view.translation.x=b.width*.5),b.height!==0&&(s.body.view.translation.y=b.height*.5)}),this.body.emitter.on("setSize",_bindInstanceProperty$1(h=this.setSize).call(h,this)),this.body.emitter.on("destroy",function(){s.hammerFrame.destroy(),s.hammer.destroy(),s._cleanUp()})}},{key:"setOptions",value:function(s){var h=this;if(s!==void 0){var b=["width","height","autoResize"];selectiveDeepExtend(b,this.options,s)}if(this._cleanUp(),this.options.autoResize===!0){var _e;if(window.ResizeObserver){var rt=new ResizeObserver(function(){var nt=h.setSize();nt===!0&&h.body.emitter.emit("_requestRedraw")}),at=this.frame;rt.observe(at),this._cleanupCallbacks.push(function(){rt.unobserve(at)})}else{var st=_setInterval(function(){var nt=h.setSize();nt===!0&&h.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(st)})}var ot=_bindInstanceProperty$1(_e=this._onResize).call(_e,this);window.addEventListener("resize",ot),this._cleanupCallbacks.push(function(){window.removeEventListener("resize",ot)})}}},{key:"_cleanUp",value:function(){var s,h,b;_forEachInstanceProperty(s=_reverseInstanceProperty(h=_spliceInstanceProperty(b=this._cleanupCallbacks).call(b,0)).call(h)).call(s,function(_e){try{_e()}catch(rt){console.error(rt)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/s,this.cameraState.previousHeight=this.frame.canvas.height/s,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/s,y:.5*this.frame.canvas.height/s}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var s=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,h=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,b=this.cameraState.scale;s!=1&&h!=1?b=this.cameraState.scale*.5*(s+h):s!=1?b=this.cameraState.scale*s:h!=1&&(b=this.cameraState.scale*h),this.body.view.scale=b;var _e=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),rt={x:_e.x-this.cameraState.position.x,y:_e.y-this.cameraState.position.y};this.body.view.translation.x+=rt.x*this.body.view.scale,this.body.view.translation.y+=rt.y*this.body.view.scale}}},{key:"_prepareValue",value:function(s){if(typeof s=="number")return s+"px";if(typeof s=="string"){if(_indexOfInstanceProperty(s).call(s,"%")!==-1||_indexOfInstanceProperty(s).call(s,"px")!==-1)return s;if(_indexOfInstanceProperty(s).call(s,"%")===-1)return s+"px"}throw new Error("Could not use the value supplied for width or height:"+s)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(s)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var s=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Hammer(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Hammer.DIRECTION_ALL}),onTouch(this.hammer,function(h){s.body.eventListeners.onTouch(h)}),this.hammer.on("tap",function(h){s.body.eventListeners.onTap(h)}),this.hammer.on("doubletap",function(h){s.body.eventListeners.onDoubleTap(h)}),this.hammer.on("press",function(h){s.body.eventListeners.onHold(h)}),this.hammer.on("panstart",function(h){s.body.eventListeners.onDragStart(h)}),this.hammer.on("panmove",function(h){s.body.eventListeners.onDrag(h)}),this.hammer.on("panend",function(h){s.body.eventListeners.onDragEnd(h)}),this.hammer.on("pinch",function(h){s.body.eventListeners.onPinch(h)}),this.frame.canvas.addEventListener("wheel",function(h){s.body.eventListeners.onMouseWheel(h)}),this.frame.canvas.addEventListener("mousemove",function(h){s.body.eventListeners.onMouseMove(h)}),this.frame.canvas.addEventListener("contextmenu",function(h){s.body.eventListeners.onContext(h)}),this.hammerFrame=new Hammer(this.frame),onRelease(this.hammerFrame,function(h){s.body.eventListeners.onRelease(h)})}},{key:"setSize",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;s=this._prepareValue(s),h=this._prepareValue(h);var b=!1,_e=this.frame.canvas.width,rt=this.frame.canvas.height,at=this.pixelRatio;if(this._setPixelRatio(),s!=this.options.width||h!=this.options.height||this.frame.style.width!=s||this.frame.style.height!=h)this._getCameraState(at),this.frame.style.width=s,this.frame.style.height=h,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=s,this.options.height=h,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},b=!0;else{var st=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),ot=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==st||this.frame.canvas.height!==ot)&&this._getCameraState(at),this.frame.canvas.width!==st&&(this.frame.canvas.width=st,b=!0),this.frame.canvas.height!==ot&&(this.frame.canvas.height=ot,b=!0)}return b===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(_e/this.pixelRatio),oldHeight:Math.round(rt/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,b}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var s=this.getContext();if(s===void 0)throw new Error("Could not get canvax context");var h=1;typeof window<"u"&&(h=window.devicePixelRatio||1);var b=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1;return h/b}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var s=this.getContext();if(s===void 0)throw new Error("Could not get canvax context");s.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(s){return(s-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(s){return s*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(s){return(s-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(s){return s*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(s){return{x:this._XconvertCanvasToDOM(s.x),y:this._YconvertCanvasToDOM(s.y)}}},{key:"DOMtoCanvas",value:function(s){return{x:this._XconvertDOMtoCanvas(s.x),y:this._YconvertDOMtoCanvas(s.y)}}}]),o}();function normalizeFitOptions(o,e){var s=_Object$assign({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},o??{});if(!_Array$isArray(s.nodes))throw new TypeError("Nodes has to be an array of ids.");if(s.nodes.length===0&&(s.nodes=e),!(typeof s.minZoomLevel=="number"&&s.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof s.maxZoomLevel=="number"&&s.minZoomLevel<=s.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return s}var View=function(){function o(e,s){var h,b=this,_e;_classCallCheck(this,o),this.body=e,this.canvas=s,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",_bindInstanceProperty$1(h=this.fit).call(h,this)),this.body.emitter.on("animationFinished",function(){b.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",_bindInstanceProperty$1(_e=this.releaseNode).call(_e,this))}return _createClass(o,[{key:"setOptions",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=s}},{key:"fit",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s=normalizeFitOptions(s,this.body.nodeIndices);var b=this.canvas.frame.canvas.clientWidth,_e=this.canvas.frame.canvas.clientHeight,rt,at;if(b===0||_e===0)at=1,rt=NetworkUtil.getRange(this.body.nodes,s.nodes);else if(h===!0){var st=0;for(var ot in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,ot)){var nt=this.body.nodes[ot];nt.predefinedPosition===!0&&(st+=1)}if(st>.5*this.body.nodeIndices.length){this.fit(s,!1);return}rt=NetworkUtil.getRange(this.body.nodes,s.nodes);var et=this.body.nodeIndices.length;at=12.662/(et+7.4147)+.0964822;var d=Math.min(b/600,_e/600);at*=d}else{this.body.emitter.emit("_resizeNodes"),rt=NetworkUtil.getRange(this.body.nodes,s.nodes);var _=Math.abs(rt.maxX-rt.minX)*1.1,tt=Math.abs(rt.maxY-rt.minY)*1.1,lt=b/_,ut=_e/tt;at=lt<=ut?lt:ut}at>s.maxZoomLevel?at=s.maxZoomLevel:at<s.minZoomLevel&&(at=s.minZoomLevel);var ct=NetworkUtil.findCenter(rt),ft={position:ct,scale:at,animation:s.animation};this.moveTo(ft)}},{key:"focus",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[s]!==void 0){var b={x:this.body.nodes[s].x,y:this.body.nodes[s].y};h.position=b,h.lockedOnNode=s,this.moveTo(h)}else console.error("Node: "+s+" cannot be found.")}},{key:"moveTo",value:function(s){if(s===void 0){s={};return}if(s.offset!=null){if(s.offset.x!=null){if(s.offset.x=+s.offset.x,!_Number$isFinite(s.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else s.offset.x=0;if(s.offset.y!=null){if(s.offset.y=+s.offset.y,!_Number$isFinite(s.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else s.offset.x=0}else s.offset={x:0,y:0};if(s.position!=null){if(s.position.x!=null){if(s.position.x=+s.position.x,!_Number$isFinite(s.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else s.position.x=0;if(s.position.y!=null){if(s.position.y=+s.position.y,!_Number$isFinite(s.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else s.position.x=0}else s.position=this.getViewPosition();if(s.scale!=null){if(s.scale=+s.scale,!(s.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else s.scale=this.body.view.scale;s.animation===void 0&&(s.animation={duration:0}),s.animation===!1&&(s.animation={duration:0}),s.animation===!0&&(s.animation={}),s.animation.duration===void 0&&(s.animation.duration=1e3),s.animation.easingFunction===void 0&&(s.animation.easingFunction="easeInOutQuad"),this.animateView(s)}},{key:"animateView",value:function(s){if(s!==void 0){this.animationEasingFunction=s.animation.easingFunction,this.releaseNode(),s.locked===!0&&(this.lockedOnNodeId=s.lockedOnNode,this.lockedOnNodeOffset=s.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=s.scale,this.body.view.scale=this.targetScale;var h=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),b={x:h.x-s.position.x,y:h.y-s.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+b.x*this.targetScale+s.offset.x,y:this.sourceTranslation.y+b.y*this.targetScale+s.offset.y},s.animation.duration===0)if(this.lockedOnNodeId!=null){var _e;this.viewFunction=_bindInstanceProperty$1(_e=this._lockedRedraw).call(_e,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var rt;this.animationSpeed=1/(60*s.animation.duration*.001)||1/60,this.animationEasingFunction=s.animation.easingFunction,this.viewFunction=_bindInstanceProperty$1(rt=this._transitionRedraw).call(rt,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}}},{key:"_lockedRedraw",value:function(){var s={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},h=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),b={x:h.x-s.x,y:h.y-s.y},_e=this.body.view.translation,rt={x:_e.x+b.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:_e.y+b.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=rt}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=s===!0?1:this.easingTime;var h=easingFunctions[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*h,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*h,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*h},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var b;this.viewFunction=_bindInstanceProperty$1(b=this._lockedRedraw).call(b,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),o}();function keycharm(o){var e=o&&o.preventDefault||!1,s=o&&o.container||window,h={},b={keydown:{},keyup:{}},_e={},rt;for(rt=97;rt<=122;rt++)_e[String.fromCharCode(rt)]={code:65+(rt-97),shift:!1};for(rt=65;rt<=90;rt++)_e[String.fromCharCode(rt)]={code:rt,shift:!0};for(rt=0;rt<=9;rt++)_e[""+rt]={code:48+rt,shift:!1};for(rt=1;rt<=12;rt++)_e["F"+rt]={code:111+rt,shift:!1};for(rt=0;rt<=9;rt++)_e["num"+rt]={code:96+rt,shift:!1};_e["num*"]={code:106,shift:!1},_e["num+"]={code:107,shift:!1},_e["num-"]={code:109,shift:!1},_e["num/"]={code:111,shift:!1},_e["num."]={code:110,shift:!1},_e.left={code:37,shift:!1},_e.up={code:38,shift:!1},_e.right={code:39,shift:!1},_e.down={code:40,shift:!1},_e.space={code:32,shift:!1},_e.enter={code:13,shift:!1},_e.shift={code:16,shift:void 0},_e.esc={code:27,shift:!1},_e.backspace={code:8,shift:!1},_e.tab={code:9,shift:!1},_e.ctrl={code:17,shift:!1},_e.alt={code:18,shift:!1},_e.delete={code:46,shift:!1},_e.pageup={code:33,shift:!1},_e.pagedown={code:34,shift:!1},_e["="]={code:187,shift:!1},_e["-"]={code:189,shift:!1},_e["]"]={code:221,shift:!1},_e["["]={code:219,shift:!1};var at=function(nt){ot(nt,"keydown")},st=function(nt){ot(nt,"keyup")},ot=function(nt,et){if(b[et][nt.keyCode]!==void 0){for(var d=b[et][nt.keyCode],_=0;_<d.length;_++)(d[_].shift===void 0||d[_].shift==!0&&nt.shiftKey==!0||d[_].shift==!1&&nt.shiftKey==!1)&&d[_].fn(nt);e==!0&&nt.preventDefault()}};return h.bind=function(nt,et,d){if(d===void 0&&(d="keydown"),_e[nt]===void 0)throw new Error("unsupported key: "+nt);b[d][_e[nt].code]===void 0&&(b[d][_e[nt].code]=[]),b[d][_e[nt].code].push({fn:et,shift:_e[nt].shift})},h.bindAll=function(nt,et){et===void 0&&(et="keydown");for(var d in _e)_e.hasOwnProperty(d)&&h.bind(d,nt,et)},h.getKey=function(nt){for(var et in _e)if(_e.hasOwnProperty(et)){if(nt.shiftKey==!0&&_e[et].shift==!0&&nt.keyCode==_e[et].code)return et;if(nt.shiftKey==!1&&_e[et].shift==!1&&nt.keyCode==_e[et].code)return et;if(nt.keyCode==_e[et].code&&et=="shift")return et}return"unknown key, currently not supported"},h.unbind=function(nt,et,d){if(d===void 0&&(d="keydown"),_e[nt]===void 0)throw new Error("unsupported key: "+nt);if(et!==void 0){var _=[],tt=b[d][_e[nt].code];if(tt!==void 0)for(var lt=0;lt<tt.length;lt++)tt[lt].fn==et&&tt[lt].shift==_e[nt].shift||_.push(b[d][_e[nt].code][lt]);b[d][_e[nt].code]=_}else b[d][_e[nt].code]=[]},h.reset=function(){b={keydown:{},keyup:{}}},h.destroy=function(){b={keydown:{},keyup:{}},s.removeEventListener("keydown",at,!0),s.removeEventListener("keyup",st,!0)},s.addEventListener("keydown",at,!0),s.addEventListener("keyup",st,!0),h}var NavigationHandler=function(){function o(e,s){var h=this;_classCallCheck(this,o),this.body=e,this.canvas=s,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){h.activated=!0,h.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){h.activated=!1,h.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){h.keycharm!==void 0&&h.keycharm.destroy()}),this.options={}}return _createClass(o,[{key:"setOptions",value:function(s){s!==void 0&&(this.options=s,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var s=0;s<this.navigationHammers.length;s++)this.navigationHammers[s].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var s=this;this.cleanNavigation(),this.navigationDOM={};var h=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],b=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var _e=0;_e<h.length;_e++){this.navigationDOM[h[_e]]=document.createElement("div"),this.navigationDOM[h[_e]].className="vis-button vis-"+h[_e],this.navigationDOM.wrapper.appendChild(this.navigationDOM[h[_e]]);var rt=new Hammer(this.navigationDOM[h[_e]]);if(b[_e]==="_fit"){var at;onTouch(rt,_bindInstanceProperty$1(at=this._fit).call(at,this))}else{var st;onTouch(rt,_bindInstanceProperty$1(st=this.bindToRedraw).call(st,this,b[_e]))}this.navigationHammers.push(rt)}var ot=new Hammer(this.canvas.frame);onRelease(ot,function(){s._stopMovement()}),this.navigationHammers.push(ot),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(s){if(this.boundFunctions[s]===void 0){var h;this.boundFunctions[s]=_bindInstanceProperty$1(h=this[s]).call(h,this),this.body.emitter.on("initRedraw",this.boundFunctions[s]),this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function(s){this.boundFunctions[s]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[s]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[s])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var s in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,s)&&(this.body.emitter.off("initRedraw",this.boundFunctions[s]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var s=this.body.view.scale,h=this.body.view.scale*(1+this.options.keyboard.speed.zoom),b=this.body.view.translation,_e=h/s,rt=(1-_e)*this.canvas.canvasViewCenter.x+b.x*_e,at=(1-_e)*this.canvas.canvasViewCenter.y+b.y*_e;this.body.view.scale=h,this.body.view.translation={x:rt,y:at},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var s=this.body.view.scale,h=this.body.view.scale/(1+this.options.keyboard.speed.zoom),b=this.body.view.translation,_e=h/s,rt=(1-_e)*this.canvas.canvasViewCenter.x+b.x*_e,at=(1-_e)*this.canvas.canvasViewCenter.y+b.y*_e;this.body.view.scale=h,this.body.view.translation={x:rt,y:at},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var s=this;if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=keycharm({container:window,preventDefault:!0}):this.keycharm=keycharm({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var h,b,_e,rt,at,st,ot,nt,et,d,_,tt,lt,ut,ct,ft,dt,ht,gt,yt,vt,mt,bt,$t;_bindInstanceProperty$1(h=this.keycharm).call(h,"up",function(){s.bindToRedraw("_moveUp")},"keydown"),_bindInstanceProperty$1(b=this.keycharm).call(b,"down",function(){s.bindToRedraw("_moveDown")},"keydown"),_bindInstanceProperty$1(_e=this.keycharm).call(_e,"left",function(){s.bindToRedraw("_moveLeft")},"keydown"),_bindInstanceProperty$1(rt=this.keycharm).call(rt,"right",function(){s.bindToRedraw("_moveRight")},"keydown"),_bindInstanceProperty$1(at=this.keycharm).call(at,"=",function(){s.bindToRedraw("_zoomIn")},"keydown"),_bindInstanceProperty$1(st=this.keycharm).call(st,"num+",function(){s.bindToRedraw("_zoomIn")},"keydown"),_bindInstanceProperty$1(ot=this.keycharm).call(ot,"num-",function(){s.bindToRedraw("_zoomOut")},"keydown"),_bindInstanceProperty$1(nt=this.keycharm).call(nt,"-",function(){s.bindToRedraw("_zoomOut")},"keydown"),_bindInstanceProperty$1(et=this.keycharm).call(et,"[",function(){s.bindToRedraw("_zoomOut")},"keydown"),_bindInstanceProperty$1(d=this.keycharm).call(d,"]",function(){s.bindToRedraw("_zoomIn")},"keydown"),_bindInstanceProperty$1(_=this.keycharm).call(_,"pageup",function(){s.bindToRedraw("_zoomIn")},"keydown"),_bindInstanceProperty$1(tt=this.keycharm).call(tt,"pagedown",function(){s.bindToRedraw("_zoomOut")},"keydown"),_bindInstanceProperty$1(lt=this.keycharm).call(lt,"up",function(){s.unbindFromRedraw("_moveUp")},"keyup"),_bindInstanceProperty$1(ut=this.keycharm).call(ut,"down",function(){s.unbindFromRedraw("_moveDown")},"keyup"),_bindInstanceProperty$1(ct=this.keycharm).call(ct,"left",function(){s.unbindFromRedraw("_moveLeft")},"keyup"),_bindInstanceProperty$1(ft=this.keycharm).call(ft,"right",function(){s.unbindFromRedraw("_moveRight")},"keyup"),_bindInstanceProperty$1(dt=this.keycharm).call(dt,"=",function(){s.unbindFromRedraw("_zoomIn")},"keyup"),_bindInstanceProperty$1(ht=this.keycharm).call(ht,"num+",function(){s.unbindFromRedraw("_zoomIn")},"keyup"),_bindInstanceProperty$1(gt=this.keycharm).call(gt,"num-",function(){s.unbindFromRedraw("_zoomOut")},"keyup"),_bindInstanceProperty$1(yt=this.keycharm).call(yt,"-",function(){s.unbindFromRedraw("_zoomOut")},"keyup"),_bindInstanceProperty$1(vt=this.keycharm).call(vt,"[",function(){s.unbindFromRedraw("_zoomOut")},"keyup"),_bindInstanceProperty$1(mt=this.keycharm).call(mt,"]",function(){s.unbindFromRedraw("_zoomIn")},"keyup"),_bindInstanceProperty$1(bt=this.keycharm).call(bt,"pageup",function(){s.unbindFromRedraw("_zoomIn")},"keyup"),_bindInstanceProperty$1($t=this.keycharm).call($t,"pagedown",function(){s.unbindFromRedraw("_zoomOut")},"keyup")}}}]),o}();function _createForOfIteratorHelper$4(o,e){var s=typeof _Symbol<"u"&&_getIteratorMethod(o)||o["@@iterator"];if(!s){if(_Array$isArray(o)||(s=_unsupportedIterableToArray$4(o))||e&&o&&typeof o.length=="number"){s&&(o=s);var h=0,b=function(){};return{s:b,n:function(){return h>=o.length?{done:!0}:{done:!1,value:o[h++]}},e:function(ot){throw ot},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,rt=!1,at;return{s:function(){s=s.call(o)},n:function(){var ot=s.next();return _e=ot.done,ot},e:function(ot){rt=!0,at=ot},f:function(){try{!_e&&s.return!=null&&s.return()}finally{if(rt)throw at}}}}function _unsupportedIterableToArray$4(o,e){var s;if(o){if(typeof o=="string")return _arrayLikeToArray$4(o,e);var h=_sliceInstanceProperty(s=Object.prototype.toString.call(o)).call(s,8,-1);if(h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set")return _Array$from$1(o);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray$4(o,e)}}function _arrayLikeToArray$4(o,e){(e==null||e>o.length)&&(e=o.length);for(var s=0,h=new Array(e);s<e;s++)h[s]=o[s];return h}var InteractionHandler=function(){function o(e,s,h){var b,_e,rt,at,st,ot,nt,et,d,_,tt,lt,ut;_classCallCheck(this,o),this.body=e,this.canvas=s,this.selectionHandler=h,this.navigationHandler=new NavigationHandler(e,s),this.body.eventListeners.onTap=_bindInstanceProperty$1(b=this.onTap).call(b,this),this.body.eventListeners.onTouch=_bindInstanceProperty$1(_e=this.onTouch).call(_e,this),this.body.eventListeners.onDoubleTap=_bindInstanceProperty$1(rt=this.onDoubleTap).call(rt,this),this.body.eventListeners.onHold=_bindInstanceProperty$1(at=this.onHold).call(at,this),this.body.eventListeners.onDragStart=_bindInstanceProperty$1(st=this.onDragStart).call(st,this),this.body.eventListeners.onDrag=_bindInstanceProperty$1(ot=this.onDrag).call(ot,this),this.body.eventListeners.onDragEnd=_bindInstanceProperty$1(nt=this.onDragEnd).call(nt,this),this.body.eventListeners.onMouseWheel=_bindInstanceProperty$1(et=this.onMouseWheel).call(et,this),this.body.eventListeners.onPinch=_bindInstanceProperty$1(d=this.onPinch).call(d,this),this.body.eventListeners.onMouseMove=_bindInstanceProperty$1(_=this.onMouseMove).call(_,this),this.body.eventListeners.onRelease=_bindInstanceProperty$1(tt=this.onRelease).call(tt,this),this.body.eventListeners.onContext=_bindInstanceProperty$1(lt=this.onContext).call(lt,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=_bindInstanceProperty$1(ut=this.getPointer).call(ut,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},_Object$assign(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(o,[{key:"bindEventListeners",value:function(){var s=this;this.body.emitter.on("destroy",function(){clearTimeout(s.popupTimer),delete s.body.functions.getPointer})}},{key:"setOptions",value:function(s){if(s!==void 0){var h=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];selectiveNotDeepExtend(h,this.options,s),mergeOptions(this.options,s,"keyboard"),s.tooltip&&(_Object$assign(this.options.tooltip,s.tooltip),s.tooltip.color&&(this.options.tooltip.color=parseColor(s.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(s){return{x:s.x-getAbsoluteLeft(this.canvas.frame.canvas),y:s.y-getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(s){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(s.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(s){var h=this.getPointer(s.center),b=this.selectionHandler.options.multiselect&&(s.changedPointers[0].ctrlKey||s.changedPointers[0].metaKey);this.checkSelectionChanges(h,b),this.selectionHandler.commitAndEmit(h,s),this.selectionHandler.generateClickEvent("click",s,h)}},{key:"onDoubleTap",value:function(s){var h=this.getPointer(s.center);this.selectionHandler.generateClickEvent("doubleClick",s,h)}},{key:"onHold",value:function(s){var h=this.getPointer(s.center),b=this.selectionHandler.options.multiselect;this.checkSelectionChanges(h,b),this.selectionHandler.commitAndEmit(h,s),this.selectionHandler.generateClickEvent("click",s,h),this.selectionHandler.generateClickEvent("hold",s,h)}},{key:"onRelease",value:function(s){if(new Date().valueOf()-this.touchTime>10){var h=this.getPointer(s.center);this.selectionHandler.generateClickEvent("release",s,h),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(s){var h=this.getPointer({x:s.clientX,y:s.clientY});this.selectionHandler.generateClickEvent("oncontext",s,h)}},{key:"checkSelectionChanges",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;h===!0?this.selectionHandler.selectAdditionalOnPoint(s):this.selectionHandler.selectOnPoint(s)}},{key:"_determineDifference",value:function(s,h){var b=function(rt,at){for(var st=[],ot=0;ot<rt.length;ot++){var nt=rt[ot];_indexOfInstanceProperty(at).call(at,nt)===-1&&st.push(nt)}return st};return{nodes:b(s.nodes,h.nodes),edges:b(s.edges,h.edges)}}},{key:"onDragStart",value:function(s){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(s);var h=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=_Object$assign({},this.body.view.translation),this.drag.nodeId=void 0,s.srcEvent.shiftKey){this.body.selectionBox.show=!0;var b=this.getPointer(s.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(b.x),y:this.canvas._YconvertDOMtoCanvas(b.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(b.x),y:this.canvas._YconvertDOMtoCanvas(b.y)}}else if(h!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=h.id,h.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[h.id]}),this.selectionHandler.generateClickEvent("dragStart",s,this.drag.pointer);var _e=_createForOfIteratorHelper$4(this.selectionHandler.getSelectedNodes()),rt;try{for(_e.s();!(rt=_e.n()).done;){var at=rt.value,st={id:at.id,node:at,x:at.x,y:at.y,xFixed:at.options.fixed.x,yFixed:at.options.fixed.y};at.options.fixed.x=!0,at.options.fixed.y=!0,this.drag.selection.push(st)}}catch(ot){_e.e(ot)}finally{_e.f()}}else this.selectionHandler.generateClickEvent("dragStart",s,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(s){var h=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var b=this.getPointer(s.center),_e=this.drag.selection;if(_e&&_e.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",s,b);var rt=b.x-this.drag.pointer.x,at=b.y-this.drag.pointer.y;_forEachInstanceProperty(_e).call(_e,function(nt){var et=nt.node;nt.xFixed===!1&&(et.x=h.canvas._XconvertDOMtoCanvas(h.canvas._XconvertCanvasToDOM(nt.x)+rt)),nt.yFixed===!1&&(et.y=h.canvas._YconvertDOMtoCanvas(h.canvas._YconvertCanvasToDOM(nt.y)+at))}),this.body.emitter.emit("startSimulation")}else{if(s.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",s,b,void 0,!0),this.drag.pointer===void 0){this.onDragStart(s);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(b.x),y:this.canvas._YconvertDOMtoCanvas(b.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!s.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",s,b,void 0,!0),this.drag.pointer===void 0){this.onDragStart(s);return}var st=b.x-this.drag.pointer.x,ot=b.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+st,y:this.drag.translation.y+ot},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(s){var h=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var b;this.body.selectionBox.show=!1;var _e=this.body.selectionBox.position,rt={minX:Math.min(_e.start.x,_e.end.x),minY:Math.min(_e.start.y,_e.end.y),maxX:Math.max(_e.start.x,_e.end.x),maxY:Math.max(_e.start.y,_e.end.y)},at=_filterInstanceProperty(b=this.body.nodeIndices).call(b,function(nt){var et=h.body.nodes[nt];return et.x>=rt.minX&&et.x<=rt.maxX&&et.y>=rt.minY&&et.y<=rt.maxY});_forEachInstanceProperty(at).call(at,function(nt){return h.selectionHandler.selectObject(h.body.nodes[nt])});var st=this.getPointer(s.center);this.selectionHandler.commitAndEmit(st,s),this.selectionHandler.generateClickEvent("dragEnd",s,this.getPointer(s.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var ot=this.drag.selection;ot&&ot.length?(_forEachInstanceProperty(ot).call(ot,function(nt){nt.node.options.fixed.x=nt.xFixed,nt.node.options.fixed.y=nt.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",s,this.getPointer(s.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",s,this.getPointer(s.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(s){var h=this.getPointer(s.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var b=this.pinch.scale*s.scale;this.zoom(b,h)}},{key:"zoom",value:function(s,h){if(this.options.zoomView===!0){var b=this.body.view.scale;s<1e-5&&(s=1e-5),s>10&&(s=10);var _e=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(_e=this.canvas.DOMtoCanvas(this.drag.pointer));var rt=this.body.view.translation,at=s/b,st=(1-at)*h.x+rt.x*at,ot=(1-at)*h.y+rt.y*at;if(this.body.view.scale=s,this.body.view.translation={x:st,y:ot},_e!=null){var nt=this.canvas.canvasToDOM(_e);this.drag.pointer.x=nt.x,this.drag.pointer.y=nt.y}this.body.emitter.emit("_requestRedraw"),b<s?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:h}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:h})}}},{key:"onMouseWheel",value:function(s){if(this.options.zoomView===!0){if(s.deltaY!==0){var h=this.body.view.scale;h*=1+(s.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);var b=this.getPointer({x:s.clientX,y:s.clientY});this.zoom(h,b)}s.preventDefault()}}},{key:"onMouseMove",value:function(s){var h=this,b=this.getPointer({x:s.clientX,y:s.clientY}),_e=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(b),this.popup.hidden===!1&&(_e=!0,this.popup.setPosition(b.x+3,b.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),_e===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=_setTimeout(function(){return h._checkShowPopup(b)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(s,b)}},{key:"_checkShowPopup",value:function(s){var h=this.canvas._XconvertDOMtoCanvas(s.x),b=this.canvas._YconvertDOMtoCanvas(s.y),_e={left:h,top:b,right:h,bottom:b},rt=this.popupObj===void 0?void 0:this.popupObj.id,at=!1,st="node";if(this.popupObj===void 0){for(var ot=this.body.nodeIndices,nt=this.body.nodes,et,d=[],_=0;_<ot.length;_++)et=nt[ot[_]],et.isOverlappingWith(_e)===!0&&(at=!0,et.getTitle()!==void 0&&d.push(ot[_]));d.length>0&&(this.popupObj=nt[d[d.length-1]],at=!0)}if(this.popupObj===void 0&&at===!1){for(var tt=this.body.edgeIndices,lt=this.body.edges,ut,ct=[],ft=0;ft<tt.length;ft++)ut=lt[tt[ft]],ut.isOverlappingWith(_e)===!0&&ut.connected===!0&&ut.getTitle()!==void 0&&ct.push(tt[ft]);ct.length>0&&(this.popupObj=lt[ct[ct.length-1]],st="edge")}this.popupObj!==void 0?this.popupObj.id!==rt&&(this.popup===void 0&&(this.popup=new Popup(this.canvas.frame)),this.popup.popupTargetType=st,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(s.x+3,s.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(s){var h=this.selectionHandler._pointerToPositionObject(s),b=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(b=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(h),b===!0)){var _e=this.selectionHandler.getNodeAt(s);b=_e===void 0?!1:_e.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(s)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(b=this.body.edges[this.popup.popupTargetId].isOverlappingWith(h));b===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),o}(),collection$1=collection$3,collectionStrong=collectionStrong$2;collection$1("Set",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},collectionStrong);var path$1=path$w,set$2=path$1.Set,parent$4=set$2,set$1=parent$4,set=set$1,_Set=getDefaultExportFromCjs(set),uncurryThis$2=functionUncurryThis,defineBuiltIns$1=defineBuiltIns$3,getWeakData=internalMetadataExports.getWeakData,anInstance=anInstance$3,anObject=anObject$d,isNullOrUndefined=isNullOrUndefined$6,isObject$1=isObject$j,iterate=iterate$3,ArrayIterationModule=arrayIteration,hasOwn=hasOwnProperty_1,InternalStateModule=internalState,setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor,find=ArrayIterationModule.find,findIndex=ArrayIterationModule.findIndex,splice=uncurryThis$2([].splice),id=0,uncaughtFrozenStore=function(o){return o.frozen||(o.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(o,e){return find(o.entries,function(s){return s[0]===e})};UncaughtFrozenStore.prototype={get:function(o){var e=findUncaughtFrozen(this,o);if(e)return e[1]},has:function(o){return!!findUncaughtFrozen(this,o)},set:function(o,e){var s=findUncaughtFrozen(this,o);s?s[1]=e:this.entries.push([o,e])},delete:function(o){var e=findIndex(this.entries,function(s){return s[0]===o});return~e&&splice(this.entries,e,1),!!~e}};var collectionWeak$1={getConstructor:function(o,e,s,h){var b=o(function(st,ot){anInstance(st,_e),setInternalState(st,{type:e,id:id++,frozen:void 0}),isNullOrUndefined(ot)||iterate(ot,st[h],{that:st,AS_ENTRIES:s})}),_e=b.prototype,rt=internalStateGetterFor(e),at=function(st,ot,nt){var et=rt(st),d=getWeakData(anObject(ot),!0);return d===!0?uncaughtFrozenStore(et).set(ot,nt):d[et.id]=nt,st};return defineBuiltIns$1(_e,{delete:function(st){var ot=rt(this);if(!isObject$1(st))return!1;var nt=getWeakData(st);return nt===!0?uncaughtFrozenStore(ot).delete(st):nt&&hasOwn(nt,ot.id)&&delete nt[ot.id]},has:function(ot){var nt=rt(this);if(!isObject$1(ot))return!1;var et=getWeakData(ot);return et===!0?uncaughtFrozenStore(nt).has(ot):et&&hasOwn(et,nt.id)}}),defineBuiltIns$1(_e,s?{get:function(ot){var nt=rt(this);if(isObject$1(ot)){var et=getWeakData(ot);return et===!0?uncaughtFrozenStore(nt).get(ot):et?et[nt.id]:void 0}},set:function(ot,nt){return at(this,ot,nt)}}:{add:function(ot){return at(this,ot,!0)}}),b}},FREEZING=freezing,global$2=global$n,uncurryThis$1=functionUncurryThis,defineBuiltIns=defineBuiltIns$3,InternalMetadataModule=internalMetadataExports,collection=collection$3,collectionWeak=collectionWeak$1,isObject=isObject$j,enforceInternalState=internalState.enforce,fails$1=fails$w,NATIVE_WEAK_MAP=weakMapBasicDetection,$Object=Object,isArray=Array.isArray,isExtensible=$Object.isExtensible,isFrozen=$Object.isFrozen,isSealed=$Object.isSealed,freeze=$Object.freeze,seal=$Object.seal,FROZEN={},SEALED={},IS_IE11=!global$2.ActiveXObject&&"ActiveXObject"in global$2,InternalWeakMap,wrapper=function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},$WeakMap=collection("WeakMap",wrapper,collectionWeak),WeakMapPrototype=$WeakMap.prototype,nativeSet=uncurryThis$1(WeakMapPrototype.set),hasMSEdgeFreezingBug=function(){return FREEZING&&fails$1(function(){var o=freeze([]);return nativeSet(new $WeakMap,o,1),!isFrozen(o)})};if(NATIVE_WEAK_MAP)if(IS_IE11){InternalWeakMap=collectionWeak.getConstructor(wrapper,"WeakMap",!0),InternalMetadataModule.enable();var nativeDelete=uncurryThis$1(WeakMapPrototype.delete),nativeHas=uncurryThis$1(WeakMapPrototype.has),nativeGet=uncurryThis$1(WeakMapPrototype.get);defineBuiltIns(WeakMapPrototype,{delete:function(o){if(isObject(o)&&!isExtensible(o)){var e=enforceInternalState(this);return e.frozen||(e.frozen=new InternalWeakMap),nativeDelete(this,o)||e.frozen.delete(o)}return nativeDelete(this,o)},has:function(e){if(isObject(e)&&!isExtensible(e)){var s=enforceInternalState(this);return s.frozen||(s.frozen=new InternalWeakMap),nativeHas(this,e)||s.frozen.has(e)}return nativeHas(this,e)},get:function(e){if(isObject(e)&&!isExtensible(e)){var s=enforceInternalState(this);return s.frozen||(s.frozen=new InternalWeakMap),nativeHas(this,e)?nativeGet(this,e):s.frozen.get(e)}return nativeGet(this,e)},set:function(e,s){if(isObject(e)&&!isExtensible(e)){var h=enforceInternalState(this);h.frozen||(h.frozen=new InternalWeakMap),nativeHas(this,e)?nativeSet(this,e,s):h.frozen.set(e,s)}else nativeSet(this,e,s);return this}})}else hasMSEdgeFreezingBug()&&defineBuiltIns(WeakMapPrototype,{set:function(e,s){var h;return isArray(e)&&(isFrozen(e)?h=FROZEN:isSealed(e)&&(h=SEALED)),nativeSet(this,e,s),h===FROZEN&&freeze(e),h===SEALED&&seal(e),this}});var path=path$w,weakMap$2=path.WeakMap,parent$3=weakMap$2,weakMap$1=parent$3,weakMap=weakMap$1,_WeakMap=getDefaultExportFromCjs(weakMap);function __classPrivateFieldGet(o,e,s,h){if(s==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!h:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?h:s==="a"?h.call(o):h?h.value:e.get(o)}function __classPrivateFieldSet(o,e,s,h,b){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!b)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?o!==e||!b:!e.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?b.call(o,s):b?b.value=s:e.set(o,s),s}typeof SuppressedError=="function"&&SuppressedError;function _createForOfIteratorHelper$3(o,e){var s=typeof _Symbol<"u"&&_getIteratorMethod(o)||o["@@iterator"];if(!s){if(_Array$isArray(o)||(s=_unsupportedIterableToArray$3(o))||e&&o&&typeof o.length=="number"){s&&(o=s);var h=0,b=function(){};return{s:b,n:function(){return h>=o.length?{done:!0}:{done:!1,value:o[h++]}},e:function(ot){throw ot},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,rt=!1,at;return{s:function(){s=s.call(o)},n:function(){var ot=s.next();return _e=ot.done,ot},e:function(ot){rt=!0,at=ot},f:function(){try{!_e&&s.return!=null&&s.return()}finally{if(rt)throw at}}}}function _unsupportedIterableToArray$3(o,e){var s;if(o){if(typeof o=="string")return _arrayLikeToArray$3(o,e);var h=_sliceInstanceProperty(s=Object.prototype.toString.call(o)).call(s,8,-1);if(h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set")return _Array$from$1(o);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray$3(o,e)}}function _arrayLikeToArray$3(o,e){(e==null||e>o.length)&&(e=o.length);for(var s=0,h=new Array(e);s<e;s++)h[s]=o[s];return h}var _SingleTypeSelectionAccumulator_previousSelection,_SingleTypeSelectionAccumulator_selection,_SelectionAccumulator_nodes,_SelectionAccumulator_edges,_SelectionAccumulator_commitHandler;function diffSets(o,e){var s=new _Set,h=_createForOfIteratorHelper$3(e),b;try{for(h.s();!(b=h.n()).done;){var _e=b.value;o.has(_e)||s.add(_e)}}catch(rt){h.e(rt)}finally{h.f()}return s}var SingleTypeSelectionAccumulator=function(){function o(){_classCallCheck(this,o),_SingleTypeSelectionAccumulator_previousSelection.set(this,new _Set),_SingleTypeSelectionAccumulator_selection.set(this,new _Set)}return _createClass(o,[{key:"size",get:function(){return __classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").size}},{key:"add",value:function(){for(var s=arguments.length,h=new Array(s),b=0;b<s;b++)h[b]=arguments[b];for(var _e=0,rt=h;_e<rt.length;_e++){var at=rt[_e];__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").add(at)}}},{key:"delete",value:function(){for(var s=arguments.length,h=new Array(s),b=0;b<s;b++)h[b]=arguments[b];for(var _e=0,rt=h;_e<rt.length;_e++){var at=rt[_e];__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").delete(at)}}},{key:"clear",value:function(){__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").clear()}},{key:"getSelection",value:function(){return _toConsumableArray(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"))}},{key:"getChanges",value:function(){return{added:_toConsumableArray(diffSets(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"),__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"))),deleted:_toConsumableArray(diffSets(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"),__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"))),previous:_toConsumableArray(new _Set(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"))),current:_toConsumableArray(new _Set(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f")))}}},{key:"commit",value:function(){var s=this.getChanges();__classPrivateFieldSet(this,_SingleTypeSelectionAccumulator_previousSelection,__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"),"f"),__classPrivateFieldSet(this,_SingleTypeSelectionAccumulator_selection,new _Set(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f")),"f");var h=_createForOfIteratorHelper$3(s.added),b;try{for(h.s();!(b=h.n()).done;){var _e=b.value;_e.select()}}catch(ot){h.e(ot)}finally{h.f()}var rt=_createForOfIteratorHelper$3(s.deleted),at;try{for(rt.s();!(at=rt.n()).done;){var st=at.value;st.unselect()}}catch(ot){rt.e(ot)}finally{rt.f()}return s}}]),o}();_SingleTypeSelectionAccumulator_previousSelection=new _WeakMap,_SingleTypeSelectionAccumulator_selection=new _WeakMap;var SelectionAccumulator=function(){function o(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};_classCallCheck(this,o),_SelectionAccumulator_nodes.set(this,new SingleTypeSelectionAccumulator),_SelectionAccumulator_edges.set(this,new SingleTypeSelectionAccumulator),_SelectionAccumulator_commitHandler.set(this,void 0),__classPrivateFieldSet(this,_SelectionAccumulator_commitHandler,e,"f")}return _createClass(o,[{key:"sizeNodes",get:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").size}},{key:"sizeEdges",get:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").size}},{key:"getNodes",value:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").getSelection()}},{key:"getEdges",value:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").getSelection()}},{key:"addNodes",value:function(){var s;(s=__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f")).add.apply(s,arguments)}},{key:"addEdges",value:function(){var s;(s=__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f")).add.apply(s,arguments)}},{key:"deleteNodes",value:function(s){__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").delete(s)}},{key:"deleteEdges",value:function(s){__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").delete(s)}},{key:"clear",value:function(){__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").clear(),__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").clear()}},{key:"commit",value:function(){for(var s,h,b={nodes:__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").commit(),edges:__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").commit()},_e=arguments.length,rt=new Array(_e),at=0;at<_e;at++)rt[at]=arguments[at];return(s=__classPrivateFieldGet(this,_SelectionAccumulator_commitHandler,"f")).call.apply(s,_concatInstanceProperty(h=[this,b]).call(h,rt)),b}}]),o}();_SelectionAccumulator_nodes=new _WeakMap,_SelectionAccumulator_edges=new _WeakMap,_SelectionAccumulator_commitHandler=new _WeakMap;function _createForOfIteratorHelper$2(o,e){var s=typeof _Symbol<"u"&&_getIteratorMethod(o)||o["@@iterator"];if(!s){if(_Array$isArray(o)||(s=_unsupportedIterableToArray$2(o))||e&&o&&typeof o.length=="number"){s&&(o=s);var h=0,b=function(){};return{s:b,n:function(){return h>=o.length?{done:!0}:{done:!1,value:o[h++]}},e:function(ot){throw ot},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,rt=!1,at;return{s:function(){s=s.call(o)},n:function(){var ot=s.next();return _e=ot.done,ot},e:function(ot){rt=!0,at=ot},f:function(){try{!_e&&s.return!=null&&s.return()}finally{if(rt)throw at}}}}function _unsupportedIterableToArray$2(o,e){var s;if(o){if(typeof o=="string")return _arrayLikeToArray$2(o,e);var h=_sliceInstanceProperty(s=Object.prototype.toString.call(o)).call(s,8,-1);if(h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set")return _Array$from$1(o);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray$2(o,e)}}function _arrayLikeToArray$2(o,e){(e==null||e>o.length)&&(e=o.length);for(var s=0,h=new Array(e);s<e;s++)h[s]=o[s];return h}var SelectionHandler=function(){function o(e,s){var h=this;_classCallCheck(this,o),this.body=e,this.canvas=s,this._selectionAccumulator=new SelectionAccumulator,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},_Object$assign(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){h.updateSelection()})}return _createClass(o,[{key:"setOptions",value:function(s){if(s!==void 0){var h=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];selectiveDeepExtend(h,this.options,s)}}},{key:"selectOnPoint",value:function(s){var h=!1;if(this.options.selectable===!0){var b=this.getNodeAt(s)||this.getEdgeAt(s);this.unselectAll(),b!==void 0&&(h=this.selectObject(b)),this.body.emitter.emit("_requestRedraw")}return h}},{key:"selectAdditionalOnPoint",value:function(s){var h=!1;if(this.options.selectable===!0){var b=this.getNodeAt(s)||this.getEdgeAt(s);b!==void 0&&(h=!0,b.isSelected()===!0?this.deselectObject(b):this.selectObject(b),this.body.emitter.emit("_requestRedraw"))}return h}},{key:"_initBaseEvent",value:function(s,h){var b={};return b.pointer={DOM:{x:h.x,y:h.y},canvas:this.canvas.DOMtoCanvas(h)},b.event=s,b}},{key:"generateClickEvent",value:function(s,h,b,_e){var rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,at=this._initBaseEvent(h,b);if(rt===!0)at.nodes=[],at.edges=[];else{var st=this.getSelection();at.nodes=st.nodes,at.edges=st.edges}_e!==void 0&&(at.previousSelection=_e),s=="click"&&(at.items=this.getClickedItems(b)),h.controlEdge!==void 0&&(at.controlEdge=h.controlEdge),this.body.emitter.emit(s,at)}},{key:"selectObject",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(s!==void 0){if(s instanceof Node){if(h===!0){var b;(b=this._selectionAccumulator).addEdges.apply(b,_toConsumableArray(s.edges))}this._selectionAccumulator.addNodes(s)}else this._selectionAccumulator.addEdges(s);return!0}return!1}},{key:"deselectObject",value:function(s){s.isSelected()===!0&&(s.selected=!1,this._removeFromSelection(s))}},{key:"_getAllNodesOverlappingWith",value:function(s){for(var h=[],b=this.body.nodes,_e=0;_e<this.body.nodeIndices.length;_e++){var rt=this.body.nodeIndices[_e];b[rt].isOverlappingWith(s)&&h.push(rt)}return h}},{key:"_pointerToPositionObject",value:function(s){var h=this.canvas.DOMtoCanvas(s);return{left:h.x-1,top:h.y+1,right:h.x+1,bottom:h.y-1}}},{key:"getNodeAt",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,b=this._pointerToPositionObject(s),_e=this._getAllNodesOverlappingWith(b);if(_e.length>0)return h===!0?this.body.nodes[_e[_e.length-1]]:_e[_e.length-1]}},{key:"_getEdgesOverlappingWith",value:function(s,h){for(var b=this.body.edges,_e=0;_e<this.body.edgeIndices.length;_e++){var rt=this.body.edgeIndices[_e];b[rt].isOverlappingWith(s)&&h.push(rt)}}},{key:"_getAllEdgesOverlappingWith",value:function(s){var h=[];return this._getEdgesOverlappingWith(s,h),h}},{key:"getEdgeAt",value:function(s){for(var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,b=this.canvas.DOMtoCanvas(s),_e=10,rt=null,at=this.body.edges,st=0;st<this.body.edgeIndices.length;st++){var ot=this.body.edgeIndices[st],nt=at[ot];if(nt.connected){var et=nt.from.x,d=nt.from.y,_=nt.to.x,tt=nt.to.y,lt=nt.edgeType.getDistanceToEdge(et,d,_,tt,b.x,b.y);lt<_e&&(rt=ot,_e=lt)}}if(rt!==null)return h===!0?this.body.edges[rt]:rt}},{key:"_addToHover",value:function(s){s instanceof Node?this.hoverObj.nodes[s.id]=s:this.hoverObj.edges[s.id]=s}},{key:"_removeFromSelection",value:function(s){if(s instanceof Node){var h;this._selectionAccumulator.deleteNodes(s),(h=this._selectionAccumulator).deleteEdges.apply(h,_toConsumableArray(s.edges))}else this._selectionAccumulator.deleteEdges(s)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(s){for(var h=0;h<s.edges.length;h++){var b=s.edges[h];b.hover=!0,this._addToHover(b)}}},{key:"emitBlurEvent",value:function(s,h,b){var _e=this._initBaseEvent(s,h);b.hover===!0&&(b.hover=!1,b instanceof Node?(_e.node=b.id,this.body.emitter.emit("blurNode",_e)):(_e.edge=b.id,this.body.emitter.emit("blurEdge",_e)))}},{key:"emitHoverEvent",value:function(s,h,b){var _e=this._initBaseEvent(s,h),rt=!1;return b.hover===!1&&(b.hover=!0,this._addToHover(b),rt=!0,b instanceof Node?(_e.node=b.id,this.body.emitter.emit("hoverNode",_e)):(_e.edge=b.id,this.body.emitter.emit("hoverEdge",_e))),rt}},{key:"hoverObject",value:function(s,h){var b=this.getNodeAt(h);b===void 0&&(b=this.getEdgeAt(h));var _e=!1;for(var rt in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,rt)&&(b===void 0||b instanceof Node&&b.id!=rt||b instanceof Edge)&&(this.emitBlurEvent(s,h,this.hoverObj.nodes[rt]),delete this.hoverObj.nodes[rt],_e=!0);for(var at in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,at)&&(_e===!0?(this.hoverObj.edges[at].hover=!1,delete this.hoverObj.edges[at]):(b===void 0||b instanceof Edge&&b.id!=at||b instanceof Node&&!b.hover)&&(this.emitBlurEvent(s,h,this.hoverObj.edges[at]),delete this.hoverObj.edges[at],_e=!0));if(b!==void 0){var st=_Object$keys(this.hoverObj.edges).length,ot=_Object$keys(this.hoverObj.nodes).length,nt=b instanceof Edge&&st===0&&ot===0,et=b instanceof Node&&st===0&&ot===0;(_e||nt||et)&&(_e=this.emitHoverEvent(s,h,b)),b instanceof Node&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(b)}_e===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(s,h){var b=!1,_e=this._selectionAccumulator.commit(),rt={nodes:_e.nodes.previous,edges:_e.edges.previous};_e.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",h,s,rt),b=!0),_e.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",h,s,rt),b=!0),_e.nodes.added.length>0&&(this.generateClickEvent("selectNode",h,s),b=!0),_e.edges.added.length>0&&(this.generateClickEvent("selectEdge",h,s),b=!0),b===!0&&this.generateClickEvent("select",h,s)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var s;return _mapInstanceProperty(s=this._selectionAccumulator.getNodes()).call(s,function(h){return h.id})}},{key:"getSelectedEdgeIds",value:function(){var s;return _mapInstanceProperty(s=this._selectionAccumulator.getEdges()).call(s,function(h){return h.id})}},{key:"setSelection",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!s||!s.nodes&&!s.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((h.unselectAll||h.unselectAll===void 0)&&this.unselectAll(),s.nodes){var b=_createForOfIteratorHelper$2(s.nodes),_e;try{for(b.s();!(_e=b.n()).done;){var rt=_e.value,at=this.body.nodes[rt];if(!at)throw new RangeError('Node with id "'+rt+'" not found');this.selectObject(at,h.highlightEdges)}}catch(d){b.e(d)}finally{b.f()}}if(s.edges){var st=_createForOfIteratorHelper$2(s.edges),ot;try{for(st.s();!(ot=st.n()).done;){var nt=ot.value,et=this.body.edges[nt];if(!et)throw new RangeError('Edge with id "'+nt+'" not found');this.selectObject(et)}}catch(d){st.e(d)}finally{st.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!s||s.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:s},{highlightEdges:h})}},{key:"selectEdges",value:function(s){if(!s||s.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:s})}},{key:"updateSelection",value:function(){for(var s in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,s.id)||this._selectionAccumulator.deleteNodes(s);for(var h in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,h.id)||this._selectionAccumulator.deleteEdges(h)}},{key:"getClickedItems",value:function(s){for(var h=this.canvas.DOMtoCanvas(s),b=[],_e=this.body.nodeIndices,rt=this.body.nodes,at=_e.length-1;at>=0;at--){var st=rt[_e[at]],ot=st.getItemsOnPoint(h);b.push.apply(b,ot)}for(var nt=this.body.edgeIndices,et=this.body.edges,d=nt.length-1;d>=0;d--){var _=et[nt[d]],tt=_.getItemsOnPoint(h);b.push.apply(b,tt)}return b}}]),o}(),arraySlice=arraySliceSimple,floor=Math.floor,mergeSort=function(o,e){var s=o.length,h=floor(s/2);return s<8?insertionSort(o,e):merge(o,mergeSort(arraySlice(o,0,h),e),mergeSort(arraySlice(o,h),e),e)},insertionSort=function(o,e){for(var s=o.length,h=1,b,_e;h<s;){for(_e=h,b=o[h];_e&&e(o[_e-1],b)>0;)o[_e]=o[--_e];_e!==h++&&(o[_e]=b)}return o},merge=function(o,e,s,h){for(var b=e.length,_e=s.length,rt=0,at=0;rt<b||at<_e;)o[rt+at]=rt<b&&at<_e?h(e[rt],s[at])<=0?e[rt++]:s[at++]:rt<b?e[rt++]:s[at++];return o},arraySort=mergeSort,userAgent$1=engineUserAgent,firefox=userAgent$1.match(/firefox\/(\d+)/i),engineFfVersion=!!firefox&&+firefox[1],UA=engineUserAgent,engineIsIeOrEdge=/MSIE|Trident/.test(UA),userAgent=engineUserAgent,webkit=userAgent.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion=!!webkit&&+webkit[1],$$2=_export,uncurryThis=functionUncurryThis,aCallable$1=aCallable$7,toObject$1=toObject$e,lengthOfArrayLike$1=lengthOfArrayLike$c,deletePropertyOrThrow=deletePropertyOrThrow$2,toString=toString$a,fails=fails$w,internalSort=arraySort,arrayMethodIsStrict$2=arrayMethodIsStrict$6,FF=engineFfVersion,IE_OR_EDGE=engineIsIeOrEdge,V8=engineV8Version,WEBKIT=engineWebkitVersion,test=[],nativeSort=uncurryThis(test.sort),push=uncurryThis(test.push),FAILS_ON_UNDEFINED=fails(function(){test.sort(void 0)}),FAILS_ON_NULL=fails(function(){test.sort(null)}),STRICT_METHOD$1=arrayMethodIsStrict$2("sort"),STABLE_SORT=!fails(function(){if(V8)return V8<70;if(!(FF&&FF>3)){if(IE_OR_EDGE)return!0;if(WEBKIT)return WEBKIT<603;var o="",e,s,h,b;for(e=65;e<76;e++){switch(s=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:h=3;break;case 68:case 71:h=4;break;default:h=2}for(b=0;b<47;b++)test.push({k:s+b,v:h})}for(test.sort(function(_e,rt){return rt.v-_e.v}),b=0;b<test.length;b++)s=test[b].k.charAt(0),o.charAt(o.length-1)!==s&&(o+=s);return o!=="DGBEFHACIJK"}}),FORCED$1=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD$1||!STABLE_SORT,getSortCompare=function(o){return function(e,s){return s===void 0?-1:e===void 0?1:o!==void 0?+o(e,s)||0:toString(e)>toString(s)?1:-1}};$$2({target:"Array",proto:!0,forced:FORCED$1},{sort:function o(e){e!==void 0&&aCallable$1(e);var s=toObject$1(this);if(STABLE_SORT)return e===void 0?nativeSort(s):nativeSort(s,e);var h=[],b=lengthOfArrayLike$1(s),_e,rt;for(rt=0;rt<b;rt++)rt in s&&push(h,s[rt]);for(internalSort(h,getSortCompare(e)),_e=lengthOfArrayLike$1(h),rt=0;rt<_e;)s[rt]=h[rt++];for(;rt<b;)deletePropertyOrThrow(s,rt++);return s}});var entryVirtual$2=entryVirtual$i,sort$3=entryVirtual$2("Array").sort,isPrototypeOf$2=objectIsPrototypeOf,method$2=sort$3,ArrayPrototype$2=Array.prototype,sort$2=function(o){var e=o.sort;return o===ArrayPrototype$2||isPrototypeOf$2(ArrayPrototype$2,o)&&e===ArrayPrototype$2.sort?method$2:e},parent$2=sort$2,sort$1=parent$2,sort=sort$1,_sortInstanceProperty=getDefaultExportFromCjs(sort),aCallable=aCallable$7,toObject=toObject$e,IndexedObject=indexedObject,lengthOfArrayLike=lengthOfArrayLike$c,$TypeError=TypeError,createMethod=function(o){return function(e,s,h,b){aCallable(s);var _e=toObject(e),rt=IndexedObject(_e),at=lengthOfArrayLike(_e),st=o?at-1:0,ot=o?-1:1;if(h<2)for(;;){if(st in rt){b=rt[st],st+=ot;break}if(st+=ot,o?st<0:at<=st)throw new $TypeError("Reduce of empty array with no initial value")}for(;o?st>=0:at>st;st+=ot)st in rt&&(b=s(b,rt[st],st,_e));return b}},arrayReduce={left:createMethod(!1),right:createMethod(!0)},global$1=global$n,classof=classofRaw$2,engineIsNode=classof(global$1.process)==="process",$$1=_export,$reduce=arrayReduce.left,arrayMethodIsStrict$1=arrayMethodIsStrict$6,CHROME_VERSION=engineV8Version,IS_NODE=engineIsNode,CHROME_BUG=!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83,FORCED=CHROME_BUG||!arrayMethodIsStrict$1("reduce");$$1({target:"Array",proto:!0,forced:FORCED},{reduce:function o(e){var s=arguments.length;return $reduce(this,e,s,s>1?arguments[1]:void 0)}});var entryVirtual$1=entryVirtual$i,reduce$3=entryVirtual$1("Array").reduce,isPrototypeOf$1=objectIsPrototypeOf,method$1=reduce$3,ArrayPrototype$1=Array.prototype,reduce$2=function(o){var e=o.reduce;return o===ArrayPrototype$1||isPrototypeOf$1(ArrayPrototype$1,o)&&e===ArrayPrototype$1.reduce?method$1:e},parent$1=reduce$2,reduce$1=parent$1,reduce=reduce$1,_reduceInstanceProperty=getDefaultExportFromCjs(reduce);function _createSuper(o){var e=_isNativeReflectConstruct();return function(){var h=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=_Reflect$construct(h,arguments,_e)}else b=h.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!_Reflect$construct||_Reflect$construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch{return!1}}var DirectionInterface=function(){function o(){_classCallCheck(this,o)}return _createClass(o,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(s){return this.fake_use(s),this.abstract()}},{key:"setPosition",value:function(s,h){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(s,h,b),this.abstract()}},{key:"getTreeSize",value:function(s){return this.fake_use(s),this.abstract()}},{key:"sort",value:function(s){this.fake_use(s),this.abstract()}},{key:"fix",value:function(s,h){this.fake_use(s,h),this.abstract()}},{key:"shift",value:function(s,h){this.fake_use(s,h),this.abstract()}}]),o}(),VerticalStrategy=function(o){_inherits(s,o);var e=_createSuper(s);function s(h){var b;return _classCallCheck(this,s),b=e.call(this),b.layout=h,b}return _createClass(s,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(b){return b.x}},{key:"setPosition",value:function(b,_e){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;rt!==void 0&&this.layout.hierarchical.addToOrdering(b,rt),b.x=_e}},{key:"getTreeSize",value:function(b){var _e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,b);return{min:_e.min_x,max:_e.max_x}}},{key:"sort",value:function(b){_sortInstanceProperty(b).call(b,function(_e,rt){return _e.x-rt.x})}},{key:"fix",value:function(b,_e){b.y=this.layout.options.hierarchical.levelSeparation*_e,b.options.fixed.y=!0}},{key:"shift",value:function(b,_e){this.layout.body.nodes[b].x+=_e}}]),s}(DirectionInterface),HorizontalStrategy=function(o){_inherits(s,o);var e=_createSuper(s);function s(h){var b;return _classCallCheck(this,s),b=e.call(this),b.layout=h,b}return _createClass(s,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(b){return b.y}},{key:"setPosition",value:function(b,_e){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;rt!==void 0&&this.layout.hierarchical.addToOrdering(b,rt),b.y=_e}},{key:"getTreeSize",value:function(b){var _e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,b);return{min:_e.min_y,max:_e.max_y}}},{key:"sort",value:function(b){_sortInstanceProperty(b).call(b,function(_e,rt){return _e.y-rt.y})}},{key:"fix",value:function(b,_e){b.x=this.layout.options.hierarchical.levelSeparation*_e,b.options.fixed.x=!0}},{key:"shift",value:function(b,_e){this.layout.body.nodes[b].y+=_e}}]),s}(DirectionInterface),$=_export,$every=arrayIteration.every,arrayMethodIsStrict=arrayMethodIsStrict$6,STRICT_METHOD=arrayMethodIsStrict("every");$({target:"Array",proto:!0,forced:!STRICT_METHOD},{every:function o(e){return $every(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual=entryVirtual$i,every$3=entryVirtual("Array").every,isPrototypeOf=objectIsPrototypeOf,method=every$3,ArrayPrototype=Array.prototype,every$2=function(o){var e=o.every;return o===ArrayPrototype||isPrototypeOf(ArrayPrototype,o)&&e===ArrayPrototype.every?method:e},parent=every$2,every$1=parent,every=every$1,_everyInstanceProperty=getDefaultExportFromCjs(every);function _createForOfIteratorHelper$1(o,e){var s=typeof _Symbol<"u"&&_getIteratorMethod(o)||o["@@iterator"];if(!s){if(_Array$isArray(o)||(s=_unsupportedIterableToArray$1(o))||e&&o&&typeof o.length=="number"){s&&(o=s);var h=0,b=function(){};return{s:b,n:function(){return h>=o.length?{done:!0}:{done:!1,value:o[h++]}},e:function(ot){throw ot},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,rt=!1,at;return{s:function(){s=s.call(o)},n:function(){var ot=s.next();return _e=ot.done,ot},e:function(ot){rt=!0,at=ot},f:function(){try{!_e&&s.return!=null&&s.return()}finally{if(rt)throw at}}}}function _unsupportedIterableToArray$1(o,e){var s;if(o){if(typeof o=="string")return _arrayLikeToArray$1(o,e);var h=_sliceInstanceProperty(s=Object.prototype.toString.call(o)).call(s,8,-1);if(h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set")return _Array$from$1(o);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray$1(o,e)}}function _arrayLikeToArray$1(o,e){(e==null||e>o.length)&&(e=o.length);for(var s=0,h=new Array(e);s<e;s++)h[s]=o[s];return h}function fillLevelsByDirectionCyclic(o,e){var s=new _Set;return _forEachInstanceProperty(o).call(o,function(h){var b;_forEachInstanceProperty(b=h.edges).call(b,function(_e){_e.connected&&s.add(_e)})}),_forEachInstanceProperty(s).call(s,function(h){var b=h.from.id,_e=h.to.id;e[b]==null&&(e[b]=0),(e[_e]==null||e[b]>=e[_e])&&(e[_e]=e[b]+1)}),e}function fillLevelsByDirectionLeaves(o){return fillLevelsByDirection(function(e){var s,h;return _everyInstanceProperty(s=_filterInstanceProperty(h=e.edges).call(h,function(b){return o.has(b.toId)})).call(s,function(b){return b.to===e})},function(e,s){return s>e},"from",o)}function fillLevelsByDirectionRoots(o){return fillLevelsByDirection(function(e){var s,h;return _everyInstanceProperty(s=_filterInstanceProperty(h=e.edges).call(h,function(b){return o.has(b.toId)})).call(s,function(b){return b.from===e})},function(e,s){return s<e},"to",o)}function fillLevelsByDirection(o,e,s,h){var b,_e=_Object$create$1(null),rt=_reduceInstanceProperty(b=_toConsumableArray(_valuesInstanceProperty(h).call(h))).call(b,function(_,tt){return _+1+tt.edges.length},0),at=s+"Id",st=s==="to"?1:-1,ot=_createForOfIteratorHelper$1(h),nt;try{var et=function(){var tt=_slicedToArray(nt.value,2),lt=tt[0],ut=tt[1];if(!h.has(lt)||!o(ut))return 0;_e[lt]=0;for(var ct=[ut],ft=0,dt,ht=function(){var vt,mt;if(!h.has(lt))return 0;var bt=_e[dt.id]+st;if(_forEachInstanceProperty(vt=_filterInstanceProperty(mt=dt.edges).call(mt,function($t){return $t.connected&&$t.to!==$t.from&&$t[s]!==dt&&h.has($t.toId)&&h.has($t.fromId)})).call(vt,function($t){var St=$t[at],Pt=_e[St];(Pt==null||e(bt,Pt))&&(_e[St]=bt,ct.push($t[s]))}),ft>rt)return{v:{v:fillLevelsByDirectionCyclic(h,_e)}};++ft},gt;dt=ct.pop();)if(gt=ht(),gt!==0&&gt)return gt.v},d;for(ot.s();!(nt=ot.n()).done;)if(d=et(),d!==0&&d)return d.v}catch(_){ot.e(_)}finally{ot.f()}return _e}var HierarchicalStatus=function(){function o(){_classCallCheck(this,o),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return _createClass(o,[{key:"addRelation",value:function(s,h){this.childrenReference[s]===void 0&&(this.childrenReference[s]=[]),this.childrenReference[s].push(h),this.parentReference[h]===void 0&&(this.parentReference[h]=[]),this.parentReference[h].push(s)}},{key:"checkIfTree",value:function(){for(var s in this.parentReference)if(this.parentReference[s].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(s,h){h!==void 0&&this.trees[s.id]===void 0&&(this.trees[s.id]=h,this.treeIndex=Math.max(h,this.treeIndex))}},{key:"ensureLevel",value:function(s){this.levels[s]===void 0&&(this.levels[s]=0)}},{key:"getMaxLevel",value:function(s){var h=this,b={},_e=function rt(at){if(b[at]!==void 0)return b[at];var st=h.levels[at];if(h.childrenReference[at]){var ot=h.childrenReference[at];if(ot.length>0)for(var nt=0;nt<ot.length;nt++)st=Math.max(st,rt(ot[nt]))}return b[at]=st,st};return _e(s)}},{key:"levelDownstream",value:function(s,h){this.levels[h.id]===void 0&&(this.levels[s.id]===void 0&&(this.levels[s.id]=0),this.levels[h.id]=this.levels[s.id]+1)}},{key:"setMinLevelToZero",value:function(s){var h=1e9;for(var b in s)Object.prototype.hasOwnProperty.call(s,b)&&this.levels[b]!==void 0&&(h=Math.min(this.levels[b],h));for(var _e in s)Object.prototype.hasOwnProperty.call(s,_e)&&this.levels[_e]!==void 0&&(this.levels[_e]-=h)}},{key:"getTreeSize",value:function(s,h){var b=1e9,_e=-1e9,rt=1e9,at=-1e9;for(var st in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,st)&&this.trees[st]===h){var ot=s[st];b=Math.min(ot.x,b),_e=Math.max(ot.x,_e),rt=Math.min(ot.y,rt),at=Math.max(ot.y,at)}return{min_x:b,max_x:_e,min_y:rt,max_y:at}}},{key:"hasSameParent",value:function(s,h){var b=this.parentReference[s.id],_e=this.parentReference[h.id];if(b===void 0||_e===void 0)return!1;for(var rt=0;rt<b.length;rt++)for(var at=0;at<_e.length;at++)if(b[rt]==_e[at])return!0;return!1}},{key:"inSameSubNetwork",value:function(s,h){return this.trees[s.id]===this.trees[h.id]}},{key:"getLevels",value:function(){return _Object$keys(this.distributionOrdering)}},{key:"addToOrdering",value:function(s,h){this.distributionOrdering[h]===void 0&&(this.distributionOrdering[h]=[]);var b=!1,_e=this.distributionOrdering[h];for(var rt in _e)if(_e[rt]===s){b=!0;break}b||(this.distributionOrdering[h].push(s),this.distributionIndex[s.id]=this.distributionOrdering[h].length-1)}}]),o}(),LayoutEngine=function(){function o(e){_classCallCheck(this,o),this.body=e,this._resetRNG(Math.random()+":"+_Date$now()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},_Object$assign(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(o,[{key:"bindEventListeners",value:function(){var s=this;this.body.emitter.on("_dataChanged",function(){s.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){s.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){s.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(s.options.hierarchical.enabled===!0){var h=s.direction.curveType();s.body.emitter.emit("_forceDisableDynamicCurves",h,!1)}})}},{key:"setOptions",value:function(s,h){if(s!==void 0){var b=this.options.hierarchical,_e=b.enabled;if(selectiveDeepExtend(["randomSeed","improvedLayout","clusterThreshold"],this.options,s),mergeOptions(this.options,s,"hierarchical"),s.randomSeed!==void 0&&this._resetRNG(s.randomSeed),b.enabled===!0)return _e===!0&&this.body.emitter.emit("refresh",!0),b.direction==="RL"||b.direction==="DU"?b.levelSeparation>0&&(b.levelSeparation*=-1):b.levelSeparation<0&&(b.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(h);if(_e===!0)return this.body.emitter.emit("refresh"),deepExtend(h,this.optionsBackup)}return h}},{key:"_resetRNG",value:function(s){this.initialRandomSeed=s,this._rng=Alea(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(s){if(this.options.hierarchical.enabled===!0){var h=this.optionsBackup.physics;s.physics===void 0||s.physics===!0?(s.physics={enabled:h.enabled===void 0?!0:h.enabled,solver:"hierarchicalRepulsion"},h.enabled=h.enabled===void 0?!0:h.enabled,h.solver=h.solver||"barnesHut"):_typeof(s.physics)==="object"?(h.enabled=s.physics.enabled===void 0?!0:s.physics.enabled,h.solver=s.physics.solver||"barnesHut",s.physics.solver="hierarchicalRepulsion"):s.physics!==!1&&(h.solver="barnesHut",s.physics={solver:"hierarchicalRepulsion"});var b=this.direction.curveType();if(s.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},s.edges={smooth:!1};else if(s.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},s.edges.smooth=!1;else if(typeof s.edges.smooth=="boolean")this.optionsBackup.edges={smooth:s.edges.smooth},s.edges.smooth={enabled:s.edges.smooth,type:b};else{var _e=s.edges.smooth;_e.type!==void 0&&_e.type!=="dynamic"&&(b=_e.type),this.optionsBackup.edges={smooth:{enabled:_e.enabled===void 0?!0:_e.enabled,type:_e.type===void 0?"dynamic":_e.type,roundness:_e.roundness===void 0?.5:_e.roundness,forceDirection:_e.forceDirection===void 0?!1:_e.forceDirection}},s.edges.smooth={enabled:_e.enabled===void 0?!0:_e.enabled,type:b,roundness:_e.roundness===void 0?.5:_e.roundness,forceDirection:_e.forceDirection===void 0?!1:_e.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",b)}return s}},{key:"positionInitially",value:function(s){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var h=s.length+50,b=0;b<s.length;b++){var _e=s[b],rt=2*Math.PI*this._rng();_e.x===void 0&&(_e.x=h*Math.cos(rt)),_e.y===void 0&&(_e.y=h*Math.sin(rt))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var s=this.body.nodeIndices,h=0,b=0;b<s.length;b++){var _e=this.body.nodes[s[b]];_e.predefinedPosition===!0&&(h+=1)}if(h<.5*s.length){var rt=10,at=0,st=this.options.clusterThreshold,ot={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(s.length>st){for(var nt=s.length;s.length>st&&at<=rt;){at+=1;var et=s.length;at%3===0?this.body.modules.clustering.clusterBridges(ot):this.body.modules.clustering.clusterOutliers(ot);var d=s.length;if(et==d&&at%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*nt)})}at>rt&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(s,this.body.edgeIndices,!0),this._shiftToCenter();for(var _=70,tt=0;tt<s.length;tt++){var lt=this.body.nodes[s[tt]];lt.predefinedPosition===!1&&(lt.x+=(.5-this._rng())*_,lt.y+=(.5-this._rng())*_)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var s=NetworkUtil.getRangeCore(this.body.nodes,this.body.nodeIndices),h=NetworkUtil.findCenter(s),b=0;b<this.body.nodeIndices.length;b++){var _e=this.body.nodes[this.body.nodeIndices[b]];_e.x-=h.x,_e.y-=h.y}}},{key:"_declusterAll",value:function(){for(var s=!0;s===!0;){s=!1;for(var h=0;h<this.body.nodeIndices.length;h++)this.body.nodes[this.body.nodeIndices[h]].isCluster===!0&&(s=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[h],{},!1));s===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var s,h,b=!1,_e=!1;this.lastNodeOnLevel={},this.hierarchical=new HierarchicalStatus;for(h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&(s=this.body.nodes[h],s.options.level!==void 0?(b=!0,this.hierarchical.levels[h]=s.options.level):_e=!0);if(_e===!0&&b===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(_e===!0){var rt=this.options.hierarchical.sortMethod;rt==="hubsize"?this._determineLevelsByHubsize():rt==="directed"?this._determineLevelsDirected():rt==="custom"&&this._determineLevelsCustomCallback()}for(var at in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,at)&&this.hierarchical.ensureLevel(at);var st=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(st),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var s=this,h=!1,b={},_e=function(){for(var dt=at(),ht=0,gt=0;gt<dt.length-1;gt++){var yt=dt[gt].max-dt[gt+1].min;ht+=yt+s.options.hierarchical.treeSpacing,rt(gt+1,ht)}},rt=function(dt,ht){var gt=s.hierarchical.trees;for(var yt in gt)Object.prototype.hasOwnProperty.call(gt,yt)&&gt[yt]===dt&&s.direction.shift(yt,ht)},at=function(){for(var dt=[],ht=0;ht<s.hierarchical.numTrees();ht++)dt.push(s.direction.getTreeSize(ht));return dt},st=function ft(dt,ht){if(!ht[dt.id]&&(ht[dt.id]=!0,s.hierarchical.childrenReference[dt.id])){var gt=s.hierarchical.childrenReference[dt.id];if(gt.length>0)for(var yt=0;yt<gt.length;yt++)ft(s.body.nodes[gt[yt]],ht)}},ot=function(dt){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,gt=1e9,yt=1e9,vt=1e9,mt=-1e9;for(var bt in dt)if(Object.prototype.hasOwnProperty.call(dt,bt)){var $t=s.body.nodes[bt],St=s.hierarchical.levels[$t.id],Pt=s.direction.getPosition($t),_t=s._getSpaceAroundNode($t,dt),wt=_slicedToArray(_t,2),xt=wt[0],Tt=wt[1];gt=Math.min(xt,gt),yt=Math.min(Tt,yt),St<=ht&&(vt=Math.min(Pt,vt),mt=Math.max(Pt,mt))}return[vt,mt,gt,yt]},nt=function(dt,ht){var gt=s.hierarchical.getMaxLevel(dt.id),yt=s.hierarchical.getMaxLevel(ht.id);return Math.min(gt,yt)},et=function(dt,ht,gt){for(var yt=s.hierarchical,vt=0;vt<ht.length;vt++){var mt=ht[vt],bt=yt.distributionOrdering[mt];if(bt.length>1)for(var $t=0;$t<bt.length-1;$t++){var St=bt[$t],Pt=bt[$t+1];yt.hasSameParent(St,Pt)&&yt.inSameSubNetwork(St,Pt)&&dt(St,Pt,gt)}}},d=function(dt,ht){var gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,yt=s.direction.getPosition(dt),vt=s.direction.getPosition(ht),mt=Math.abs(vt-yt),bt=s.options.hierarchical.nodeSpacing;if(mt>bt){var $t={},St={};st(dt,$t),st(ht,St);var Pt=nt(dt,ht),_t=ot($t,Pt),wt=ot(St,Pt),xt=_t[1],Tt=wt[0],It=wt[2],Ct=Math.abs(xt-Tt);if(Ct>bt){var Rt=xt-Tt+bt;Rt<-It+bt&&(Rt=-It+bt),Rt<0&&(s._shiftBlock(ht.id,Rt),h=!0,gt===!0&&s._centerParent(ht))}}},_=function(dt,ht){for(var gt=ht.id,yt=ht.edges,vt=s.hierarchical.levels[ht.id],mt=s.options.hierarchical.levelSeparation*s.options.hierarchical.levelSeparation,bt={},$t=[],St=0;St<yt.length;St++){var Pt=yt[St];if(Pt.toId!=Pt.fromId){var _t=Pt.toId==gt?Pt.from:Pt.to;bt[yt[St].id]=_t,s.hierarchical.levels[_t.id]<vt&&$t.push(Pt)}}var wt=function(kt,jt){for(var Vt=0,Gt=0;Gt<jt.length;Gt++)if(bt[jt[Gt].id]!==void 0){var Yt=s.direction.getPosition(bt[jt[Gt].id])-kt;Vt+=Yt/Math.sqrt(Yt*Yt+mt)}return Vt},xt=function(kt,jt){for(var Vt=0,Gt=0;Gt<jt.length;Gt++)if(bt[jt[Gt].id]!==void 0){var Yt=s.direction.getPosition(bt[jt[Gt].id])-kt;Vt-=mt*Math.pow(Yt*Yt+mt,-1.5)}return Vt},Tt=function(kt,jt){for(var Vt=s.direction.getPosition(ht),Gt={},Yt=0;Yt<kt;Yt++){var er=wt(Vt,jt),nr=xt(Vt,jt),Et=40,Ot=Math.max(-Et,Math.min(Et,Math.round(er/nr)));if(Vt=Vt-Ot,Gt[Vt]!==void 0)break;Gt[Vt]=Yt}return Vt},It=function(kt){var jt=s.direction.getPosition(ht);if(b[ht.id]===void 0){var Vt={};st(ht,Vt),b[ht.id]=Vt}var Gt=ot(b[ht.id]),Yt=Gt[2],er=Gt[3],nr=kt-jt,Et=0;nr>0?Et=Math.min(nr,er-s.options.hierarchical.nodeSpacing):nr<0&&(Et=-Math.min(-nr,Yt-s.options.hierarchical.nodeSpacing)),Et!=0&&(s._shiftBlock(ht.id,Et),h=!0)},Ct=function(kt){var jt=s.direction.getPosition(ht),Vt=s._getSpaceAroundNode(ht),Gt=_slicedToArray(Vt,2),Yt=Gt[0],er=Gt[1],nr=kt-jt,Et=jt;nr>0?Et=Math.min(jt+(er-s.options.hierarchical.nodeSpacing),kt):nr<0&&(Et=Math.max(jt-(Yt-s.options.hierarchical.nodeSpacing),kt)),Et!==jt&&(s.direction.setPosition(ht,Et),h=!0)},Rt=Tt(dt,$t);It(Rt),Rt=Tt(dt,yt),Ct(Rt)},tt=function(dt){var ht=s.hierarchical.getLevels();ht=_reverseInstanceProperty(ht).call(ht);for(var gt=0;gt<dt;gt++){h=!1;for(var yt=0;yt<ht.length;yt++)for(var vt=ht[yt],mt=s.hierarchical.distributionOrdering[vt],bt=0;bt<mt.length;bt++)_(1e3,mt[bt]);if(h!==!0)break}},lt=function(dt){var ht=s.hierarchical.getLevels();ht=_reverseInstanceProperty(ht).call(ht);for(var gt=0;gt<dt&&(h=!1,et(d,ht,!0),h===!0);gt++);},ut=function(){for(var dt in s.body.nodes)Object.prototype.hasOwnProperty.call(s.body.nodes,dt)&&s._centerParent(s.body.nodes[dt])},ct=function(){var dt=s.hierarchical.getLevels();dt=_reverseInstanceProperty(dt).call(dt);for(var ht=0;ht<dt.length;ht++)for(var gt=dt[ht],yt=s.hierarchical.distributionOrdering[gt],vt=0;vt<yt.length;vt++)s._centerParent(yt[vt])};this.options.hierarchical.blockShifting===!0&&(lt(5),ut()),this.options.hierarchical.edgeMinimization===!0&&tt(20),this.options.hierarchical.parentCentralization===!0&&ct(),_e()}},{key:"_getSpaceAroundNode",value:function(s,h){var b=!0;h===void 0&&(b=!1);var _e=this.hierarchical.levels[s.id];if(_e!==void 0){var rt=this.hierarchical.distributionIndex[s.id],at=this.direction.getPosition(s),st=this.hierarchical.distributionOrdering[_e],ot=1e9,nt=1e9;if(rt!==0){var et=st[rt-1];if(b===!0&&h[et.id]===void 0||b===!1){var d=this.direction.getPosition(et);ot=at-d}}if(rt!=st.length-1){var _=st[rt+1];if(b===!0&&h[_.id]===void 0||b===!1){var tt=this.direction.getPosition(_);nt=Math.min(nt,tt-at)}}return[ot,nt]}else return[0,0]}},{key:"_centerParent",value:function(s){if(this.hierarchical.parentReference[s.id])for(var h=this.hierarchical.parentReference[s.id],b=0;b<h.length;b++){var _e=h[b],rt=this.body.nodes[_e],at=this.hierarchical.childrenReference[_e];if(at!==void 0){var st=this._getCenterPosition(at),ot=this.direction.getPosition(rt),nt=this._getSpaceAroundNode(rt),et=_slicedToArray(nt,2),d=et[0],_=et[1],tt=ot-st;(tt<0&&Math.abs(tt)<_-this.options.hierarchical.nodeSpacing||tt>0&&Math.abs(tt)<d-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(rt,st)}}}},{key:"_placeNodesByHierarchy",value:function(s){this.positionedNodes={};for(var h in s)if(Object.prototype.hasOwnProperty.call(s,h)){var b,_e=_Object$keys(s[h]);_e=this._indexArrayToNodes(_e),_sortInstanceProperty(b=this.direction).call(b,_e);for(var rt=0,at=0;at<_e.length;at++){var st=_e[at];if(this.positionedNodes[st.id]===void 0){var ot=this.options.hierarchical.nodeSpacing,nt=ot*rt;rt>0&&(nt=this.direction.getPosition(_e[at-1])+ot),this.direction.setPosition(st,nt,h),this._validatePositionAndContinue(st,h,nt),rt++}}}}},{key:"_placeBranchNodes",value:function(s,h){var b,_e=this.hierarchical.childrenReference[s];if(_e!==void 0){for(var rt=[],at=0;at<_e.length;at++)rt.push(this.body.nodes[_e[at]]);_sortInstanceProperty(b=this.direction).call(b,rt);for(var st=0;st<rt.length;st++){var ot=rt[st],nt=this.hierarchical.levels[ot.id];if(nt>h&&this.positionedNodes[ot.id]===void 0){var et=this.options.hierarchical.nodeSpacing,d=void 0;st===0?d=this.direction.getPosition(this.body.nodes[s]):d=this.direction.getPosition(rt[st-1])+et,this.direction.setPosition(ot,d,nt),this._validatePositionAndContinue(ot,nt,d)}else return}var _=this._getCenterPosition(rt);this.direction.setPosition(this.body.nodes[s],_,h)}}},{key:"_validatePositionAndContinue",value:function(s,h,b){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[h]!==void 0){var _e=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[h]]);if(b-_e<this.options.hierarchical.nodeSpacing){var rt=_e+this.options.hierarchical.nodeSpacing-b,at=this._findCommonParent(this.lastNodeOnLevel[h],s.id);this._shiftBlock(at.withChild,rt)}}this.lastNodeOnLevel[h]=s.id,this.positionedNodes[s.id]=!0,this._placeBranchNodes(s.id,h)}}},{key:"_indexArrayToNodes",value:function(s){for(var h=[],b=0;b<s.length;b++)h.push(this.body.nodes[s[b]]);return h}},{key:"_getDistribution",value:function(){var s={},h,b;for(h in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,h)){b=this.body.nodes[h];var _e=this.hierarchical.levels[h]===void 0?0:this.hierarchical.levels[h];this.direction.fix(b,_e),s[_e]===void 0&&(s[_e]={}),s[_e][h]=b}return s}},{key:"_getActiveEdges",value:function(s){var h=this,b=[];return forEach$1(s.edges,function(_e){var rt;_indexOfInstanceProperty(rt=h.body.edgeIndices).call(rt,_e.id)!==-1&&b.push(_e)}),b}},{key:"_getHubSizes",value:function(){var s=this,h={},b=this.body.nodeIndices;forEach$1(b,function(rt){var at=s.body.nodes[rt],st=s._getActiveEdges(at).length;h[st]=!0});var _e=[];return forEach$1(h,function(rt){_e.push(Number(rt))}),_sortInstanceProperty(_e).call(_e,function(rt,at){return at-rt}),_e}},{key:"_determineLevelsByHubsize",value:function(){for(var s=this,h=function(st,ot){s.hierarchical.levelDownstream(st,ot)},b=this._getHubSizes(),_e=function(){var st=b[rt];if(st===0)return 1;forEach$1(s.body.nodeIndices,function(ot){var nt=s.body.nodes[ot];st===s._getActiveEdges(nt).length&&s._crawlNetwork(h,ot)})},rt=0;rt<b.length&&!_e();++rt);}},{key:"_determineLevelsCustomCallback",value:function(){var s=this,h=1e5,b=function(at,st,ot){},_e=function(at,st,ot){var nt=s.hierarchical.levels[at.id];nt===void 0&&(nt=s.hierarchical.levels[at.id]=h);var et=b(NetworkUtil.cloneOptions(at,"node"),NetworkUtil.cloneOptions(st,"node"),NetworkUtil.cloneOptions(ot,"edge"));s.hierarchical.levels[st.id]=nt+et};this._crawlNetwork(_e),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var s,h=this,b=_reduceInstanceProperty(s=this.body.nodeIndices).call(s,function(_e,rt){return _e.set(rt,h.body.nodes[rt]),_e},new _Map);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=fillLevelsByDirectionRoots(b):this.hierarchical.levels=fillLevelsByDirectionLeaves(b),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var s=this,h=function(_e,rt){s.hierarchical.levels[rt.id]>s.hierarchical.levels[_e.id]&&s.hierarchical.addRelation(_e.id,rt.id)};this._crawlNetwork(h),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var s=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},b=arguments.length>1?arguments[1]:void 0,_e={},rt=function d(_,tt){if(_e[_.id]===void 0){s.hierarchical.setTreeIndex(_,tt),_e[_.id]=!0;for(var lt,ut=s._getActiveEdges(_),ct=0;ct<ut.length;ct++){var ft=ut[ct];ft.connected===!0&&(ft.toId==_.id?lt=ft.from:lt=ft.to,_.id!=lt.id&&(h(_,lt,ft),d(lt,tt)))}}};if(b===void 0)for(var at=0,st=0;st<this.body.nodeIndices.length;st++){var ot=this.body.nodeIndices[st];if(_e[ot]===void 0){var nt=this.body.nodes[ot];rt(nt,at),at+=1}}else{var et=this.body.nodes[b];if(et===void 0){console.error("Node not found:",b);return}rt(et)}}},{key:"_shiftBlock",value:function(s,h){var b=this,_e={},rt=function at(st){if(!_e[st]){_e[st]=!0,b.direction.shift(st,h);var ot=b.hierarchical.childrenReference[st];if(ot!==void 0)for(var nt=0;nt<ot.length;nt++)at(ot[nt])}};rt(s)}},{key:"_findCommonParent",value:function(s,h){var b=this,_e={},rt=function st(ot,nt){var et=b.hierarchical.parentReference[nt];if(et!==void 0)for(var d=0;d<et.length;d++){var _=et[d];ot[_]=!0,st(ot,_)}},at=function st(ot,nt){var et=b.hierarchical.parentReference[nt];if(et!==void 0)for(var d=0;d<et.length;d++){var _=et[d];if(ot[_]!==void 0)return{foundParent:_,withChild:nt};var tt=st(ot,_);if(tt.foundParent!==null)return tt}return{foundParent:null,withChild:nt}};return rt(_e,s),at(_e,h)}},{key:"setDirectionStrategy",value:function(){var s=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";s?this.direction=new VerticalStrategy(this):this.direction=new HorizontalStrategy(this)}},{key:"_getCenterPosition",value:function(s){for(var h=1e9,b=-1e9,_e=0;_e<s.length;_e++){var rt=void 0;if(s[_e].id!==void 0)rt=s[_e];else{var at=s[_e];rt=this.body.nodes[at]}var st=this.direction.getPosition(rt);h=Math.min(h,st),b=Math.max(b,st)}return .5*(h+b)}}]),o}();function _createForOfIteratorHelper(o,e){var s=typeof _Symbol<"u"&&_getIteratorMethod(o)||o["@@iterator"];if(!s){if(_Array$isArray(o)||(s=_unsupportedIterableToArray(o))||e&&o&&typeof o.length=="number"){s&&(o=s);var h=0,b=function(){};return{s:b,n:function(){return h>=o.length?{done:!0}:{done:!1,value:o[h++]}},e:function(ot){throw ot},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=!0,rt=!1,at;return{s:function(){s=s.call(o)},n:function(){var ot=s.next();return _e=ot.done,ot},e:function(ot){rt=!0,at=ot},f:function(){try{!_e&&s.return!=null&&s.return()}finally{if(rt)throw at}}}}function _unsupportedIterableToArray(o,e){var s;if(o){if(typeof o=="string")return _arrayLikeToArray(o,e);var h=_sliceInstanceProperty(s=Object.prototype.toString.call(o)).call(s,8,-1);if(h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set")return _Array$from$1(o);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray(o,e)}}function _arrayLikeToArray(o,e){(e==null||e>o.length)&&(e=o.length);for(var s=0,h=new Array(e);s<e;s++)h[s]=o[s];return h}var ManipulationSystem=function(){function o(e,s,h,b){var _e=this,rt,at;_classCallCheck(this,o),this.body=e,this.canvas=s,this.selectionHandler=h,this.interactionHandler=b,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},_Object$assign(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){_e._clean()}),this.body.emitter.on("_dataChanged",_bindInstanceProperty$1(rt=this._restore).call(rt,this)),this.body.emitter.on("_resetData",_bindInstanceProperty$1(at=this._restore).call(at,this))}return _createClass(o,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(s,h,b){h!==void 0&&(h.locale!==void 0?this.options.locale=h.locale:this.options.locale=b.locale,h.locales!==void 0?this.options.locales=h.locales:this.options.locales=b.locales),s!==void 0&&(typeof s=="boolean"?this.options.enabled=s:(this.options.enabled=!0,deepExtend(this.options,s)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var s,h;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var b=this.selectionHandler.getSelectedNodeCount(),_e=this.selectionHandler.getSelectedEdgeCount(),rt=b+_e,at=this.options.locales[this.options.locale],st=!1;this.options.addNode!==!1&&(this._createAddNodeButton(at),st=!0),this.options.addEdge!==!1&&(st===!0?this._createSeperator(1):st=!0,this._createAddEdgeButton(at)),b===1&&typeof this.options.editNode=="function"?(st===!0?this._createSeperator(2):st=!0,this._createEditNodeButton(at)):_e===1&&b===0&&this.options.editEdge!==!1&&(st===!0?this._createSeperator(3):st=!0,this._createEditEdgeButton(at)),rt!==0&&(b>0&&this.options.deleteNode!==!1?(st===!0&&this._createSeperator(4),this._createDeleteButton(at)):b===0&&this.options.deleteEdge!==!1&&(st===!0&&this._createSeperator(4),this._createDeleteButton(at))),this._bindElementEvents(this.closeDiv,_bindInstanceProperty$1(s=this.toggleEditMode).call(s,this)),this._temporaryBindEvent("select",_bindInstanceProperty$1(h=this.showManipulatorToolbar).call(h,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var h,b=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(b),this._createSeperator(),this._createDescription(b.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,_bindInstanceProperty$1(h=this.toggleEditMode).call(h,this))}this._temporaryBindEvent("click",_bindInstanceProperty$1(s=this._performAddNode).call(s,this))}},{key:"editNode",value:function(){var s=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var h=this.selectionHandler.getSelectedNodes()[0];if(h!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(h.isCluster!==!0){var b=deepExtend({},h.options,!1);if(b.x=h.x,b.y=h.y,this.options.editNode.length===2)this.options.editNode(b,function(_e){_e!=null&&s.inMode==="editNode"&&s.body.data.nodes.getDataSet().update(_e),s.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var s,h,b,_e,rt;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var at,st=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(st),this._createSeperator(),this._createDescription(st.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,_bindInstanceProperty$1(at=this.toggleEditMode).call(at,this))}this._temporaryBindUI("onTouch",_bindInstanceProperty$1(s=this._handleConnect).call(s,this)),this._temporaryBindUI("onDragEnd",_bindInstanceProperty$1(h=this._finishConnect).call(h,this)),this._temporaryBindUI("onDrag",_bindInstanceProperty$1(b=this._dragControlNode).call(b,this)),this._temporaryBindUI("onRelease",_bindInstanceProperty$1(_e=this._finishConnect).call(_e,this)),this._temporaryBindUI("onDragStart",_bindInstanceProperty$1(rt=this._dragStartEdge).call(rt,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",_typeof(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){var s=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(s.from.id,s.to.id);return}if(this.guiEnabled===!0){var h,b=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(b),this._createSeperator(),this._createDescription(b.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,_bindInstanceProperty$1(h=this.toggleEditMode).call(h,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var _e,rt,at,st,ot=this.body.edges[this.edgeBeingEditedId],nt=this._getNewTargetNode(ot.from.x,ot.from.y),et=this._getNewTargetNode(ot.to.x,ot.to.y);this.temporaryIds.nodes.push(nt.id),this.temporaryIds.nodes.push(et.id),this.body.nodes[nt.id]=nt,this.body.nodeIndices.push(nt.id),this.body.nodes[et.id]=et,this.body.nodeIndices.push(et.id),this._temporaryBindUI("onTouch",_bindInstanceProperty$1(_e=this._controlNodeTouch).call(_e,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",_bindInstanceProperty$1(rt=this._controlNodeDragStart).call(rt,this)),this._temporaryBindUI("onDrag",_bindInstanceProperty$1(at=this._controlNodeDrag).call(at,this)),this._temporaryBindUI("onDragEnd",_bindInstanceProperty$1(st=this._controlNodeDragEnd).call(st,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(d){var _=ot.edgeType.findBorderPositions(d);nt.selected===!1&&(nt.x=_.from.x,nt.y=_.from.y),et.selected===!1&&(et.x=_.to.x,et.y=_.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var s=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var h=this.selectionHandler.getSelectedNodeIds(),b=this.selectionHandler.getSelectedEdgeIds(),_e=void 0;if(h.length>0){for(var rt=0;rt<h.length;rt++)if(this.body.nodes[h[rt]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(_e=this.options.deleteNode)}else b.length>0&&typeof this.options.deleteEdge=="function"&&(_e=this.options.deleteEdge);if(typeof _e=="function"){var at={nodes:h,edges:b};if(_e.length===2)_e(at,function(st){st!=null&&s.inMode==="delete"?(s.body.data.edges.getDataSet().remove(st.edges),s.body.data.nodes.getDataSet().remove(st.nodes),s.body.emitter.emit("startSimulation"),s.showManipulatorToolbar()):(s.body.emitter.emit("startSimulation"),s.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(b),this.body.data.nodes.getDataSet().remove(h),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var s,h;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(s=(h=this.options.locales[this.options.locale])===null||h===void 0?void 0:h.close)!==null&&s!==void 0?s:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function(s,h){var b=deepExtend({},this.options.controlNodeStyle);b.id="targetNode"+v4(),b.hidden=!1,b.physics=!1,b.x=s,b.y=h;var _e=this.body.functions.createNode(b);return _e.shape.boundingBox={left:s,right:s,top:h,bottom:h},_e}},{key:"_createEditButton",value:function(){var s;this._clean(),this.manipulationDOM={},recursiveDOMDelete(this.editModeDiv);var h=this.options.locales[this.options.locale],b=this._createButton("editMode","vis-edit vis-edit-mode",h.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(b),this._bindElementEvents(b,_bindInstanceProperty$1(s=this.toggleEditMode).call(s,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(recursiveDOMDelete(this.editModeDiv),recursiveDOMDelete(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var s,h=_createForOfIteratorHelper(_spliceInstanceProperty(s=this._domEventListenerCleanupQueue).call(s,0)),b;try{for(h.s();!(b=h.n()).done;){var _e=b.value;_e()}}catch(rt){h.e(rt)}finally{h.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),recursiveDOMDelete(this.manipulationDiv),recursiveDOMDelete(this.editModeDiv),recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+s]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+s].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+s])}},{key:"_createAddNodeButton",value:function(s){var h,b=this._createButton("addNode","vis-add",s.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(b),this._bindElementEvents(b,_bindInstanceProperty$1(h=this.addNodeMode).call(h,this))}},{key:"_createAddEdgeButton",value:function(s){var h,b=this._createButton("addEdge","vis-connect",s.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(b),this._bindElementEvents(b,_bindInstanceProperty$1(h=this.addEdgeMode).call(h,this))}},{key:"_createEditNodeButton",value:function(s){var h,b=this._createButton("editNode","vis-edit",s.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(b),this._bindElementEvents(b,_bindInstanceProperty$1(h=this.editNode).call(h,this))}},{key:"_createEditEdgeButton",value:function(s){var h,b=this._createButton("editEdge","vis-edit",s.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(b),this._bindElementEvents(b,_bindInstanceProperty$1(h=this.editEdgeMode).call(h,this))}},{key:"_createDeleteButton",value:function(s){var h,b;this.options.rtl?b="vis-delete-rtl":b="vis-delete";var _e=this._createButton("delete",b,s.del||this.options.locales.en.del);this.manipulationDiv.appendChild(_e),this._bindElementEvents(_e,_bindInstanceProperty$1(h=this.deleteSelected).call(h,this))}},{key:"_createBackButton",value:function(s){var h,b=this._createButton("back","vis-back",s.back||this.options.locales.en.back);this.manipulationDiv.appendChild(b),this._bindElementEvents(b,_bindInstanceProperty$1(h=this.showManipulatorToolbar).call(h,this))}},{key:"_createButton",value:function(s,h,b){var _e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[s+"Div"]=document.createElement("button"),this.manipulationDOM[s+"Div"].className="vis-button "+h,this.manipulationDOM[s+"Label"]=document.createElement("div"),this.manipulationDOM[s+"Label"].className=_e,this.manipulationDOM[s+"Label"].innerText=b,this.manipulationDOM[s+"Div"].appendChild(this.manipulationDOM[s+"Label"]),this.manipulationDOM[s+"Div"]}},{key:"_createDescription",value:function(s){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=s,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(s,h){this.temporaryEventFunctions.push({event:s,boundFunction:h}),this.body.emitter.on(s,h)}},{key:"_temporaryBindUI",value:function(s,h){if(this.body.eventListeners[s]!==void 0)this.temporaryUIFunctions[s]=this.body.eventListeners[s],this.body.eventListeners[s]=h;else throw new Error("This UI function does not exist. Typo? You tried: "+s+" possible are: "+_JSON$stringify(_Object$keys(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var s in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,s)&&(this.body.eventListeners[s]=this.temporaryUIFunctions[s],delete this.temporaryUIFunctions[s]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var s=0;s<this.temporaryEventFunctions.length;s++){var h=this.temporaryEventFunctions[s].event,b=this.temporaryEventFunctions[s].boundFunction;this.body.emitter.off(h,b)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(s,h){var b=new Hammer(s,{});onTouch(b,h),this._domEventListenerCleanupQueue.push(function(){b.destroy()});var _e=function(at){var st=at.keyCode,ot=at.key;(ot==="Enter"||ot===" "||st===13||st===32)&&h()};s.addEventListener("keyup",_e,!1),this._domEventListenerCleanupQueue.push(function(){s.removeEventListener("keyup",_e,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var s=0;s<this.temporaryIds.edges.length;s++){var h;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];var b=_indexOfInstanceProperty(h=this.body.edgeIndices).call(h,this.temporaryIds.edges[s]);if(b!==-1){var _e;_spliceInstanceProperty(_e=this.body.edgeIndices).call(_e,b,1)}}for(var rt=0;rt<this.temporaryIds.nodes.length;rt++){var at;delete this.body.nodes[this.temporaryIds.nodes[rt]];var st=_indexOfInstanceProperty(at=this.body.nodeIndices).call(at,this.temporaryIds.nodes[rt]);if(st!==-1){var ot;_spliceInstanceProperty(ot=this.body.nodeIndices).call(ot,st,1)}}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(s){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(s.center),this.lastTouch.translation=_Object$assign({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var s=this.lastTouch,h=this.selectionHandler._pointerToPositionObject(s),b=this.body.nodes[this.temporaryIds.nodes[0]],_e=this.body.nodes[this.temporaryIds.nodes[1]],rt=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var at=b.isOverlappingWith(h),st=_e.isOverlappingWith(h);at===!0?(this.selectedControlNode=b,rt.edgeType.from=b):st===!0&&(this.selectedControlNode=_e,rt.edgeType.to=_e),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(s){this.body.emitter.emit("disablePhysics");var h=this.body.functions.getPointer(s.center),b=this.canvas.DOMtoCanvas(h);this.selectedControlNode!==void 0?(this.selectedControlNode.x=b.x,this.selectedControlNode.y=b.y):this.interactionHandler.onDrag(s),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(s){var h=this.body.functions.getPointer(s.center),b=this.selectionHandler._pointerToPositionObject(h),_e=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var rt=this.selectionHandler._getAllNodesOverlappingWith(b),at=void 0,st=rt.length-1;st>=0;st--)if(rt[st]!==this.selectedControlNode.id){at=this.body.nodes[rt[st]];break}if(at!==void 0&&this.selectedControlNode!==void 0)if(at.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var ot=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===ot.id?this._performEditEdge(at.id,_e.to.id):this._performEditEdge(_e.from.id,at.id)}else _e.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(s){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(s.center),this.lastTouch.translation=_Object$assign({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var h=this.lastTouch,b=this.selectionHandler.getNodeAt(h);if(b!==void 0)if(b.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var _e=this._getNewTargetNode(b.x,b.y);this.body.nodes[_e.id]=_e,this.body.nodeIndices.push(_e.id);var rt=this.body.functions.createEdge({id:"connectionEdge"+v4(),from:b.id,to:_e.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[rt.id]=rt,this.body.edgeIndices.push(rt.id),this.temporaryIds.nodes.push(_e.id),this.temporaryIds.edges.push(rt.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(s){var h=this.body.functions.getPointer(s.center),b=this.selectionHandler._pointerToPositionObject(h),_e=void 0;this.temporaryIds.edges[0]!==void 0&&(_e=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var rt=this.selectionHandler._getAllNodesOverlappingWith(b),at=void 0,st=rt.length-1;st>=0;st--){var ot;if(_indexOfInstanceProperty(ot=this.temporaryIds.nodes).call(ot,rt[st])===-1){at=this.body.nodes[rt[st]];break}}if(s.controlEdge={from:_e,to:at?at.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",s,h),this.temporaryIds.nodes[0]!==void 0){var nt=this.body.nodes[this.temporaryIds.nodes[0]];nt.x=this.canvas._XconvertDOMtoCanvas(h.x),nt.y=this.canvas._YconvertDOMtoCanvas(h.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(s)}},{key:"_finishConnect",value:function(s){var h=this.body.functions.getPointer(s.center),b=this.selectionHandler._pointerToPositionObject(h),_e=void 0;this.temporaryIds.edges[0]!==void 0&&(_e=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var rt=this.selectionHandler._getAllNodesOverlappingWith(b),at=void 0,st=rt.length-1;st>=0;st--){var ot;if(_indexOfInstanceProperty(ot=this.temporaryIds.nodes).call(ot,rt[st])===-1){at=this.body.nodes[rt[st]];break}}this._cleanupTemporaryNodesAndEdges(),at!==void 0&&(at.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[_e]!==void 0&&this.body.nodes[at.id]!==void 0&&this._performAddEdge(_e,at.id)),s.controlEdge={from:_e,to:at?at.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",s,h),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(s){var h=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",s,h,void 0,!0)}},{key:"_performAddNode",value:function(s){var h=this,b={id:v4(),x:s.pointer.canvas.x,y:s.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(b,function(_e){_e!=null&&h.inMode==="addNode"&&h.body.data.nodes.getDataSet().add(_e),h.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(b),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(s,h){var b=this,_e={from:s,to:h};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(_e,function(rt){rt!=null&&b.inMode==="addEdge"&&(b.body.data.edges.getDataSet().add(rt),b.selectionHandler.unselectAll(),b.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(_e),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(s,h){var b=this,_e={id:this.edgeBeingEditedId,from:s,to:h,label:this.body.data.edges.get(this.edgeBeingEditedId).label},rt=this.options.editEdge;if(_typeof(rt)==="object"&&(rt=rt.editWithoutDrag),typeof rt=="function")if(rt.length===2)rt(_e,function(at){at==null||b.inMode!=="editEdge"?(b.body.edges[_e.id].updateEdgeType(),b.body.emitter.emit("_redraw"),b.showManipulatorToolbar()):(b.body.data.edges.getDataSet().update(at),b.selectionHandler.unselectAll(),b.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(_e),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),o}(),string="string",bool="boolean",number="number",array="array",object="object",dom="dom",any="any",endPoints=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],nodeOptions={borderWidth:{number},borderWidthSelected:{number,undefined:"undefined"},brokenImage:{string,undefined:"undefined"},chosen:{label:{boolean:bool,function:"function"},node:{boolean:bool,function:"function"},__type__:{object,boolean:bool}},color:{border:{string},background:{string},highlight:{border:{string},background:{string},__type__:{object,string}},hover:{border:{string},background:{string},__type__:{object,string}},__type__:{object,string}},opacity:{number,undefined:"undefined"},fixed:{x:{boolean:bool},y:{boolean:bool},__type__:{object,boolean:bool}},font:{align:{string},color:{string},size:{number},face:{string},background:{string},strokeWidth:{number},strokeColor:{string},vadjust:{number},multi:{boolean:bool,string},bold:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},boldital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},ital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},mono:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},__type__:{object,string}},group:{string,number,undefined:"undefined"},heightConstraint:{minimum:{number},valign:{string},__type__:{object,boolean:bool,number}},hidden:{boolean:bool},icon:{face:{string},code:{string},size:{number},color:{string},weight:{string,number},__type__:{object}},id:{string,number},image:{selected:{string,undefined:"undefined"},unselected:{string,undefined:"undefined"},__type__:{object,string}},imagePadding:{top:{number},right:{number},bottom:{number},left:{number},__type__:{object,number}},label:{string,undefined:"undefined"},labelHighlightBold:{boolean:bool},level:{number,undefined:"undefined"},margin:{top:{number},right:{number},bottom:{number},left:{number},__type__:{object,number}},mass:{number},physics:{boolean:bool},scaling:{min:{number},max:{number},label:{enabled:{boolean:bool},min:{number},max:{number},maxVisible:{number},drawThreshold:{number},__type__:{object,boolean:bool}},customScalingFunction:{function:"function"},__type__:{object}},shadow:{enabled:{boolean:bool},color:{string},size:{number},x:{number},y:{number},__type__:{object,boolean:bool}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:bool,array},borderRadius:{number},interpolation:{boolean:bool},useImageSize:{boolean:bool},useBorderWithImage:{boolean:bool},coordinateOrigin:{string:["center","top-left"]},__type__:{object}},size:{number},title:{string,dom,undefined:"undefined"},value:{number,undefined:"undefined"},widthConstraint:{minimum:{number},maximum:{number},__type__:{object,boolean:bool,number}},x:{number},y:{number},__type__:{object}},allOptions={configure:{enabled:{boolean:bool},filter:{boolean:bool,string,array,function:"function"},container:{dom},showButton:{boolean:bool},__type__:{object,boolean:bool,string,array,function:"function"}},edges:{arrows:{to:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageHeight:{number},imageWidth:{number},src:{string},__type__:{object,boolean:bool}},middle:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageWidth:{number},imageHeight:{number},src:{string},__type__:{object,boolean:bool}},from:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageWidth:{number},imageHeight:{number},src:{string},__type__:{object,boolean:bool}},__type__:{string:["from","to","middle"],object}},endPointOffset:{from:{number},to:{number},__type__:{object,number}},arrowStrikethrough:{boolean:bool},background:{enabled:{boolean:bool},color:{string},size:{number},dashes:{boolean:bool,array},__type__:{object,boolean:bool}},chosen:{label:{boolean:bool,function:"function"},edge:{boolean:bool,function:"function"},__type__:{object,boolean:bool}},color:{color:{string},highlight:{string},hover:{string},inherit:{string:["from","to","both"],boolean:bool},opacity:{number},__type__:{object,string}},dashes:{boolean:bool,array},font:{color:{string},size:{number},face:{string},background:{string},strokeWidth:{number},strokeColor:{string},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number},multi:{boolean:bool,string},bold:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},boldital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},ital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},mono:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},__type__:{object,string}},hidden:{boolean:bool},hoverWidth:{function:"function",number},label:{string,undefined:"undefined"},labelHighlightBold:{boolean:bool},length:{number,undefined:"undefined"},physics:{boolean:bool},scaling:{min:{number},max:{number},label:{enabled:{boolean:bool},min:{number},max:{number},maxVisible:{number},drawThreshold:{number},__type__:{object,boolean:bool}},customScalingFunction:{function:"function"},__type__:{object}},selectionWidth:{function:"function",number},selfReferenceSize:{number},selfReference:{size:{number},angle:{number},renderBehindTheNode:{boolean:bool},__type__:{object}},shadow:{enabled:{boolean:bool},color:{string},size:{number},x:{number},y:{number},__type__:{object,boolean:bool}},smooth:{enabled:{boolean:bool},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number},forceDirection:{string:["horizontal","vertical","none"],boolean:bool},__type__:{object,boolean:bool}},title:{string,undefined:"undefined"},width:{number},widthConstraint:{maximum:{number},__type__:{object,boolean:bool,number}},value:{number,undefined:"undefined"},__type__:{object}},groups:{useDefaultGroups:{boolean:bool},__any__:nodeOptions,__type__:{object}},interaction:{dragNodes:{boolean:bool},dragView:{boolean:bool},hideEdgesOnDrag:{boolean:bool},hideEdgesOnZoom:{boolean:bool},hideNodesOnDrag:{boolean:bool},hover:{boolean:bool},keyboard:{enabled:{boolean:bool},speed:{x:{number},y:{number},zoom:{number},__type__:{object}},bindToWindow:{boolean:bool},autoFocus:{boolean:bool},__type__:{object,boolean:bool}},multiselect:{boolean:bool},navigationButtons:{boolean:bool},selectable:{boolean:bool},selectConnectedEdges:{boolean:bool},hoverConnectedEdges:{boolean:bool},tooltipDelay:{number},zoomView:{boolean:bool},zoomSpeed:{number},__type__:{object}},layout:{randomSeed:{undefined:"undefined",number,string},improvedLayout:{boolean:bool},clusterThreshold:{number},hierarchical:{enabled:{boolean:bool},levelSeparation:{number},nodeSpacing:{number},treeSpacing:{number},blockShifting:{boolean:bool},edgeMinimization:{boolean:bool},parentCentralization:{boolean:bool},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object,boolean:bool}},__type__:{object}},manipulation:{enabled:{boolean:bool},initiallyActive:{boolean:bool},addNode:{boolean:bool,function:"function"},addEdge:{boolean:bool,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object,boolean:bool,function:"function"}},deleteNode:{boolean:bool,function:"function"},deleteEdge:{boolean:bool,function:"function"},controlNodeStyle:nodeOptions,__type__:{object,boolean:bool}},nodes:nodeOptions,physics:{enabled:{boolean:bool},barnesHut:{theta:{number},gravitationalConstant:{number},centralGravity:{number},springLength:{number},springConstant:{number},damping:{number},avoidOverlap:{number},__type__:{object}},forceAtlas2Based:{theta:{number},gravitationalConstant:{number},centralGravity:{number},springLength:{number},springConstant:{number},damping:{number},avoidOverlap:{number},__type__:{object}},repulsion:{centralGravity:{number},springLength:{number},springConstant:{number},nodeDistance:{number},damping:{number},__type__:{object}},hierarchicalRepulsion:{centralGravity:{number},springLength:{number},springConstant:{number},nodeDistance:{number},damping:{number},avoidOverlap:{number},__type__:{object}},maxVelocity:{number},minVelocity:{number},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:bool},iterations:{number},updateInterval:{number},onlyDynamicEdges:{boolean:bool},fit:{boolean:bool},__type__:{object,boolean:bool}},timestep:{number},adaptiveTimestep:{boolean:bool},wind:{x:{number},y:{number},__type__:{object}},__type__:{object,boolean:bool}},autoResize:{boolean:bool},clickToUse:{boolean:bool},locale:{string},locales:{__any__:{any},__type__:{object}},height:{string},width:{string},__type__:{object}},configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},configuratorHideOption=function o(e,s,h){var b;return!!(_includesInstanceProperty(e).call(e,"physics")&&_includesInstanceProperty(b=configureOptions.physics.solver).call(b,s)&&h.physics.solver!==s&&s!=="wind")},FloydWarshall=function(){function o(){_classCallCheck(this,o)}return _createClass(o,[{key:"getDistances",value:function(s,h,b){for(var _e={},rt=s.edges,at=0;at<h.length;at++){var st=h[at],ot={};_e[st]=ot;for(var nt=0;nt<h.length;nt++)ot[h[nt]]=at==nt?0:1e9}for(var et=0;et<b.length;et++){var d=rt[b[et]];d.connected===!0&&_e[d.fromId]!==void 0&&_e[d.toId]!==void 0&&(_e[d.fromId][d.toId]=1,_e[d.toId][d.fromId]=1)}for(var _=h.length,tt=0;tt<_;tt++)for(var lt=h[tt],ut=_e[lt],ct=0;ct<_-1;ct++)for(var ft=h[ct],dt=_e[ft],ht=ct+1;ht<_;ht++){var gt=h[ht],yt=_e[gt],vt=Math.min(dt[gt],dt[lt]+ut[gt]);dt[gt]=vt,yt[ft]=vt}return _e}}]),o}(),KamadaKawai=function(){function o(e,s,h){_classCallCheck(this,o),this.body=e,this.springLength=s,this.springConstant=h,this.distanceSolver=new FloydWarshall}return _createClass(o,[{key:"setOptions",value:function(s){s&&(s.springLength&&(this.springLength=s.springLength),s.springConstant&&(this.springConstant=s.springConstant))}},{key:"solve",value:function(s,h){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_e=this.distanceSolver.getDistances(this.body,s,h);this._createL_matrix(_e),this._createK_matrix(_e),this._createE_matrix();for(var rt=.01,at=1,st=0,ot=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),nt=5,et=1e9,d=0,_=0,tt=0,lt=0,ut=0;et>rt&&st<ot;){st+=1;var ct=this._getHighestEnergyNode(b),ft=_slicedToArray(ct,4);for(d=ft[0],et=ft[1],_=ft[2],tt=ft[3],lt=et,ut=0;lt>at&&ut<nt;){ut+=1,this._moveNode(d,_,tt);var dt=this._getEnergy(d),ht=_slicedToArray(dt,3);lt=ht[0],_=ht[1],tt=ht[2]}}}},{key:"_getHighestEnergyNode",value:function(s){for(var h=this.body.nodeIndices,b=this.body.nodes,_e=0,rt=h[0],at=0,st=0,ot=0;ot<h.length;ot++){var nt=h[ot];if(b[nt].predefinedPosition!==!0||b[nt].isCluster===!0&&s===!0||b[nt].options.fixed.x!==!0||b[nt].options.fixed.y!==!0){var et=this._getEnergy(nt),d=_slicedToArray(et,3),_=d[0],tt=d[1],lt=d[2];_e<_&&(_e=_,rt=nt,at=tt,st=lt)}}return[rt,_e,at,st]}},{key:"_getEnergy",value:function(s){var h=_slicedToArray(this.E_sums[s],2),b=h[0],_e=h[1],rt=Math.sqrt(Math.pow(b,2)+Math.pow(_e,2));return[rt,b,_e]}},{key:"_moveNode",value:function(s,h,b){for(var _e=this.body.nodeIndices,rt=this.body.nodes,at=0,st=0,ot=0,nt=rt[s].x,et=rt[s].y,d=this.K_matrix[s],_=this.L_matrix[s],tt=0;tt<_e.length;tt++){var lt=_e[tt];if(lt!==s){var ut=rt[lt].x,ct=rt[lt].y,ft=d[lt],dt=_[lt],ht=1/Math.pow(Math.pow(nt-ut,2)+Math.pow(et-ct,2),1.5);at+=ft*(1-dt*Math.pow(et-ct,2)*ht),st+=ft*(dt*(nt-ut)*(et-ct)*ht),ot+=ft*(1-dt*Math.pow(nt-ut,2)*ht)}}var gt=at,yt=st,vt=h,mt=ot,bt=b,$t=(vt/gt+bt/yt)/(yt/gt-mt/yt),St=-(yt*$t+vt)/gt;rt[s].x+=St,rt[s].y+=$t,this._updateE_matrix(s)}},{key:"_createL_matrix",value:function(s){var h=this.body.nodeIndices,b=this.springLength;this.L_matrix=[];for(var _e=0;_e<h.length;_e++){this.L_matrix[h[_e]]={};for(var rt=0;rt<h.length;rt++)this.L_matrix[h[_e]][h[rt]]=b*s[h[_e]][h[rt]]}}},{key:"_createK_matrix",value:function(s){var h=this.body.nodeIndices,b=this.springConstant;this.K_matrix=[];for(var _e=0;_e<h.length;_e++){this.K_matrix[h[_e]]={};for(var rt=0;rt<h.length;rt++)this.K_matrix[h[_e]][h[rt]]=b*Math.pow(s[h[_e]][h[rt]],-2)}}},{key:"_createE_matrix",value:function(){var s=this.body.nodeIndices,h=this.body.nodes;this.E_matrix={},this.E_sums={};for(var b=0;b<s.length;b++)this.E_matrix[s[b]]=[];for(var _e=0;_e<s.length;_e++){for(var rt=s[_e],at=h[rt].x,st=h[rt].y,ot=0,nt=0,et=_e;et<s.length;et++){var d=s[et];if(d!==rt){var _=h[d].x,tt=h[d].y,lt=1/Math.sqrt(Math.pow(at-_,2)+Math.pow(st-tt,2));this.E_matrix[rt][et]=[this.K_matrix[rt][d]*(at-_-this.L_matrix[rt][d]*(at-_)*lt),this.K_matrix[rt][d]*(st-tt-this.L_matrix[rt][d]*(st-tt)*lt)],this.E_matrix[d][_e]=this.E_matrix[rt][et],ot+=this.E_matrix[rt][et][0],nt+=this.E_matrix[rt][et][1]}}this.E_sums[rt]=[ot,nt]}}},{key:"_updateE_matrix",value:function(s){for(var h=this.body.nodeIndices,b=this.body.nodes,_e=this.E_matrix[s],rt=this.K_matrix[s],at=this.L_matrix[s],st=b[s].x,ot=b[s].y,nt=0,et=0,d=0;d<h.length;d++){var _=h[d];if(_!==s){var tt=_e[d],lt=tt[0],ut=tt[1],ct=b[_].x,ft=b[_].y,dt=1/Math.sqrt(Math.pow(st-ct,2)+Math.pow(ot-ft,2)),ht=rt[_]*(st-ct-at[_]*(st-ct)*dt),gt=rt[_]*(ot-ft-at[_]*(ot-ft)*dt);_e[d]=[ht,gt],nt+=ht,et+=gt;var yt=this.E_sums[_];yt[0]+=ht-lt,yt[1]+=gt-ut}}this.E_sums[s]=[nt,et]}}]),o}();function Network(o,e,s){var h,b,_e,rt,at=this;if(!(this instanceof Network))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales,clickToUse:!1},_Object$assign(this.options,this.defaultOptions),this.body={container:o,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:_bindInstanceProperty$1(h=this.on).call(h,this),off:_bindInstanceProperty$1(b=this.off).call(b,this),emit:_bindInstanceProperty$1(_e=this.emit).call(_e,this),once:_bindInstanceProperty$1(rt=this.once).call(rt,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Images(function(){return at.body.emitter.emit("_requestRedraw")}),this.groups=new Groups,this.canvas=new Canvas(this.body),this.selectionHandler=new SelectionHandler(this.body,this.canvas),this.interactionHandler=new InteractionHandler(this.body,this.canvas,this.selectionHandler),this.view=new View(this.body,this.canvas),this.renderer=new CanvasRenderer(this.body,this.canvas),this.physics=new PhysicsEngine(this.body),this.layoutEngine=new LayoutEngine(this.body),this.clustering=new ClusterEngine(this.body),this.manipulation=new ManipulationSystem(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new NodesHandler(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new EdgesHandler(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new KamadaKawai(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(s),this.setData(e)}Emitter(Network.prototype);Network.prototype.setOptions=function(o){var e=this;if(o===null&&(o=void 0),o!==void 0){var s=Validator.validate(o,allOptions);s===!0&&console.error("%cErrors have been found in the supplied options object.",VALIDATOR_PRINT_STYLE);var h=["locale","locales","clickToUse"];if(selectiveDeepExtend(h,this.options,o),o.locale!==void 0&&(o.locale=normalizeLanguageCode(o.locales||this.options.locales,o.locale)),o=this.layoutEngine.setOptions(o.layout,o),this.canvas.setOptions(o),this.groups.setOptions(o.groups),this.nodesHandler.setOptions(o.nodes),this.edgesHandler.setOptions(o.edges),this.physics.setOptions(o.physics),this.manipulation.setOptions(o.manipulation,o,this.options),this.interactionHandler.setOptions(o.interaction),this.renderer.setOptions(o.interaction),this.selectionHandler.setOptions(o.interaction),o.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in o&&(this.configurator||(this.configurator=new Configurator(this,this.body.container,configureOptions,this.canvas.pixelRatio,configuratorHideOption)),this.configurator.setOptions(o.configure)),this.configurator&&this.configurator.options.enabled===!0){var b={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};deepExtend(b.nodes,this.nodesHandler.options),deepExtend(b.edges,this.edgesHandler.options),deepExtend(b.layout,this.layoutEngine.options),deepExtend(b.interaction,this.selectionHandler.options),deepExtend(b.interaction,this.renderer.options),deepExtend(b.interaction,this.interactionHandler.options),deepExtend(b.manipulation,this.manipulation.options),deepExtend(b.physics,this.physics.options),deepExtend(b.global,this.canvas.options),deepExtend(b.global,this.options),this.configurator.setModuleOptions(b)}o.clickToUse!==void 0?o.clickToUse===!0?this.activator===void 0&&(this.activator=new Activator(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};Network.prototype._updateVisibleIndices=function(){var o=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&!this.clustering._isClusteredNode(s)&&o[s].options.hidden===!1&&this.body.nodeIndices.push(o[s].id);for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)){var b=e[h],_e=o[b.fromId],rt=o[b.toId],at=_e!==void 0&&rt!==void 0,st=!this.clustering._isClusteredEdge(h)&&b.options.hidden===!1&&at&&_e.options.hidden===!1&&rt.options.hidden===!1;st&&this.body.edgeIndices.push(b.id)}};Network.prototype.bindEventListeners=function(){var o=this;this.body.emitter.on("_dataChanged",function(){o.edgesHandler._updateState(),o.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){o.clustering._updateState(),o._updateVisibleIndices(),o._updateValueRange(o.body.nodes),o._updateValueRange(o.body.edges),o.body.emitter.emit("startSimulation"),o.body.emitter.emit("_requestRedraw")})};Network.prototype.setData=function(o){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),o&&o.dot&&(o.nodes||o.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(o&&o.options),o&&o.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=DOTToGraph(o.dot);this.setData(e);return}else if(o&&o.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var s=parseGephi(o.gephi);this.setData(s);return}else this.nodesHandler.setData(o&&o.nodes,!0),this.edgesHandler.setData(o&&o.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};Network.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&delete this.body.nodes[o];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];recursiveDOMDelete(this.body.container)};Network.prototype._updateValueRange=function(o){var e,s=void 0,h=void 0,b=0;for(e in o)if(Object.prototype.hasOwnProperty.call(o,e)){var _e=o[e].getValue();_e!==void 0&&(s=s===void 0?_e:Math.min(_e,s),h=h===void 0?_e:Math.max(_e,h),b+=_e)}if(s!==void 0&&h!==void 0)for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&o[e].setValueRange(s,h,b)};Network.prototype.isActive=function(){return!this.activator||this.activator.active};Network.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};Network.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};Network.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};Network.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};Network.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};Network.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};Network.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};Network.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};Network.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};Network.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};Network.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};Network.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};Network.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};Network.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};Network.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};Network.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};Network.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};Network.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};Network.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};Network.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};Network.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};Network.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};Network.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};Network.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};Network.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};Network.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};Network.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};Network.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};Network.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};Network.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};Network.prototype.getConnectedNodes=function(o){return this.body.nodes[o]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};Network.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};Network.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};Network.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};Network.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};Network.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};Network.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};Network.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};Network.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};Network.prototype.getNodeAt=function(){var o=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return o!==void 0&&o.id!==void 0?o.id:o};Network.prototype.getEdgeAt=function(){var o=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return o!==void 0&&o.id!==void 0?o.id:o};Network.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};Network.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};Network.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};Network.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};Network.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};Network.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};Network.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};Network.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};Network.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};Network.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};Network.prototype.getOptionsFromConfigurator=function(){var o={};return this.configurator&&(o=this.configurator.getOptions.apply(this.configurator)),o};function FontMap({font:o,setFont:e}){const s="/fonts/some_font_images/",h=[{id:0,label:"ABeeZee",shape:"circularImage",image:s+"ABeeZee_Aa.png",x:100,y:100,fixed:{x:!0,y:!0}},{id:1,label:"Abel",shape:"circularImage",image:s+"Abel_Aa.png",x:300,y:0,fixed:{x:!0,y:!0}},{id:2,label:"Abhaya-Libre",shape:"circularImage",image:s+"Abhaya-Libre_Aa.png",x:0,y:0,fixed:{x:!0,y:!0}},{id:3,label:"Aboreto",shape:"circularImage",image:s+"Aboreto_Aa.png",x:300,y:1e3,fixed:{x:!0,y:!0}}],b=[{from:0,to:1},{from:0,to:2},{from:0,to:3}];let _e;const rt=reactExports.useRef(null);return reactExports.useEffect(()=>{rt.current&&(_e=new Network(rt.current,{nodes:h,edges:b},{}),_e.on("click",function(at){if(console.log("Clicked a node"),at.nodes.length>0){const st=at.nodes[0];e(st),console.log("setFont:",st)}}))},[h,b,e]),jsxRuntimeExports.jsx("div",{ref:rt,style:{width:"100%",height:"100%"}})}const Favicon="/assets/favicon-qQCsRK56.jpg";function HomePage(){const[o,e]=React.useState(null);return jsxRuntimeExports.jsx("div",{className:"dark text-foreground bg-background",children:jsxRuntimeExports.jsxs("main",{className:styles.mainContainer,children:[jsxRuntimeExports.jsxs(navbar_default,{shouldHideOnScroll:!0,position:"sticky",children:[jsxRuntimeExports.jsx(navbar_brand_default,{children:jsxRuntimeExports.jsx(image_default,{src:Favicon,width:30,height:30})}),jsxRuntimeExports.jsxs(navbar_content_default,{children:[jsxRuntimeExports.jsx(navbar_item_default,{children:jsxRuntimeExports.jsx(link_default,{href:"/about","aria-current":"about",color:"foreground",children:"About"})}),jsxRuntimeExports.jsx(navbar_item_default,{isActive:!0,children:jsxRuntimeExports.jsx(link_default,{href:"/home","aria-current":"about",children:"Home"})})]}),jsxRuntimeExports.jsx(navbar_content_default,{justify:"end",children:jsxRuntimeExports.jsx(navbar_item_default,{children:jsxRuntimeExports.jsx(button_default,{as:link_default,color:"primary",href:"/login",variant:"flat",children:"Login"})})})]}),jsxRuntimeExports.jsxs("main",{className:styles.secondContainer,children:[jsxRuntimeExports.jsx("div",{className:styles.searchContainer}),jsxRuntimeExports.jsx("div",{className:styles.fontMapContainer,children:jsxRuntimeExports.jsx(FontMap,{font:o,setFont:e})}),jsxRuntimeExports.jsx("div",{className:styles.carouselContainer}),jsxRuntimeExports.jsx("div",{className:styles.canvasContainer,children:jsxRuntimeExports.jsx(TestONNXButton,{})})]})]})})}function App(){const o=useNavigate();return jsxRuntimeExports.jsx(NextUIProvider,{navigate:o,children:jsxRuntimeExports.jsx(Routes,{children:jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(HomePage,{})})})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(App,{})})}));
